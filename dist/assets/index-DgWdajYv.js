function $J(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(o,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x2={exports:{}},qf={},m2={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g7;function NJ(){if(g7)return Mt;g7=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function h(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function b(U,H,K){this.props=U,this.context=H,this.refs=y,this.updater=K||x}b.prototype.isReactComponent={},b.prototype.setState=function(U,H){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,H,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function v(){}v.prototype=b.prototype;function C(U,H,K){this.props=U,this.context=H,this.refs=y,this.updater=K||x}var S=C.prototype=new v;S.constructor=C,m(S,b.prototype),S.isPureReactComponent=!0;var F=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(U,H,K){var ne,Q={},pe=null,X=null;if(H!=null)for(ne in H.ref!==void 0&&(X=H.ref),H.key!==void 0&&(pe=""+H.key),H)w.call(H,ne)&&!E.hasOwnProperty(ne)&&(Q[ne]=H[ne]);var se=arguments.length-2;if(se===1)Q.children=K;else if(1<se){for(var ae=Array(se),ye=0;ye<se;ye++)ae[ye]=arguments[ye+2];Q.children=ae}if(U&&U.defaultProps)for(ne in se=U.defaultProps,se)Q[ne]===void 0&&(Q[ne]=se[ne]);return{$$typeof:e,type:U,key:pe,ref:X,props:Q,_owner:k.current}}function _(U,H){return{$$typeof:e,type:U.type,key:H,ref:U.ref,props:U.props,_owner:U._owner}}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function B(U){var H={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(K){return H[K]})}var P=/\/+/g;function D(U,H){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):H.toString(36)}function I(U,H,K,ne,Q){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var X=!1;if(U===null)X=!0;else switch(pe){case"string":case"number":X=!0;break;case"object":switch(U.$$typeof){case e:case t:X=!0}}if(X)return X=U,Q=Q(X),U=ne===""?"."+D(X,0):ne,F(Q)?(K="",U!=null&&(K=U.replace(P,"$&/")+"/"),I(Q,H,K,"",function(ye){return ye})):Q!=null&&(z(Q)&&(Q=_(Q,K+(!Q.key||X&&X.key===Q.key?"":(""+Q.key).replace(P,"$&/")+"/")+U)),H.push(Q)),1;if(X=0,ne=ne===""?".":ne+":",F(U))for(var se=0;se<U.length;se++){pe=U[se];var ae=ne+D(pe,se);X+=I(pe,H,K,ae,Q)}else if(ae=h(U),typeof ae=="function")for(U=ae.call(U),se=0;!(pe=U.next()).done;)pe=pe.value,ae=ne+D(pe,se++),X+=I(pe,H,K,ae,Q);else if(pe==="object")throw H=String(U),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return X}function N(U,H,K){if(U==null)return U;var ne=[],Q=0;return I(U,ne,"","",function(pe){return H.call(K,pe,Q++)}),ne}function M(U){if(U._status===-1){var H=U._result;H=H(),H.then(function(K){(U._status===0||U._status===-1)&&(U._status=1,U._result=K)},function(K){(U._status===0||U._status===-1)&&(U._status=2,U._result=K)}),U._status===-1&&(U._status=0,U._result=H)}if(U._status===1)return U._result.default;throw U._result}var V={current:null},L={transition:null},W={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function G(){throw Error("act(...) is not supported in production builds of React.")}return Mt.Children={map:N,forEach:function(U,H,K){N(U,function(){H.apply(this,arguments)},K)},count:function(U){var H=0;return N(U,function(){H++}),H},toArray:function(U){return N(U,function(H){return H})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Mt.Component=b,Mt.Fragment=r,Mt.Profiler=i,Mt.PureComponent=C,Mt.StrictMode=o,Mt.Suspense=c,Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Mt.act=G,Mt.cloneElement=function(U,H,K){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ne=m({},U.props),Q=U.key,pe=U.ref,X=U._owner;if(H!=null){if(H.ref!==void 0&&(pe=H.ref,X=k.current),H.key!==void 0&&(Q=""+H.key),U.type&&U.type.defaultProps)var se=U.type.defaultProps;for(ae in H)w.call(H,ae)&&!E.hasOwnProperty(ae)&&(ne[ae]=H[ae]===void 0&&se!==void 0?se[ae]:H[ae])}var ae=arguments.length-2;if(ae===1)ne.children=K;else if(1<ae){se=Array(ae);for(var ye=0;ye<ae;ye++)se[ye]=arguments[ye+2];ne.children=se}return{$$typeof:e,type:U.type,key:Q,ref:pe,props:ne,_owner:X}},Mt.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Mt.createElement=T,Mt.createFactory=function(U){var H=T.bind(null,U);return H.type=U,H},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(U){return{$$typeof:l,render:U}},Mt.isValidElement=z,Mt.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:M}},Mt.memo=function(U,H){return{$$typeof:d,type:U,compare:H===void 0?null:H}},Mt.startTransition=function(U){var H=L.transition;L.transition={};try{U()}finally{L.transition=H}},Mt.unstable_act=G,Mt.useCallback=function(U,H){return V.current.useCallback(U,H)},Mt.useContext=function(U){return V.current.useContext(U)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(U){return V.current.useDeferredValue(U)},Mt.useEffect=function(U,H){return V.current.useEffect(U,H)},Mt.useId=function(){return V.current.useId()},Mt.useImperativeHandle=function(U,H,K){return V.current.useImperativeHandle(U,H,K)},Mt.useInsertionEffect=function(U,H){return V.current.useInsertionEffect(U,H)},Mt.useLayoutEffect=function(U,H){return V.current.useLayoutEffect(U,H)},Mt.useMemo=function(U,H){return V.current.useMemo(U,H)},Mt.useReducer=function(U,H,K){return V.current.useReducer(U,H,K)},Mt.useRef=function(U){return V.current.useRef(U)},Mt.useState=function(U){return V.current.useState(U)},Mt.useSyncExternalStore=function(U,H,K){return V.current.useSyncExternalStore(U,H,K)},Mt.useTransition=function(){return V.current.useTransition()},Mt.version="18.3.1",Mt}var x7;function dx(){return x7||(x7=1,m2.exports=NJ()),m2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m7;function LJ(){if(m7)return qf;m7=1;var e=dx(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,d){var f,p={},h=null,x=null;d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(x=c.ref);for(f in c)o.call(c,f)&&!a.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:t,type:l,key:h,ref:x,props:p,_owner:i.current}}return qf.Fragment=r,qf.jsx=s,qf.jsxs=s,qf}var y7;function WJ(){return y7||(y7=1,x2.exports=LJ()),x2.exports}var n=WJ(),qm={},y2={exports:{}},Mo={},b2={exports:{}},v2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b7;function VJ(){return b7||(b7=1,(function(e){function t(L,W){var G=L.length;L.push(W);e:for(;0<G;){var U=G-1>>>1,H=L[U];if(0<i(H,W))L[U]=W,L[G]=H,G=U;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var W=L[0],G=L.pop();if(G!==W){L[0]=G;e:for(var U=0,H=L.length,K=H>>>1;U<K;){var ne=2*(U+1)-1,Q=L[ne],pe=ne+1,X=L[pe];if(0>i(Q,G))pe<H&&0>i(X,Q)?(L[U]=X,L[pe]=G,U=pe):(L[U]=Q,L[ne]=G,U=ne);else if(pe<H&&0>i(X,G))L[U]=X,L[pe]=G,U=pe;else break e}}return W}function i(L,W){var G=L.sortIndex-W.sortIndex;return G!==0?G:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],f=1,p=null,h=3,x=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var W=r(d);W!==null;){if(W.callback===null)o(d);else if(W.startTime<=L)o(d),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(d)}}function F(L){if(y=!1,S(L),!m)if(r(c)!==null)m=!0,M(w);else{var W=r(d);W!==null&&V(F,W.startTime-L)}}function w(L,W){m=!1,y&&(y=!1,v(T),T=-1),x=!0;var G=h;try{for(S(W),p=r(c);p!==null&&(!(p.expirationTime>W)||L&&!B());){var U=p.callback;if(typeof U=="function"){p.callback=null,h=p.priorityLevel;var H=U(p.expirationTime<=W);W=e.unstable_now(),typeof H=="function"?p.callback=H:p===r(c)&&o(c),S(W)}else o(c);p=r(c)}if(p!==null)var K=!0;else{var ne=r(d);ne!==null&&V(F,ne.startTime-W),K=!1}return K}finally{p=null,h=G,x=!1}}var k=!1,E=null,T=-1,_=5,z=-1;function B(){return!(e.unstable_now()-z<_)}function P(){if(E!==null){var L=e.unstable_now();z=L;var W=!0;try{W=E(!0,L)}finally{W?D():(k=!1,E=null)}}else k=!1}var D;if(typeof C=="function")D=function(){C(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,N=I.port2;I.port1.onmessage=P,D=function(){N.postMessage(null)}}else D=function(){b(P,0)};function M(L){E=L,k||(k=!0,D())}function V(L,W){T=b(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||x||(m=!0,M(w))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var G=h;h=W;try{return L()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=h;h=L;try{return W()}finally{h=G}},e.unstable_scheduleCallback=function(L,W,G){var U=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?U+G:U):G=U,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,L={id:f++,callback:W,priorityLevel:L,startTime:G,expirationTime:H,sortIndex:-1},G>U?(L.sortIndex=G,t(d,L),r(c)===null&&L===r(d)&&(y?(v(T),T=-1):y=!0,V(F,G-U))):(L.sortIndex=H,t(c,L),m||x||(m=!0,M(w))),L},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(L){var W=h;return function(){var G=h;h=W;try{return L.apply(this,arguments)}finally{h=G}}}})(v2)),v2}var v7;function UJ(){return v7||(v7=1,b2.exports=VJ()),b2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7;function qJ(){if(j7)return Mo;j7=1;var e=dx(),t=UJ();function r(u){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+u,j=1;j<arguments.length;j++)g+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+u+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function a(u,g){s(u,g),s(u+"Capture",g)}function s(u,g){for(i[u]=g,u=0;u<g.length;u++)o.add(g[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function h(u){return c.call(p,u)?!0:c.call(f,u)?!1:d.test(u)?p[u]=!0:(f[u]=!0,!1)}function x(u,g,j,R){if(j!==null&&j.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return R?!1:j!==null?!j.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function m(u,g,j,R){if(g===null||typeof g>"u"||x(u,g,j,R))return!0;if(R)return!1;if(j!==null)switch(j.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(u,g,j,R,O,$,q){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=R,this.attributeNamespace=O,this.mustUseProperty=j,this.propertyName=u,this.type=g,this.sanitizeURL=$,this.removeEmptyString=q}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var g=u[0];b[g]=new y(g,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function C(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var g=u.replace(v,C);b[g]=new y(g,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var g=u.replace(v,C);b[g]=new y(g,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var g=u.replace(v,C);b[g]=new y(g,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function S(u,g,j,R){var O=b.hasOwnProperty(g)?b[g]:null;(O!==null?O.type!==0:R||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(m(g,j,O,R)&&(j=null),R||O===null?h(g)&&(j===null?u.removeAttribute(g):u.setAttribute(g,""+j)):O.mustUseProperty?u[O.propertyName]=j===null?O.type===3?!1:"":j:(g=O.attributeName,R=O.attributeNamespace,j===null?u.removeAttribute(g):(O=O.type,j=O===3||O===4&&j===!0?"":""+j,R?u.setAttributeNS(R,g,j):u.setAttribute(g,j))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),L=Symbol.iterator;function W(u){return u===null||typeof u!="object"?null:(u=L&&u[L]||u["@@iterator"],typeof u=="function"?u:null)}var G=Object.assign,U;function H(u){if(U===void 0)try{throw Error()}catch(j){var g=j.stack.trim().match(/\n( *(at )?)/);U=g&&g[1]||""}return`
`+U+u}var K=!1;function ne(u,g){if(!u||K)return"";K=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(ve){var R=ve}Reflect.construct(u,[],g)}else{try{g.call()}catch(ve){R=ve}u.call(g.prototype)}else{try{throw Error()}catch(ve){R=ve}u()}}catch(ve){if(ve&&R&&typeof ve.stack=="string"){for(var O=ve.stack.split(`
`),$=R.stack.split(`
`),q=O.length-1,Z=$.length-1;1<=q&&0<=Z&&O[q]!==$[Z];)Z--;for(;1<=q&&0<=Z;q--,Z--)if(O[q]!==$[Z]){if(q!==1||Z!==1)do if(q--,Z--,0>Z||O[q]!==$[Z]){var ce=`
`+O[q].replace(" at new "," at ");return u.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",u.displayName)),ce}while(1<=q&&0<=Z);break}}}finally{K=!1,Error.prepareStackTrace=j}return(u=u?u.displayName||u.name:"")?H(u):""}function Q(u){switch(u.tag){case 5:return H(u.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return u=ne(u.type,!1),u;case 11:return u=ne(u.type.render,!1),u;case 1:return u=ne(u.type,!0),u;default:return""}}function pe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case E:return"Fragment";case k:return"Portal";case _:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case B:return(u.displayName||"Context")+".Consumer";case z:return(u._context.displayName||"Context")+".Provider";case P:var g=u.render;return u=u.displayName,u||(u=g.displayName||g.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case N:return g=u.displayName||null,g!==null?g:pe(u.type)||"Memo";case M:g=u._payload,u=u._init;try{return pe(u(g))}catch{}}return null}function X(u){var g=u.type;switch(u.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=g.render,u=u.displayName||u.name||"",g.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(g);case 8:return g===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function se(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ae(u){var g=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function ye(u){var g=ae(u)?"checked":"value",j=Object.getOwnPropertyDescriptor(u.constructor.prototype,g),R=""+u[g];if(!u.hasOwnProperty(g)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var O=j.get,$=j.set;return Object.defineProperty(u,g,{configurable:!0,get:function(){return O.call(this)},set:function(q){R=""+q,$.call(this,q)}}),Object.defineProperty(u,g,{enumerable:j.enumerable}),{getValue:function(){return R},setValue:function(q){R=""+q},stopTracking:function(){u._valueTracker=null,delete u[g]}}}}function ie(u){u._valueTracker||(u._valueTracker=ye(u))}function re(u){if(!u)return!1;var g=u._valueTracker;if(!g)return!0;var j=g.getValue(),R="";return u&&(R=ae(u)?u.checked?"true":"false":u.value),u=R,u!==j?(g.setValue(u),!0):!1}function Se(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ae(u,g){var j=g.checked;return G({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??u._wrapperState.initialChecked})}function te(u,g){var j=g.defaultValue==null?"":g.defaultValue,R=g.checked!=null?g.checked:g.defaultChecked;j=se(g.value!=null?g.value:j),u._wrapperState={initialChecked:R,initialValue:j,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function he(u,g){g=g.checked,g!=null&&S(u,"checked",g,!1)}function Te(u,g){he(u,g);var j=se(g.value),R=g.type;if(j!=null)R==="number"?(j===0&&u.value===""||u.value!=j)&&(u.value=""+j):u.value!==""+j&&(u.value=""+j);else if(R==="submit"||R==="reset"){u.removeAttribute("value");return}g.hasOwnProperty("value")?it(u,g.type,j):g.hasOwnProperty("defaultValue")&&it(u,g.type,se(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(u.defaultChecked=!!g.defaultChecked)}function rt(u,g,j){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var R=g.type;if(!(R!=="submit"&&R!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+u._wrapperState.initialValue,j||g===u.value||(u.value=g),u.defaultValue=g}j=u.name,j!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,j!==""&&(u.name=j)}function it(u,g,j){(g!=="number"||Se(u.ownerDocument)!==u)&&(j==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+j&&(u.defaultValue=""+j))}var kt=Array.isArray;function Pt(u,g,j,R){if(u=u.options,g){g={};for(var O=0;O<j.length;O++)g["$"+j[O]]=!0;for(j=0;j<u.length;j++)O=g.hasOwnProperty("$"+u[j].value),u[j].selected!==O&&(u[j].selected=O),O&&R&&(u[j].defaultSelected=!0)}else{for(j=""+se(j),g=null,O=0;O<u.length;O++){if(u[O].value===j){u[O].selected=!0,R&&(u[O].defaultSelected=!0);return}g!==null||u[O].disabled||(g=u[O])}g!==null&&(g.selected=!0)}}function jt(u,g){if(g.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},g,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function zt(u,g){var j=g.value;if(j==null){if(j=g.children,g=g.defaultValue,j!=null){if(g!=null)throw Error(r(92));if(kt(j)){if(1<j.length)throw Error(r(93));j=j[0]}g=j}g==null&&(g=""),j=g}u._wrapperState={initialValue:se(j)}}function fr(u,g){var j=se(g.value),R=se(g.defaultValue);j!=null&&(j=""+j,j!==u.value&&(u.value=j),g.defaultValue==null&&u.defaultValue!==j&&(u.defaultValue=j)),R!=null&&(u.defaultValue=""+R)}function Bt(u){var g=u.textContent;g===u._wrapperState.initialValue&&g!==""&&g!==null&&(u.value=g)}function ar(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sr(u,g){return u==null||u==="http://www.w3.org/1999/xhtml"?ar(g):u==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Lt,le=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,j,R,O){MSApp.execUnsafeLocalFunction(function(){return u(g,j,R,O)})}:u})(function(u,g){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=g;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Lt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;g.firstChild;)u.appendChild(g.firstChild)}});function be(u,g){if(g){var j=u.firstChild;if(j&&j===u.lastChild&&j.nodeType===3){j.nodeValue=g;return}}u.textContent=g}var we={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$e=["Webkit","ms","Moz","O"];Object.keys(we).forEach(function(u){$e.forEach(function(g){g=g+u.charAt(0).toUpperCase()+u.substring(1),we[g]=we[u]})});function Be(u,g,j){return g==null||typeof g=="boolean"||g===""?"":j||typeof g!="number"||g===0||we.hasOwnProperty(u)&&we[u]?(""+g).trim():g+"px"}function Pe(u,g){u=u.style;for(var j in g)if(g.hasOwnProperty(j)){var R=j.indexOf("--")===0,O=Be(j,g[j],R);j==="float"&&(j="cssFloat"),R?u.setProperty(j,O):u[j]=O}}var Ne=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fe(u,g){if(g){if(Ne[u]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(r(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(r(61))}if(g.style!=null&&typeof g.style!="object")throw Error(r(62))}}function Je(u,g){if(u.indexOf("-")===-1)return typeof g.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qe=null;function J(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var je=null,Ie=null,We=null;function Wt(u){if(u=Rf(u)){if(typeof je!="function")throw Error(r(280));var g=u.stateNode;g&&(g=im(g),je(u.stateNode,u.type,g))}}function Ve(u){Ie?We?We.push(u):We=[u]:Ie=u}function Kt(){if(Ie){var u=Ie,g=We;if(We=Ie=null,Wt(u),g)for(u=0;u<g.length;u++)Wt(g[u])}}function dt(u,g){return u(g)}function sr(){}var ut=!1;function qt(u,g,j){if(ut)return u(g,j);ut=!0;try{return dt(u,g,j)}finally{ut=!1,(Ie!==null||We!==null)&&(sr(),Kt())}}function mr(u,g){var j=u.stateNode;if(j===null)return null;var R=im(j);if(R===null)return null;j=R[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(u=u.type,R=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!R;break e;default:u=!1}if(u)return null;if(j&&typeof j!="function")throw Error(r(231,g,typeof j));return j}var $n=!1;if(l)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){$n=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{$n=!1}function ue(u,g,j,R,O,$,q,Z,ce){var ve=Array.prototype.slice.call(arguments,3);try{g.apply(j,ve)}catch(Re){this.onError(Re)}}var xe=!1,Ce=null,Oe=!1,Le=null,He={onError:function(u){xe=!0,Ce=u}};function qe(u,g,j,R,O,$,q,Z,ce){xe=!1,Ce=null,ue.apply(He,arguments)}function Ge(u,g,j,R,O,$,q,Z,ce){if(qe.apply(this,arguments),xe){if(xe){var ve=Ce;xe=!1,Ce=null}else throw Error(r(198));Oe||(Oe=!0,Le=ve)}}function Ke(u){var g=u,j=u;if(u.alternate)for(;g.return;)g=g.return;else{u=g;do g=u,(g.flags&4098)!==0&&(j=g.return),u=g.return;while(u)}return g.tag===3?j:null}function vt(u){if(u.tag===13){var g=u.memoizedState;if(g===null&&(u=u.alternate,u!==null&&(g=u.memoizedState)),g!==null)return g.dehydrated}return null}function nt(u){if(Ke(u)!==u)throw Error(r(188))}function Ft(u){var g=u.alternate;if(!g){if(g=Ke(u),g===null)throw Error(r(188));return g!==u?null:u}for(var j=u,R=g;;){var O=j.return;if(O===null)break;var $=O.alternate;if($===null){if(R=O.return,R!==null){j=R;continue}break}if(O.child===$.child){for($=O.child;$;){if($===j)return nt(O),u;if($===R)return nt(O),g;$=$.sibling}throw Error(r(188))}if(j.return!==R.return)j=O,R=$;else{for(var q=!1,Z=O.child;Z;){if(Z===j){q=!0,j=O,R=$;break}if(Z===R){q=!0,R=O,j=$;break}Z=Z.sibling}if(!q){for(Z=$.child;Z;){if(Z===j){q=!0,j=$,R=O;break}if(Z===R){q=!0,R=$,j=O;break}Z=Z.sibling}if(!q)throw Error(r(189))}}if(j.alternate!==R)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?u:g}function Ot(u){return u=Ft(u),u!==null?Jr(u):null}function Jr(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var g=Jr(u);if(g!==null)return g;u=u.sibling}return null}var qr=t.unstable_scheduleCallback,sn=t.unstable_cancelCallback,Qt=t.unstable_shouldYield,Nn=t.unstable_requestPaint,or=t.unstable_now,bs=t.unstable_getCurrentPriorityLevel,Po=t.unstable_ImmediatePriority,go=t.unstable_UserBlockingPriority,$a=t.unstable_NormalPriority,vs=t.unstable_LowPriority,fi=t.unstable_IdlePriority,hi=null,Ln=null;function $t(u){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(hi,u,void 0,(u.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:wr,Na=Math.log,qi=Math.LN2;function wr(u){return u>>>=0,u===0?32:31-(Na(u)/qi|0)|0}var Hi=64,js=4194304;function gi(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ld(u,g){var j=u.pendingLanes;if(j===0)return 0;var R=0,O=u.suspendedLanes,$=u.pingedLanes,q=j&268435455;if(q!==0){var Z=q&~O;Z!==0?R=gi(Z):($&=q,$!==0&&(R=gi($)))}else q=j&~O,q!==0?R=gi(q):$!==0&&(R=gi($));if(R===0)return 0;if(g!==0&&g!==R&&(g&O)===0&&(O=R&-R,$=g&-g,O>=$||O===16&&($&4194240)!==0))return g;if((R&4)!==0&&(R|=j&16),g=u.entangledLanes,g!==0)for(u=u.entanglements,g&=R;0<g;)j=31-lr(g),O=1<<j,R|=u[j],g&=~O;return R}function Wx(u,g){switch(u){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mv(u,g){for(var j=u.suspendedLanes,R=u.pingedLanes,O=u.expirationTimes,$=u.pendingLanes;0<$;){var q=31-lr($),Z=1<<q,ce=O[q];ce===-1?((Z&j)===0||(Z&R)!==0)&&(O[q]=Wx(Z,g)):ce<=g&&(u.expiredLanes|=Z),$&=~Z}}function pf(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Wd(){var u=Hi;return Hi<<=1,(Hi&4194240)===0&&(Hi=64),u}function ff(u){for(var g=[],j=0;31>j;j++)g.push(u);return g}function Sc(u,g,j){u.pendingLanes|=g,g!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,g=31-lr(g),u[g]=j}function Vx(u,g){var j=u.pendingLanes&~g;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=g,u.mutableReadLanes&=g,u.entangledLanes&=g,g=u.entanglements;var R=u.eventTimes;for(u=u.expirationTimes;0<j;){var O=31-lr(j),$=1<<O;g[O]=0,R[O]=-1,u[O]=-1,j&=~$}}function $v(u,g){var j=u.entangledLanes|=g;for(u=u.entanglements;j;){var R=31-lr(j),O=1<<R;O&g|u[R]&g&&(u[R]|=g),j&=~O}}var pr=0;function G6(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var K6,Nv,Y6,X6,J6,Lv=!1,Ux=[],fl=null,hl=null,gl=null,hf=new Map,gf=new Map,xl=[],sX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q6(u,g){switch(u){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":hf.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(g.pointerId)}}function xf(u,g,j,R,O,$){return u===null||u.nativeEvent!==$?(u={blockedOn:g,domEventName:j,eventSystemFlags:R,nativeEvent:$,targetContainers:[O]},g!==null&&(g=Rf(g),g!==null&&Nv(g)),u):(u.eventSystemFlags|=R,g=u.targetContainers,O!==null&&g.indexOf(O)===-1&&g.push(O),u)}function lX(u,g,j,R,O){switch(g){case"focusin":return fl=xf(fl,u,g,j,R,O),!0;case"dragenter":return hl=xf(hl,u,g,j,R,O),!0;case"mouseover":return gl=xf(gl,u,g,j,R,O),!0;case"pointerover":var $=O.pointerId;return hf.set($,xf(hf.get($)||null,u,g,j,R,O)),!0;case"gotpointercapture":return $=O.pointerId,gf.set($,xf(gf.get($)||null,u,g,j,R,O)),!0}return!1}function Z6(u){var g=wc(u.target);if(g!==null){var j=Ke(g);if(j!==null){if(g=j.tag,g===13){if(g=vt(j),g!==null){u.blockedOn=g,J6(u.priority,function(){Y6(j)});return}}else if(g===3&&j.stateNode.current.memoizedState.isDehydrated){u.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}u.blockedOn=null}function qx(u){if(u.blockedOn!==null)return!1;for(var g=u.targetContainers;0<g.length;){var j=Vv(u.domEventName,u.eventSystemFlags,g[0],u.nativeEvent);if(j===null){j=u.nativeEvent;var R=new j.constructor(j.type,j);Qe=R,j.target.dispatchEvent(R),Qe=null}else return g=Rf(j),g!==null&&Nv(g),u.blockedOn=j,!1;g.shift()}return!0}function e4(u,g,j){qx(u)&&j.delete(g)}function cX(){Lv=!1,fl!==null&&qx(fl)&&(fl=null),hl!==null&&qx(hl)&&(hl=null),gl!==null&&qx(gl)&&(gl=null),hf.forEach(e4),gf.forEach(e4)}function mf(u,g){u.blockedOn===g&&(u.blockedOn=null,Lv||(Lv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cX)))}function yf(u){function g(O){return mf(O,u)}if(0<Ux.length){mf(Ux[0],u);for(var j=1;j<Ux.length;j++){var R=Ux[j];R.blockedOn===u&&(R.blockedOn=null)}}for(fl!==null&&mf(fl,u),hl!==null&&mf(hl,u),gl!==null&&mf(gl,u),hf.forEach(g),gf.forEach(g),j=0;j<xl.length;j++)R=xl[j],R.blockedOn===u&&(R.blockedOn=null);for(;0<xl.length&&(j=xl[0],j.blockedOn===null);)Z6(j),j.blockedOn===null&&xl.shift()}var Vd=F.ReactCurrentBatchConfig,Hx=!0;function dX(u,g,j,R){var O=pr,$=Vd.transition;Vd.transition=null;try{pr=1,Wv(u,g,j,R)}finally{pr=O,Vd.transition=$}}function uX(u,g,j,R){var O=pr,$=Vd.transition;Vd.transition=null;try{pr=4,Wv(u,g,j,R)}finally{pr=O,Vd.transition=$}}function Wv(u,g,j,R){if(Hx){var O=Vv(u,g,j,R);if(O===null)aj(u,g,R,Gx,j),Q6(u,R);else if(lX(O,u,g,j,R))R.stopPropagation();else if(Q6(u,R),g&4&&-1<sX.indexOf(u)){for(;O!==null;){var $=Rf(O);if($!==null&&K6($),$=Vv(u,g,j,R),$===null&&aj(u,g,R,Gx,j),$===O)break;O=$}O!==null&&R.stopPropagation()}else aj(u,g,R,null,j)}}var Gx=null;function Vv(u,g,j,R){if(Gx=null,u=J(R),u=wc(u),u!==null)if(g=Ke(u),g===null)u=null;else if(j=g.tag,j===13){if(u=vt(g),u!==null)return u;u=null}else if(j===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;u=null}else g!==u&&(u=null);return Gx=u,null}function t4(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bs()){case Po:return 1;case go:return 4;case $a:case vs:return 16;case fi:return 536870912;default:return 16}default:return 16}}var ml=null,Uv=null,Kx=null;function r4(){if(Kx)return Kx;var u,g=Uv,j=g.length,R,O="value"in ml?ml.value:ml.textContent,$=O.length;for(u=0;u<j&&g[u]===O[u];u++);var q=j-u;for(R=1;R<=q&&g[j-R]===O[$-R];R++);return Kx=O.slice(u,1<R?1-R:void 0)}function Yx(u){var g=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&g===13&&(u=13)):u=g,u===10&&(u=13),32<=u||u===13?u:0}function Xx(){return!0}function n4(){return!1}function Wo(u){function g(j,R,O,$,q){this._reactName=j,this._targetInst=O,this.type=R,this.nativeEvent=$,this.target=q,this.currentTarget=null;for(var Z in u)u.hasOwnProperty(Z)&&(j=u[Z],this[Z]=j?j($):$[Z]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Xx:n4,this.isPropagationStopped=n4,this}return G(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=Xx)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=Xx)},persist:function(){},isPersistent:Xx}),g}var Ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qv=Wo(Ud),bf=G({},Ud,{view:0,detail:0}),pX=Wo(bf),Hv,Gv,vf,Jx=G({},bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==vf&&(vf&&u.type==="mousemove"?(Hv=u.screenX-vf.screenX,Gv=u.screenY-vf.screenY):Gv=Hv=0,vf=u),Hv)},movementY:function(u){return"movementY"in u?u.movementY:Gv}}),o4=Wo(Jx),fX=G({},Jx,{dataTransfer:0}),hX=Wo(fX),gX=G({},bf,{relatedTarget:0}),Kv=Wo(gX),xX=G({},Ud,{animationName:0,elapsedTime:0,pseudoElement:0}),mX=Wo(xX),yX=G({},Ud,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),bX=Wo(yX),vX=G({},Ud,{data:0}),i4=Wo(vX),jX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EX(u){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(u):(u=wX[u])?!!g[u]:!1}function Yv(){return EX}var CX=G({},bf,{key:function(u){if(u.key){var g=jX[u.key]||u.key;if(g!=="Unidentified")return g}return u.type==="keypress"?(u=Yx(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?SX[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(u){return u.type==="keypress"?Yx(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Yx(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),kX=Wo(CX),FX=G({},Jx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a4=Wo(FX),AX=G({},bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),_X=Wo(AX),RX=G({},Ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),TX=Wo(RX),PX=G({},Jx,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),zX=Wo(PX),BX=[9,13,27,32],Xv=l&&"CompositionEvent"in window,jf=null;l&&"documentMode"in document&&(jf=document.documentMode);var IX=l&&"TextEvent"in window&&!jf,s4=l&&(!Xv||jf&&8<jf&&11>=jf),l4=" ",c4=!1;function d4(u,g){switch(u){case"keyup":return BX.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u4(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var qd=!1;function OX(u,g){switch(u){case"compositionend":return u4(g);case"keypress":return g.which!==32?null:(c4=!0,l4);case"textInput":return u=g.data,u===l4&&c4?null:u;default:return null}}function DX(u,g){if(qd)return u==="compositionend"||!Xv&&d4(u,g)?(u=r4(),Kx=Uv=ml=null,qd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return s4&&g.locale!=="ko"?null:g.data;default:return null}}var MX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p4(u){var g=u&&u.nodeName&&u.nodeName.toLowerCase();return g==="input"?!!MX[u.type]:g==="textarea"}function f4(u,g,j,R){Ve(R),g=rm(g,"onChange"),0<g.length&&(j=new qv("onChange","change",null,j,R),u.push({event:j,listeners:g}))}var Sf=null,wf=null;function $X(u){T4(u,0)}function Qx(u){var g=Xd(u);if(re(g))return u}function NX(u,g){if(u==="change")return g}var h4=!1;if(l){var Jv;if(l){var Qv="oninput"in document;if(!Qv){var g4=document.createElement("div");g4.setAttribute("oninput","return;"),Qv=typeof g4.oninput=="function"}Jv=Qv}else Jv=!1;h4=Jv&&(!document.documentMode||9<document.documentMode)}function x4(){Sf&&(Sf.detachEvent("onpropertychange",m4),wf=Sf=null)}function m4(u){if(u.propertyName==="value"&&Qx(wf)){var g=[];f4(g,wf,u,J(u)),qt($X,g)}}function LX(u,g,j){u==="focusin"?(x4(),Sf=g,wf=j,Sf.attachEvent("onpropertychange",m4)):u==="focusout"&&x4()}function WX(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Qx(wf)}function VX(u,g){if(u==="click")return Qx(g)}function UX(u,g){if(u==="input"||u==="change")return Qx(g)}function qX(u,g){return u===g&&(u!==0||1/u===1/g)||u!==u&&g!==g}var Gi=typeof Object.is=="function"?Object.is:qX;function Ef(u,g){if(Gi(u,g))return!0;if(typeof u!="object"||u===null||typeof g!="object"||g===null)return!1;var j=Object.keys(u),R=Object.keys(g);if(j.length!==R.length)return!1;for(R=0;R<j.length;R++){var O=j[R];if(!c.call(g,O)||!Gi(u[O],g[O]))return!1}return!0}function y4(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function b4(u,g){var j=y4(u);u=0;for(var R;j;){if(j.nodeType===3){if(R=u+j.textContent.length,u<=g&&R>=g)return{node:j,offset:g-u};u=R}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=y4(j)}}function v4(u,g){return u&&g?u===g?!0:u&&u.nodeType===3?!1:g&&g.nodeType===3?v4(u,g.parentNode):"contains"in u?u.contains(g):u.compareDocumentPosition?!!(u.compareDocumentPosition(g)&16):!1:!1}function j4(){for(var u=window,g=Se();g instanceof u.HTMLIFrameElement;){try{var j=typeof g.contentWindow.location.href=="string"}catch{j=!1}if(j)u=g.contentWindow;else break;g=Se(u.document)}return g}function Zv(u){var g=u&&u.nodeName&&u.nodeName.toLowerCase();return g&&(g==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||g==="textarea"||u.contentEditable==="true")}function HX(u){var g=j4(),j=u.focusedElem,R=u.selectionRange;if(g!==j&&j&&j.ownerDocument&&v4(j.ownerDocument.documentElement,j)){if(R!==null&&Zv(j)){if(g=R.start,u=R.end,u===void 0&&(u=g),"selectionStart"in j)j.selectionStart=g,j.selectionEnd=Math.min(u,j.value.length);else if(u=(g=j.ownerDocument||document)&&g.defaultView||window,u.getSelection){u=u.getSelection();var O=j.textContent.length,$=Math.min(R.start,O);R=R.end===void 0?$:Math.min(R.end,O),!u.extend&&$>R&&(O=R,R=$,$=O),O=b4(j,$);var q=b4(j,R);O&&q&&(u.rangeCount!==1||u.anchorNode!==O.node||u.anchorOffset!==O.offset||u.focusNode!==q.node||u.focusOffset!==q.offset)&&(g=g.createRange(),g.setStart(O.node,O.offset),u.removeAllRanges(),$>R?(u.addRange(g),u.extend(q.node,q.offset)):(g.setEnd(q.node,q.offset),u.addRange(g)))}}for(g=[],u=j;u=u.parentNode;)u.nodeType===1&&g.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<g.length;j++)u=g[j],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var GX=l&&"documentMode"in document&&11>=document.documentMode,Hd=null,ej=null,Cf=null,tj=!1;function S4(u,g,j){var R=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;tj||Hd==null||Hd!==Se(R)||(R=Hd,"selectionStart"in R&&Zv(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Cf&&Ef(Cf,R)||(Cf=R,R=rm(ej,"onSelect"),0<R.length&&(g=new qv("onSelect","select",null,g,j),u.push({event:g,listeners:R}),g.target=Hd)))}function Zx(u,g){var j={};return j[u.toLowerCase()]=g.toLowerCase(),j["Webkit"+u]="webkit"+g,j["Moz"+u]="moz"+g,j}var Gd={animationend:Zx("Animation","AnimationEnd"),animationiteration:Zx("Animation","AnimationIteration"),animationstart:Zx("Animation","AnimationStart"),transitionend:Zx("Transition","TransitionEnd")},rj={},w4={};l&&(w4=document.createElement("div").style,"AnimationEvent"in window||(delete Gd.animationend.animation,delete Gd.animationiteration.animation,delete Gd.animationstart.animation),"TransitionEvent"in window||delete Gd.transitionend.transition);function em(u){if(rj[u])return rj[u];if(!Gd[u])return u;var g=Gd[u],j;for(j in g)if(g.hasOwnProperty(j)&&j in w4)return rj[u]=g[j];return u}var E4=em("animationend"),C4=em("animationiteration"),k4=em("animationstart"),F4=em("transitionend"),A4=new Map,_4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(u,g){A4.set(u,g),a(g,[u])}for(var nj=0;nj<_4.length;nj++){var oj=_4[nj],KX=oj.toLowerCase(),YX=oj[0].toUpperCase()+oj.slice(1);yl(KX,"on"+YX)}yl(E4,"onAnimationEnd"),yl(C4,"onAnimationIteration"),yl(k4,"onAnimationStart"),yl("dblclick","onDoubleClick"),yl("focusin","onFocus"),yl("focusout","onBlur"),yl(F4,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XX=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function R4(u,g,j){var R=u.type||"unknown-event";u.currentTarget=j,Ge(R,g,void 0,u),u.currentTarget=null}function T4(u,g){g=(g&4)!==0;for(var j=0;j<u.length;j++){var R=u[j],O=R.event;R=R.listeners;e:{var $=void 0;if(g)for(var q=R.length-1;0<=q;q--){var Z=R[q],ce=Z.instance,ve=Z.currentTarget;if(Z=Z.listener,ce!==$&&O.isPropagationStopped())break e;R4(O,Z,ve),$=ce}else for(q=0;q<R.length;q++){if(Z=R[q],ce=Z.instance,ve=Z.currentTarget,Z=Z.listener,ce!==$&&O.isPropagationStopped())break e;R4(O,Z,ve),$=ce}}}if(Oe)throw u=Le,Oe=!1,Le=null,u}function zr(u,g){var j=g[pj];j===void 0&&(j=g[pj]=new Set);var R=u+"__bubble";j.has(R)||(P4(g,u,2,!1),j.add(R))}function ij(u,g,j){var R=0;g&&(R|=4),P4(j,u,R,g)}var tm="_reactListening"+Math.random().toString(36).slice(2);function Ff(u){if(!u[tm]){u[tm]=!0,o.forEach(function(j){j!=="selectionchange"&&(XX.has(j)||ij(j,!1,u),ij(j,!0,u))});var g=u.nodeType===9?u:u.ownerDocument;g===null||g[tm]||(g[tm]=!0,ij("selectionchange",!1,g))}}function P4(u,g,j,R){switch(t4(g)){case 1:var O=dX;break;case 4:O=uX;break;default:O=Wv}j=O.bind(null,g,j,u),O=void 0,!$n||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(O=!0),R?O!==void 0?u.addEventListener(g,j,{capture:!0,passive:O}):u.addEventListener(g,j,!0):O!==void 0?u.addEventListener(g,j,{passive:O}):u.addEventListener(g,j,!1)}function aj(u,g,j,R,O){var $=R;if((g&1)===0&&(g&2)===0&&R!==null)e:for(;;){if(R===null)return;var q=R.tag;if(q===3||q===4){var Z=R.stateNode.containerInfo;if(Z===O||Z.nodeType===8&&Z.parentNode===O)break;if(q===4)for(q=R.return;q!==null;){var ce=q.tag;if((ce===3||ce===4)&&(ce=q.stateNode.containerInfo,ce===O||ce.nodeType===8&&ce.parentNode===O))return;q=q.return}for(;Z!==null;){if(q=wc(Z),q===null)return;if(ce=q.tag,ce===5||ce===6){R=$=q;continue e}Z=Z.parentNode}}R=R.return}qt(function(){var ve=$,Re=J(j),ze=[];e:{var _e=A4.get(u);if(_e!==void 0){var Ue=qv,et=u;switch(u){case"keypress":if(Yx(j)===0)break e;case"keydown":case"keyup":Ue=kX;break;case"focusin":et="focus",Ue=Kv;break;case"focusout":et="blur",Ue=Kv;break;case"beforeblur":case"afterblur":Ue=Kv;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=o4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=hX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=_X;break;case E4:case C4:case k4:Ue=mX;break;case F4:Ue=TX;break;case"scroll":Ue=pX;break;case"wheel":Ue=zX;break;case"copy":case"cut":case"paste":Ue=bX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=a4}var ot=(g&4)!==0,on=!ot&&u==="scroll",ge=ot?_e!==null?_e+"Capture":null:_e;ot=[];for(var fe=ve,me;fe!==null;){me=fe;var De=me.stateNode;if(me.tag===5&&De!==null&&(me=De,ge!==null&&(De=mr(fe,ge),De!=null&&ot.push(Af(fe,De,me)))),on)break;fe=fe.return}0<ot.length&&(_e=new Ue(_e,et,null,j,Re),ze.push({event:_e,listeners:ot}))}}if((g&7)===0){e:{if(_e=u==="mouseover"||u==="pointerover",Ue=u==="mouseout"||u==="pointerout",_e&&j!==Qe&&(et=j.relatedTarget||j.fromElement)&&(wc(et)||et[Ss]))break e;if((Ue||_e)&&(_e=Re.window===Re?Re:(_e=Re.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ue?(et=j.relatedTarget||j.toElement,Ue=ve,et=et?wc(et):null,et!==null&&(on=Ke(et),et!==on||et.tag!==5&&et.tag!==6)&&(et=null)):(Ue=null,et=ve),Ue!==et)){if(ot=o4,De="onMouseLeave",ge="onMouseEnter",fe="mouse",(u==="pointerout"||u==="pointerover")&&(ot=a4,De="onPointerLeave",ge="onPointerEnter",fe="pointer"),on=Ue==null?_e:Xd(Ue),me=et==null?_e:Xd(et),_e=new ot(De,fe+"leave",Ue,j,Re),_e.target=on,_e.relatedTarget=me,De=null,wc(Re)===ve&&(ot=new ot(ge,fe+"enter",et,j,Re),ot.target=me,ot.relatedTarget=on,De=ot),on=De,Ue&&et)t:{for(ot=Ue,ge=et,fe=0,me=ot;me;me=Kd(me))fe++;for(me=0,De=ge;De;De=Kd(De))me++;for(;0<fe-me;)ot=Kd(ot),fe--;for(;0<me-fe;)ge=Kd(ge),me--;for(;fe--;){if(ot===ge||ge!==null&&ot===ge.alternate)break t;ot=Kd(ot),ge=Kd(ge)}ot=null}else ot=null;Ue!==null&&z4(ze,_e,Ue,ot,!1),et!==null&&on!==null&&z4(ze,on,et,ot,!0)}}e:{if(_e=ve?Xd(ve):window,Ue=_e.nodeName&&_e.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&_e.type==="file")var at=NX;else if(p4(_e))if(h4)at=UX;else{at=WX;var ht=LX}else(Ue=_e.nodeName)&&Ue.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(at=VX);if(at&&(at=at(u,ve))){f4(ze,at,j,Re);break e}ht&&ht(u,_e,ve),u==="focusout"&&(ht=_e._wrapperState)&&ht.controlled&&_e.type==="number"&&it(_e,"number",_e.value)}switch(ht=ve?Xd(ve):window,u){case"focusin":(p4(ht)||ht.contentEditable==="true")&&(Hd=ht,ej=ve,Cf=null);break;case"focusout":Cf=ej=Hd=null;break;case"mousedown":tj=!0;break;case"contextmenu":case"mouseup":case"dragend":tj=!1,S4(ze,j,Re);break;case"selectionchange":if(GX)break;case"keydown":case"keyup":S4(ze,j,Re)}var gt;if(Xv)e:{switch(u){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else qd?d4(u,j)&&(St="onCompositionEnd"):u==="keydown"&&j.keyCode===229&&(St="onCompositionStart");St&&(s4&&j.locale!=="ko"&&(qd||St!=="onCompositionStart"?St==="onCompositionEnd"&&qd&&(gt=r4()):(ml=Re,Uv="value"in ml?ml.value:ml.textContent,qd=!0)),ht=rm(ve,St),0<ht.length&&(St=new i4(St,u,null,j,Re),ze.push({event:St,listeners:ht}),gt?St.data=gt:(gt=u4(j),gt!==null&&(St.data=gt)))),(gt=IX?OX(u,j):DX(u,j))&&(ve=rm(ve,"onBeforeInput"),0<ve.length&&(Re=new i4("onBeforeInput","beforeinput",null,j,Re),ze.push({event:Re,listeners:ve}),Re.data=gt))}T4(ze,g)})}function Af(u,g,j){return{instance:u,listener:g,currentTarget:j}}function rm(u,g){for(var j=g+"Capture",R=[];u!==null;){var O=u,$=O.stateNode;O.tag===5&&$!==null&&(O=$,$=mr(u,j),$!=null&&R.unshift(Af(u,$,O)),$=mr(u,g),$!=null&&R.push(Af(u,$,O))),u=u.return}return R}function Kd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function z4(u,g,j,R,O){for(var $=g._reactName,q=[];j!==null&&j!==R;){var Z=j,ce=Z.alternate,ve=Z.stateNode;if(ce!==null&&ce===R)break;Z.tag===5&&ve!==null&&(Z=ve,O?(ce=mr(j,$),ce!=null&&q.unshift(Af(j,ce,Z))):O||(ce=mr(j,$),ce!=null&&q.push(Af(j,ce,Z)))),j=j.return}q.length!==0&&u.push({event:g,listeners:q})}var JX=/\r\n?/g,QX=/\u0000|\uFFFD/g;function B4(u){return(typeof u=="string"?u:""+u).replace(JX,`
`).replace(QX,"")}function nm(u,g,j){if(g=B4(g),B4(u)!==g&&j)throw Error(r(425))}function om(){}var sj=null,lj=null;function cj(u,g){return u==="textarea"||u==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var dj=typeof setTimeout=="function"?setTimeout:void 0,ZX=typeof clearTimeout=="function"?clearTimeout:void 0,I4=typeof Promise=="function"?Promise:void 0,eJ=typeof queueMicrotask=="function"?queueMicrotask:typeof I4<"u"?function(u){return I4.resolve(null).then(u).catch(tJ)}:dj;function tJ(u){setTimeout(function(){throw u})}function uj(u,g){var j=g,R=0;do{var O=j.nextSibling;if(u.removeChild(j),O&&O.nodeType===8)if(j=O.data,j==="/$"){if(R===0){u.removeChild(O),yf(g);return}R--}else j!=="$"&&j!=="$?"&&j!=="$!"||R++;j=O}while(j);yf(g)}function bl(u){for(;u!=null;u=u.nextSibling){var g=u.nodeType;if(g===1||g===3)break;if(g===8){if(g=u.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return u}function O4(u){u=u.previousSibling;for(var g=0;u;){if(u.nodeType===8){var j=u.data;if(j==="$"||j==="$!"||j==="$?"){if(g===0)return u;g--}else j==="/$"&&g++}u=u.previousSibling}return null}var Yd=Math.random().toString(36).slice(2),La="__reactFiber$"+Yd,_f="__reactProps$"+Yd,Ss="__reactContainer$"+Yd,pj="__reactEvents$"+Yd,rJ="__reactListeners$"+Yd,nJ="__reactHandles$"+Yd;function wc(u){var g=u[La];if(g)return g;for(var j=u.parentNode;j;){if(g=j[Ss]||j[La]){if(j=g.alternate,g.child!==null||j!==null&&j.child!==null)for(u=O4(u);u!==null;){if(j=u[La])return j;u=O4(u)}return g}u=j,j=u.parentNode}return null}function Rf(u){return u=u[La]||u[Ss],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Xd(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function im(u){return u[_f]||null}var fj=[],Jd=-1;function vl(u){return{current:u}}function Br(u){0>Jd||(u.current=fj[Jd],fj[Jd]=null,Jd--)}function Er(u,g){Jd++,fj[Jd]=u.current,u.current=g}var jl={},Xn=vl(jl),zo=vl(!1),Ec=jl;function Qd(u,g){var j=u.type.contextTypes;if(!j)return jl;var R=u.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===g)return R.__reactInternalMemoizedMaskedChildContext;var O={},$;for($ in j)O[$]=g[$];return R&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=g,u.__reactInternalMemoizedMaskedChildContext=O),O}function Bo(u){return u=u.childContextTypes,u!=null}function am(){Br(zo),Br(Xn)}function D4(u,g,j){if(Xn.current!==jl)throw Error(r(168));Er(Xn,g),Er(zo,j)}function M4(u,g,j){var R=u.stateNode;if(g=g.childContextTypes,typeof R.getChildContext!="function")return j;R=R.getChildContext();for(var O in R)if(!(O in g))throw Error(r(108,X(u)||"Unknown",O));return G({},j,R)}function sm(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||jl,Ec=Xn.current,Er(Xn,u),Er(zo,zo.current),!0}function $4(u,g,j){var R=u.stateNode;if(!R)throw Error(r(169));j?(u=M4(u,g,Ec),R.__reactInternalMemoizedMergedChildContext=u,Br(zo),Br(Xn),Er(Xn,u)):Br(zo),Er(zo,j)}var ws=null,lm=!1,hj=!1;function N4(u){ws===null?ws=[u]:ws.push(u)}function oJ(u){lm=!0,N4(u)}function Sl(){if(!hj&&ws!==null){hj=!0;var u=0,g=pr;try{var j=ws;for(pr=1;u<j.length;u++){var R=j[u];do R=R(!0);while(R!==null)}ws=null,lm=!1}catch(O){throw ws!==null&&(ws=ws.slice(u+1)),qr(Po,Sl),O}finally{pr=g,hj=!1}}return null}var Zd=[],eu=0,cm=null,dm=0,xi=[],mi=0,Cc=null,Es=1,Cs="";function kc(u,g){Zd[eu++]=dm,Zd[eu++]=cm,cm=u,dm=g}function L4(u,g,j){xi[mi++]=Es,xi[mi++]=Cs,xi[mi++]=Cc,Cc=u;var R=Es;u=Cs;var O=32-lr(R)-1;R&=~(1<<O),j+=1;var $=32-lr(g)+O;if(30<$){var q=O-O%5;$=(R&(1<<q)-1).toString(32),R>>=q,O-=q,Es=1<<32-lr(g)+O|j<<O|R,Cs=$+u}else Es=1<<$|j<<O|R,Cs=u}function gj(u){u.return!==null&&(kc(u,1),L4(u,1,0))}function xj(u){for(;u===cm;)cm=Zd[--eu],Zd[eu]=null,dm=Zd[--eu],Zd[eu]=null;for(;u===Cc;)Cc=xi[--mi],xi[mi]=null,Cs=xi[--mi],xi[mi]=null,Es=xi[--mi],xi[mi]=null}var Vo=null,Uo=null,Mr=!1,Ki=null;function W4(u,g){var j=ji(5,null,null,0);j.elementType="DELETED",j.stateNode=g,j.return=u,g=u.deletions,g===null?(u.deletions=[j],u.flags|=16):g.push(j)}function V4(u,g){switch(u.tag){case 5:var j=u.type;return g=g.nodeType!==1||j.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(u.stateNode=g,Vo=u,Uo=bl(g.firstChild),!0):!1;case 6:return g=u.pendingProps===""||g.nodeType!==3?null:g,g!==null?(u.stateNode=g,Vo=u,Uo=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(j=Cc!==null?{id:Es,overflow:Cs}:null,u.memoizedState={dehydrated:g,treeContext:j,retryLane:1073741824},j=ji(18,null,null,0),j.stateNode=g,j.return=u,u.child=j,Vo=u,Uo=null,!0):!1;default:return!1}}function mj(u){return(u.mode&1)!==0&&(u.flags&128)===0}function yj(u){if(Mr){var g=Uo;if(g){var j=g;if(!V4(u,g)){if(mj(u))throw Error(r(418));g=bl(j.nextSibling);var R=Vo;g&&V4(u,g)?W4(R,j):(u.flags=u.flags&-4097|2,Mr=!1,Vo=u)}}else{if(mj(u))throw Error(r(418));u.flags=u.flags&-4097|2,Mr=!1,Vo=u}}}function U4(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Vo=u}function um(u){if(u!==Vo)return!1;if(!Mr)return U4(u),Mr=!0,!1;var g;if((g=u.tag!==3)&&!(g=u.tag!==5)&&(g=u.type,g=g!=="head"&&g!=="body"&&!cj(u.type,u.memoizedProps)),g&&(g=Uo)){if(mj(u))throw q4(),Error(r(418));for(;g;)W4(u,g),g=bl(g.nextSibling)}if(U4(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,g=0;u;){if(u.nodeType===8){var j=u.data;if(j==="/$"){if(g===0){Uo=bl(u.nextSibling);break e}g--}else j!=="$"&&j!=="$!"&&j!=="$?"||g++}u=u.nextSibling}Uo=null}}else Uo=Vo?bl(u.stateNode.nextSibling):null;return!0}function q4(){for(var u=Uo;u;)u=bl(u.nextSibling)}function tu(){Uo=Vo=null,Mr=!1}function bj(u){Ki===null?Ki=[u]:Ki.push(u)}var iJ=F.ReactCurrentBatchConfig;function Tf(u,g,j){if(u=j.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(r(309));var R=j.stateNode}if(!R)throw Error(r(147,u));var O=R,$=""+u;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===$?g.ref:(g=function(q){var Z=O.refs;q===null?delete Z[$]:Z[$]=q},g._stringRef=$,g)}if(typeof u!="string")throw Error(r(284));if(!j._owner)throw Error(r(290,u))}return u}function pm(u,g){throw u=Object.prototype.toString.call(g),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":u))}function H4(u){var g=u._init;return g(u._payload)}function G4(u){function g(ge,fe){if(u){var me=ge.deletions;me===null?(ge.deletions=[fe],ge.flags|=16):me.push(fe)}}function j(ge,fe){if(!u)return null;for(;fe!==null;)g(ge,fe),fe=fe.sibling;return null}function R(ge,fe){for(ge=new Map;fe!==null;)fe.key!==null?ge.set(fe.key,fe):ge.set(fe.index,fe),fe=fe.sibling;return ge}function O(ge,fe){return ge=Rl(ge,fe),ge.index=0,ge.sibling=null,ge}function $(ge,fe,me){return ge.index=me,u?(me=ge.alternate,me!==null?(me=me.index,me<fe?(ge.flags|=2,fe):me):(ge.flags|=2,fe)):(ge.flags|=1048576,fe)}function q(ge){return u&&ge.alternate===null&&(ge.flags|=2),ge}function Z(ge,fe,me,De){return fe===null||fe.tag!==6?(fe=d2(me,ge.mode,De),fe.return=ge,fe):(fe=O(fe,me),fe.return=ge,fe)}function ce(ge,fe,me,De){var at=me.type;return at===E?Re(ge,fe,me.props.children,De,me.key):fe!==null&&(fe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===M&&H4(at)===fe.type)?(De=O(fe,me.props),De.ref=Tf(ge,fe,me),De.return=ge,De):(De=Om(me.type,me.key,me.props,null,ge.mode,De),De.ref=Tf(ge,fe,me),De.return=ge,De)}function ve(ge,fe,me,De){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==me.containerInfo||fe.stateNode.implementation!==me.implementation?(fe=u2(me,ge.mode,De),fe.return=ge,fe):(fe=O(fe,me.children||[]),fe.return=ge,fe)}function Re(ge,fe,me,De,at){return fe===null||fe.tag!==7?(fe=Bc(me,ge.mode,De,at),fe.return=ge,fe):(fe=O(fe,me),fe.return=ge,fe)}function ze(ge,fe,me){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=d2(""+fe,ge.mode,me),fe.return=ge,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return me=Om(fe.type,fe.key,fe.props,null,ge.mode,me),me.ref=Tf(ge,null,fe),me.return=ge,me;case k:return fe=u2(fe,ge.mode,me),fe.return=ge,fe;case M:var De=fe._init;return ze(ge,De(fe._payload),me)}if(kt(fe)||W(fe))return fe=Bc(fe,ge.mode,me,null),fe.return=ge,fe;pm(ge,fe)}return null}function _e(ge,fe,me,De){var at=fe!==null?fe.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return at!==null?null:Z(ge,fe,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return me.key===at?ce(ge,fe,me,De):null;case k:return me.key===at?ve(ge,fe,me,De):null;case M:return at=me._init,_e(ge,fe,at(me._payload),De)}if(kt(me)||W(me))return at!==null?null:Re(ge,fe,me,De,null);pm(ge,me)}return null}function Ue(ge,fe,me,De,at){if(typeof De=="string"&&De!==""||typeof De=="number")return ge=ge.get(me)||null,Z(fe,ge,""+De,at);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case w:return ge=ge.get(De.key===null?me:De.key)||null,ce(fe,ge,De,at);case k:return ge=ge.get(De.key===null?me:De.key)||null,ve(fe,ge,De,at);case M:var ht=De._init;return Ue(ge,fe,me,ht(De._payload),at)}if(kt(De)||W(De))return ge=ge.get(me)||null,Re(fe,ge,De,at,null);pm(fe,De)}return null}function et(ge,fe,me,De){for(var at=null,ht=null,gt=fe,St=fe=0,Pn=null;gt!==null&&St<me.length;St++){gt.index>St?(Pn=gt,gt=null):Pn=gt.sibling;var Zt=_e(ge,gt,me[St],De);if(Zt===null){gt===null&&(gt=Pn);break}u&&gt&&Zt.alternate===null&&g(ge,gt),fe=$(Zt,fe,St),ht===null?at=Zt:ht.sibling=Zt,ht=Zt,gt=Pn}if(St===me.length)return j(ge,gt),Mr&&kc(ge,St),at;if(gt===null){for(;St<me.length;St++)gt=ze(ge,me[St],De),gt!==null&&(fe=$(gt,fe,St),ht===null?at=gt:ht.sibling=gt,ht=gt);return Mr&&kc(ge,St),at}for(gt=R(ge,gt);St<me.length;St++)Pn=Ue(gt,ge,St,me[St],De),Pn!==null&&(u&&Pn.alternate!==null&&gt.delete(Pn.key===null?St:Pn.key),fe=$(Pn,fe,St),ht===null?at=Pn:ht.sibling=Pn,ht=Pn);return u&&gt.forEach(function(Tl){return g(ge,Tl)}),Mr&&kc(ge,St),at}function ot(ge,fe,me,De){var at=W(me);if(typeof at!="function")throw Error(r(150));if(me=at.call(me),me==null)throw Error(r(151));for(var ht=at=null,gt=fe,St=fe=0,Pn=null,Zt=me.next();gt!==null&&!Zt.done;St++,Zt=me.next()){gt.index>St?(Pn=gt,gt=null):Pn=gt.sibling;var Tl=_e(ge,gt,Zt.value,De);if(Tl===null){gt===null&&(gt=Pn);break}u&&gt&&Tl.alternate===null&&g(ge,gt),fe=$(Tl,fe,St),ht===null?at=Tl:ht.sibling=Tl,ht=Tl,gt=Pn}if(Zt.done)return j(ge,gt),Mr&&kc(ge,St),at;if(gt===null){for(;!Zt.done;St++,Zt=me.next())Zt=ze(ge,Zt.value,De),Zt!==null&&(fe=$(Zt,fe,St),ht===null?at=Zt:ht.sibling=Zt,ht=Zt);return Mr&&kc(ge,St),at}for(gt=R(ge,gt);!Zt.done;St++,Zt=me.next())Zt=Ue(gt,ge,St,Zt.value,De),Zt!==null&&(u&&Zt.alternate!==null&&gt.delete(Zt.key===null?St:Zt.key),fe=$(Zt,fe,St),ht===null?at=Zt:ht.sibling=Zt,ht=Zt);return u&&gt.forEach(function(MJ){return g(ge,MJ)}),Mr&&kc(ge,St),at}function on(ge,fe,me,De){if(typeof me=="object"&&me!==null&&me.type===E&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case w:e:{for(var at=me.key,ht=fe;ht!==null;){if(ht.key===at){if(at=me.type,at===E){if(ht.tag===7){j(ge,ht.sibling),fe=O(ht,me.props.children),fe.return=ge,ge=fe;break e}}else if(ht.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===M&&H4(at)===ht.type){j(ge,ht.sibling),fe=O(ht,me.props),fe.ref=Tf(ge,ht,me),fe.return=ge,ge=fe;break e}j(ge,ht);break}else g(ge,ht);ht=ht.sibling}me.type===E?(fe=Bc(me.props.children,ge.mode,De,me.key),fe.return=ge,ge=fe):(De=Om(me.type,me.key,me.props,null,ge.mode,De),De.ref=Tf(ge,fe,me),De.return=ge,ge=De)}return q(ge);case k:e:{for(ht=me.key;fe!==null;){if(fe.key===ht)if(fe.tag===4&&fe.stateNode.containerInfo===me.containerInfo&&fe.stateNode.implementation===me.implementation){j(ge,fe.sibling),fe=O(fe,me.children||[]),fe.return=ge,ge=fe;break e}else{j(ge,fe);break}else g(ge,fe);fe=fe.sibling}fe=u2(me,ge.mode,De),fe.return=ge,ge=fe}return q(ge);case M:return ht=me._init,on(ge,fe,ht(me._payload),De)}if(kt(me))return et(ge,fe,me,De);if(W(me))return ot(ge,fe,me,De);pm(ge,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,fe!==null&&fe.tag===6?(j(ge,fe.sibling),fe=O(fe,me),fe.return=ge,ge=fe):(j(ge,fe),fe=d2(me,ge.mode,De),fe.return=ge,ge=fe),q(ge)):j(ge,fe)}return on}var ru=G4(!0),K4=G4(!1),fm=vl(null),hm=null,nu=null,vj=null;function jj(){vj=nu=hm=null}function Sj(u){var g=fm.current;Br(fm),u._currentValue=g}function wj(u,g,j){for(;u!==null;){var R=u.alternate;if((u.childLanes&g)!==g?(u.childLanes|=g,R!==null&&(R.childLanes|=g)):R!==null&&(R.childLanes&g)!==g&&(R.childLanes|=g),u===j)break;u=u.return}}function ou(u,g){hm=u,vj=nu=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&g)!==0&&(Io=!0),u.firstContext=null)}function yi(u){var g=u._currentValue;if(vj!==u)if(u={context:u,memoizedValue:g,next:null},nu===null){if(hm===null)throw Error(r(308));nu=u,hm.dependencies={lanes:0,firstContext:u}}else nu=nu.next=u;return g}var Fc=null;function Ej(u){Fc===null?Fc=[u]:Fc.push(u)}function Y4(u,g,j,R){var O=g.interleaved;return O===null?(j.next=j,Ej(g)):(j.next=O.next,O.next=j),g.interleaved=j,ks(u,R)}function ks(u,g){u.lanes|=g;var j=u.alternate;for(j!==null&&(j.lanes|=g),j=u,u=u.return;u!==null;)u.childLanes|=g,j=u.alternate,j!==null&&(j.childLanes|=g),j=u,u=u.return;return j.tag===3?j.stateNode:null}var wl=!1;function Cj(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X4(u,g){u=u.updateQueue,g.updateQueue===u&&(g.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Fs(u,g){return{eventTime:u,lane:g,tag:0,payload:null,callback:null,next:null}}function El(u,g,j){var R=u.updateQueue;if(R===null)return null;if(R=R.shared,(Yt&2)!==0){var O=R.pending;return O===null?g.next=g:(g.next=O.next,O.next=g),R.pending=g,ks(u,j)}return O=R.interleaved,O===null?(g.next=g,Ej(R)):(g.next=O.next,O.next=g),R.interleaved=g,ks(u,j)}function gm(u,g,j){if(g=g.updateQueue,g!==null&&(g=g.shared,(j&4194240)!==0)){var R=g.lanes;R&=u.pendingLanes,j|=R,g.lanes=j,$v(u,j)}}function J4(u,g){var j=u.updateQueue,R=u.alternate;if(R!==null&&(R=R.updateQueue,j===R)){var O=null,$=null;if(j=j.firstBaseUpdate,j!==null){do{var q={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};$===null?O=$=q:$=$.next=q,j=j.next}while(j!==null);$===null?O=$=g:$=$.next=g}else O=$=g;j={baseState:R.baseState,firstBaseUpdate:O,lastBaseUpdate:$,shared:R.shared,effects:R.effects},u.updateQueue=j;return}u=j.lastBaseUpdate,u===null?j.firstBaseUpdate=g:u.next=g,j.lastBaseUpdate=g}function xm(u,g,j,R){var O=u.updateQueue;wl=!1;var $=O.firstBaseUpdate,q=O.lastBaseUpdate,Z=O.shared.pending;if(Z!==null){O.shared.pending=null;var ce=Z,ve=ce.next;ce.next=null,q===null?$=ve:q.next=ve,q=ce;var Re=u.alternate;Re!==null&&(Re=Re.updateQueue,Z=Re.lastBaseUpdate,Z!==q&&(Z===null?Re.firstBaseUpdate=ve:Z.next=ve,Re.lastBaseUpdate=ce))}if($!==null){var ze=O.baseState;q=0,Re=ve=ce=null,Z=$;do{var _e=Z.lane,Ue=Z.eventTime;if((R&_e)===_e){Re!==null&&(Re=Re.next={eventTime:Ue,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var et=u,ot=Z;switch(_e=g,Ue=j,ot.tag){case 1:if(et=ot.payload,typeof et=="function"){ze=et.call(Ue,ze,_e);break e}ze=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=ot.payload,_e=typeof et=="function"?et.call(Ue,ze,_e):et,_e==null)break e;ze=G({},ze,_e);break e;case 2:wl=!0}}Z.callback!==null&&Z.lane!==0&&(u.flags|=64,_e=O.effects,_e===null?O.effects=[Z]:_e.push(Z))}else Ue={eventTime:Ue,lane:_e,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Re===null?(ve=Re=Ue,ce=ze):Re=Re.next=Ue,q|=_e;if(Z=Z.next,Z===null){if(Z=O.shared.pending,Z===null)break;_e=Z,Z=_e.next,_e.next=null,O.lastBaseUpdate=_e,O.shared.pending=null}}while(!0);if(Re===null&&(ce=ze),O.baseState=ce,O.firstBaseUpdate=ve,O.lastBaseUpdate=Re,g=O.shared.interleaved,g!==null){O=g;do q|=O.lane,O=O.next;while(O!==g)}else $===null&&(O.shared.lanes=0);Rc|=q,u.lanes=q,u.memoizedState=ze}}function Q4(u,g,j){if(u=g.effects,g.effects=null,u!==null)for(g=0;g<u.length;g++){var R=u[g],O=R.callback;if(O!==null){if(R.callback=null,R=j,typeof O!="function")throw Error(r(191,O));O.call(R)}}}var Pf={},Wa=vl(Pf),zf=vl(Pf),Bf=vl(Pf);function Ac(u){if(u===Pf)throw Error(r(174));return u}function kj(u,g){switch(Er(Bf,g),Er(zf,u),Er(Wa,Pf),u=g.nodeType,u){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Sr(null,"");break;default:u=u===8?g.parentNode:g,g=u.namespaceURI||null,u=u.tagName,g=Sr(g,u)}Br(Wa),Er(Wa,g)}function iu(){Br(Wa),Br(zf),Br(Bf)}function Z4(u){Ac(Bf.current);var g=Ac(Wa.current),j=Sr(g,u.type);g!==j&&(Er(zf,u),Er(Wa,j))}function Fj(u){zf.current===u&&(Br(Wa),Br(zf))}var Hr=vl(0);function mm(u){for(var g=u;g!==null;){if(g.tag===13){var j=g.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Aj=[];function _j(){for(var u=0;u<Aj.length;u++)Aj[u]._workInProgressVersionPrimary=null;Aj.length=0}var ym=F.ReactCurrentDispatcher,Rj=F.ReactCurrentBatchConfig,_c=0,Gr=null,vn=null,Rn=null,bm=!1,If=!1,Of=0,aJ=0;function Jn(){throw Error(r(321))}function Tj(u,g){if(g===null)return!1;for(var j=0;j<g.length&&j<u.length;j++)if(!Gi(u[j],g[j]))return!1;return!0}function Pj(u,g,j,R,O,$){if(_c=$,Gr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ym.current=u===null||u.memoizedState===null?dJ:uJ,u=j(R,O),If){$=0;do{if(If=!1,Of=0,25<=$)throw Error(r(301));$+=1,Rn=vn=null,g.updateQueue=null,ym.current=pJ,u=j(R,O)}while(If)}if(ym.current=Sm,g=vn!==null&&vn.next!==null,_c=0,Rn=vn=Gr=null,bm=!1,g)throw Error(r(300));return u}function zj(){var u=Of!==0;return Of=0,u}function Va(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Gr.memoizedState=Rn=u:Rn=Rn.next=u,Rn}function bi(){if(vn===null){var u=Gr.alternate;u=u!==null?u.memoizedState:null}else u=vn.next;var g=Rn===null?Gr.memoizedState:Rn.next;if(g!==null)Rn=g,vn=u;else{if(u===null)throw Error(r(310));vn=u,u={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Rn===null?Gr.memoizedState=Rn=u:Rn=Rn.next=u}return Rn}function Df(u,g){return typeof g=="function"?g(u):g}function Bj(u){var g=bi(),j=g.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=u;var R=vn,O=R.baseQueue,$=j.pending;if($!==null){if(O!==null){var q=O.next;O.next=$.next,$.next=q}R.baseQueue=O=$,j.pending=null}if(O!==null){$=O.next,R=R.baseState;var Z=q=null,ce=null,ve=$;do{var Re=ve.lane;if((_c&Re)===Re)ce!==null&&(ce=ce.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),R=ve.hasEagerState?ve.eagerState:u(R,ve.action);else{var ze={lane:Re,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ce===null?(Z=ce=ze,q=R):ce=ce.next=ze,Gr.lanes|=Re,Rc|=Re}ve=ve.next}while(ve!==null&&ve!==$);ce===null?q=R:ce.next=Z,Gi(R,g.memoizedState)||(Io=!0),g.memoizedState=R,g.baseState=q,g.baseQueue=ce,j.lastRenderedState=R}if(u=j.interleaved,u!==null){O=u;do $=O.lane,Gr.lanes|=$,Rc|=$,O=O.next;while(O!==u)}else O===null&&(j.lanes=0);return[g.memoizedState,j.dispatch]}function Ij(u){var g=bi(),j=g.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=u;var R=j.dispatch,O=j.pending,$=g.memoizedState;if(O!==null){j.pending=null;var q=O=O.next;do $=u($,q.action),q=q.next;while(q!==O);Gi($,g.memoizedState)||(Io=!0),g.memoizedState=$,g.baseQueue===null&&(g.baseState=$),j.lastRenderedState=$}return[$,R]}function e3(){}function t3(u,g){var j=Gr,R=bi(),O=g(),$=!Gi(R.memoizedState,O);if($&&(R.memoizedState=O,Io=!0),R=R.queue,Oj(o3.bind(null,j,R,u),[u]),R.getSnapshot!==g||$||Rn!==null&&Rn.memoizedState.tag&1){if(j.flags|=2048,Mf(9,n3.bind(null,j,R,O,g),void 0,null),Tn===null)throw Error(r(349));(_c&30)!==0||r3(j,g,O)}return O}function r3(u,g,j){u.flags|=16384,u={getSnapshot:g,value:j},g=Gr.updateQueue,g===null?(g={lastEffect:null,stores:null},Gr.updateQueue=g,g.stores=[u]):(j=g.stores,j===null?g.stores=[u]:j.push(u))}function n3(u,g,j,R){g.value=j,g.getSnapshot=R,i3(g)&&a3(u)}function o3(u,g,j){return j(function(){i3(g)&&a3(u)})}function i3(u){var g=u.getSnapshot;u=u.value;try{var j=g();return!Gi(u,j)}catch{return!0}}function a3(u){var g=ks(u,1);g!==null&&Qi(g,u,1,-1)}function s3(u){var g=Va();return typeof u=="function"&&(u=u()),g.memoizedState=g.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:u},g.queue=u,u=u.dispatch=cJ.bind(null,Gr,u),[g.memoizedState,u]}function Mf(u,g,j,R){return u={tag:u,create:g,destroy:j,deps:R,next:null},g=Gr.updateQueue,g===null?(g={lastEffect:null,stores:null},Gr.updateQueue=g,g.lastEffect=u.next=u):(j=g.lastEffect,j===null?g.lastEffect=u.next=u:(R=j.next,j.next=u,u.next=R,g.lastEffect=u)),u}function l3(){return bi().memoizedState}function vm(u,g,j,R){var O=Va();Gr.flags|=u,O.memoizedState=Mf(1|g,j,void 0,R===void 0?null:R)}function jm(u,g,j,R){var O=bi();R=R===void 0?null:R;var $=void 0;if(vn!==null){var q=vn.memoizedState;if($=q.destroy,R!==null&&Tj(R,q.deps)){O.memoizedState=Mf(g,j,$,R);return}}Gr.flags|=u,O.memoizedState=Mf(1|g,j,$,R)}function c3(u,g){return vm(8390656,8,u,g)}function Oj(u,g){return jm(2048,8,u,g)}function d3(u,g){return jm(4,2,u,g)}function u3(u,g){return jm(4,4,u,g)}function p3(u,g){if(typeof g=="function")return u=u(),g(u),function(){g(null)};if(g!=null)return u=u(),g.current=u,function(){g.current=null}}function f3(u,g,j){return j=j!=null?j.concat([u]):null,jm(4,4,p3.bind(null,g,u),j)}function Dj(){}function h3(u,g){var j=bi();g=g===void 0?null:g;var R=j.memoizedState;return R!==null&&g!==null&&Tj(g,R[1])?R[0]:(j.memoizedState=[u,g],u)}function g3(u,g){var j=bi();g=g===void 0?null:g;var R=j.memoizedState;return R!==null&&g!==null&&Tj(g,R[1])?R[0]:(u=u(),j.memoizedState=[u,g],u)}function x3(u,g,j){return(_c&21)===0?(u.baseState&&(u.baseState=!1,Io=!0),u.memoizedState=j):(Gi(j,g)||(j=Wd(),Gr.lanes|=j,Rc|=j,u.baseState=!0),g)}function sJ(u,g){var j=pr;pr=j!==0&&4>j?j:4,u(!0);var R=Rj.transition;Rj.transition={};try{u(!1),g()}finally{pr=j,Rj.transition=R}}function m3(){return bi().memoizedState}function lJ(u,g,j){var R=Al(u);if(j={lane:R,action:j,hasEagerState:!1,eagerState:null,next:null},y3(u))b3(g,j);else if(j=Y4(u,g,j,R),j!==null){var O=mo();Qi(j,u,R,O),v3(j,g,R)}}function cJ(u,g,j){var R=Al(u),O={lane:R,action:j,hasEagerState:!1,eagerState:null,next:null};if(y3(u))b3(g,O);else{var $=u.alternate;if(u.lanes===0&&($===null||$.lanes===0)&&($=g.lastRenderedReducer,$!==null))try{var q=g.lastRenderedState,Z=$(q,j);if(O.hasEagerState=!0,O.eagerState=Z,Gi(Z,q)){var ce=g.interleaved;ce===null?(O.next=O,Ej(g)):(O.next=ce.next,ce.next=O),g.interleaved=O;return}}catch{}finally{}j=Y4(u,g,O,R),j!==null&&(O=mo(),Qi(j,u,R,O),v3(j,g,R))}}function y3(u){var g=u.alternate;return u===Gr||g!==null&&g===Gr}function b3(u,g){If=bm=!0;var j=u.pending;j===null?g.next=g:(g.next=j.next,j.next=g),u.pending=g}function v3(u,g,j){if((j&4194240)!==0){var R=g.lanes;R&=u.pendingLanes,j|=R,g.lanes=j,$v(u,j)}}var Sm={readContext:yi,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},dJ={readContext:yi,useCallback:function(u,g){return Va().memoizedState=[u,g===void 0?null:g],u},useContext:yi,useEffect:c3,useImperativeHandle:function(u,g,j){return j=j!=null?j.concat([u]):null,vm(4194308,4,p3.bind(null,g,u),j)},useLayoutEffect:function(u,g){return vm(4194308,4,u,g)},useInsertionEffect:function(u,g){return vm(4,2,u,g)},useMemo:function(u,g){var j=Va();return g=g===void 0?null:g,u=u(),j.memoizedState=[u,g],u},useReducer:function(u,g,j){var R=Va();return g=j!==void 0?j(g):g,R.memoizedState=R.baseState=g,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:g},R.queue=u,u=u.dispatch=lJ.bind(null,Gr,u),[R.memoizedState,u]},useRef:function(u){var g=Va();return u={current:u},g.memoizedState=u},useState:s3,useDebugValue:Dj,useDeferredValue:function(u){return Va().memoizedState=u},useTransition:function(){var u=s3(!1),g=u[0];return u=sJ.bind(null,u[1]),Va().memoizedState=u,[g,u]},useMutableSource:function(){},useSyncExternalStore:function(u,g,j){var R=Gr,O=Va();if(Mr){if(j===void 0)throw Error(r(407));j=j()}else{if(j=g(),Tn===null)throw Error(r(349));(_c&30)!==0||r3(R,g,j)}O.memoizedState=j;var $={value:j,getSnapshot:g};return O.queue=$,c3(o3.bind(null,R,$,u),[u]),R.flags|=2048,Mf(9,n3.bind(null,R,$,j,g),void 0,null),j},useId:function(){var u=Va(),g=Tn.identifierPrefix;if(Mr){var j=Cs,R=Es;j=(R&~(1<<32-lr(R)-1)).toString(32)+j,g=":"+g+"R"+j,j=Of++,0<j&&(g+="H"+j.toString(32)),g+=":"}else j=aJ++,g=":"+g+"r"+j.toString(32)+":";return u.memoizedState=g},unstable_isNewReconciler:!1},uJ={readContext:yi,useCallback:h3,useContext:yi,useEffect:Oj,useImperativeHandle:f3,useInsertionEffect:d3,useLayoutEffect:u3,useMemo:g3,useReducer:Bj,useRef:l3,useState:function(){return Bj(Df)},useDebugValue:Dj,useDeferredValue:function(u){var g=bi();return x3(g,vn.memoizedState,u)},useTransition:function(){var u=Bj(Df)[0],g=bi().memoizedState;return[u,g]},useMutableSource:e3,useSyncExternalStore:t3,useId:m3,unstable_isNewReconciler:!1},pJ={readContext:yi,useCallback:h3,useContext:yi,useEffect:Oj,useImperativeHandle:f3,useInsertionEffect:d3,useLayoutEffect:u3,useMemo:g3,useReducer:Ij,useRef:l3,useState:function(){return Ij(Df)},useDebugValue:Dj,useDeferredValue:function(u){var g=bi();return vn===null?g.memoizedState=u:x3(g,vn.memoizedState,u)},useTransition:function(){var u=Ij(Df)[0],g=bi().memoizedState;return[u,g]},useMutableSource:e3,useSyncExternalStore:t3,useId:m3,unstable_isNewReconciler:!1};function Yi(u,g){if(u&&u.defaultProps){g=G({},g),u=u.defaultProps;for(var j in u)g[j]===void 0&&(g[j]=u[j]);return g}return g}function Mj(u,g,j,R){g=u.memoizedState,j=j(R,g),j=j==null?g:G({},g,j),u.memoizedState=j,u.lanes===0&&(u.updateQueue.baseState=j)}var wm={isMounted:function(u){return(u=u._reactInternals)?Ke(u)===u:!1},enqueueSetState:function(u,g,j){u=u._reactInternals;var R=mo(),O=Al(u),$=Fs(R,O);$.payload=g,j!=null&&($.callback=j),g=El(u,$,O),g!==null&&(Qi(g,u,O,R),gm(g,u,O))},enqueueReplaceState:function(u,g,j){u=u._reactInternals;var R=mo(),O=Al(u),$=Fs(R,O);$.tag=1,$.payload=g,j!=null&&($.callback=j),g=El(u,$,O),g!==null&&(Qi(g,u,O,R),gm(g,u,O))},enqueueForceUpdate:function(u,g){u=u._reactInternals;var j=mo(),R=Al(u),O=Fs(j,R);O.tag=2,g!=null&&(O.callback=g),g=El(u,O,R),g!==null&&(Qi(g,u,R,j),gm(g,u,R))}};function j3(u,g,j,R,O,$,q){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(R,$,q):g.prototype&&g.prototype.isPureReactComponent?!Ef(j,R)||!Ef(O,$):!0}function S3(u,g,j){var R=!1,O=jl,$=g.contextType;return typeof $=="object"&&$!==null?$=yi($):(O=Bo(g)?Ec:Xn.current,R=g.contextTypes,$=(R=R!=null)?Qd(u,O):jl),g=new g(j,$),u.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wm,u.stateNode=g,g._reactInternals=u,R&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=O,u.__reactInternalMemoizedMaskedChildContext=$),g}function w3(u,g,j,R){u=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(j,R),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(j,R),g.state!==u&&wm.enqueueReplaceState(g,g.state,null)}function $j(u,g,j,R){var O=u.stateNode;O.props=j,O.state=u.memoizedState,O.refs={},Cj(u);var $=g.contextType;typeof $=="object"&&$!==null?O.context=yi($):($=Bo(g)?Ec:Xn.current,O.context=Qd(u,$)),O.state=u.memoizedState,$=g.getDerivedStateFromProps,typeof $=="function"&&(Mj(u,g,$,j),O.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(g=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),g!==O.state&&wm.enqueueReplaceState(O,O.state,null),xm(u,j,O,R),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308)}function au(u,g){try{var j="",R=g;do j+=Q(R),R=R.return;while(R);var O=j}catch($){O=`
Error generating stack: `+$.message+`
`+$.stack}return{value:u,source:g,stack:O,digest:null}}function Nj(u,g,j){return{value:u,source:null,stack:j??null,digest:g??null}}function Lj(u,g){try{console.error(g.value)}catch(j){setTimeout(function(){throw j})}}var fJ=typeof WeakMap=="function"?WeakMap:Map;function E3(u,g,j){j=Fs(-1,j),j.tag=3,j.payload={element:null};var R=g.value;return j.callback=function(){Rm||(Rm=!0,r2=R),Lj(u,g)},j}function C3(u,g,j){j=Fs(-1,j),j.tag=3;var R=u.type.getDerivedStateFromError;if(typeof R=="function"){var O=g.value;j.payload=function(){return R(O)},j.callback=function(){Lj(u,g)}}var $=u.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(j.callback=function(){Lj(u,g),typeof R!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var q=g.stack;this.componentDidCatch(g.value,{componentStack:q!==null?q:""})}),j}function k3(u,g,j){var R=u.pingCache;if(R===null){R=u.pingCache=new fJ;var O=new Set;R.set(g,O)}else O=R.get(g),O===void 0&&(O=new Set,R.set(g,O));O.has(j)||(O.add(j),u=FJ.bind(null,u,g,j),g.then(u,u))}function F3(u){do{var g;if((g=u.tag===13)&&(g=u.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return u;u=u.return}while(u!==null);return null}function A3(u,g,j,R,O){return(u.mode&1)===0?(u===g?u.flags|=65536:(u.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(g=Fs(-1,1),g.tag=2,El(j,g,1))),j.lanes|=1),u):(u.flags|=65536,u.lanes=O,u)}var hJ=F.ReactCurrentOwner,Io=!1;function xo(u,g,j,R){g.child=u===null?K4(g,null,j,R):ru(g,u.child,j,R)}function _3(u,g,j,R,O){j=j.render;var $=g.ref;return ou(g,O),R=Pj(u,g,j,R,$,O),j=zj(),u!==null&&!Io?(g.updateQueue=u.updateQueue,g.flags&=-2053,u.lanes&=~O,As(u,g,O)):(Mr&&j&&gj(g),g.flags|=1,xo(u,g,R,O),g.child)}function R3(u,g,j,R,O){if(u===null){var $=j.type;return typeof $=="function"&&!c2($)&&$.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(g.tag=15,g.type=$,T3(u,g,$,R,O)):(u=Om(j.type,null,R,g,g.mode,O),u.ref=g.ref,u.return=g,g.child=u)}if($=u.child,(u.lanes&O)===0){var q=$.memoizedProps;if(j=j.compare,j=j!==null?j:Ef,j(q,R)&&u.ref===g.ref)return As(u,g,O)}return g.flags|=1,u=Rl($,R),u.ref=g.ref,u.return=g,g.child=u}function T3(u,g,j,R,O){if(u!==null){var $=u.memoizedProps;if(Ef($,R)&&u.ref===g.ref)if(Io=!1,g.pendingProps=R=$,(u.lanes&O)!==0)(u.flags&131072)!==0&&(Io=!0);else return g.lanes=u.lanes,As(u,g,O)}return Wj(u,g,j,R,O)}function P3(u,g,j){var R=g.pendingProps,O=R.children,$=u!==null?u.memoizedState:null;if(R.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(lu,qo),qo|=j;else{if((j&1073741824)===0)return u=$!==null?$.baseLanes|j:j,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:u,cachePool:null,transitions:null},g.updateQueue=null,Er(lu,qo),qo|=u,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=$!==null?$.baseLanes:j,Er(lu,qo),qo|=R}else $!==null?(R=$.baseLanes|j,g.memoizedState=null):R=j,Er(lu,qo),qo|=R;return xo(u,g,O,j),g.child}function z3(u,g){var j=g.ref;(u===null&&j!==null||u!==null&&u.ref!==j)&&(g.flags|=512,g.flags|=2097152)}function Wj(u,g,j,R,O){var $=Bo(j)?Ec:Xn.current;return $=Qd(g,$),ou(g,O),j=Pj(u,g,j,R,$,O),R=zj(),u!==null&&!Io?(g.updateQueue=u.updateQueue,g.flags&=-2053,u.lanes&=~O,As(u,g,O)):(Mr&&R&&gj(g),g.flags|=1,xo(u,g,j,O),g.child)}function B3(u,g,j,R,O){if(Bo(j)){var $=!0;sm(g)}else $=!1;if(ou(g,O),g.stateNode===null)Cm(u,g),S3(g,j,R),$j(g,j,R,O),R=!0;else if(u===null){var q=g.stateNode,Z=g.memoizedProps;q.props=Z;var ce=q.context,ve=j.contextType;typeof ve=="object"&&ve!==null?ve=yi(ve):(ve=Bo(j)?Ec:Xn.current,ve=Qd(g,ve));var Re=j.getDerivedStateFromProps,ze=typeof Re=="function"||typeof q.getSnapshotBeforeUpdate=="function";ze||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Z!==R||ce!==ve)&&w3(g,q,R,ve),wl=!1;var _e=g.memoizedState;q.state=_e,xm(g,R,q,O),ce=g.memoizedState,Z!==R||_e!==ce||zo.current||wl?(typeof Re=="function"&&(Mj(g,j,Re,R),ce=g.memoizedState),(Z=wl||j3(g,j,Z,R,_e,ce,ve))?(ze||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(g.flags|=4194308)):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=R,g.memoizedState=ce),q.props=R,q.state=ce,q.context=ve,R=Z):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),R=!1)}else{q=g.stateNode,X4(u,g),Z=g.memoizedProps,ve=g.type===g.elementType?Z:Yi(g.type,Z),q.props=ve,ze=g.pendingProps,_e=q.context,ce=j.contextType,typeof ce=="object"&&ce!==null?ce=yi(ce):(ce=Bo(j)?Ec:Xn.current,ce=Qd(g,ce));var Ue=j.getDerivedStateFromProps;(Re=typeof Ue=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Z!==ze||_e!==ce)&&w3(g,q,R,ce),wl=!1,_e=g.memoizedState,q.state=_e,xm(g,R,q,O);var et=g.memoizedState;Z!==ze||_e!==et||zo.current||wl?(typeof Ue=="function"&&(Mj(g,j,Ue,R),et=g.memoizedState),(ve=wl||j3(g,j,ve,R,_e,et,ce)||!1)?(Re||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(R,et,ce),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(R,et,ce)),typeof q.componentDidUpdate=="function"&&(g.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof q.componentDidUpdate!="function"||Z===u.memoizedProps&&_e===u.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&_e===u.memoizedState||(g.flags|=1024),g.memoizedProps=R,g.memoizedState=et),q.props=R,q.state=et,q.context=ce,R=ve):(typeof q.componentDidUpdate!="function"||Z===u.memoizedProps&&_e===u.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&_e===u.memoizedState||(g.flags|=1024),R=!1)}return Vj(u,g,j,R,$,O)}function Vj(u,g,j,R,O,$){z3(u,g);var q=(g.flags&128)!==0;if(!R&&!q)return O&&$4(g,j,!1),As(u,g,$);R=g.stateNode,hJ.current=g;var Z=q&&typeof j.getDerivedStateFromError!="function"?null:R.render();return g.flags|=1,u!==null&&q?(g.child=ru(g,u.child,null,$),g.child=ru(g,null,Z,$)):xo(u,g,Z,$),g.memoizedState=R.state,O&&$4(g,j,!0),g.child}function I3(u){var g=u.stateNode;g.pendingContext?D4(u,g.pendingContext,g.pendingContext!==g.context):g.context&&D4(u,g.context,!1),kj(u,g.containerInfo)}function O3(u,g,j,R,O){return tu(),bj(O),g.flags|=256,xo(u,g,j,R),g.child}var Uj={dehydrated:null,treeContext:null,retryLane:0};function qj(u){return{baseLanes:u,cachePool:null,transitions:null}}function D3(u,g,j){var R=g.pendingProps,O=Hr.current,$=!1,q=(g.flags&128)!==0,Z;if((Z=q)||(Z=u!==null&&u.memoizedState===null?!1:(O&2)!==0),Z?($=!0,g.flags&=-129):(u===null||u.memoizedState!==null)&&(O|=1),Er(Hr,O&1),u===null)return yj(g),u=g.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((g.mode&1)===0?g.lanes=1:u.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(q=R.children,u=R.fallback,$?(R=g.mode,$=g.child,q={mode:"hidden",children:q},(R&1)===0&&$!==null?($.childLanes=0,$.pendingProps=q):$=Dm(q,R,0,null),u=Bc(u,R,j,null),$.return=g,u.return=g,$.sibling=u,g.child=$,g.child.memoizedState=qj(j),g.memoizedState=Uj,u):Hj(g,q));if(O=u.memoizedState,O!==null&&(Z=O.dehydrated,Z!==null))return gJ(u,g,q,R,Z,O,j);if($){$=R.fallback,q=g.mode,O=u.child,Z=O.sibling;var ce={mode:"hidden",children:R.children};return(q&1)===0&&g.child!==O?(R=g.child,R.childLanes=0,R.pendingProps=ce,g.deletions=null):(R=Rl(O,ce),R.subtreeFlags=O.subtreeFlags&14680064),Z!==null?$=Rl(Z,$):($=Bc($,q,j,null),$.flags|=2),$.return=g,R.return=g,R.sibling=$,g.child=R,R=$,$=g.child,q=u.child.memoizedState,q=q===null?qj(j):{baseLanes:q.baseLanes|j,cachePool:null,transitions:q.transitions},$.memoizedState=q,$.childLanes=u.childLanes&~j,g.memoizedState=Uj,R}return $=u.child,u=$.sibling,R=Rl($,{mode:"visible",children:R.children}),(g.mode&1)===0&&(R.lanes=j),R.return=g,R.sibling=null,u!==null&&(j=g.deletions,j===null?(g.deletions=[u],g.flags|=16):j.push(u)),g.child=R,g.memoizedState=null,R}function Hj(u,g){return g=Dm({mode:"visible",children:g},u.mode,0,null),g.return=u,u.child=g}function Em(u,g,j,R){return R!==null&&bj(R),ru(g,u.child,null,j),u=Hj(g,g.pendingProps.children),u.flags|=2,g.memoizedState=null,u}function gJ(u,g,j,R,O,$,q){if(j)return g.flags&256?(g.flags&=-257,R=Nj(Error(r(422))),Em(u,g,q,R)):g.memoizedState!==null?(g.child=u.child,g.flags|=128,null):($=R.fallback,O=g.mode,R=Dm({mode:"visible",children:R.children},O,0,null),$=Bc($,O,q,null),$.flags|=2,R.return=g,$.return=g,R.sibling=$,g.child=R,(g.mode&1)!==0&&ru(g,u.child,null,q),g.child.memoizedState=qj(q),g.memoizedState=Uj,$);if((g.mode&1)===0)return Em(u,g,q,null);if(O.data==="$!"){if(R=O.nextSibling&&O.nextSibling.dataset,R)var Z=R.dgst;return R=Z,$=Error(r(419)),R=Nj($,R,void 0),Em(u,g,q,R)}if(Z=(q&u.childLanes)!==0,Io||Z){if(R=Tn,R!==null){switch(q&-q){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(R.suspendedLanes|q))!==0?0:O,O!==0&&O!==$.retryLane&&($.retryLane=O,ks(u,O),Qi(R,u,O,-1))}return l2(),R=Nj(Error(r(421))),Em(u,g,q,R)}return O.data==="$?"?(g.flags|=128,g.child=u.child,g=AJ.bind(null,u),O._reactRetry=g,null):(u=$.treeContext,Uo=bl(O.nextSibling),Vo=g,Mr=!0,Ki=null,u!==null&&(xi[mi++]=Es,xi[mi++]=Cs,xi[mi++]=Cc,Es=u.id,Cs=u.overflow,Cc=g),g=Hj(g,R.children),g.flags|=4096,g)}function M3(u,g,j){u.lanes|=g;var R=u.alternate;R!==null&&(R.lanes|=g),wj(u.return,g,j)}function Gj(u,g,j,R,O){var $=u.memoizedState;$===null?u.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:R,tail:j,tailMode:O}:($.isBackwards=g,$.rendering=null,$.renderingStartTime=0,$.last=R,$.tail=j,$.tailMode=O)}function $3(u,g,j){var R=g.pendingProps,O=R.revealOrder,$=R.tail;if(xo(u,g,R.children,j),R=Hr.current,(R&2)!==0)R=R&1|2,g.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=g.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&M3(u,j,g);else if(u.tag===19)M3(u,j,g);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===g)break e;for(;u.sibling===null;){if(u.return===null||u.return===g)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}R&=1}if(Er(Hr,R),(g.mode&1)===0)g.memoizedState=null;else switch(O){case"forwards":for(j=g.child,O=null;j!==null;)u=j.alternate,u!==null&&mm(u)===null&&(O=j),j=j.sibling;j=O,j===null?(O=g.child,g.child=null):(O=j.sibling,j.sibling=null),Gj(g,!1,O,j,$);break;case"backwards":for(j=null,O=g.child,g.child=null;O!==null;){if(u=O.alternate,u!==null&&mm(u)===null){g.child=O;break}u=O.sibling,O.sibling=j,j=O,O=u}Gj(g,!0,j,null,$);break;case"together":Gj(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Cm(u,g){(g.mode&1)===0&&u!==null&&(u.alternate=null,g.alternate=null,g.flags|=2)}function As(u,g,j){if(u!==null&&(g.dependencies=u.dependencies),Rc|=g.lanes,(j&g.childLanes)===0)return null;if(u!==null&&g.child!==u.child)throw Error(r(153));if(g.child!==null){for(u=g.child,j=Rl(u,u.pendingProps),g.child=j,j.return=g;u.sibling!==null;)u=u.sibling,j=j.sibling=Rl(u,u.pendingProps),j.return=g;j.sibling=null}return g.child}function xJ(u,g,j){switch(g.tag){case 3:I3(g),tu();break;case 5:Z4(g);break;case 1:Bo(g.type)&&sm(g);break;case 4:kj(g,g.stateNode.containerInfo);break;case 10:var R=g.type._context,O=g.memoizedProps.value;Er(fm,R._currentValue),R._currentValue=O;break;case 13:if(R=g.memoizedState,R!==null)return R.dehydrated!==null?(Er(Hr,Hr.current&1),g.flags|=128,null):(j&g.child.childLanes)!==0?D3(u,g,j):(Er(Hr,Hr.current&1),u=As(u,g,j),u!==null?u.sibling:null);Er(Hr,Hr.current&1);break;case 19:if(R=(j&g.childLanes)!==0,(u.flags&128)!==0){if(R)return $3(u,g,j);g.flags|=128}if(O=g.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Er(Hr,Hr.current),R)break;return null;case 22:case 23:return g.lanes=0,P3(u,g,j)}return As(u,g,j)}var N3,Kj,L3,W3;N3=function(u,g){for(var j=g.child;j!==null;){if(j.tag===5||j.tag===6)u.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===g)break;for(;j.sibling===null;){if(j.return===null||j.return===g)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},Kj=function(){},L3=function(u,g,j,R){var O=u.memoizedProps;if(O!==R){u=g.stateNode,Ac(Wa.current);var $=null;switch(j){case"input":O=Ae(u,O),R=Ae(u,R),$=[];break;case"select":O=G({},O,{value:void 0}),R=G({},R,{value:void 0}),$=[];break;case"textarea":O=jt(u,O),R=jt(u,R),$=[];break;default:typeof O.onClick!="function"&&typeof R.onClick=="function"&&(u.onclick=om)}Fe(j,R);var q;j=null;for(ve in O)if(!R.hasOwnProperty(ve)&&O.hasOwnProperty(ve)&&O[ve]!=null)if(ve==="style"){var Z=O[ve];for(q in Z)Z.hasOwnProperty(q)&&(j||(j={}),j[q]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(i.hasOwnProperty(ve)?$||($=[]):($=$||[]).push(ve,null));for(ve in R){var ce=R[ve];if(Z=O!=null?O[ve]:void 0,R.hasOwnProperty(ve)&&ce!==Z&&(ce!=null||Z!=null))if(ve==="style")if(Z){for(q in Z)!Z.hasOwnProperty(q)||ce&&ce.hasOwnProperty(q)||(j||(j={}),j[q]="");for(q in ce)ce.hasOwnProperty(q)&&Z[q]!==ce[q]&&(j||(j={}),j[q]=ce[q])}else j||($||($=[]),$.push(ve,j)),j=ce;else ve==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,Z=Z?Z.__html:void 0,ce!=null&&Z!==ce&&($=$||[]).push(ve,ce)):ve==="children"?typeof ce!="string"&&typeof ce!="number"||($=$||[]).push(ve,""+ce):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(i.hasOwnProperty(ve)?(ce!=null&&ve==="onScroll"&&zr("scroll",u),$||Z===ce||($=[])):($=$||[]).push(ve,ce))}j&&($=$||[]).push("style",j);var ve=$;(g.updateQueue=ve)&&(g.flags|=4)}},W3=function(u,g,j,R){j!==R&&(g.flags|=4)};function $f(u,g){if(!Mr)switch(u.tailMode){case"hidden":g=u.tail;for(var j=null;g!==null;)g.alternate!==null&&(j=g),g=g.sibling;j===null?u.tail=null:j.sibling=null;break;case"collapsed":j=u.tail;for(var R=null;j!==null;)j.alternate!==null&&(R=j),j=j.sibling;R===null?g||u.tail===null?u.tail=null:u.tail.sibling=null:R.sibling=null}}function Qn(u){var g=u.alternate!==null&&u.alternate.child===u.child,j=0,R=0;if(g)for(var O=u.child;O!==null;)j|=O.lanes|O.childLanes,R|=O.subtreeFlags&14680064,R|=O.flags&14680064,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)j|=O.lanes|O.childLanes,R|=O.subtreeFlags,R|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=R,u.childLanes=j,g}function mJ(u,g,j){var R=g.pendingProps;switch(xj(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(g),null;case 1:return Bo(g.type)&&am(),Qn(g),null;case 3:return R=g.stateNode,iu(),Br(zo),Br(Xn),_j(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(u===null||u.child===null)&&(um(g)?g.flags|=4:u===null||u.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Ki!==null&&(i2(Ki),Ki=null))),Kj(u,g),Qn(g),null;case 5:Fj(g);var O=Ac(Bf.current);if(j=g.type,u!==null&&g.stateNode!=null)L3(u,g,j,R,O),u.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!R){if(g.stateNode===null)throw Error(r(166));return Qn(g),null}if(u=Ac(Wa.current),um(g)){R=g.stateNode,j=g.type;var $=g.memoizedProps;switch(R[La]=g,R[_f]=$,u=(g.mode&1)!==0,j){case"dialog":zr("cancel",R),zr("close",R);break;case"iframe":case"object":case"embed":zr("load",R);break;case"video":case"audio":for(O=0;O<kf.length;O++)zr(kf[O],R);break;case"source":zr("error",R);break;case"img":case"image":case"link":zr("error",R),zr("load",R);break;case"details":zr("toggle",R);break;case"input":te(R,$),zr("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!$.multiple},zr("invalid",R);break;case"textarea":zt(R,$),zr("invalid",R)}Fe(j,$),O=null;for(var q in $)if($.hasOwnProperty(q)){var Z=$[q];q==="children"?typeof Z=="string"?R.textContent!==Z&&($.suppressHydrationWarning!==!0&&nm(R.textContent,Z,u),O=["children",Z]):typeof Z=="number"&&R.textContent!==""+Z&&($.suppressHydrationWarning!==!0&&nm(R.textContent,Z,u),O=["children",""+Z]):i.hasOwnProperty(q)&&Z!=null&&q==="onScroll"&&zr("scroll",R)}switch(j){case"input":ie(R),rt(R,$,!0);break;case"textarea":ie(R),Bt(R);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(R.onclick=om)}R=O,g.updateQueue=R,R!==null&&(g.flags|=4)}else{q=O.nodeType===9?O:O.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=ar(j)),u==="http://www.w3.org/1999/xhtml"?j==="script"?(u=q.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof R.is=="string"?u=q.createElement(j,{is:R.is}):(u=q.createElement(j),j==="select"&&(q=u,R.multiple?q.multiple=!0:R.size&&(q.size=R.size))):u=q.createElementNS(u,j),u[La]=g,u[_f]=R,N3(u,g,!1,!1),g.stateNode=u;e:{switch(q=Je(j,R),j){case"dialog":zr("cancel",u),zr("close",u),O=R;break;case"iframe":case"object":case"embed":zr("load",u),O=R;break;case"video":case"audio":for(O=0;O<kf.length;O++)zr(kf[O],u);O=R;break;case"source":zr("error",u),O=R;break;case"img":case"image":case"link":zr("error",u),zr("load",u),O=R;break;case"details":zr("toggle",u),O=R;break;case"input":te(u,R),O=Ae(u,R),zr("invalid",u);break;case"option":O=R;break;case"select":u._wrapperState={wasMultiple:!!R.multiple},O=G({},R,{value:void 0}),zr("invalid",u);break;case"textarea":zt(u,R),O=jt(u,R),zr("invalid",u);break;default:O=R}Fe(j,O),Z=O;for($ in Z)if(Z.hasOwnProperty($)){var ce=Z[$];$==="style"?Pe(u,ce):$==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&le(u,ce)):$==="children"?typeof ce=="string"?(j!=="textarea"||ce!=="")&&be(u,ce):typeof ce=="number"&&be(u,""+ce):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ce!=null&&$==="onScroll"&&zr("scroll",u):ce!=null&&S(u,$,ce,q))}switch(j){case"input":ie(u),rt(u,R,!1);break;case"textarea":ie(u),Bt(u);break;case"option":R.value!=null&&u.setAttribute("value",""+se(R.value));break;case"select":u.multiple=!!R.multiple,$=R.value,$!=null?Pt(u,!!R.multiple,$,!1):R.defaultValue!=null&&Pt(u,!!R.multiple,R.defaultValue,!0);break;default:typeof O.onClick=="function"&&(u.onclick=om)}switch(j){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Qn(g),null;case 6:if(u&&g.stateNode!=null)W3(u,g,u.memoizedProps,R);else{if(typeof R!="string"&&g.stateNode===null)throw Error(r(166));if(j=Ac(Bf.current),Ac(Wa.current),um(g)){if(R=g.stateNode,j=g.memoizedProps,R[La]=g,($=R.nodeValue!==j)&&(u=Vo,u!==null))switch(u.tag){case 3:nm(R.nodeValue,j,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&nm(R.nodeValue,j,(u.mode&1)!==0)}$&&(g.flags|=4)}else R=(j.nodeType===9?j:j.ownerDocument).createTextNode(R),R[La]=g,g.stateNode=R}return Qn(g),null;case 13:if(Br(Hr),R=g.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Mr&&Uo!==null&&(g.mode&1)!==0&&(g.flags&128)===0)q4(),tu(),g.flags|=98560,$=!1;else if($=um(g),R!==null&&R.dehydrated!==null){if(u===null){if(!$)throw Error(r(318));if($=g.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[La]=g}else tu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Qn(g),$=!1}else Ki!==null&&(i2(Ki),Ki=null),$=!0;if(!$)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=j,g):(R=R!==null,R!==(u!==null&&u.memoizedState!==null)&&R&&(g.child.flags|=8192,(g.mode&1)!==0&&(u===null||(Hr.current&1)!==0?jn===0&&(jn=3):l2())),g.updateQueue!==null&&(g.flags|=4),Qn(g),null);case 4:return iu(),Kj(u,g),u===null&&Ff(g.stateNode.containerInfo),Qn(g),null;case 10:return Sj(g.type._context),Qn(g),null;case 17:return Bo(g.type)&&am(),Qn(g),null;case 19:if(Br(Hr),$=g.memoizedState,$===null)return Qn(g),null;if(R=(g.flags&128)!==0,q=$.rendering,q===null)if(R)$f($,!1);else{if(jn!==0||u!==null&&(u.flags&128)!==0)for(u=g.child;u!==null;){if(q=mm(u),q!==null){for(g.flags|=128,$f($,!1),R=q.updateQueue,R!==null&&(g.updateQueue=R,g.flags|=4),g.subtreeFlags=0,R=j,j=g.child;j!==null;)$=j,u=R,$.flags&=14680066,q=$.alternate,q===null?($.childLanes=0,$.lanes=u,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=q.childLanes,$.lanes=q.lanes,$.child=q.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=q.memoizedProps,$.memoizedState=q.memoizedState,$.updateQueue=q.updateQueue,$.type=q.type,u=q.dependencies,$.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),j=j.sibling;return Er(Hr,Hr.current&1|2),g.child}u=u.sibling}$.tail!==null&&or()>cu&&(g.flags|=128,R=!0,$f($,!1),g.lanes=4194304)}else{if(!R)if(u=mm(q),u!==null){if(g.flags|=128,R=!0,j=u.updateQueue,j!==null&&(g.updateQueue=j,g.flags|=4),$f($,!0),$.tail===null&&$.tailMode==="hidden"&&!q.alternate&&!Mr)return Qn(g),null}else 2*or()-$.renderingStartTime>cu&&j!==1073741824&&(g.flags|=128,R=!0,$f($,!1),g.lanes=4194304);$.isBackwards?(q.sibling=g.child,g.child=q):(j=$.last,j!==null?j.sibling=q:g.child=q,$.last=q)}return $.tail!==null?(g=$.tail,$.rendering=g,$.tail=g.sibling,$.renderingStartTime=or(),g.sibling=null,j=Hr.current,Er(Hr,R?j&1|2:j&1),g):(Qn(g),null);case 22:case 23:return s2(),R=g.memoizedState!==null,u!==null&&u.memoizedState!==null!==R&&(g.flags|=8192),R&&(g.mode&1)!==0?(qo&1073741824)!==0&&(Qn(g),g.subtreeFlags&6&&(g.flags|=8192)):Qn(g),null;case 24:return null;case 25:return null}throw Error(r(156,g.tag))}function yJ(u,g){switch(xj(g),g.tag){case 1:return Bo(g.type)&&am(),u=g.flags,u&65536?(g.flags=u&-65537|128,g):null;case 3:return iu(),Br(zo),Br(Xn),_j(),u=g.flags,(u&65536)!==0&&(u&128)===0?(g.flags=u&-65537|128,g):null;case 5:return Fj(g),null;case 13:if(Br(Hr),u=g.memoizedState,u!==null&&u.dehydrated!==null){if(g.alternate===null)throw Error(r(340));tu()}return u=g.flags,u&65536?(g.flags=u&-65537|128,g):null;case 19:return Br(Hr),null;case 4:return iu(),null;case 10:return Sj(g.type._context),null;case 22:case 23:return s2(),null;case 24:return null;default:return null}}var km=!1,Zn=!1,bJ=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function su(u,g){var j=u.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(R){Qr(u,g,R)}else j.current=null}function Yj(u,g,j){try{j()}catch(R){Qr(u,g,R)}}var V3=!1;function vJ(u,g){if(sj=Hx,u=j4(),Zv(u)){if("selectionStart"in u)var j={start:u.selectionStart,end:u.selectionEnd};else e:{j=(j=u.ownerDocument)&&j.defaultView||window;var R=j.getSelection&&j.getSelection();if(R&&R.rangeCount!==0){j=R.anchorNode;var O=R.anchorOffset,$=R.focusNode;R=R.focusOffset;try{j.nodeType,$.nodeType}catch{j=null;break e}var q=0,Z=-1,ce=-1,ve=0,Re=0,ze=u,_e=null;t:for(;;){for(var Ue;ze!==j||O!==0&&ze.nodeType!==3||(Z=q+O),ze!==$||R!==0&&ze.nodeType!==3||(ce=q+R),ze.nodeType===3&&(q+=ze.nodeValue.length),(Ue=ze.firstChild)!==null;)_e=ze,ze=Ue;for(;;){if(ze===u)break t;if(_e===j&&++ve===O&&(Z=q),_e===$&&++Re===R&&(ce=q),(Ue=ze.nextSibling)!==null)break;ze=_e,_e=ze.parentNode}ze=Ue}j=Z===-1||ce===-1?null:{start:Z,end:ce}}else j=null}j=j||{start:0,end:0}}else j=null;for(lj={focusedElem:u,selectionRange:j},Hx=!1,Ye=g;Ye!==null;)if(g=Ye,u=g.child,(g.subtreeFlags&1028)!==0&&u!==null)u.return=g,Ye=u;else for(;Ye!==null;){g=Ye;try{var et=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var ot=et.memoizedProps,on=et.memoizedState,ge=g.stateNode,fe=ge.getSnapshotBeforeUpdate(g.elementType===g.type?ot:Yi(g.type,ot),on);ge.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var me=g.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(De){Qr(g,g.return,De)}if(u=g.sibling,u!==null){u.return=g.return,Ye=u;break}Ye=g.return}return et=V3,V3=!1,et}function Nf(u,g,j){var R=g.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var O=R=R.next;do{if((O.tag&u)===u){var $=O.destroy;O.destroy=void 0,$!==void 0&&Yj(g,j,$)}O=O.next}while(O!==R)}}function Fm(u,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var j=g=g.next;do{if((j.tag&u)===u){var R=j.create;j.destroy=R()}j=j.next}while(j!==g)}}function Xj(u){var g=u.ref;if(g!==null){var j=u.stateNode;switch(u.tag){case 5:u=j;break;default:u=j}typeof g=="function"?g(u):g.current=u}}function U3(u){var g=u.alternate;g!==null&&(u.alternate=null,U3(g)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(g=u.stateNode,g!==null&&(delete g[La],delete g[_f],delete g[pj],delete g[rJ],delete g[nJ])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function q3(u){return u.tag===5||u.tag===3||u.tag===4}function H3(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||q3(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Jj(u,g,j){var R=u.tag;if(R===5||R===6)u=u.stateNode,g?j.nodeType===8?j.parentNode.insertBefore(u,g):j.insertBefore(u,g):(j.nodeType===8?(g=j.parentNode,g.insertBefore(u,j)):(g=j,g.appendChild(u)),j=j._reactRootContainer,j!=null||g.onclick!==null||(g.onclick=om));else if(R!==4&&(u=u.child,u!==null))for(Jj(u,g,j),u=u.sibling;u!==null;)Jj(u,g,j),u=u.sibling}function Qj(u,g,j){var R=u.tag;if(R===5||R===6)u=u.stateNode,g?j.insertBefore(u,g):j.appendChild(u);else if(R!==4&&(u=u.child,u!==null))for(Qj(u,g,j),u=u.sibling;u!==null;)Qj(u,g,j),u=u.sibling}var Wn=null,Xi=!1;function Cl(u,g,j){for(j=j.child;j!==null;)G3(u,g,j),j=j.sibling}function G3(u,g,j){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(hi,j)}catch{}switch(j.tag){case 5:Zn||su(j,g);case 6:var R=Wn,O=Xi;Wn=null,Cl(u,g,j),Wn=R,Xi=O,Wn!==null&&(Xi?(u=Wn,j=j.stateNode,u.nodeType===8?u.parentNode.removeChild(j):u.removeChild(j)):Wn.removeChild(j.stateNode));break;case 18:Wn!==null&&(Xi?(u=Wn,j=j.stateNode,u.nodeType===8?uj(u.parentNode,j):u.nodeType===1&&uj(u,j),yf(u)):uj(Wn,j.stateNode));break;case 4:R=Wn,O=Xi,Wn=j.stateNode.containerInfo,Xi=!0,Cl(u,g,j),Wn=R,Xi=O;break;case 0:case 11:case 14:case 15:if(!Zn&&(R=j.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){O=R=R.next;do{var $=O,q=$.destroy;$=$.tag,q!==void 0&&(($&2)!==0||($&4)!==0)&&Yj(j,g,q),O=O.next}while(O!==R)}Cl(u,g,j);break;case 1:if(!Zn&&(su(j,g),R=j.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=j.memoizedProps,R.state=j.memoizedState,R.componentWillUnmount()}catch(Z){Qr(j,g,Z)}Cl(u,g,j);break;case 21:Cl(u,g,j);break;case 22:j.mode&1?(Zn=(R=Zn)||j.memoizedState!==null,Cl(u,g,j),Zn=R):Cl(u,g,j);break;default:Cl(u,g,j)}}function K3(u){var g=u.updateQueue;if(g!==null){u.updateQueue=null;var j=u.stateNode;j===null&&(j=u.stateNode=new bJ),g.forEach(function(R){var O=_J.bind(null,u,R);j.has(R)||(j.add(R),R.then(O,O))})}}function Ji(u,g){var j=g.deletions;if(j!==null)for(var R=0;R<j.length;R++){var O=j[R];try{var $=u,q=g,Z=q;e:for(;Z!==null;){switch(Z.tag){case 5:Wn=Z.stateNode,Xi=!1;break e;case 3:Wn=Z.stateNode.containerInfo,Xi=!0;break e;case 4:Wn=Z.stateNode.containerInfo,Xi=!0;break e}Z=Z.return}if(Wn===null)throw Error(r(160));G3($,q,O),Wn=null,Xi=!1;var ce=O.alternate;ce!==null&&(ce.return=null),O.return=null}catch(ve){Qr(O,g,ve)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)Y3(g,u),g=g.sibling}function Y3(u,g){var j=u.alternate,R=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ji(g,u),Ua(u),R&4){try{Nf(3,u,u.return),Fm(3,u)}catch(ot){Qr(u,u.return,ot)}try{Nf(5,u,u.return)}catch(ot){Qr(u,u.return,ot)}}break;case 1:Ji(g,u),Ua(u),R&512&&j!==null&&su(j,j.return);break;case 5:if(Ji(g,u),Ua(u),R&512&&j!==null&&su(j,j.return),u.flags&32){var O=u.stateNode;try{be(O,"")}catch(ot){Qr(u,u.return,ot)}}if(R&4&&(O=u.stateNode,O!=null)){var $=u.memoizedProps,q=j!==null?j.memoizedProps:$,Z=u.type,ce=u.updateQueue;if(u.updateQueue=null,ce!==null)try{Z==="input"&&$.type==="radio"&&$.name!=null&&he(O,$),Je(Z,q);var ve=Je(Z,$);for(q=0;q<ce.length;q+=2){var Re=ce[q],ze=ce[q+1];Re==="style"?Pe(O,ze):Re==="dangerouslySetInnerHTML"?le(O,ze):Re==="children"?be(O,ze):S(O,Re,ze,ve)}switch(Z){case"input":Te(O,$);break;case"textarea":fr(O,$);break;case"select":var _e=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!$.multiple;var Ue=$.value;Ue!=null?Pt(O,!!$.multiple,Ue,!1):_e!==!!$.multiple&&($.defaultValue!=null?Pt(O,!!$.multiple,$.defaultValue,!0):Pt(O,!!$.multiple,$.multiple?[]:"",!1))}O[_f]=$}catch(ot){Qr(u,u.return,ot)}}break;case 6:if(Ji(g,u),Ua(u),R&4){if(u.stateNode===null)throw Error(r(162));O=u.stateNode,$=u.memoizedProps;try{O.nodeValue=$}catch(ot){Qr(u,u.return,ot)}}break;case 3:if(Ji(g,u),Ua(u),R&4&&j!==null&&j.memoizedState.isDehydrated)try{yf(g.containerInfo)}catch(ot){Qr(u,u.return,ot)}break;case 4:Ji(g,u),Ua(u);break;case 13:Ji(g,u),Ua(u),O=u.child,O.flags&8192&&($=O.memoizedState!==null,O.stateNode.isHidden=$,!$||O.alternate!==null&&O.alternate.memoizedState!==null||(t2=or())),R&4&&K3(u);break;case 22:if(Re=j!==null&&j.memoizedState!==null,u.mode&1?(Zn=(ve=Zn)||Re,Ji(g,u),Zn=ve):Ji(g,u),Ua(u),R&8192){if(ve=u.memoizedState!==null,(u.stateNode.isHidden=ve)&&!Re&&(u.mode&1)!==0)for(Ye=u,Re=u.child;Re!==null;){for(ze=Ye=Re;Ye!==null;){switch(_e=Ye,Ue=_e.child,_e.tag){case 0:case 11:case 14:case 15:Nf(4,_e,_e.return);break;case 1:su(_e,_e.return);var et=_e.stateNode;if(typeof et.componentWillUnmount=="function"){R=_e,j=_e.return;try{g=R,et.props=g.memoizedProps,et.state=g.memoizedState,et.componentWillUnmount()}catch(ot){Qr(R,j,ot)}}break;case 5:su(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Q3(ze);continue}}Ue!==null?(Ue.return=_e,Ye=Ue):Q3(ze)}Re=Re.sibling}e:for(Re=null,ze=u;;){if(ze.tag===5){if(Re===null){Re=ze;try{O=ze.stateNode,ve?($=O.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(Z=ze.stateNode,ce=ze.memoizedProps.style,q=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,Z.style.display=Be("display",q))}catch(ot){Qr(u,u.return,ot)}}}else if(ze.tag===6){if(Re===null)try{ze.stateNode.nodeValue=ve?"":ze.memoizedProps}catch(ot){Qr(u,u.return,ot)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===u)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===u)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===u)break e;Re===ze&&(Re=null),ze=ze.return}Re===ze&&(Re=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:Ji(g,u),Ua(u),R&4&&K3(u);break;case 21:break;default:Ji(g,u),Ua(u)}}function Ua(u){var g=u.flags;if(g&2){try{e:{for(var j=u.return;j!==null;){if(q3(j)){var R=j;break e}j=j.return}throw Error(r(160))}switch(R.tag){case 5:var O=R.stateNode;R.flags&32&&(be(O,""),R.flags&=-33);var $=H3(u);Qj(u,$,O);break;case 3:case 4:var q=R.stateNode.containerInfo,Z=H3(u);Jj(u,Z,q);break;default:throw Error(r(161))}}catch(ce){Qr(u,u.return,ce)}u.flags&=-3}g&4096&&(u.flags&=-4097)}function jJ(u,g,j){Ye=u,X3(u)}function X3(u,g,j){for(var R=(u.mode&1)!==0;Ye!==null;){var O=Ye,$=O.child;if(O.tag===22&&R){var q=O.memoizedState!==null||km;if(!q){var Z=O.alternate,ce=Z!==null&&Z.memoizedState!==null||Zn;Z=km;var ve=Zn;if(km=q,(Zn=ce)&&!ve)for(Ye=O;Ye!==null;)q=Ye,ce=q.child,q.tag===22&&q.memoizedState!==null?Z3(O):ce!==null?(ce.return=q,Ye=ce):Z3(O);for(;$!==null;)Ye=$,X3($),$=$.sibling;Ye=O,km=Z,Zn=ve}J3(u)}else(O.subtreeFlags&8772)!==0&&$!==null?($.return=O,Ye=$):J3(u)}}function J3(u){for(;Ye!==null;){var g=Ye;if((g.flags&8772)!==0){var j=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Zn||Fm(5,g);break;case 1:var R=g.stateNode;if(g.flags&4&&!Zn)if(j===null)R.componentDidMount();else{var O=g.elementType===g.type?j.memoizedProps:Yi(g.type,j.memoizedProps);R.componentDidUpdate(O,j.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var $=g.updateQueue;$!==null&&Q4(g,$,R);break;case 3:var q=g.updateQueue;if(q!==null){if(j=null,g.child!==null)switch(g.child.tag){case 5:j=g.child.stateNode;break;case 1:j=g.child.stateNode}Q4(g,q,j)}break;case 5:var Z=g.stateNode;if(j===null&&g.flags&4){j=Z;var ce=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&j.focus();break;case"img":ce.src&&(j.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var ve=g.alternate;if(ve!==null){var Re=ve.memoizedState;if(Re!==null){var ze=Re.dehydrated;ze!==null&&yf(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Zn||g.flags&512&&Xj(g)}catch(_e){Qr(g,g.return,_e)}}if(g===u){Ye=null;break}if(j=g.sibling,j!==null){j.return=g.return,Ye=j;break}Ye=g.return}}function Q3(u){for(;Ye!==null;){var g=Ye;if(g===u){Ye=null;break}var j=g.sibling;if(j!==null){j.return=g.return,Ye=j;break}Ye=g.return}}function Z3(u){for(;Ye!==null;){var g=Ye;try{switch(g.tag){case 0:case 11:case 15:var j=g.return;try{Fm(4,g)}catch(ce){Qr(g,j,ce)}break;case 1:var R=g.stateNode;if(typeof R.componentDidMount=="function"){var O=g.return;try{R.componentDidMount()}catch(ce){Qr(g,O,ce)}}var $=g.return;try{Xj(g)}catch(ce){Qr(g,$,ce)}break;case 5:var q=g.return;try{Xj(g)}catch(ce){Qr(g,q,ce)}}}catch(ce){Qr(g,g.return,ce)}if(g===u){Ye=null;break}var Z=g.sibling;if(Z!==null){Z.return=g.return,Ye=Z;break}Ye=g.return}}var SJ=Math.ceil,Am=F.ReactCurrentDispatcher,Zj=F.ReactCurrentOwner,vi=F.ReactCurrentBatchConfig,Yt=0,Tn=null,ln=null,Vn=0,qo=0,lu=vl(0),jn=0,Lf=null,Rc=0,_m=0,e2=0,Wf=null,Oo=null,t2=0,cu=1/0,_s=null,Rm=!1,r2=null,kl=null,Tm=!1,Fl=null,Pm=0,Vf=0,n2=null,zm=-1,Bm=0;function mo(){return(Yt&6)!==0?or():zm!==-1?zm:zm=or()}function Al(u){return(u.mode&1)===0?1:(Yt&2)!==0&&Vn!==0?Vn&-Vn:iJ.transition!==null?(Bm===0&&(Bm=Wd()),Bm):(u=pr,u!==0||(u=window.event,u=u===void 0?16:t4(u.type)),u)}function Qi(u,g,j,R){if(50<Vf)throw Vf=0,n2=null,Error(r(185));Sc(u,j,R),((Yt&2)===0||u!==Tn)&&(u===Tn&&((Yt&2)===0&&(_m|=j),jn===4&&_l(u,Vn)),Do(u,R),j===1&&Yt===0&&(g.mode&1)===0&&(cu=or()+500,lm&&Sl()))}function Do(u,g){var j=u.callbackNode;Mv(u,g);var R=Ld(u,u===Tn?Vn:0);if(R===0)j!==null&&sn(j),u.callbackNode=null,u.callbackPriority=0;else if(g=R&-R,u.callbackPriority!==g){if(j!=null&&sn(j),g===1)u.tag===0?oJ(t7.bind(null,u)):N4(t7.bind(null,u)),eJ(function(){(Yt&6)===0&&Sl()}),j=null;else{switch(G6(R)){case 1:j=Po;break;case 4:j=go;break;case 16:j=$a;break;case 536870912:j=fi;break;default:j=$a}j=c7(j,e7.bind(null,u))}u.callbackPriority=g,u.callbackNode=j}}function e7(u,g){if(zm=-1,Bm=0,(Yt&6)!==0)throw Error(r(327));var j=u.callbackNode;if(du()&&u.callbackNode!==j)return null;var R=Ld(u,u===Tn?Vn:0);if(R===0)return null;if((R&30)!==0||(R&u.expiredLanes)!==0||g)g=Im(u,R);else{g=R;var O=Yt;Yt|=2;var $=n7();(Tn!==u||Vn!==g)&&(_s=null,cu=or()+500,Pc(u,g));do try{CJ();break}catch(Z){r7(u,Z)}while(!0);jj(),Am.current=$,Yt=O,ln!==null?g=0:(Tn=null,Vn=0,g=jn)}if(g!==0){if(g===2&&(O=pf(u),O!==0&&(R=O,g=o2(u,O))),g===1)throw j=Lf,Pc(u,0),_l(u,R),Do(u,or()),j;if(g===6)_l(u,R);else{if(O=u.current.alternate,(R&30)===0&&!wJ(O)&&(g=Im(u,R),g===2&&($=pf(u),$!==0&&(R=$,g=o2(u,$))),g===1))throw j=Lf,Pc(u,0),_l(u,R),Do(u,or()),j;switch(u.finishedWork=O,u.finishedLanes=R,g){case 0:case 1:throw Error(r(345));case 2:zc(u,Oo,_s);break;case 3:if(_l(u,R),(R&130023424)===R&&(g=t2+500-or(),10<g)){if(Ld(u,0)!==0)break;if(O=u.suspendedLanes,(O&R)!==R){mo(),u.pingedLanes|=u.suspendedLanes&O;break}u.timeoutHandle=dj(zc.bind(null,u,Oo,_s),g);break}zc(u,Oo,_s);break;case 4:if(_l(u,R),(R&4194240)===R)break;for(g=u.eventTimes,O=-1;0<R;){var q=31-lr(R);$=1<<q,q=g[q],q>O&&(O=q),R&=~$}if(R=O,R=or()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*SJ(R/1960))-R,10<R){u.timeoutHandle=dj(zc.bind(null,u,Oo,_s),R);break}zc(u,Oo,_s);break;case 5:zc(u,Oo,_s);break;default:throw Error(r(329))}}}return Do(u,or()),u.callbackNode===j?e7.bind(null,u):null}function o2(u,g){var j=Wf;return u.current.memoizedState.isDehydrated&&(Pc(u,g).flags|=256),u=Im(u,g),u!==2&&(g=Oo,Oo=j,g!==null&&i2(g)),u}function i2(u){Oo===null?Oo=u:Oo.push.apply(Oo,u)}function wJ(u){for(var g=u;;){if(g.flags&16384){var j=g.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var R=0;R<j.length;R++){var O=j[R],$=O.getSnapshot;O=O.value;try{if(!Gi($(),O))return!1}catch{return!1}}}if(j=g.child,g.subtreeFlags&16384&&j!==null)j.return=g,g=j;else{if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function _l(u,g){for(g&=~e2,g&=~_m,u.suspendedLanes|=g,u.pingedLanes&=~g,u=u.expirationTimes;0<g;){var j=31-lr(g),R=1<<j;u[j]=-1,g&=~R}}function t7(u){if((Yt&6)!==0)throw Error(r(327));du();var g=Ld(u,0);if((g&1)===0)return Do(u,or()),null;var j=Im(u,g);if(u.tag!==0&&j===2){var R=pf(u);R!==0&&(g=R,j=o2(u,R))}if(j===1)throw j=Lf,Pc(u,0),_l(u,g),Do(u,or()),j;if(j===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=g,zc(u,Oo,_s),Do(u,or()),null}function a2(u,g){var j=Yt;Yt|=1;try{return u(g)}finally{Yt=j,Yt===0&&(cu=or()+500,lm&&Sl())}}function Tc(u){Fl!==null&&Fl.tag===0&&(Yt&6)===0&&du();var g=Yt;Yt|=1;var j=vi.transition,R=pr;try{if(vi.transition=null,pr=1,u)return u()}finally{pr=R,vi.transition=j,Yt=g,(Yt&6)===0&&Sl()}}function s2(){qo=lu.current,Br(lu)}function Pc(u,g){u.finishedWork=null,u.finishedLanes=0;var j=u.timeoutHandle;if(j!==-1&&(u.timeoutHandle=-1,ZX(j)),ln!==null)for(j=ln.return;j!==null;){var R=j;switch(xj(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&am();break;case 3:iu(),Br(zo),Br(Xn),_j();break;case 5:Fj(R);break;case 4:iu();break;case 13:Br(Hr);break;case 19:Br(Hr);break;case 10:Sj(R.type._context);break;case 22:case 23:s2()}j=j.return}if(Tn=u,ln=u=Rl(u.current,null),Vn=qo=g,jn=0,Lf=null,e2=_m=Rc=0,Oo=Wf=null,Fc!==null){for(g=0;g<Fc.length;g++)if(j=Fc[g],R=j.interleaved,R!==null){j.interleaved=null;var O=R.next,$=j.pending;if($!==null){var q=$.next;$.next=O,R.next=q}j.pending=R}Fc=null}return u}function r7(u,g){do{var j=ln;try{if(jj(),ym.current=Sm,bm){for(var R=Gr.memoizedState;R!==null;){var O=R.queue;O!==null&&(O.pending=null),R=R.next}bm=!1}if(_c=0,Rn=vn=Gr=null,If=!1,Of=0,Zj.current=null,j===null||j.return===null){jn=1,Lf=g,ln=null;break}e:{var $=u,q=j.return,Z=j,ce=g;if(g=Vn,Z.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var ve=ce,Re=Z,ze=Re.tag;if((Re.mode&1)===0&&(ze===0||ze===11||ze===15)){var _e=Re.alternate;_e?(Re.updateQueue=_e.updateQueue,Re.memoizedState=_e.memoizedState,Re.lanes=_e.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var Ue=F3(q);if(Ue!==null){Ue.flags&=-257,A3(Ue,q,Z,$,g),Ue.mode&1&&k3($,ve,g),g=Ue,ce=ve;var et=g.updateQueue;if(et===null){var ot=new Set;ot.add(ce),g.updateQueue=ot}else et.add(ce);break e}else{if((g&1)===0){k3($,ve,g),l2();break e}ce=Error(r(426))}}else if(Mr&&Z.mode&1){var on=F3(q);if(on!==null){(on.flags&65536)===0&&(on.flags|=256),A3(on,q,Z,$,g),bj(au(ce,Z));break e}}$=ce=au(ce,Z),jn!==4&&(jn=2),Wf===null?Wf=[$]:Wf.push($),$=q;do{switch($.tag){case 3:$.flags|=65536,g&=-g,$.lanes|=g;var ge=E3($,ce,g);J4($,ge);break e;case 1:Z=ce;var fe=$.type,me=$.stateNode;if(($.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(kl===null||!kl.has(me)))){$.flags|=65536,g&=-g,$.lanes|=g;var De=C3($,Z,g);J4($,De);break e}}$=$.return}while($!==null)}i7(j)}catch(at){g=at,ln===j&&j!==null&&(ln=j=j.return);continue}break}while(!0)}function n7(){var u=Am.current;return Am.current=Sm,u===null?Sm:u}function l2(){(jn===0||jn===3||jn===2)&&(jn=4),Tn===null||(Rc&268435455)===0&&(_m&268435455)===0||_l(Tn,Vn)}function Im(u,g){var j=Yt;Yt|=2;var R=n7();(Tn!==u||Vn!==g)&&(_s=null,Pc(u,g));do try{EJ();break}catch(O){r7(u,O)}while(!0);if(jj(),Yt=j,Am.current=R,ln!==null)throw Error(r(261));return Tn=null,Vn=0,jn}function EJ(){for(;ln!==null;)o7(ln)}function CJ(){for(;ln!==null&&!Qt();)o7(ln)}function o7(u){var g=l7(u.alternate,u,qo);u.memoizedProps=u.pendingProps,g===null?i7(u):ln=g,Zj.current=null}function i7(u){var g=u;do{var j=g.alternate;if(u=g.return,(g.flags&32768)===0){if(j=mJ(j,g,qo),j!==null){ln=j;return}}else{if(j=yJ(j,g),j!==null){j.flags&=32767,ln=j;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{jn=6,ln=null;return}}if(g=g.sibling,g!==null){ln=g;return}ln=g=u}while(g!==null);jn===0&&(jn=5)}function zc(u,g,j){var R=pr,O=vi.transition;try{vi.transition=null,pr=1,kJ(u,g,j,R)}finally{vi.transition=O,pr=R}return null}function kJ(u,g,j,R){do du();while(Fl!==null);if((Yt&6)!==0)throw Error(r(327));j=u.finishedWork;var O=u.finishedLanes;if(j===null)return null;if(u.finishedWork=null,u.finishedLanes=0,j===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var $=j.lanes|j.childLanes;if(Vx(u,$),u===Tn&&(ln=Tn=null,Vn=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||Tm||(Tm=!0,c7($a,function(){return du(),null})),$=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||$){$=vi.transition,vi.transition=null;var q=pr;pr=1;var Z=Yt;Yt|=4,Zj.current=null,vJ(u,j),Y3(j,u),HX(lj),Hx=!!sj,lj=sj=null,u.current=j,jJ(j),Nn(),Yt=Z,pr=q,vi.transition=$}else u.current=j;if(Tm&&(Tm=!1,Fl=u,Pm=O),$=u.pendingLanes,$===0&&(kl=null),$t(j.stateNode),Do(u,or()),g!==null)for(R=u.onRecoverableError,j=0;j<g.length;j++)O=g[j],R(O.value,{componentStack:O.stack,digest:O.digest});if(Rm)throw Rm=!1,u=r2,r2=null,u;return(Pm&1)!==0&&u.tag!==0&&du(),$=u.pendingLanes,($&1)!==0?u===n2?Vf++:(Vf=0,n2=u):Vf=0,Sl(),null}function du(){if(Fl!==null){var u=G6(Pm),g=vi.transition,j=pr;try{if(vi.transition=null,pr=16>u?16:u,Fl===null)var R=!1;else{if(u=Fl,Fl=null,Pm=0,(Yt&6)!==0)throw Error(r(331));var O=Yt;for(Yt|=4,Ye=u.current;Ye!==null;){var $=Ye,q=$.child;if((Ye.flags&16)!==0){var Z=$.deletions;if(Z!==null){for(var ce=0;ce<Z.length;ce++){var ve=Z[ce];for(Ye=ve;Ye!==null;){var Re=Ye;switch(Re.tag){case 0:case 11:case 15:Nf(8,Re,$)}var ze=Re.child;if(ze!==null)ze.return=Re,Ye=ze;else for(;Ye!==null;){Re=Ye;var _e=Re.sibling,Ue=Re.return;if(U3(Re),Re===ve){Ye=null;break}if(_e!==null){_e.return=Ue,Ye=_e;break}Ye=Ue}}}var et=$.alternate;if(et!==null){var ot=et.child;if(ot!==null){et.child=null;do{var on=ot.sibling;ot.sibling=null,ot=on}while(ot!==null)}}Ye=$}}if(($.subtreeFlags&2064)!==0&&q!==null)q.return=$,Ye=q;else e:for(;Ye!==null;){if($=Ye,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Nf(9,$,$.return)}var ge=$.sibling;if(ge!==null){ge.return=$.return,Ye=ge;break e}Ye=$.return}}var fe=u.current;for(Ye=fe;Ye!==null;){q=Ye;var me=q.child;if((q.subtreeFlags&2064)!==0&&me!==null)me.return=q,Ye=me;else e:for(q=fe;Ye!==null;){if(Z=Ye,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Fm(9,Z)}}catch(at){Qr(Z,Z.return,at)}if(Z===q){Ye=null;break e}var De=Z.sibling;if(De!==null){De.return=Z.return,Ye=De;break e}Ye=Z.return}}if(Yt=O,Sl(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(hi,u)}catch{}R=!0}return R}finally{pr=j,vi.transition=g}}return!1}function a7(u,g,j){g=au(j,g),g=E3(u,g,1),u=El(u,g,1),g=mo(),u!==null&&(Sc(u,1,g),Do(u,g))}function Qr(u,g,j){if(u.tag===3)a7(u,u,j);else for(;g!==null;){if(g.tag===3){a7(g,u,j);break}else if(g.tag===1){var R=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(kl===null||!kl.has(R))){u=au(j,u),u=C3(g,u,1),g=El(g,u,1),u=mo(),g!==null&&(Sc(g,1,u),Do(g,u));break}}g=g.return}}function FJ(u,g,j){var R=u.pingCache;R!==null&&R.delete(g),g=mo(),u.pingedLanes|=u.suspendedLanes&j,Tn===u&&(Vn&j)===j&&(jn===4||jn===3&&(Vn&130023424)===Vn&&500>or()-t2?Pc(u,0):e2|=j),Do(u,g)}function s7(u,g){g===0&&((u.mode&1)===0?g=1:(g=js,js<<=1,(js&130023424)===0&&(js=4194304)));var j=mo();u=ks(u,g),u!==null&&(Sc(u,g,j),Do(u,j))}function AJ(u){var g=u.memoizedState,j=0;g!==null&&(j=g.retryLane),s7(u,j)}function _J(u,g){var j=0;switch(u.tag){case 13:var R=u.stateNode,O=u.memoizedState;O!==null&&(j=O.retryLane);break;case 19:R=u.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(g),s7(u,j)}var l7;l7=function(u,g,j){if(u!==null)if(u.memoizedProps!==g.pendingProps||zo.current)Io=!0;else{if((u.lanes&j)===0&&(g.flags&128)===0)return Io=!1,xJ(u,g,j);Io=(u.flags&131072)!==0}else Io=!1,Mr&&(g.flags&1048576)!==0&&L4(g,dm,g.index);switch(g.lanes=0,g.tag){case 2:var R=g.type;Cm(u,g),u=g.pendingProps;var O=Qd(g,Xn.current);ou(g,j),O=Pj(null,g,R,u,O,j);var $=zj();return g.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Bo(R)?($=!0,sm(g)):$=!1,g.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Cj(g),O.updater=wm,g.stateNode=O,O._reactInternals=g,$j(g,R,u,j),g=Vj(null,g,R,!0,$,j)):(g.tag=0,Mr&&$&&gj(g),xo(null,g,O,j),g=g.child),g;case 16:R=g.elementType;e:{switch(Cm(u,g),u=g.pendingProps,O=R._init,R=O(R._payload),g.type=R,O=g.tag=TJ(R),u=Yi(R,u),O){case 0:g=Wj(null,g,R,u,j);break e;case 1:g=B3(null,g,R,u,j);break e;case 11:g=_3(null,g,R,u,j);break e;case 14:g=R3(null,g,R,Yi(R.type,u),j);break e}throw Error(r(306,R,""))}return g;case 0:return R=g.type,O=g.pendingProps,O=g.elementType===R?O:Yi(R,O),Wj(u,g,R,O,j);case 1:return R=g.type,O=g.pendingProps,O=g.elementType===R?O:Yi(R,O),B3(u,g,R,O,j);case 3:e:{if(I3(g),u===null)throw Error(r(387));R=g.pendingProps,$=g.memoizedState,O=$.element,X4(u,g),xm(g,R,null,j);var q=g.memoizedState;if(R=q.element,$.isDehydrated)if($={element:R,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},g.updateQueue.baseState=$,g.memoizedState=$,g.flags&256){O=au(Error(r(423)),g),g=O3(u,g,R,j,O);break e}else if(R!==O){O=au(Error(r(424)),g),g=O3(u,g,R,j,O);break e}else for(Uo=bl(g.stateNode.containerInfo.firstChild),Vo=g,Mr=!0,Ki=null,j=K4(g,null,R,j),g.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(tu(),R===O){g=As(u,g,j);break e}xo(u,g,R,j)}g=g.child}return g;case 5:return Z4(g),u===null&&yj(g),R=g.type,O=g.pendingProps,$=u!==null?u.memoizedProps:null,q=O.children,cj(R,O)?q=null:$!==null&&cj(R,$)&&(g.flags|=32),z3(u,g),xo(u,g,q,j),g.child;case 6:return u===null&&yj(g),null;case 13:return D3(u,g,j);case 4:return kj(g,g.stateNode.containerInfo),R=g.pendingProps,u===null?g.child=ru(g,null,R,j):xo(u,g,R,j),g.child;case 11:return R=g.type,O=g.pendingProps,O=g.elementType===R?O:Yi(R,O),_3(u,g,R,O,j);case 7:return xo(u,g,g.pendingProps,j),g.child;case 8:return xo(u,g,g.pendingProps.children,j),g.child;case 12:return xo(u,g,g.pendingProps.children,j),g.child;case 10:e:{if(R=g.type._context,O=g.pendingProps,$=g.memoizedProps,q=O.value,Er(fm,R._currentValue),R._currentValue=q,$!==null)if(Gi($.value,q)){if($.children===O.children&&!zo.current){g=As(u,g,j);break e}}else for($=g.child,$!==null&&($.return=g);$!==null;){var Z=$.dependencies;if(Z!==null){q=$.child;for(var ce=Z.firstContext;ce!==null;){if(ce.context===R){if($.tag===1){ce=Fs(-1,j&-j),ce.tag=2;var ve=$.updateQueue;if(ve!==null){ve=ve.shared;var Re=ve.pending;Re===null?ce.next=ce:(ce.next=Re.next,Re.next=ce),ve.pending=ce}}$.lanes|=j,ce=$.alternate,ce!==null&&(ce.lanes|=j),wj($.return,j,g),Z.lanes|=j;break}ce=ce.next}}else if($.tag===10)q=$.type===g.type?null:$.child;else if($.tag===18){if(q=$.return,q===null)throw Error(r(341));q.lanes|=j,Z=q.alternate,Z!==null&&(Z.lanes|=j),wj(q,j,g),q=$.sibling}else q=$.child;if(q!==null)q.return=$;else for(q=$;q!==null;){if(q===g){q=null;break}if($=q.sibling,$!==null){$.return=q.return,q=$;break}q=q.return}$=q}xo(u,g,O.children,j),g=g.child}return g;case 9:return O=g.type,R=g.pendingProps.children,ou(g,j),O=yi(O),R=R(O),g.flags|=1,xo(u,g,R,j),g.child;case 14:return R=g.type,O=Yi(R,g.pendingProps),O=Yi(R.type,O),R3(u,g,R,O,j);case 15:return T3(u,g,g.type,g.pendingProps,j);case 17:return R=g.type,O=g.pendingProps,O=g.elementType===R?O:Yi(R,O),Cm(u,g),g.tag=1,Bo(R)?(u=!0,sm(g)):u=!1,ou(g,j),S3(g,R,O),$j(g,R,O,j),Vj(null,g,R,!0,u,j);case 19:return $3(u,g,j);case 22:return P3(u,g,j)}throw Error(r(156,g.tag))};function c7(u,g){return qr(u,g)}function RJ(u,g,j,R){this.tag=u,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(u,g,j,R){return new RJ(u,g,j,R)}function c2(u){return u=u.prototype,!(!u||!u.isReactComponent)}function TJ(u){if(typeof u=="function")return c2(u)?1:0;if(u!=null){if(u=u.$$typeof,u===P)return 11;if(u===N)return 14}return 2}function Rl(u,g){var j=u.alternate;return j===null?(j=ji(u.tag,g,u.key,u.mode),j.elementType=u.elementType,j.type=u.type,j.stateNode=u.stateNode,j.alternate=u,u.alternate=j):(j.pendingProps=g,j.type=u.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=u.flags&14680064,j.childLanes=u.childLanes,j.lanes=u.lanes,j.child=u.child,j.memoizedProps=u.memoizedProps,j.memoizedState=u.memoizedState,j.updateQueue=u.updateQueue,g=u.dependencies,j.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},j.sibling=u.sibling,j.index=u.index,j.ref=u.ref,j}function Om(u,g,j,R,O,$){var q=2;if(R=u,typeof u=="function")c2(u)&&(q=1);else if(typeof u=="string")q=5;else e:switch(u){case E:return Bc(j.children,O,$,g);case T:q=8,O|=8;break;case _:return u=ji(12,j,g,O|2),u.elementType=_,u.lanes=$,u;case D:return u=ji(13,j,g,O),u.elementType=D,u.lanes=$,u;case I:return u=ji(19,j,g,O),u.elementType=I,u.lanes=$,u;case V:return Dm(j,O,$,g);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case z:q=10;break e;case B:q=9;break e;case P:q=11;break e;case N:q=14;break e;case M:q=16,R=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return g=ji(q,j,g,O),g.elementType=u,g.type=R,g.lanes=$,g}function Bc(u,g,j,R){return u=ji(7,u,R,g),u.lanes=j,u}function Dm(u,g,j,R){return u=ji(22,u,R,g),u.elementType=V,u.lanes=j,u.stateNode={isHidden:!1},u}function d2(u,g,j){return u=ji(6,u,null,g),u.lanes=j,u}function u2(u,g,j){return g=ji(4,u.children!==null?u.children:[],u.key,g),g.lanes=j,g.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},g}function PJ(u,g,j,R,O){this.tag=g,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=R,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function p2(u,g,j,R,O,$,q,Z,ce){return u=new PJ(u,g,j,Z,ce),g===1?(g=1,$===!0&&(g|=8)):g=0,$=ji(3,null,null,g),u.current=$,$.stateNode=u,$.memoizedState={element:R,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cj($),u}function zJ(u,g,j){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:R==null?null:""+R,children:u,containerInfo:g,implementation:j}}function d7(u){if(!u)return jl;u=u._reactInternals;e:{if(Ke(u)!==u||u.tag!==1)throw Error(r(170));var g=u;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Bo(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(r(171))}if(u.tag===1){var j=u.type;if(Bo(j))return M4(u,j,g)}return g}function u7(u,g,j,R,O,$,q,Z,ce){return u=p2(j,R,!0,u,O,$,q,Z,ce),u.context=d7(null),j=u.current,R=mo(),O=Al(j),$=Fs(R,O),$.callback=g??null,El(j,$,O),u.current.lanes=O,Sc(u,O,R),Do(u,R),u}function Mm(u,g,j,R){var O=g.current,$=mo(),q=Al(O);return j=d7(j),g.context===null?g.context=j:g.pendingContext=j,g=Fs($,q),g.payload={element:u},R=R===void 0?null:R,R!==null&&(g.callback=R),u=El(O,g,q),u!==null&&(Qi(u,O,q,$),gm(u,O,q)),q}function $m(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function p7(u,g){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var j=u.retryLane;u.retryLane=j!==0&&j<g?j:g}}function f2(u,g){p7(u,g),(u=u.alternate)&&p7(u,g)}function BJ(){return null}var f7=typeof reportError=="function"?reportError:function(u){console.error(u)};function h2(u){this._internalRoot=u}Nm.prototype.render=h2.prototype.render=function(u){var g=this._internalRoot;if(g===null)throw Error(r(409));Mm(u,g,null,null)},Nm.prototype.unmount=h2.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var g=u.containerInfo;Tc(function(){Mm(null,u,null,null)}),g[Ss]=null}};function Nm(u){this._internalRoot=u}Nm.prototype.unstable_scheduleHydration=function(u){if(u){var g=X6();u={blockedOn:null,target:u,priority:g};for(var j=0;j<xl.length&&g!==0&&g<xl[j].priority;j++);xl.splice(j,0,u),j===0&&Z6(u)}};function g2(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Lm(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function h7(){}function IJ(u,g,j,R,O){if(O){if(typeof R=="function"){var $=R;R=function(){var ve=$m(q);$.call(ve)}}var q=u7(g,R,u,0,null,!1,!1,"",h7);return u._reactRootContainer=q,u[Ss]=q.current,Ff(u.nodeType===8?u.parentNode:u),Tc(),q}for(;O=u.lastChild;)u.removeChild(O);if(typeof R=="function"){var Z=R;R=function(){var ve=$m(ce);Z.call(ve)}}var ce=p2(u,0,!1,null,null,!1,!1,"",h7);return u._reactRootContainer=ce,u[Ss]=ce.current,Ff(u.nodeType===8?u.parentNode:u),Tc(function(){Mm(g,ce,j,R)}),ce}function Wm(u,g,j,R,O){var $=j._reactRootContainer;if($){var q=$;if(typeof O=="function"){var Z=O;O=function(){var ce=$m(q);Z.call(ce)}}Mm(g,q,u,O)}else q=IJ(j,g,u,O,R);return $m(q)}K6=function(u){switch(u.tag){case 3:var g=u.stateNode;if(g.current.memoizedState.isDehydrated){var j=gi(g.pendingLanes);j!==0&&($v(g,j|1),Do(g,or()),(Yt&6)===0&&(cu=or()+500,Sl()))}break;case 13:Tc(function(){var R=ks(u,1);if(R!==null){var O=mo();Qi(R,u,1,O)}}),f2(u,1)}},Nv=function(u){if(u.tag===13){var g=ks(u,134217728);if(g!==null){var j=mo();Qi(g,u,134217728,j)}f2(u,134217728)}},Y6=function(u){if(u.tag===13){var g=Al(u),j=ks(u,g);if(j!==null){var R=mo();Qi(j,u,g,R)}f2(u,g)}},X6=function(){return pr},J6=function(u,g){var j=pr;try{return pr=u,g()}finally{pr=j}},je=function(u,g,j){switch(g){case"input":if(Te(u,j),g=j.name,j.type==="radio"&&g!=null){for(j=u;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<j.length;g++){var R=j[g];if(R!==u&&R.form===u.form){var O=im(R);if(!O)throw Error(r(90));re(R),Te(R,O)}}}break;case"textarea":fr(u,j);break;case"select":g=j.value,g!=null&&Pt(u,!!j.multiple,g,!1)}},dt=a2,sr=Tc;var OJ={usingClientEntryPoint:!1,Events:[Rf,Xd,im,Ve,Kt,a2]},Uf={findFiberByHostInstance:wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DJ={bundleType:Uf.bundleType,version:Uf.version,rendererPackageName:Uf.rendererPackageName,rendererConfig:Uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Ot(u),u===null?null:u.stateNode},findFiberByHostInstance:Uf.findFiberByHostInstance||BJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{hi=Vm.inject(DJ),Ln=Vm}catch{}}return Mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OJ,Mo.createPortal=function(u,g){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g2(g))throw Error(r(200));return zJ(u,g,null,j)},Mo.createRoot=function(u,g){if(!g2(u))throw Error(r(299));var j=!1,R="",O=f7;return g!=null&&(g.unstable_strictMode===!0&&(j=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onRecoverableError!==void 0&&(O=g.onRecoverableError)),g=p2(u,1,!1,null,null,j,!1,R,O),u[Ss]=g.current,Ff(u.nodeType===8?u.parentNode:u),new h2(g)},Mo.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var g=u._reactInternals;if(g===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=Ot(g),u=u===null?null:u.stateNode,u},Mo.flushSync=function(u){return Tc(u)},Mo.hydrate=function(u,g,j){if(!Lm(g))throw Error(r(200));return Wm(null,u,g,!0,j)},Mo.hydrateRoot=function(u,g,j){if(!g2(u))throw Error(r(405));var R=j!=null&&j.hydratedSources||null,O=!1,$="",q=f7;if(j!=null&&(j.unstable_strictMode===!0&&(O=!0),j.identifierPrefix!==void 0&&($=j.identifierPrefix),j.onRecoverableError!==void 0&&(q=j.onRecoverableError)),g=u7(g,null,u,1,j??null,O,!1,$,q),u[Ss]=g.current,Ff(u),R)for(u=0;u<R.length;u++)j=R[u],O=j._getVersion,O=O(j._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[j,O]:g.mutableSourceEagerHydrationData.push(j,O);return new Nm(g)},Mo.render=function(u,g,j){if(!Lm(g))throw Error(r(200));return Wm(null,u,g,!1,j)},Mo.unmountComponentAtNode=function(u){if(!Lm(u))throw Error(r(40));return u._reactRootContainer?(Tc(function(){Wm(null,null,u,!1,function(){u._reactRootContainer=null,u[Ss]=null})}),!0):!1},Mo.unstable_batchedUpdates=a2,Mo.unstable_renderSubtreeIntoContainer=function(u,g,j,R){if(!Lm(j))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return Wm(u,g,j,!1,R)},Mo.version="18.3.1-next-f1338f8080-20240426",Mo}var S7;function oL(){if(S7)return y2.exports;S7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),y2.exports=qJ(),y2.exports}var w7;function HJ(){if(w7)return qm;w7=1;var e=oL();return qm.createRoot=e.createRoot,qm.hydrateRoot=e.hydrateRoot,qm}var GJ=HJ(),A=dx();const Y=nr(A),KJ=$J({__proto__:null,default:Y},[A]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iL=e=>{throw TypeError(e)},YJ=(e,t,r)=>t.has(e)||iL("Cannot "+r),j2=(e,t,r)=>(YJ(e,t,"read from private field"),r?r.call(e):t.get(e)),XJ=(e,t,r)=>t.has(e)?iL("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),E7="popstate";function JJ(e={}){function t(o,i){let{pathname:a,search:s,hash:l}=o.location;return Zh("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(o,i){return typeof i=="string"?i:ls(i)}return ZJ(t,r,null,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function an(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QJ(){return Math.random().toString(36).substring(2,10)}function C7(e,t){return{usr:e.state,key:e.key,idx:t}}function Zh(e,t,r=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hc(t):t,state:r,key:t&&t.key||o||QJ()}}function ls({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function ZJ(e,t,r,o={}){let{window:i=document.defaultView,v5Compat:a=!1}=o,s=i.history,l="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function p(){l="POP";let b=f(),v=b==null?null:b-d;d=b,c&&c({action:l,location:y.location,delta:v})}function h(b,v){l="PUSH";let C=Zh(y.location,b,v);d=f()+1;let S=C7(C,d),F=y.createHref(C);try{s.pushState(S,"",F)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(F)}a&&c&&c({action:l,location:y.location,delta:1})}function x(b,v){l="REPLACE";let C=Zh(y.location,b,v);d=f();let S=C7(C,d),F=y.createHref(C);s.replaceState(S,"",F),a&&c&&c({action:l,location:y.location,delta:0})}function m(b){return aL(b)}let y={get action(){return l},get location(){return e(i,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(E7,p),c=b,()=>{i.removeEventListener(E7,p),c=null}},createHref(b){return t(i,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:x,go(b){return s.go(b)}};return y}function aL(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(r,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:ls(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=r+o),new URL(o,r)}var Ch,k7=class{constructor(e){if(XJ(this,Ch,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(j2(this,Ch).has(e))return j2(this,Ch).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){j2(this,Ch).set(e,t)}};Ch=new WeakMap;var eQ=new Set(["lazy","caseSensitive","path","id","index","children"]);function tQ(e){return eQ.has(e)}var rQ=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function nQ(e){return rQ.has(e)}function oQ(e){return e.index===!0}function eg(e,t,r=[],o={},i=!1){return e.map((a,s)=>{let l=[...r,String(s)],c=typeof a.id=="string"?a.id:l.join("-");if(Dt(a.index!==!0||!a.children,"Cannot specify children on an index route"),Dt(i||!o[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),oQ(a)){let d={...a,id:c};return o[c]=F7(d,t(d)),d}else{let d={...a,id:c,children:void 0};return o[c]=F7(d,t(d)),a.children&&(d.children=eg(a.children,t,l,o,i)),d}})}function F7(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Yl(e,t,r="/"){return kh(e,t,r,!1)}function kh(e,t,r,o){let i=typeof t=="string"?hc(t):t,a=Li(i.pathname||"/",r);if(a==null)return null;let s=sL(e);aQ(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=mQ(a);l=gQ(s[c],d,o)}return l}function iQ(e,t){let{route:r,pathname:o,params:i}=e;return{id:r.id,pathname:o,params:i,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function sL(e,t=[],r=[],o="",i=!1){let a=(s,l,c=i,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(o)&&c)return;Dt(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length)}let p=rs([o,f.relativePath]),h=r.concat(f);s.children&&s.children.length>0&&(Dt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),sL(s.children,t,h,p,c)),!(s.path==null&&!s.index)&&t.push({path:p,score:fQ(p,s.index),routesMeta:h})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,l);else for(let d of lL(s.path))a(s,l,!0,d)}),t}function lL(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(o.length===0)return i?[a,""]:[a];let s=lL(o.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function aQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:hQ(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var sQ=/^:[\w-]+$/,lQ=3,cQ=2,dQ=1,uQ=10,pQ=-2,A7=e=>e==="*";function fQ(e,t){let r=e.split("/"),o=r.length;return r.some(A7)&&(o+=pQ),t&&(o+=cQ),r.filter(i=>!A7(i)).reduce((i,a)=>i+(sQ.test(a)?lQ:a===""?dQ:uQ),o)}function hQ(e,t){return e.length===t.length&&e.slice(0,-1).every((o,i)=>o===t[i])?e[e.length-1]-t[t.length-1]:0}function gQ(e,t,r=!1){let{routesMeta:o}=e,i={},a="/",s=[];for(let l=0;l<o.length;++l){let c=o[l],d=l===o.length-1,f=a==="/"?t:t.slice(a.length)||"/",p=_y({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),h=c.route;if(!p&&d&&r&&!o[o.length-1].route.index&&(p=_y({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:rs([a,p.pathname]),pathnameBase:vQ(rs([a,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(a=rs([a,p.pathnameBase]))}return s}function _y(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=xQ(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:o.reduce((d,{paramName:f,isOptional:p},h)=>{if(f==="*"){let m=l[h]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function xQ(e,t=!1,r=!0){an(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(o.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),o]}function mQ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return an(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Li(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function yQ({basename:e,pathname:t}){return t==="/"?e:rs([e,t])}var cL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t8=e=>cL.test(e);function bQ(e,t="/"){let{pathname:r,search:o="",hash:i=""}=typeof e=="string"?hc(e):e,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=_7(r.substring(1),"/"):a=_7(r,t)):a=t,{pathname:a,search:jQ(o),hash:SQ(i)}}function _7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function S2(e,t,r,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function db(e){let t=dL(e);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function ub(e,t,r,o=!1){let i;typeof e=="string"?i=hc(e):(i={...e},Dt(!i.pathname||!i.pathname.includes("?"),S2("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),S2("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),S2("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let p=t.length-1;if(!o&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),p-=1;i.pathname=h.join("/")}l=p>=0?t[p]:"/"}let c=bQ(i,l),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var rs=e=>e.join("/").replace(/\/\/+/g,"/"),vQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ux=class{constructor(e,t,r,o=!1){this.status=e,this.statusText=t||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function tg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function px(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pL(e,t){let r=e;if(typeof r!="string"||!cL.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let o=r,i=!1;if(uL)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),l=Li(s.pathname,t);s.origin===a.origin&&l!=null?r=l+s.search+s.hash:i=!0}catch{an(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:i,to:r}}var tc=Symbol("Uninstrumented");function wQ(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(a){let s=Object.keys(r);for(let l of s)a[l]&&r[l].push(a[l])}}));let o={};if(typeof t.lazy=="function"&&r.lazy.length>0){let i=Wu(r.lazy,t.lazy,()=>{});i&&(o.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(a=>{let s=i[a],l=r[`lazy.${a}`];if(typeof s=="function"&&l.length>0){let c=Wu(l,s,()=>{});c&&(o.lazy=Object.assign(o.lazy||{},{[a]:c}))}})}return["loader","action"].forEach(i=>{let a=t[i];if(typeof a=="function"&&r[i].length>0){let s=a[tc]??a,l=Wu(r[i],s,(...c)=>R7(c[0]));l&&(i==="loader"&&s.hydrate===!0&&(l.hydrate=!0),l[tc]=s,o[i]=l)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(o.middleware=t.middleware.map(i=>{let a=i[tc]??i,s=Wu(r.middleware,a,(...l)=>R7(l[0]));return s?(s[tc]=a,s):i})),o}function EQ(e,t){let r={navigate:[],fetch:[]};if(t.forEach(o=>o({instrument(i){let a=Object.keys(i);for(let s of a)i[s]&&r[s].push(i[s])}})),r.navigate.length>0){let o=e.navigate[tc]??e.navigate,i=Wu(r.navigate,o,(...a)=>{let[s,l]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?ls(s):".",...T7(e,l??{})}});i&&(i[tc]=o,e.navigate=i)}if(r.fetch.length>0){let o=e.fetch[tc]??e.fetch,i=Wu(r.fetch,o,(...a)=>{let[s,,l,c]=a;return{href:l??".",fetcherKey:s,...T7(e,c??{})}});i&&(i[tc]=o,e.fetch=i)}return e}function Wu(e,t,r){return e.length===0?null:async(...o)=>{let i=await fL(e,r(...o),()=>t(...o),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function fL(e,t,r,o){let i=e[o],a;if(i){let s,l=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=fL(e,t,r,o-1),a=await s,Dt(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(l,t)}catch(c){console.error("An instrumentation function threw an error:",c)}s||await l(),await s}else try{a={type:"success",value:await r()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function R7(e){let{request:t,context:r,params:o,unstable_pattern:i}=e;return{request:CQ(t),params:{...o},unstable_pattern:i,context:kQ(r)}}function T7(e,t){return{currentUrl:ls(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function CQ(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function kQ(e){if(AQ(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var FQ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function AQ(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===FQ}var hL=["POST","PUT","PATCH","DELETE"],_Q=new Set(hL),RQ=["GET",...hL],TQ=new Set(RQ),gL=new Set([301,302,303,307,308]),PQ=new Set([307,308]),w2={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zQ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BQ=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),xL="remix-router-transitions",mL=Symbol("ResetLoaderData");function IQ(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Dt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=e.hydrationRouteProperties||[],i=e.mapRouteProperties||BQ,a=i;if(e.unstable_instrumentations){let ee=e.unstable_instrumentations;a=ue=>({...i(ue),...wQ(ee.map(xe=>xe.route).filter(Boolean),ue)})}let s={},l=eg(e.routes,a,void 0,s),c,d=e.basename||"/";d.startsWith("/")||(d=`/${d}`);let f=e.dataStrategy||NQ,p={...e.future},h=null,x=new Set,m=null,y=null,b=null,v=e.hydrationData!=null,C=Yl(l,e.history.location,d),S=!1,F=null,w;if(C==null&&!e.patchRoutesOnNavigation){let ee=Pi(404,{pathname:e.history.location.pathname}),{matches:ue,route:xe}=Hm(l);w=!0,C=ue,F={[xe.id]:ee}}else if(C&&!e.hydrationData&&sr(C,l,e.history.location.pathname).active&&(C=null),C)if(C.some(ee=>ee.route.lazy))w=!1;else if(!C.some(ee=>r8(ee.route)))w=!0;else{let ee=e.hydrationData?e.hydrationData.loaderData:null,ue=e.hydrationData?e.hydrationData.errors:null;if(ue){let xe=C.findIndex(Ce=>ue[Ce.route.id]!==void 0);w=C.slice(0,xe+1).every(Ce=>!wF(Ce.route,ee,ue))}else w=C.every(xe=>!wF(xe.route,ee,ue))}else{w=!1,C=[];let ee=sr(null,l,e.history.location.pathname);ee.active&&ee.matches&&(S=!0,C=ee.matches)}let k,E={historyAction:e.history.action,location:e.history.location,matches:C,initialized:w,navigation:w2,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||F,fetchers:new Map,blockers:new Map},T="POP",_=null,z=!1,B,P=!1,D=new Map,I=null,N=!1,M=!1,V=new Set,L=new Map,W=0,G=-1,U=new Map,H=new Set,K=new Map,ne=new Map,Q=new Set,pe=new Map,X,se=null;function ae(){if(h=e.history.listen(({action:ee,location:ue,delta:xe})=>{if(X){X(),X=void 0;return}an(pe.size===0||xe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=Ie({currentLocation:E.location,nextLocation:ue,historyAction:ee});if(Ce&&xe!=null){let Oe=new Promise(Le=>{X=Le});e.history.go(xe*-1),je(Ce,{state:"blocked",location:ue,proceed(){je(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),Oe.then(()=>e.history.go(xe))},reset(){let Le=new Map(E.blockers);Le.set(Ce,Hf),re({blockers:Le})}}),_==null||_.resolve(),_=null;return}return he(ee,ue)}),r){oZ(t,D);let ee=()=>iZ(t,D);t.addEventListener("pagehide",ee),I=()=>t.removeEventListener("pagehide",ee)}return E.initialized||he("POP",E.location,{initialHydration:!0}),k}function ye(){h&&h(),I&&I(),x.clear(),B&&B.abort(),E.fetchers.forEach((ee,ue)=>$e(ue)),E.blockers.forEach((ee,ue)=>J(ue))}function ie(ee){return x.add(ee),()=>x.delete(ee)}function re(ee,ue={}){ee.matches&&(ee.matches=ee.matches.map(Oe=>{let Le=s[Oe.route.id],He=Oe.route;return He.element!==Le.element||He.errorElement!==Le.errorElement||He.hydrateFallbackElement!==Le.hydrateFallbackElement?{...Oe,route:Le}:Oe})),E={...E,...ee};let xe=[],Ce=[];E.fetchers.forEach((Oe,Le)=>{Oe.state==="idle"&&(Q.has(Le)?xe.push(Le):Ce.push(Le))}),Q.forEach(Oe=>{!E.fetchers.has(Oe)&&!L.has(Oe)&&xe.push(Oe)}),[...x].forEach(Oe=>Oe(E,{deletedFetchers:xe,newErrors:ee.errors??null,viewTransitionOpts:ue.viewTransitionOpts,flushSync:ue.flushSync===!0})),xe.forEach(Oe=>$e(Oe)),Ce.forEach(Oe=>E.fetchers.delete(Oe))}function Se(ee,ue,{flushSync:xe}={}){var vt,nt;let Ce=E.actionData!=null&&E.navigation.formMethod!=null&&so(E.navigation.formMethod)&&E.navigation.state==="loading"&&((vt=ee.state)==null?void 0:vt._isRedirect)!==!0,Oe;ue.actionData?Object.keys(ue.actionData).length>0?Oe=ue.actionData:Oe=null:Ce?Oe=E.actionData:Oe=null;let Le=ue.loaderData?L7(E.loaderData,ue.loaderData,ue.matches||[],ue.errors):E.loaderData,He=E.blockers;He.size>0&&(He=new Map(He),He.forEach((Ft,Ot)=>He.set(Ot,Hf)));let qe=N?!1:dt(ee,ue.matches||E.matches),Ge=z===!0||E.navigation.formMethod!=null&&so(E.navigation.formMethod)&&((nt=ee.state)==null?void 0:nt._isRedirect)!==!0;c&&(l=c,c=void 0),N||T==="POP"||(T==="PUSH"?e.history.push(ee,ee.state):T==="REPLACE"&&e.history.replace(ee,ee.state));let Ke;if(T==="POP"){let Ft=D.get(E.location.pathname);Ft&&Ft.has(ee.pathname)?Ke={currentLocation:E.location,nextLocation:ee}:D.has(ee.pathname)&&(Ke={currentLocation:ee,nextLocation:E.location})}else if(P){let Ft=D.get(E.location.pathname);Ft?Ft.add(ee.pathname):(Ft=new Set([ee.pathname]),D.set(E.location.pathname,Ft)),Ke={currentLocation:E.location,nextLocation:ee}}re({...ue,actionData:Oe,loaderData:Le,historyAction:T,location:ee,initialized:!0,navigation:w2,revalidation:"idle",restoreScrollPosition:qe,preventScrollReset:Ge,blockers:He},{viewTransitionOpts:Ke,flushSync:xe===!0}),T="POP",z=!1,P=!1,N=!1,M=!1,_==null||_.resolve(),_=null,se==null||se.resolve(),se=null}async function Ae(ee,ue){if(_==null||_.resolve(),_=null,typeof ee=="number"){_||(_=q7());let Ot=_.promise;return e.history.go(ee),Ot}let xe=SF(E.location,E.matches,d,ee,ue==null?void 0:ue.fromRouteId,ue==null?void 0:ue.relative),{path:Ce,submission:Oe,error:Le}=P7(!1,xe,ue),He=E.location,qe=Zh(E.location,Ce,ue&&ue.state);qe={...qe,...e.history.encodeLocation(qe)};let Ge=ue&&ue.replace!=null?ue.replace:void 0,Ke="PUSH";Ge===!0?Ke="REPLACE":Ge===!1||Oe!=null&&so(Oe.formMethod)&&Oe.formAction===E.location.pathname+E.location.search&&(Ke="REPLACE");let vt=ue&&"preventScrollReset"in ue?ue.preventScrollReset===!0:void 0,nt=(ue&&ue.flushSync)===!0,Ft=Ie({currentLocation:He,nextLocation:qe,historyAction:Ke});if(Ft){je(Ft,{state:"blocked",location:qe,proceed(){je(Ft,{state:"proceeding",proceed:void 0,reset:void 0,location:qe}),Ae(ee,ue)},reset(){let Ot=new Map(E.blockers);Ot.set(Ft,Hf),re({blockers:Ot})}});return}await he(Ke,qe,{submission:Oe,pendingError:Le,preventScrollReset:vt,replace:ue&&ue.replace,enableViewTransition:ue&&ue.viewTransition,flushSync:nt,callSiteDefaultShouldRevalidate:ue&&ue.unstable_defaultShouldRevalidate})}function te(){se||(se=q7()),Sr(),re({revalidation:"loading"});let ee=se.promise;return E.navigation.state==="submitting"?ee:E.navigation.state==="idle"?(he(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),ee):(he(T||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:P===!0}),ee)}async function he(ee,ue,xe){B&&B.abort(),B=null,T=ee,N=(xe&&xe.startUninterruptedRevalidation)===!0,Kt(E.location,E.matches),z=(xe&&xe.preventScrollReset)===!0,P=(xe&&xe.enableViewTransition)===!0;let Ce=c||l,Oe=xe&&xe.overrideNavigation,Le=xe!=null&&xe.initialHydration&&E.matches&&E.matches.length>0&&!S?E.matches:Yl(Ce,ue,d),He=(xe&&xe.flushSync)===!0;if(Le&&E.initialized&&!M&&KQ(E.location,ue)&&!(xe&&xe.submission&&so(xe.submission.formMethod))){Se(ue,{matches:Le},{flushSync:He});return}let qe=sr(Le,Ce,ue.pathname);if(qe.active&&qe.matches&&(Le=qe.matches),!Le){let{error:qr,notFoundMatches:sn,route:Qt}=We(ue.pathname);Se(ue,{matches:sn,loaderData:{},errors:{[Qt.id]:qr}},{flushSync:He});return}B=new AbortController;let Ge=Ou(e.history,ue,B.signal,xe&&xe.submission),Ke=e.getContext?await e.getContext():new k7,vt;if(xe&&xe.pendingError)vt=[Xl(Le).route.id,{type:"error",error:xe.pendingError}];else if(xe&&xe.submission&&so(xe.submission.formMethod)){let qr=await Te(Ge,ue,xe.submission,Le,Ke,qe.active,xe&&xe.initialHydration===!0,{replace:xe.replace,flushSync:He});if(qr.shortCircuited)return;if(qr.pendingActionResult){let[sn,Qt]=qr.pendingActionResult;if(ti(Qt)&&tg(Qt.error)&&Qt.error.status===404){B=null,Se(ue,{matches:qr.matches,loaderData:{},errors:{[sn]:Qt.error}});return}}Le=qr.matches||Le,vt=qr.pendingActionResult,Oe=E2(ue,xe.submission),He=!1,qe.active=!1,Ge=Ou(e.history,Ge.url,Ge.signal)}let{shortCircuited:nt,matches:Ft,loaderData:Ot,errors:Jr}=await rt(Ge,ue,Le,Ke,qe.active,Oe,xe&&xe.submission,xe&&xe.fetcherSubmission,xe&&xe.replace,xe&&xe.initialHydration===!0,He,vt,xe&&xe.callSiteDefaultShouldRevalidate);nt||(B=null,Se(ue,{matches:Ft||Le,...W7(vt),loaderData:Ot,errors:Jr}))}async function Te(ee,ue,xe,Ce,Oe,Le,He,qe={}){Sr();let Ge=rZ(ue,xe);if(re({navigation:Ge},{flushSync:qe.flushSync===!0}),Le){let nt=await ut(Ce,ue.pathname,ee.signal);if(nt.type==="aborted")return{shortCircuited:!0};if(nt.type==="error"){if(nt.partialMatches.length===0){let{matches:Ot,route:Jr}=Hm(l);return{matches:Ot,pendingActionResult:[Jr.id,{type:"error",error:nt.error}]}}let Ft=Xl(nt.partialMatches).route.id;return{matches:nt.partialMatches,pendingActionResult:[Ft,{type:"error",error:nt.error}]}}else if(nt.matches)Ce=nt.matches;else{let{notFoundMatches:Ft,error:Ot,route:Jr}=We(ue.pathname);return{matches:Ft,pendingActionResult:[Jr.id,{type:"error",error:Ot}]}}}let Ke,vt=uy(Ce,ue);if(!vt.route.action&&!vt.route.lazy)Ke={type:"error",error:Pi(405,{method:ee.method,pathname:ue.pathname,routeId:vt.route.id})};else{let nt=ip(a,s,ee,Ce,vt,He?[]:o,Oe),Ft=await Bt(ee,nt,Oe,null);if(Ke=Ft[vt.route.id],!Ke){for(let Ot of Ce)if(Ft[Ot.route.id]){Ke=Ft[Ot.route.id];break}}if(ee.signal.aborted)return{shortCircuited:!0}}if(id(Ke)){let nt;return qe&&qe.replace!=null?nt=qe.replace:nt=M7(Ke.response.headers.get("Location"),new URL(ee.url),d,e.history)===E.location.pathname+E.location.search,await fr(ee,Ke,!0,{submission:xe,replace:nt}),{shortCircuited:!0}}if(ti(Ke)){let nt=Xl(Ce,vt.route.id);return(qe&&qe.replace)!==!0&&(T="PUSH"),{matches:Ce,pendingActionResult:[nt.route.id,Ke,vt.route.id]}}return{matches:Ce,pendingActionResult:[vt.route.id,Ke]}}async function rt(ee,ue,xe,Ce,Oe,Le,He,qe,Ge,Ke,vt,nt,Ft){let Ot=Le||E2(ue,He),Jr=He||qe||U7(Ot),qr=!N&&!Ke;if(Oe){if(qr){let lr=it(nt);re({navigation:Ot,...lr!==void 0?{actionData:lr}:{}},{flushSync:vt})}let $t=await ut(xe,ue.pathname,ee.signal);if($t.type==="aborted")return{shortCircuited:!0};if($t.type==="error"){if($t.partialMatches.length===0){let{matches:Na,route:qi}=Hm(l);return{matches:Na,loaderData:{},errors:{[qi.id]:$t.error}}}let lr=Xl($t.partialMatches).route.id;return{matches:$t.partialMatches,loaderData:{},errors:{[lr]:$t.error}}}else if($t.matches)xe=$t.matches;else{let{error:lr,notFoundMatches:Na,route:qi}=We(ue.pathname);return{matches:Na,loaderData:{},errors:{[qi.id]:lr}}}}let sn=c||l,{dsMatches:Qt,revalidatingFetchers:Nn}=z7(ee,Ce,a,s,e.history,E,xe,Jr,ue,Ke?[]:o,Ke===!0,M,V,Q,K,H,sn,d,e.patchRoutesOnNavigation!=null,nt,Ft);if(G=++W,!e.dataStrategy&&!Qt.some($t=>$t.shouldLoad)&&!Qt.some($t=>$t.route.middleware&&$t.route.middleware.length>0)&&Nn.length===0){let $t=Fe();return Se(ue,{matches:xe,loaderData:{},errors:nt&&ti(nt[1])?{[nt[0]]:nt[1].error}:null,...W7(nt),...$t?{fetchers:new Map(E.fetchers)}:{}},{flushSync:vt}),{shortCircuited:!0}}if(qr){let $t={};if(!Oe){$t.navigation=Ot;let lr=it(nt);lr!==void 0&&($t.actionData=lr)}Nn.length>0&&($t.fetchers=kt(Nn)),re($t,{flushSync:vt})}Nn.forEach($t=>{Pe($t.key),$t.controller&&L.set($t.key,$t.controller)});let or=()=>Nn.forEach($t=>Pe($t.key));B&&B.signal.addEventListener("abort",or);let{loaderResults:bs,fetcherResults:Po}=await ar(Qt,Nn,ee,Ce);if(ee.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",or),Nn.forEach($t=>L.delete($t.key));let go=Gm(bs);if(go)return await fr(ee,go.result,!0,{replace:Ge}),{shortCircuited:!0};if(go=Gm(Po),go)return H.add(go.key),await fr(ee,go.result,!0,{replace:Ge}),{shortCircuited:!0};let{loaderData:$a,errors:vs}=N7(E,xe,bs,nt,Nn,Po);Ke&&E.errors&&(vs={...E.errors,...vs});let fi=Fe(),hi=Je(G),Ln=fi||hi||Nn.length>0;return{matches:xe,loaderData:$a,errors:vs,...Ln?{fetchers:new Map(E.fetchers)}:{}}}function it(ee){if(ee&&!ti(ee[1]))return{[ee[0]]:ee[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function kt(ee){return ee.forEach(ue=>{let xe=E.fetchers.get(ue.key),Ce=Gf(void 0,xe?xe.data:void 0);E.fetchers.set(ue.key,Ce)}),new Map(E.fetchers)}async function Pt(ee,ue,xe,Ce){Pe(ee);let Oe=(Ce&&Ce.flushSync)===!0,Le=c||l,He=SF(E.location,E.matches,d,xe,ue,Ce==null?void 0:Ce.relative),qe=Yl(Le,He,d),Ge=sr(qe,Le,He);if(Ge.active&&Ge.matches&&(qe=Ge.matches),!qe){le(ee,ue,Pi(404,{pathname:He}),{flushSync:Oe});return}let{path:Ke,submission:vt,error:nt}=P7(!0,He,Ce);if(nt){le(ee,ue,nt,{flushSync:Oe});return}let Ft=e.getContext?await e.getContext():new k7,Ot=(Ce&&Ce.preventScrollReset)===!0;if(vt&&so(vt.formMethod)){await jt(ee,ue,Ke,qe,Ft,Ge.active,Oe,Ot,vt,Ce&&Ce.unstable_defaultShouldRevalidate);return}K.set(ee,{routeId:ue,path:Ke}),await zt(ee,ue,Ke,qe,Ft,Ge.active,Oe,Ot,vt)}async function jt(ee,ue,xe,Ce,Oe,Le,He,qe,Ge,Ke){Sr(),K.delete(ee);let vt=E.fetchers.get(ee);Lt(ee,nZ(Ge,vt),{flushSync:He});let nt=new AbortController,Ft=Ou(e.history,xe,nt.signal,Ge);if(Le){let wr=await ut(Ce,new URL(Ft.url).pathname,Ft.signal,ee);if(wr.type==="aborted")return;if(wr.type==="error"){le(ee,ue,wr.error,{flushSync:He});return}else if(wr.matches)Ce=wr.matches;else{le(ee,ue,Pi(404,{pathname:xe}),{flushSync:He});return}}let Ot=uy(Ce,xe);if(!Ot.route.action&&!Ot.route.lazy){let wr=Pi(405,{method:Ge.formMethod,pathname:xe,routeId:ue});le(ee,ue,wr,{flushSync:He});return}L.set(ee,nt);let Jr=W,qr=ip(a,s,Ft,Ce,Ot,o,Oe),sn=await Bt(Ft,qr,Oe,ee),Qt=sn[Ot.route.id];if(!Qt){for(let wr of qr)if(sn[wr.route.id]){Qt=sn[wr.route.id];break}}if(Ft.signal.aborted){L.get(ee)===nt&&L.delete(ee);return}if(Q.has(ee)){if(id(Qt)||ti(Qt)){Lt(ee,Ns(void 0));return}}else{if(id(Qt))if(L.delete(ee),G>Jr){Lt(ee,Ns(void 0));return}else return H.add(ee),Lt(ee,Gf(Ge)),fr(Ft,Qt,!1,{fetcherSubmission:Ge,preventScrollReset:qe});if(ti(Qt)){le(ee,ue,Qt.error);return}}let Nn=E.navigation.location||E.location,or=Ou(e.history,Nn,nt.signal),bs=c||l,Po=E.navigation.state!=="idle"?Yl(bs,E.navigation.location,d):E.matches;Dt(Po,"Didn't find any matches after fetcher action");let go=++W;U.set(ee,go);let $a=Gf(Ge,Qt.data);E.fetchers.set(ee,$a);let{dsMatches:vs,revalidatingFetchers:fi}=z7(or,Oe,a,s,e.history,E,Po,Ge,Nn,o,!1,M,V,Q,K,H,bs,d,e.patchRoutesOnNavigation!=null,[Ot.route.id,Qt],Ke);fi.filter(wr=>wr.key!==ee).forEach(wr=>{let Hi=wr.key,js=E.fetchers.get(Hi),gi=Gf(void 0,js?js.data:void 0);E.fetchers.set(Hi,gi),Pe(Hi),wr.controller&&L.set(Hi,wr.controller)}),re({fetchers:new Map(E.fetchers)});let hi=()=>fi.forEach(wr=>Pe(wr.key));nt.signal.addEventListener("abort",hi);let{loaderResults:Ln,fetcherResults:$t}=await ar(vs,fi,or,Oe);if(nt.signal.aborted)return;if(nt.signal.removeEventListener("abort",hi),U.delete(ee),L.delete(ee),fi.forEach(wr=>L.delete(wr.key)),E.fetchers.has(ee)){let wr=Ns(Qt.data);E.fetchers.set(ee,wr)}let lr=Gm(Ln);if(lr)return fr(or,lr.result,!1,{preventScrollReset:qe});if(lr=Gm($t),lr)return H.add(lr.key),fr(or,lr.result,!1,{preventScrollReset:qe});let{loaderData:Na,errors:qi}=N7(E,Po,Ln,void 0,fi,$t);Je(go),E.navigation.state==="loading"&&go>G?(Dt(T,"Expected pending action"),B&&B.abort(),Se(E.navigation.location,{matches:Po,loaderData:Na,errors:qi,fetchers:new Map(E.fetchers)})):(re({errors:qi,loaderData:L7(E.loaderData,Na,Po,qi),fetchers:new Map(E.fetchers)}),M=!1)}async function zt(ee,ue,xe,Ce,Oe,Le,He,qe,Ge){let Ke=E.fetchers.get(ee);Lt(ee,Gf(Ge,Ke?Ke.data:void 0),{flushSync:He});let vt=new AbortController,nt=Ou(e.history,xe,vt.signal);if(Le){let Qt=await ut(Ce,new URL(nt.url).pathname,nt.signal,ee);if(Qt.type==="aborted")return;if(Qt.type==="error"){le(ee,ue,Qt.error,{flushSync:He});return}else if(Qt.matches)Ce=Qt.matches;else{le(ee,ue,Pi(404,{pathname:xe}),{flushSync:He});return}}let Ft=uy(Ce,xe);L.set(ee,vt);let Ot=W,Jr=ip(a,s,nt,Ce,Ft,o,Oe),sn=(await Bt(nt,Jr,Oe,ee))[Ft.route.id];if(L.get(ee)===vt&&L.delete(ee),!nt.signal.aborted){if(Q.has(ee)){Lt(ee,Ns(void 0));return}if(id(sn))if(G>Ot){Lt(ee,Ns(void 0));return}else{H.add(ee),await fr(nt,sn,!1,{preventScrollReset:qe});return}if(ti(sn)){le(ee,ue,sn.error);return}Lt(ee,Ns(sn.data))}}async function fr(ee,ue,xe,{submission:Ce,fetcherSubmission:Oe,preventScrollReset:Le,replace:He}={}){xe||(_==null||_.resolve(),_=null),ue.response.headers.has("X-Remix-Revalidate")&&(M=!0);let qe=ue.response.headers.get("Location");Dt(qe,"Expected a Location header on the redirect Response"),qe=M7(qe,new URL(ee.url),d,e.history);let Ge=Zh(E.location,qe,{_isRedirect:!0});if(r){let Jr=!1;if(ue.response.headers.has("X-Remix-Reload-Document"))Jr=!0;else if(t8(qe)){const qr=aL(qe,!0);Jr=qr.origin!==t.location.origin||Li(qr.pathname,d)==null}if(Jr){He?t.location.replace(qe):t.location.assign(qe);return}}B=null;let Ke=He===!0||ue.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:vt,formAction:nt,formEncType:Ft}=E.navigation;!Ce&&!Oe&&vt&&nt&&Ft&&(Ce=U7(E.navigation));let Ot=Ce||Oe;if(PQ.has(ue.response.status)&&Ot&&so(Ot.formMethod))await he(Ke,Ge,{submission:{...Ot,formAction:qe},preventScrollReset:Le||z,enableViewTransition:xe?P:void 0});else{let Jr=E2(Ge,Ce);await he(Ke,Ge,{overrideNavigation:Jr,fetcherSubmission:Oe,preventScrollReset:Le||z,enableViewTransition:xe?P:void 0})}}async function Bt(ee,ue,xe,Ce){var He;let Oe,Le={};try{Oe=await WQ(f,ee,ue,Ce,xe,!1)}catch(qe){return ue.filter(Ge=>Ge.shouldLoad).forEach(Ge=>{Le[Ge.route.id]={type:"error",error:qe}}),Le}if(ee.signal.aborted)return Le;if(!so(ee.method))for(let qe of ue){if(((He=Oe[qe.route.id])==null?void 0:He.type)==="error")break;!Oe.hasOwnProperty(qe.route.id)&&!E.loaderData.hasOwnProperty(qe.route.id)&&(!E.errors||!E.errors.hasOwnProperty(qe.route.id))&&qe.shouldCallHandler()&&(Oe[qe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${qe.route.id}`)})}for(let[qe,Ge]of Object.entries(Oe))if(QQ(Ge)){let Ke=Ge.result;Le[qe]={type:"redirect",response:HQ(Ke,ee,qe,ue,d)}}else Le[qe]=await qQ(Ge);return Le}async function ar(ee,ue,xe,Ce){let Oe=Bt(xe,ee,Ce,null),Le=Promise.all(ue.map(async Ge=>{if(Ge.matches&&Ge.match&&Ge.request&&Ge.controller){let vt=(await Bt(Ge.request,Ge.matches,Ce,Ge.key))[Ge.match.route.id];return{[Ge.key]:vt}}else return Promise.resolve({[Ge.key]:{type:"error",error:Pi(404,{pathname:Ge.path})}})})),He=await Oe,qe=(await Le).reduce((Ge,Ke)=>Object.assign(Ge,Ke),{});return{loaderResults:He,fetcherResults:qe}}function Sr(){M=!0,K.forEach((ee,ue)=>{L.has(ue)&&V.add(ue),Pe(ue)})}function Lt(ee,ue,xe={}){E.fetchers.set(ee,ue),re({fetchers:new Map(E.fetchers)},{flushSync:(xe&&xe.flushSync)===!0})}function le(ee,ue,xe,Ce={}){let Oe=Xl(E.matches,ue);$e(ee),re({errors:{[Oe.route.id]:xe},fetchers:new Map(E.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function be(ee){return ne.set(ee,(ne.get(ee)||0)+1),Q.has(ee)&&Q.delete(ee),E.fetchers.get(ee)||zQ}function we(ee,ue){Pe(ee,ue==null?void 0:ue.reason),Lt(ee,Ns(null))}function $e(ee){let ue=E.fetchers.get(ee);L.has(ee)&&!(ue&&ue.state==="loading"&&U.has(ee))&&Pe(ee),K.delete(ee),U.delete(ee),H.delete(ee),Q.delete(ee),V.delete(ee),E.fetchers.delete(ee)}function Be(ee){let ue=(ne.get(ee)||0)-1;ue<=0?(ne.delete(ee),Q.add(ee)):ne.set(ee,ue),re({fetchers:new Map(E.fetchers)})}function Pe(ee,ue){let xe=L.get(ee);xe&&(xe.abort(ue),L.delete(ee))}function Ne(ee){for(let ue of ee){let xe=be(ue),Ce=Ns(xe.data);E.fetchers.set(ue,Ce)}}function Fe(){let ee=[],ue=!1;for(let xe of H){let Ce=E.fetchers.get(xe);Dt(Ce,`Expected fetcher: ${xe}`),Ce.state==="loading"&&(H.delete(xe),ee.push(xe),ue=!0)}return Ne(ee),ue}function Je(ee){let ue=[];for(let[xe,Ce]of U)if(Ce<ee){let Oe=E.fetchers.get(xe);Dt(Oe,`Expected fetcher: ${xe}`),Oe.state==="loading"&&(Pe(xe),U.delete(xe),ue.push(xe))}return Ne(ue),ue.length>0}function Qe(ee,ue){let xe=E.blockers.get(ee)||Hf;return pe.get(ee)!==ue&&pe.set(ee,ue),xe}function J(ee){E.blockers.delete(ee),pe.delete(ee)}function je(ee,ue){let xe=E.blockers.get(ee)||Hf;Dt(xe.state==="unblocked"&&ue.state==="blocked"||xe.state==="blocked"&&ue.state==="blocked"||xe.state==="blocked"&&ue.state==="proceeding"||xe.state==="blocked"&&ue.state==="unblocked"||xe.state==="proceeding"&&ue.state==="unblocked",`Invalid blocker state transition: ${xe.state} -> ${ue.state}`);let Ce=new Map(E.blockers);Ce.set(ee,ue),re({blockers:Ce})}function Ie({currentLocation:ee,nextLocation:ue,historyAction:xe}){if(pe.size===0)return;pe.size>1&&an(!1,"A router only supports one blocker at a time");let Ce=Array.from(pe.entries()),[Oe,Le]=Ce[Ce.length-1],He=E.blockers.get(Oe);if(!(He&&He.state==="proceeding")&&Le({currentLocation:ee,nextLocation:ue,historyAction:xe}))return Oe}function We(ee){let ue=Pi(404,{pathname:ee}),xe=c||l,{matches:Ce,route:Oe}=Hm(xe);return{notFoundMatches:Ce,route:Oe,error:ue}}function Wt(ee,ue,xe){if(m=ee,b=ue,y=xe||null,!v&&E.navigation===w2){v=!0;let Ce=dt(E.location,E.matches);Ce!=null&&re({restoreScrollPosition:Ce})}return()=>{m=null,b=null,y=null}}function Ve(ee,ue){return y&&y(ee,ue.map(Ce=>iQ(Ce,E.loaderData)))||ee.key}function Kt(ee,ue){if(m&&b){let xe=Ve(ee,ue);m[xe]=b()}}function dt(ee,ue){if(m){let xe=Ve(ee,ue),Ce=m[xe];if(typeof Ce=="number")return Ce}return null}function sr(ee,ue,xe){if(e.patchRoutesOnNavigation)if(ee){if(Object.keys(ee[0].params).length>0)return{active:!0,matches:kh(ue,xe,d,!0)}}else return{active:!0,matches:kh(ue,xe,d,!0)||[]};return{active:!1,matches:null}}async function ut(ee,ue,xe,Ce){if(!e.patchRoutesOnNavigation)return{type:"success",matches:ee};let Oe=ee;for(;;){let Le=c==null,He=c||l,qe=s;try{await e.patchRoutesOnNavigation({signal:xe,path:ue,matches:Oe,fetcherKey:Ce,patch:(vt,nt)=>{xe.aborted||B7(vt,nt,He,qe,a,!1)}})}catch(vt){return{type:"error",error:vt,partialMatches:Oe}}finally{Le&&!xe.aborted&&(l=[...l])}if(xe.aborted)return{type:"aborted"};let Ge=Yl(He,ue,d),Ke=null;if(Ge){if(Object.keys(Ge[0].params).length===0)return{type:"success",matches:Ge};if(Ke=kh(He,ue,d,!0),!(Ke&&Oe.length<Ke.length&&qt(Oe,Ke.slice(0,Oe.length))))return{type:"success",matches:Ge}}if(Ke||(Ke=kh(He,ue,d,!0)),!Ke||qt(Oe,Ke))return{type:"success",matches:null};Oe=Ke}}function qt(ee,ue){return ee.length===ue.length&&ee.every((xe,Ce)=>xe.route.id===ue[Ce].route.id)}function mr(ee){s={},c=eg(ee,a,void 0,s)}function $n(ee,ue,xe=!1){let Ce=c==null;B7(ee,ue,c||l,s,a,xe),Ce&&(l=[...l],re({}))}return k={get basename(){return d},get future(){return p},get state(){return E},get routes(){return l},get window(){return t},initialize:ae,subscribe:ie,enableScrollRestoration:Wt,navigate:Ae,fetch:Pt,revalidate:te,createHref:ee=>e.history.createHref(ee),encodeLocation:ee=>e.history.encodeLocation(ee),getFetcher:be,resetFetcher:we,deleteFetcher:Be,dispose:ye,getBlocker:Qe,deleteBlocker:J,patchRoutes:$n,_internalFetchControllers:L,_internalSetRoutes:mr,_internalSetStateDoNotUseOrYouWillBreakYourApp(ee){re(ee)}},e.unstable_instrumentations&&(k=EQ(k,e.unstable_instrumentations.map(ee=>ee.router).filter(Boolean))),k}function OQ(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function SF(e,t,r,o,i,a){let s,l;if(i){s=[];for(let d of t)if(s.push(d),d.route.id===i){l=d;break}}else s=t,l=t[t.length-1];let c=ub(o||".",db(s),Li(e.pathname,r)||e.pathname,a==="path");if(o==null&&(c.search=e.search,c.hash=e.hash),(o==null||o===""||o===".")&&l){let d=o8(c.search);if(l.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let f=new URLSearchParams(c.search),p=f.getAll("index");f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let h=f.toString();c.search=h?`?${h}`:""}}return r!=="/"&&(c.pathname=yQ({basename:r,pathname:c.pathname})),ls(c)}function P7(e,t,r){if(!r||!OQ(r))return{path:t};if(r.formMethod&&!tZ(r.formMethod))return{path:t,error:Pi(405,{method:r.formMethod})};let o=()=>({path:t,error:Pi(400,{type:"invalid-body"})}),a=(r.formMethod||"get").toUpperCase(),s=wL(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!so(a))return o();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,[x,m])=>`${h}${x}=${m}
`,""):String(r.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!so(a))return o();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return o()}}}Dt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=CF(r.formData),c=r.formData;else if(r.body instanceof FormData)l=CF(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=$7(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=$7(l)}catch{return o()}let d={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(so(d.formMethod))return{path:t,submission:d};let f=hc(t);return e&&f.search&&o8(f.search)&&l.append("index",""),f.search=`?${l}`,{path:ls(f),submission:d}}function z7(e,t,r,o,i,a,s,l,c,d,f,p,h,x,m,y,b,v,C,S,F){var N;let w=S?ti(S[1])?S[1].error:S[1].data:void 0,k=i.createURL(a.location),E=i.createURL(c),T;if(f&&a.errors){let M=Object.keys(a.errors)[0];T=s.findIndex(V=>V.route.id===M)}else if(S&&ti(S[1])){let M=S[0];T=s.findIndex(V=>V.route.id===M)-1}let _=S?S[1].statusCode:void 0,z=_&&_>=400,B={currentUrl:k,currentParams:((N=a.matches[0])==null?void 0:N.params)||{},nextUrl:E,nextParams:s[0].params,...l,actionResult:w,actionStatus:_},P=px(s),D=s.map((M,V)=>{let{route:L}=M,W=null;if(T!=null&&V>T?W=!1:L.lazy?W=!0:r8(L)?f?W=wF(L,a.loaderData,a.errors):DQ(a.loaderData,a.matches[V],M)&&(W=!0):W=!1,W!==null)return EF(r,o,e,P,M,d,t,W);let G=!1;typeof F=="boolean"?G=F:z?G=!1:(p||k.pathname+k.search===E.pathname+E.search||k.search!==E.search||MQ(a.matches[V],M))&&(G=!0);let U={...B,defaultShouldRevalidate:G},H=Ih(M,U);return EF(r,o,e,P,M,d,t,H,U,F)}),I=[];return m.forEach((M,V)=>{if(f||!s.some(Q=>Q.route.id===M.routeId)||x.has(V))return;let L=a.fetchers.get(V),W=L&&L.state!=="idle"&&L.data===void 0,G=Yl(b,M.path,v);if(!G){if(C&&W)return;I.push({key:V,routeId:M.routeId,path:M.path,matches:null,match:null,request:null,controller:null});return}if(y.has(V))return;let U=uy(G,M.path),H=new AbortController,K=Ou(i,M.path,H.signal),ne=null;if(h.has(V))h.delete(V),ne=ip(r,o,K,G,U,d,t);else if(W)p&&(ne=ip(r,o,K,G,U,d,t));else{let Q;typeof F=="boolean"?Q=F:z?Q=!1:Q=p;let pe={...B,defaultShouldRevalidate:Q};Ih(U,pe)&&(ne=ip(r,o,K,G,U,d,t,pe))}ne&&I.push({key:V,routeId:M.routeId,path:M.path,matches:ne,match:U,request:K,controller:H})}),{dsMatches:D,revalidatingFetchers:I}}function r8(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function wF(e,t,r){if(e.lazy)return!0;if(!r8(e))return!1;let o=t!=null&&e.id in t,i=r!=null&&r[e.id]!==void 0;return!o&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!o&&!i}function DQ(e,t,r){let o=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return o||i}function MQ(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ih(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function B7(e,t,r,o,i,a){let s;if(e){let d=o[e];Dt(d,`No route found to patch children into: routeId = ${e}`),d.children||(d.children=[]),s=d.children}else s=r;let l=[],c=[];if(t.forEach(d=>{let f=s.find(p=>yL(d,p));f?c.push({existingRoute:f,newRoute:d}):l.push(d)}),l.length>0){let d=eg(l,i,[e||"_","patch",String((s==null?void 0:s.length)||"0")],o);s.push(...d)}if(a&&c.length>0)for(let d=0;d<c.length;d++){let{existingRoute:f,newRoute:p}=c[d],h=f,[x]=eg([p],i,[],{},!0);Object.assign(h,{element:x.element?x.element:h.element,errorElement:x.errorElement?x.errorElement:h.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:h.hydrateFallbackElement})}}function yL(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,o)=>{var i;return(i=t.children)==null?void 0:i.some(a=>yL(r,a))}):!1}var I7=new WeakMap,bL=({key:e,route:t,manifest:r,mapRouteProperties:o})=>{let i=r[t.id];if(Dt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[e];if(!a)return;let s=I7.get(i);s||(s={},I7.set(i,s));let l=s[e];if(l)return l;let c=(async()=>{let d=tQ(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(d)an(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),s[e]=Promise.resolve();else if(p)an(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let h=await a();h!=null&&(Object.assign(i,{[e]:h}),Object.assign(i,o(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(h=>h===void 0)&&(i.lazy=void 0))})();return s[e]=c,c},O7=new WeakMap;function $Q(e,t,r,o,i){let a=r[e.id];if(Dt(a,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=O7.get(a);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Dt(typeof e.lazy=="function","No lazy route function found");let h=await e.lazy(),x={};for(let m in h){let y=h[m];if(y===void 0)continue;let b=nQ(m),C=a[m]!==void 0&&m!=="hasErrorBoundary";b?an(!b,"Route property "+m+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?an(!C,`Route "${a.id}" has a static property "${m}" defined but its lazy function is also returning a value for this property. The lazy route property "${m}" will be ignored.`):x[m]=y}Object.assign(a,x),Object.assign(a,{...o(a),lazy:void 0})})();return O7.set(a,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let s=Object.keys(e.lazy),l=[],c;for(let f of s){if(i&&i.includes(f))continue;let p=bL({key:f,route:e,manifest:r,mapRouteProperties:o});p&&(l.push(p),f===t&&(c=p))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d==null||d.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:c}}async function D7(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,a)=>{r[t[a].route.id]=i}),r}async function NQ(e){return e.matches.some(t=>t.route.middleware)?vL(e,()=>D7(e)):D7(e)}function vL(e,t){return LQ(e,t,o=>{if(eZ(o))throw o;return o},XQ,r);function r(o,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:o}}));{let{matches:s}=e,l=Math.min(Math.max(s.findIndex(d=>d.route.id===i),0),Math.max(s.findIndex(d=>d.shouldCallHandler()),0)),c=Xl(s,s[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:o}})}}}async function LQ(e,t,r,o,i){let{matches:a,request:s,params:l,context:c,unstable_pattern:d}=e,f=a.flatMap(h=>h.route.middleware?h.route.middleware.map(x=>[h.route.id,x]):[]);return await jL({request:s,params:l,context:c,unstable_pattern:d},f,t,r,o,i)}async function jL(e,t,r,o,i,a,s=0){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=t[s];if(!c)return await r();let[d,f]=c,p,h=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await jL(e,t,r,o,i,a,s+1)},p.value}catch(x){return p={value:await a(x,d,p)},p.value}};try{let x=await f(e,h),m=x!=null?o(x):void 0;return i(m)?m:p?m??p.value:(p={value:await h()},p.value)}catch(x){return await a(x,d,p)}}function SL(e,t,r,o,i){let a=bL({key:"middleware",route:o.route,manifest:t,mapRouteProperties:e}),s=$Q(o.route,so(r.method)?"action":"loader",t,e,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function EF(e,t,r,o,i,a,s,l,c=null,d){let f=!1,p=SL(e,t,r,i,a);return{...i,_lazyPromises:p,shouldLoad:l,shouldRevalidateArgs:c,shouldCallHandler(h){return f=!0,c?typeof d=="boolean"?Ih(i,{...c,defaultShouldRevalidate:d}):typeof h=="boolean"?Ih(i,{...c,defaultShouldRevalidate:h}):Ih(i,c):l},resolve(h){let{lazy:x,loader:m,middleware:y}=i.route,b=f||l||h&&!so(r.method)&&(x||m),v=y&&y.length>0&&!m&&!x;return b&&(so(r.method)||!v)?VQ({request:r,unstable_pattern:o,match:i,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function ip(e,t,r,o,i,a,s,l=null){return o.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:SL(e,t,r,c,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:EF(e,t,r,px(o),c,a,s,!0,l))}async function WQ(e,t,r,o,i,a){r.some(d=>{var f;return(f=d._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(r.map(d=>{var f;return(f=d._lazyPromises)==null?void 0:f.middleware}));let s={request:t,unstable_pattern:px(r),params:r[0].params,context:i,matches:r},c=await e({...s,fetcherKey:o,runClientMiddleware:d=>{let f=s;return vL(f,()=>d({...f,fetcherKey:o,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(d=>{var f,p;return[(f=d._lazyPromises)==null?void 0:f.handler,(p=d._lazyPromises)==null?void 0:p.route]}))}catch{}return c}async function VQ({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:o,lazyRoutePromise:i,handlerOverride:a,scopedContext:s}){let l,c,d=so(e.method),f=d?"action":"loader",p=h=>{let x,m=new Promise((v,C)=>x=C);c=()=>x(),e.signal.addEventListener("abort",c);let y=v=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${r.route.id}]`)):h({request:e,unstable_pattern:t,params:r.params,context:s},...v!==void 0?[v]:[]),b=(async()=>{try{return{type:"data",result:await(a?a(C=>y(C)):y())}}catch(v){return{type:"error",result:v}}})();return Promise.race([b,m])};try{let h=d?r.route.action:r.route.loader;if(o||i)if(h){let x,[m]=await Promise.all([p(h).catch(y=>{x=y}),o,i]);if(x!==void 0)throw x;l=m}else{await o;let x=d?r.route.action:r.route.loader;if(x)[l]=await Promise.all([p(x),i]);else if(f==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw Pi(405,{method:e.method,pathname:y,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(h)l=await p(h);else{let x=new URL(e.url),m=x.pathname+x.search;throw Pi(404,{pathname:m})}}catch(h){return{type:"error",result:h}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function UQ(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function qQ(e){var o,i,a,s,l;let{result:t,type:r}=e;if(n8(t)){let c;try{c=await UQ(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new ux(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:"data",data:c,statusCode:t.status,headers:t.headers}}return r==="error"?V7(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:YQ(t),statusCode:tg(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:tg(t)?t.status:void 0}:V7(t)?{type:"data",data:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function HQ(e,t,r,o,i){let a=e.headers.get("Location");if(Dt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!t8(a)){let s=o.slice(0,o.findIndex(l=>l.route.id===r)+1);a=SF(new URL(t.url),s,i,a),e.headers.set("Location",a)}return e}function M7(e,t,r,o){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(t8(e)){let a=e,s=a.startsWith("//")?new URL(t.protocol+a):new URL(a);if(i.includes(s.protocol))throw new Error("Invalid redirect location");let l=Li(s.pathname,r)!=null;if(s.origin===t.origin&&l)return s.pathname+s.search+s.hash}try{let a=o.createURL(e);if(i.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return e}function Ou(e,t,r,o){let i=e.createURL(wL(t)).toString(),a={signal:r};if(o&&so(o.formMethod)){let{formMethod:s,formEncType:l}=o;a.method=s.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(o.json)):l==="text/plain"?a.body=o.text:l==="application/x-www-form-urlencoded"&&o.formData?a.body=CF(o.formData):a.body=o.formData}return new Request(i,a)}function CF(e){let t=new URLSearchParams;for(let[r,o]of e.entries())t.append(r,typeof o=="string"?o:o.name);return t}function $7(e){let t=new FormData;for(let[r,o]of e.entries())t.append(r,o);return t}function GQ(e,t,r,o=!1,i=!1){let a={},s=null,l,c=!1,d={},f=r&&ti(r[1])?r[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let h=p.route.id,x=t[h];if(Dt(!id(x),"Cannot handle redirect results in processLoaderData"),ti(x)){let m=x.error;if(f!==void 0&&(m=f,f=void 0),s=s||{},i)s[h]=m;else{let y=Xl(e,h);s[y.route.id]==null&&(s[y.route.id]=m)}o||(a[h]=mL),c||(c=!0,l=tg(x.error)?x.error.status:500),x.headers&&(d[h]=x.headers)}else a[h]=x.data,x.statusCode&&x.statusCode!==200&&!c&&(l=x.statusCode),x.headers&&(d[h]=x.headers)}),f!==void 0&&r&&(s={[r[0]]:f},r[2]&&(a[r[2]]=void 0)),{loaderData:a,errors:s,statusCode:l||200,loaderHeaders:d}}function N7(e,t,r,o,i,a){let{loaderData:s,errors:l}=GQ(t,r,o);return i.filter(c=>!c.matches||c.matches.some(d=>d.shouldLoad)).forEach(c=>{let{key:d,match:f,controller:p}=c;if(p&&p.signal.aborted)return;let h=a[d];if(Dt(h,"Did not find corresponding fetcher result"),ti(h)){let x=Xl(e.matches,f==null?void 0:f.route.id);l&&l[x.route.id]||(l={...l,[x.route.id]:h.error}),e.fetchers.delete(d)}else if(id(h))Dt(!1,"Unhandled fetcher revalidation redirect");else{let x=Ns(h.data);e.fetchers.set(d,x)}}),{loaderData:s,errors:l}}function L7(e,t,r,o){let i=Object.entries(t).filter(([,a])=>a!==mL).reduce((a,[s,l])=>(a[s]=l,a),{});for(let a of r){let s=a.route.id;if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&a.route.loader&&(i[s]=e[s]),o&&o.hasOwnProperty(s))break}return i}function W7(e){return e?ti(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Xl(e,t){return(t?e.slice(0,e.findIndex(o=>o.route.id===t)+1):[...e]).reverse().find(o=>o.route.hasErrorBoundary===!0)||e[0]}function Hm(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pi(e,{pathname:t,routeId:r,method:o,type:i,message:a}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&t&&r?l=`You made a ${o} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l=`Route "${r}" does not match URL "${t}"`):e===404?(s="Not Found",l=`No route matches URL "${t}"`):e===405&&(s="Method Not Allowed",o&&t&&r?l=`You made a ${o.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:o&&(l=`Invalid request method "${o.toUpperCase()}"`)),new ux(e||500,s,new Error(l),!0)}function Gm(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[o,i]=t[r];if(id(i))return{key:o,result:i}}}function wL(e){let t=typeof e=="string"?hc(e):e;return ls({...t,hash:""})}function KQ(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function YQ(e){var t,r;return new ux(((t=e.init)==null?void 0:t.status)??500,((r=e.init)==null?void 0:r.statusText)??"Internal Server Error",e.data)}function XQ(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&JQ(r))}function JQ(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function QQ(e){return n8(e.result)&&gL.has(e.result.status)}function ti(e){return e.type==="error"}function id(e){return(e&&e.type)==="redirect"}function V7(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function n8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ZQ(e){return gL.has(e)}function eZ(e){return n8(e)&&ZQ(e.status)&&e.headers.has("Location")}function tZ(e){return TQ.has(e.toUpperCase())}function so(e){return _Q.has(e.toUpperCase())}function o8(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function uy(e,t){let r=typeof t=="string"?hc(t).search:t.search;if(e[e.length-1].route.index&&o8(r||""))return e[e.length-1];let o=dL(e);return o[o.length-1]}function U7(e){let{formMethod:t,formAction:r,formEncType:o,text:i,formData:a,json:s}=e;if(!(!t||!r||!o)){if(i!=null)return{formMethod:t,formAction:r,formEncType:o,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:r,formEncType:o,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:r,formEncType:o,formData:void 0,json:s,text:void 0}}}function E2(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rZ(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Gf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nZ(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ns(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oZ(e,t){try{let r=e.sessionStorage.getItem(xL);if(r){let o=JSON.parse(r);for(let[i,a]of Object.entries(o||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function iZ(e,t){if(t.size>0){let r={};for(let[o,i]of t)r[o]=[...i];try{e.sessionStorage.setItem(xL,JSON.stringify(r))}catch(o){an(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function q7(){let e,t,r=new Promise((o,i)=>{e=async a=>{o(a);try{await r}catch{}},t=async a=>{i(a);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Pd=A.createContext(null);Pd.displayName="DataRouter";var fx=A.createContext(null);fx.displayName="DataRouterState";var EL=A.createContext(!1);function aZ(){return A.useContext(EL)}var i8=A.createContext({isTransitioning:!1});i8.displayName="ViewTransition";var CL=A.createContext(new Map);CL.displayName="Fetchers";var sZ=A.createContext(null);sZ.displayName="Await";var pi=A.createContext(null);pi.displayName="Navigation";var pb=A.createContext(null);pb.displayName="Location";var Pa=A.createContext({outlet:null,matches:[],isDataRoute:!1});Pa.displayName="Route";var a8=A.createContext(null);a8.displayName="RouteError";var kL="REACT_ROUTER_ERROR",lZ="REDIRECT",cZ="ROUTE_ERROR_RESPONSE";function dZ(e){if(e.startsWith(`${kL}:${lZ}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function uZ(e){if(e.startsWith(`${kL}:${cZ}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new ux(t.status,t.statusText,t.data)}catch{}}function pZ(e,{relative:t}={}){Dt(Yp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=A.useContext(pi),{hash:i,pathname:a,search:s}=hx(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:rs([r,a])),o.createHref({pathname:l,search:s,hash:i})}function Yp(){return A.useContext(pb)!=null}function gc(){return Dt(Yp(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(pb).location}var FL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AL(e){A.useContext(pi).static||A.useLayoutEffect(e)}function _L(){let{isDataRoute:e}=A.useContext(Pa);return e?kZ():fZ()}function fZ(){Dt(Yp(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(Pd),{basename:t,navigator:r}=A.useContext(pi),{matches:o}=A.useContext(Pa),{pathname:i}=gc(),a=JSON.stringify(db(o)),s=A.useRef(!1);return AL(()=>{s.current=!0}),A.useCallback((c,d={})=>{if(an(s.current,FL),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=ub(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:rs([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}A.createContext(null);function hZ(){let{matches:e}=A.useContext(Pa),t=e[e.length-1];return t?t.params:{}}function hx(e,{relative:t}={}){let{matches:r}=A.useContext(Pa),{pathname:o}=gc(),i=JSON.stringify(db(r));return A.useMemo(()=>ub(e,JSON.parse(i),o,t==="path"),[e,i,o,t])}function gZ(e,t,r,o,i){Dt(Yp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(pi),{matches:s}=A.useContext(Pa),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let C=p&&p.path||"";TL(d,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let h=gc(),x;x=h;let m=x.pathname||"/",y=m;if(f!=="/"){let C=f.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=Yl(e,{pathname:y});return an(p||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),an(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vZ(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:rs([f,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:rs([f,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,r,o,i)}function xZ(){let e=CZ(),t=tg(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:i},r):null,s)}var mZ=A.createElement(xZ,null),RL=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=uZ(e.digest);r&&(e=r)}let t=e!==void 0?A.createElement(Pa.Provider,{value:this.props.routeContext},A.createElement(a8.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?A.createElement(yZ,{error:e},t):t}};RL.contextType=EL;var C2=new WeakMap;function yZ({children:e,error:t}){let{basename:r}=A.useContext(pi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let o=dZ(t.digest);if(o){let i=C2.get(t);if(i)throw i;let a=pL(o.location,r);if(uL&&!C2.get(t))if(a.isExternal||o.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:o.replace}));throw C2.set(t,s),s}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function bZ({routeContext:e,match:t,children:r}){let o=A.useContext(Pd);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Pa.Provider,{value:e},r)}function vZ(e,t=[],r=null,o=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let f=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);Dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(r)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:h,errors:x}=r,m=p.route.loader&&!h.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=r&&o?(f,p)=>{var h,x;o(f,{location:r.location,params:((x=(h=r.matches)==null?void 0:h[0])==null?void 0:x.params)??{},unstable_pattern:px(r.matches),errorInfo:p})}:void 0;return a.reduceRight((f,p,h)=>{let x,m=!1,y=null,b=null;r&&(x=s&&p.route.id?s[p.route.id]:void 0,y=p.route.errorElement||mZ,l&&(c<0&&h===0?(TL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):c===h&&(m=!0,b=p.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),C=()=>{let S;return x?S=y:m?S=b:p.route.Component?S=A.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=f,A.createElement(bZ,{match:p,routeContext:{outlet:f,matches:v,isDataRoute:r!=null},children:S})};return r&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?A.createElement(RL,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:C(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:d}):C()},null)}function s8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jZ(e){let t=A.useContext(Pd);return Dt(t,s8(e)),t}function SZ(e){let t=A.useContext(fx);return Dt(t,s8(e)),t}function wZ(e){let t=A.useContext(Pa);return Dt(t,s8(e)),t}function l8(e){let t=wZ(e),r=t.matches[t.matches.length-1];return Dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function EZ(){return l8("useRouteId")}function CZ(){var o;let e=A.useContext(a8),t=SZ("useRouteError"),r=l8("useRouteError");return e!==void 0?e:(o=t.errors)==null?void 0:o[r]}function kZ(){let{router:e}=jZ("useNavigate"),t=l8("useNavigate"),r=A.useRef(!1);return AL(()=>{r.current=!0}),A.useCallback(async(i,a={})=>{an(r.current,FL),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var H7={};function TL(e,t,r){!t&&!H7[e]&&(H7[e]=!0,an(!1,r))}var G7={};function K7(e,t){!e&&!G7[t]&&(G7[t]=!0,console.warn(t))}var FZ="useOptimistic",Y7=KJ[FZ],AZ=()=>{};function _Z(e){return Y7?Y7(e):[e,AZ]}function RZ(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&an(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:A.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&an(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:A.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&an(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:A.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var TZ=["HydrateFallback","hydrateFallbackElement"],PZ=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",t(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",r(o))}})}};function zZ({router:e,flushSync:t,onError:r,unstable_useTransitions:o}){o=aZ()||o;let[a,s]=A.useState(e.state),[l,c]=_Z(a),[d,f]=A.useState(),[p,h]=A.useState({isTransitioning:!1}),[x,m]=A.useState(),[y,b]=A.useState(),[v,C]=A.useState(),S=A.useRef(new Map),F=A.useCallback((T,{deletedFetchers:_,newErrors:z,flushSync:B,viewTransitionOpts:P})=>{z&&r&&Object.values(z).forEach(I=>{var N;return r(I,{location:T.location,params:((N=T.matches[0])==null?void 0:N.params)??{},unstable_pattern:px(T.matches)})}),T.fetchers.forEach((I,N)=>{I.data!==void 0&&S.current.set(N,I.data)}),_.forEach(I=>S.current.delete(I)),K7(B===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(K7(P==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!D){t&&B?t(()=>s(T)):o===!1?s(T):A.startTransition(()=>{o===!0&&c(I=>X7(I,T)),s(T)});return}if(t&&B){t(()=>{y&&(x==null||x.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let I=e.window.document.startViewTransition(()=>{t(()=>s(T))});I.finished.finally(()=>{t(()=>{m(void 0),b(void 0),f(void 0),h({isTransitioning:!1})})}),t(()=>b(I));return}y?(x==null||x.resolve(),y.skipTransition(),C({state:T,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(f(T),h({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,y,x,o,c,r]);A.useLayoutEffect(()=>e.subscribe(F),[e,F]),A.useEffect(()=>{p.isTransitioning&&!p.flushSync&&m(new PZ)},[p]),A.useEffect(()=>{if(x&&d&&e.window){let T=d,_=x.promise,z=e.window.document.startViewTransition(async()=>{o===!1?s(T):A.startTransition(()=>{o===!0&&c(B=>X7(B,T)),s(T)}),await _});z.finished.finally(()=>{m(void 0),b(void 0),f(void 0),h({isTransitioning:!1})}),b(z)}},[d,x,e.window,o,c]),A.useEffect(()=>{x&&d&&l.location.key===d.location.key&&x.resolve()},[x,y,l.location,d]),A.useEffect(()=>{!p.isTransitioning&&v&&(f(v.state),h({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),C(void 0))},[p.isTransitioning,v]);let w=A.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:T=>e.navigate(T),push:(T,_,z)=>e.navigate(T,{state:_,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(T,_,z)=>e.navigate(T,{replace:!0,state:_,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[e]),k=e.basename||"/",E=A.useMemo(()=>({router:e,navigator:w,static:!1,basename:k,onError:r}),[e,w,k,r]);return A.createElement(A.Fragment,null,A.createElement(Pd.Provider,{value:E},A.createElement(fx.Provider,{value:l},A.createElement(CL.Provider,{value:S.current},A.createElement(i8.Provider,{value:p},A.createElement(DZ,{basename:k,location:l.location,navigationType:l.historyAction,navigator:w,unstable_useTransitions:o},A.createElement(BZ,{routes:e.routes,future:e.future,state:l,onError:r})))))),null)}function X7(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var BZ=A.memo(IZ);function IZ({routes:e,future:t,state:r,onError:o}){return gZ(e,void 0,r,o,t)}function OZ({to:e,replace:t,state:r,relative:o}){Dt(Yp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(pi);an(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=A.useContext(Pa),{pathname:s}=gc(),l=_L(),c=ub(e,db(a),s,o==="path"),d=JSON.stringify(c);return A.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:o})},[l,d,o,t,r]),null}function DZ({basename:e="/",children:t=null,location:r,navigationType:o="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Dt(!Yp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof r=="string"&&(r=hc(r));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:x="default"}=r,m=A.useMemo(()=>{let y=Li(d,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:h,key:x},navigationType:o}},[l,d,f,p,h,x,o]);return an(m!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:A.createElement(pi.Provider,{value:c},A.createElement(pb.Provider,{children:t,value:m}))}var py="get",fy="application/x-www-form-urlencoded";function fb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function MZ(e){return fb(e)&&e.tagName.toLowerCase()==="button"}function $Z(e){return fb(e)&&e.tagName.toLowerCase()==="form"}function NZ(e){return fb(e)&&e.tagName.toLowerCase()==="input"}function LZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WZ(e,t){return e.button===0&&(!t||t==="_self")&&!LZ(e)}var Km=null;function VZ(){if(Km===null)try{new FormData(document.createElement("form"),0),Km=!1}catch{Km=!0}return Km}var UZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k2(e){return e!=null&&!UZ.has(e)?(an(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fy}"`),null):e}function qZ(e,t){let r,o,i,a,s;if($Z(e)){let l=e.getAttribute("action");o=l?Li(l,t):null,r=e.getAttribute("method")||py,i=k2(e.getAttribute("enctype"))||fy,a=new FormData(e)}else if(MZ(e)||NZ(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(o=c?Li(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||py,i=k2(e.getAttribute("formenctype"))||k2(l.getAttribute("enctype"))||fy,a=new FormData(l,e),!VZ()){let{name:d,type:f,value:p}=e;if(f==="image"){let h=d?`${d}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else d&&a.append(d,p)}}else{if(fb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=py,o=null,i=fy,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:o,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c8(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function HZ(e,t,r,o){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${o}`:i.pathname=`${i.pathname}.${o}`:i.pathname==="/"?i.pathname=`_root.${o}`:t&&Li(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${o}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${o}`,i}async function GZ(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KZ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function YZ(e,t,r){let o=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await GZ(a,r);return s.links?s.links():[]}return[]}));return ZZ(o.flat(1).filter(KZ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function J7(e,t,r,o,i,a){let s=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var f;return r[d].pathname!==c.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,d)=>s(c,d)||l(c,d)):a==="data"?t.filter((c,d)=>{var p;let f=o.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function XZ(e,t,{includeHydrateFallback:r}={}){return JZ(e.map(o=>{let i=t.routes[o.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function JZ(e){return[...new Set(e)]}function QZ(e){let t={},r=Object.keys(e).sort();for(let o of r)t[o]=e[o];return t}function ZZ(e,t){let r=new Set;return new Set(t),e.reduce((o,i)=>{let a=JSON.stringify(QZ(i));return r.has(a)||(r.add(a),o.push({key:a,link:i})),o},[])}function PL(){let e=A.useContext(Pd);return c8(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eee(){let e=A.useContext(fx);return c8(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d8=A.createContext(void 0);d8.displayName="FrameworkContext";function zL(){let e=A.useContext(d8);return c8(e,"You must render this element inside a <HydratedRouter> element"),e}function tee(e,t){let r=A.useContext(d8),[o,i]=A.useState(!1),[a,s]=A.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,h=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=v=>{v.forEach(C=>{s(C.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),A.useEffect(()=>{if(o){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[o]);let x=()=>{i(!0)},m=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:Kf(l,x),onBlur:Kf(c,m),onMouseEnter:Kf(d,x),onMouseLeave:Kf(f,m),onTouchStart:Kf(p,x)}]:[!1,h,{}]}function Kf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ree({page:e,...t}){let{router:r}=PL(),o=A.useMemo(()=>Yl(r.routes,e,r.basename),[r.routes,e,r.basename]);return o?A.createElement(oee,{page:e,matches:o,...t}):null}function nee(e){let{manifest:t,routeModules:r}=zL(),[o,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return YZ(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),o}function oee({page:e,matches:t,...r}){let o=gc(),{future:i,manifest:a,routeModules:s}=zL(),{basename:l}=PL(),{loaderData:c,matches:d}=eee(),f=A.useMemo(()=>J7(e,t,d,a,o,"data"),[e,t,d,a,o]),p=A.useMemo(()=>J7(e,t,d,a,o,"assets"),[e,t,d,a,o]),h=A.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let y=new Set,b=!1;if(t.forEach(C=>{var F;let S=a.routes[C.route.id];!S||!S.hasLoader||(!f.some(w=>w.route.id===C.route.id)&&C.route.id in c&&((F=s[C.route.id])!=null&&F.shouldRevalidate)||S.hasClientLoader?b=!0:y.add(C.route.id))}),y.size===0)return[];let v=HZ(e,l,i.unstable_trailingSlashAwareDataRequests,"data");return b&&y.size>0&&v.searchParams.set("_routes",t.filter(C=>y.has(C.route.id)).map(C=>C.route.id).join(",")),[v.pathname+v.search]},[l,i.unstable_trailingSlashAwareDataRequests,c,o,a,f,t,e,s]),x=A.useMemo(()=>XZ(p,a),[p,a]),m=nee(p);return A.createElement(A.Fragment,null,h.map(y=>A.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>A.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:b})=>A.createElement("link",{key:y,nonce:r.nonce,...b,crossOrigin:b.crossOrigin??r.crossOrigin})))}function iee(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var aee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aee&&(window.__reactRouterVersion="7.13.0")}catch{}function see(e,t){return IQ({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:JJ({window:t==null?void 0:t.window}),hydrationData:lee(),routes:e,mapRouteProperties:RZ,hydrationRouteProperties:TZ,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function lee(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:cee(e.errors)}),e}function cee(e){if(!e)return null;let t=Object.entries(e),r={};for(let[o,i]of t)if(i&&i.__type==="RouteErrorResponse")r[o]=new ux(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[o]=s}catch{}}if(r[o]==null){let a=new Error(i.message);a.stack="",r[o]=a}}else r[o]=i;return r}var BL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IL=A.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:h,...x},m){let{basename:y,unstable_useTransitions:b}=A.useContext(pi),v=typeof d=="string"&&BL.test(d),C=pL(d,y);d=C.to;let S=pZ(d,{relative:i}),[F,w,k]=tee(o,x),E=fee(d,{replace:s,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:h,unstable_useTransitions:b});function T(z){t&&t(z),z.defaultPrevented||E(z)}let _=A.createElement("a",{...x,...k,href:C.absoluteURL||S,onClick:C.isExternal||a?t:T,ref:iee(m,w),target:c,"data-discover":!v&&r==="render"?"true":void 0});return F&&!v?A.createElement(A.Fragment,null,_,A.createElement(ree,{page:S})):_});IL.displayName="Link";var dee=A.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...d},f){let p=hx(s,{relative:d.relative}),h=gc(),x=A.useContext(fx),{navigator:m,basename:y}=A.useContext(pi),b=x!=null&&yee(p)&&l===!0,v=m.encodeLocation?m.encodeLocation(p).pathname:p.pathname,C=h.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&y&&(S=Li(S,y)||S);const F=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let w=C===v||!i&&C.startsWith(v)&&C.charAt(F)==="/",k=S!=null&&(S===v||!i&&S.startsWith(v)&&S.charAt(v.length)==="/"),E={isActive:w,isPending:k,isTransitioning:b},T=w?t:void 0,_;typeof o=="function"?_=o(E):_=[o,w?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(E):a;return A.createElement(IL,{...d,"aria-current":T,className:_,ref:f,style:z,to:s,viewTransition:l},typeof c=="function"?c(E):c)});dee.displayName="NavLink";var uee=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:i,state:a,method:s=py,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:h,...x},m)=>{let{unstable_useTransitions:y}=A.useContext(pi),b=xee(),v=mee(l,{relative:d}),C=s.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&BL.test(l),F=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let k=w.nativeEvent.submitter,E=(k==null?void 0:k.getAttribute("formmethod"))||s,T=()=>b(k||w.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:i,state:a,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:h});y&&r!==!1?A.startTransition(()=>T()):T()};return A.createElement("form",{ref:m,method:C,action:v,onSubmit:o?c:F,...x,"data-discover":!S&&e==="render"?"true":void 0})});uee.displayName="Form";function pee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OL(e){let t=A.useContext(Pd);return Dt(t,pee(e)),t}function fee(e,{target:t,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let d=_L(),f=gc(),p=hx(e,{relative:a});return A.useCallback(h=>{if(WZ(h,t)){h.preventDefault();let x=r!==void 0?r:ls(f)===ls(p),m=()=>d(e,{replace:x,state:o,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});c?A.startTransition(()=>m()):m()}},[f,d,p,r,o,t,e,i,a,s,l,c])}var hee=0,gee=()=>`__${String(++hee)}__`;function xee(){let{router:e}=OL("useSubmit"),{basename:t}=A.useContext(pi),r=EZ(),o=e.fetch,i=e.navigate;return A.useCallback(async(a,s={})=>{let{action:l,method:c,encType:d,formData:f,body:p}=qZ(a,t);if(s.navigate===!1){let h=s.fetcherKey||gee();await o(h,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[o,i,t,r])}function mee(e,{relative:t}={}){let{basename:r}=A.useContext(pi),o=A.useContext(Pa);Dt(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a={...hx(e||".",{relative:t})},s=gc();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:rs([r,a.pathname])),ls(a)}function yee(e,{relative:t}={}){let r=A.useContext(i8);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=OL("useViewTransitionState"),i=hx(e,{relative:t});if(!r.isTransitioning)return!1;let a=Li(r.currentLocation.pathname,o)||r.currentLocation.pathname,s=Li(r.nextLocation.pathname,o)||r.nextLocation.pathname;return _y(i.pathname,s)!=null||_y(i.pathname,a)!=null}const za="qhnmxvexkizcsmivfuam",Ca="sb_publishable_sB3F5T731PMqPXMOFq8pVg_Trg4AbeW";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,o)=>o?o.toUpperCase():r.toLowerCase()),Q7=e=>{const t=vee(e);return t.charAt(0).toUpperCase()+t.slice(1)},DL=(...e)=>e.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:a,iconNode:s,...l},c)=>A.createElement("svg",{ref:c,...jee,width:t,height:t,stroke:e,strokeWidth:o?Number(r)*24/Number(t):r,className:DL("lucide",i),...l},[...s.map(([d,f])=>A.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=A.forwardRef(({className:o,...i},a)=>A.createElement(See,{ref:a,iconNode:t,className:DL(`lucide-${bee(Q7(e))}`,`lucide-${e}`,o),...i}));return r.displayName=Q7(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ao=de("activity",wee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Cee=de("align-center",Eee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Fee=de("align-left",kee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],_ee=de("align-right",Aee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Tee=de("archive",Ree);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],u8=de("arrow-down",Pee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],p8=de("arrow-left-right",zee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],f8=de("arrow-left",Bee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rc=de("arrow-right",Iee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],hb=de("arrow-up",Oee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ry=de("award",Dee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],ML=de("ban",Mee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],h8=de("banknote",$ee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gb=de("bell",Nee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]],$L=de("blocks",Lee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],g8=de("bold",Wee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wi=de("book-open",Vee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],qee=de("book-user",Uee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],xb=de("box",Hee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Oi=de("building-2",Gee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],NL=de("cake",Kee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gs=de("calendar",Yee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],x8=de("chart-column",Xee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],br=de("chart-no-axes-column",Jee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ap=de("check-check",Qee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rn=de("check",Zee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yn=de("chevron-down",ete);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rg=de("chevron-left",tte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=de("chevron-right",rte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ote=de("chevron-up",nte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],ate=de("chevrons-down-up",ite);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],lte=de("chevrons-up-down",ste);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],F2=de("chrome",cte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Ty=de("circle-arrow-down",dte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jt=de("circle-alert",ute);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],m8=de("circle-arrow-up",pte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ft=de("circle-check-big",fte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ct=de("circle-check",hte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],xte=de("circle-dollar-sign",gte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yte=de("circle-help",mte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Z7=de("circle-user",bte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nn=de("circle-x",vte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mb=de("circle",jte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kF=de("clipboard-list",Ste);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ct=de("clock",wte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],LL=de("code",Ete);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],WL=de("coffee",Cte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ho=de("copy",kte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],gx=de("cpu",Fte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mn=de("credit-card",Ate);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],Rte=de("crop",_te);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],hr=de("database",Tte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yn=de("dollar-sign",Pte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ht=de("download",zte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ite=de("droplets",Bte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Dte=de("eraser",Ote);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gn=de("external-link",Mte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y8=de("eye-off",$te);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yr=de("eye",Nte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Za=de("facebook",Lte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Vte=de("factory",Wte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],VL=de("file-check-2",Ute);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],Hte=de("file-code-2",qte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Kte=de("file-json",Gte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Xte=de("file-plus",Yte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Qte=de("file-spreadsheet",Jte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fn=de("file-text",Zte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],UL=de("file",ere);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],rre=de("flag",tre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],ore=de("flask-conical",nre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]],are=de("flip-horizontal",ire);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]],lre=de("flip-vertical",sre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],qL=de("flower",cre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],FF=de("folder-kanban",dre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],bd=de("folder-open",ure);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],ng=de("folder-tree",pre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],HL=de("funnel",fre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],fp=de("gift",hre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],b8=de("git-branch",gre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],A2=de("github",xre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kr=de("globe",mre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],bre=de("grid-3x3",yre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],jre=de("hand",vre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],GL=de("hard-drive",Sre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],eR=de("hash",wre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Cre=de("heading-1",Ere);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Fre=de("heading-2",kre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],zd=de("heart",Are);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],AF=de("history",_re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],yb=de("house",Rre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ks=de("image",Tre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ym=de("inbox",Pre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xp=de("info",zre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],td=de("instagram",Bre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],v8=de("italic",Ire);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],Dre=de("kanban",Ore);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],$re=de("key-round",Mre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],vd=de("key",Nre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],Wre=de("landmark",Lre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rl=de("layers",Vre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xx=de("layout-dashboard",Ure);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],og=de("layout-grid",qre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ba=de("lightbulb",Hre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],_F=de("link-2",Gre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Xm=de("list-ordered",Kre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],j8=de("list",Yre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ur=de("loader-circle",Xre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],KL=de("loader",Jre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Zre=de("lock-open",Qre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cc=de("lock",ene);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],ig=de("log-in",tne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ka=de("mail",rne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dn=de("map-pin",nne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ag=de("map",one);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],In=de("megaphone",ine);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],hd=de("message-circle",ane);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],dc=de("message-square",sne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"M5 12h14",key:"1ays0h"}]],bb=de("minus",lne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ac=de("monitor",cne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],une=de("mouse-pointer-click",dne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],YL=de("mouse-pointer",pne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],hne=de("move",fne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],XL=de("music",gne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Di=de("navigation",xne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rt=de("package",mne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],bne=de("palette",yne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Jm=de("panels-top-left",vne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],S8=de("paperclip",jne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],wne=de("pause",Sne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],w8=de("pen-line",Ene);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fo=de("pen",Cne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Py=de("percent",kne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],jd=de("phone",Fne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]],_ne=de("pipette",Ane);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],JL=de("play",Rne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],va=de("plug",Tne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nt=de("plus",Pne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Mi=de("printer",zne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ro=de("qr-code",Bne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],tR=de("receipt-text",Ine);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Oh=de("receipt",One);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_t=de("refresh-cw",Dne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],RF=de("rocket",Mne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Fa=de("rotate-ccw",$ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Lne=de("rotate-cw",Nne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],nc=de("rss",Wne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],To=de("save",Vne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],E8=de("scale",Une);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Sd=de("scan-line",qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m16 16-1.9-1.9",key:"1dq9hf"}]],rR=de("scan-search",Hne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],QL=de("scroll-text",Gne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],tr=de("search",Kne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Aa=de("send",Yne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],vb=de("server",Xne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],di=de("settings-2",Jne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],si=de("settings",Qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sg=de("share-2",Zne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TF=de("shield-check",eoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nr=de("shield",toe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],cs=de("shopping-bag",roe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ir=de("shopping-cart",noe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],zy=de("smartphone",ooe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],C8=de("smile",ioe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ns=de("sparkles",aoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_a=de("square-check-big",soe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],coe=de("square",loe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hn=de("star",doe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],poe=de("sticky-note",uoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],ja=de("store",foe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZL=de("sun",hoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],xoe=de("table",goe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ys=de("tag",moe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lg=de("target",yoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],nR=de("test-tube-diagonal",boe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],joe=de("ticket",voe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]],woe=de("toggle-left",Soe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]],Coe=de("toggle-right",Eoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xr=de("trash-2",koe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],eW=de("tree-pine",Foe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],_oe=de("trending-down",Aoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Xt=de("trending-up",Roe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wr=de("triangle-alert",Toe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],oR=de("trophy",Poe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],At=de("truck",zoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],jb=de("type",Boe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Ooe=de("underline",Ioe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Moe=de("undo-2",Doe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],_o=de("upload",$oe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],By=de("user-check",Noe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Woe=de("user-cog",Loe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Uoe=de("user-plus",Voe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],So=de("user",qoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Et=de("users",Hoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],iR=de("video",Goe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],PF=de("wallet",Koe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],Iy=de("webhook",Yoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Joe=de("wifi",Xoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],tW=de("wine",Qoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],un=de("wrench",Zoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ut=de("x",eie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pt=de("zap",tie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],nie=de("zoom-in",rie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],iie=de("zoom-out",oie),_2=`https://${za}.supabase.co/functions/v1/api`,R2={"Content-Type":"application/json",Authorization:`Bearer ${Ca}`},aR="#FF6835",aie={gift:fp,heart:zd,star:hn,coffee:WL,package:Rt,sparkles:ns,sun:ZL,treepine:eW,music:XL,award:Ry,smile:C8,home:yb,send:Aa,wine:tW,flower:qL,cake:NL};function sie(){const{token:e}=hZ(),[t,r]=A.useState(null),[o,i]=A.useState("loading"),[a,s]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(""),[p,h]=A.useState(!1);A.useEffect(()=>{if(!e){i("error");return}(async()=>{try{const b=await fetch(`${_2}/etiquetas/token/${e}`,{headers:R2});if(!b.ok){i("error");return}const v=await b.json();if(r(v),v.estado==="respondida"){i("gracias");return}await fetch(`${_2}/etiquetas/token/${e}/scan`,{method:"POST",headers:R2}),i("mensaje")}catch{i("error")}})()},[e]);const x=async()=>{if(!(!a.trim()||!e)){h(!0);try{await fetch(`${_2}/etiquetas/token/${e}/responder`,{method:"POST",headers:R2,body:JSON.stringify({mensaje:a,nombre:l,contacto:d})}),i("gracias")}catch{alert("Error al enviar. Intent de nuevo.")}finally{h(!1)}}},m=t&&aie[t.icono]||fp;return o==="loading"?n.jsx(Yf,{children:n.jsxs("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.7)",padding:"60px 20px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",border:"3px solid rgba(255,255,255,0.3)",borderTopColor:"#fff",margin:"0 auto 16px",animation:"spin 0.8s linear infinite"}}),n.jsx("p",{style:{margin:0},children:"Abriendo tu mensaje..."}),n.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg) } }"})]})}):o==="error"||!t?n.jsx(Yf,{children:n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[n.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:n.jsx(Jt,{size:30,color:"#fff",strokeWidth:1.5})}),n.jsx("h2",{style:{color:"#fff",fontSize:"22px",fontWeight:800,margin:"0 0 10px"},children:"Mensaje no encontrado"}),n.jsx("p",{style:{color:"rgba(255,255,255,0.75)",fontSize:"15px",margin:0},children:"Este enlace no existe o ya no est disponible."})]})}):o==="mensaje"?n.jsx(Yf,{children:n.jsxs("div",{style:{padding:"32px 24px",display:"flex",flexDirection:"column",alignItems:"center",gap:"0"},children:[n.jsx("div",{style:{width:"88px",height:"88px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px",border:"2px solid rgba(255,255,255,0.3)"},children:n.jsx(m,{size:42,color:"#fff",strokeWidth:1.5})}),n.jsx("p",{style:{color:"rgba(255,255,255,0.75)",fontSize:"14px",margin:"0 0 4px",letterSpacing:"0.08em",textTransform:"uppercase",fontWeight:600},children:"Para"}),n.jsx("h1",{style:{color:"#fff",fontSize:"32px",fontWeight:900,margin:"0 0 28px",textAlign:"center",lineHeight:1.1},children:t.destinatario_nombre}),n.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.12)",backdropFilter:"blur(10px)",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.25)",padding:"28px 24px",width:"100%",maxWidth:"400px",marginBottom:"28px"},children:[n.jsxs("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"13px",marginBottom:"12px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(zd,{size:13}),n.jsxs("span",{children:["Mensaje de ",n.jsx("strong",{style:{color:"#fff"},children:t.remitente_nombre})]})]}),n.jsx("p",{style:{color:"#fff",fontSize:"17px",lineHeight:"1.65",margin:0,fontWeight:400},children:t.mensaje})]}),n.jsxs("button",{onClick:()=>i("responder"),style:{display:"flex",alignItems:"center",gap:"10px",padding:"16px 32px",backgroundColor:"#fff",color:aR,border:"none",borderRadius:"50px",cursor:"pointer",fontSize:"16px",fontWeight:800,boxShadow:"0 8px 24px rgba(0,0,0,0.2)",marginBottom:"16px",width:"100%",maxWidth:"320px",justifyContent:"center"},children:[n.jsx(dc,{size:18}),"Responder con un mensaje",n.jsx(rc,{size:18})]}),n.jsxs("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",textAlign:"center",margin:0},children:["Tu respuesta llegar directamente a ",t.remitente_nombre]}),n.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",gap:"6px",color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:[n.jsx(Ro,{size:12}),n.jsxs("span",{children:["Enviado con ",n.jsx("strong",{children:"Charlie Marketplace"})]})]})]})}):o==="responder"?n.jsx(Yf,{children:n.jsxs("div",{style:{padding:"32px 24px",display:"flex",flexDirection:"column",gap:"20px",maxWidth:"420px",margin:"0 auto"},children:[n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:n.jsx(dc,{size:26,color:"#fff",strokeWidth:1.5})}),n.jsx("h2",{style:{color:"#fff",fontSize:"24px",fontWeight:800,margin:"0 0 8px"},children:"Tu respuesta"}),n.jsxs("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0},children:[t.remitente_nombre," va a recibir tu mensaje"]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.8)",fontSize:"13px",fontWeight:700,marginBottom:"8px"},children:"Tu mensaje *"}),n.jsx("textarea",{value:a,onChange:y=>s(y.target.value),placeholder:`Gracias ${t.remitente_nombre}, lleg perfecto...`,rows:5,style:{width:"100%",padding:"14px 16px",borderRadius:"14px",border:"1.5px solid rgba(255,255,255,0.25)",backgroundColor:"rgba(255,255,255,0.1)",color:"#fff",fontSize:"15px",outline:"none",resize:"none",fontFamily:"inherit",lineHeight:"1.55",boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.8)",fontSize:"13px",fontWeight:700,marginBottom:"8px"},children:"Tu nombre (opcional)"}),n.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:t.destinatario_nombre,style:{width:"100%",padding:"12px 16px",borderRadius:"12px",border:"1.5px solid rgba(255,255,255,0.25)",backgroundColor:"rgba(255,255,255,0.1)",color:"#fff",fontSize:"15px",outline:"none",fontFamily:"inherit",boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.8)",fontSize:"13px",fontWeight:700,marginBottom:"4px"},children:"Quers recibir novedades de Charlie? (opcional)"}),n.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",margin:"0 0 8px"},children:"Tu celular o email  solo si vos quers"}),n.jsx("input",{type:"text",value:d,onChange:y=>f(y.target.value),placeholder:"+598 99 xxx xxx o tu@email.com",style:{width:"100%",padding:"12px 16px",borderRadius:"12px",border:"1.5px solid rgba(255,255,255,0.25)",backgroundColor:"rgba(255,255,255,0.1)",color:"#fff",fontSize:"15px",outline:"none",fontFamily:"inherit",boxSizing:"border-box"}})]}),n.jsx("button",{onClick:x,disabled:!a.trim()||p,style:{padding:"16px",backgroundColor:a.trim()&&!p?"#fff":"rgba(255,255,255,0.2)",color:a.trim()&&!p?aR:"rgba(255,255,255,0.5)",border:"none",borderRadius:"50px",cursor:a.trim()&&!p?"pointer":"default",fontSize:"16px",fontWeight:800,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s"},children:p?"Enviando...":n.jsxs(n.Fragment,{children:[n.jsx(Aa,{size:16})," Enviar respuesta"]})}),n.jsx("button",{onClick:()=>i("mensaje"),style:{background:"none",border:"none",color:"rgba(255,255,255,0.5)",cursor:"pointer",fontSize:"13px",textAlign:"center"},children:" Volver al mensaje"})]})}):n.jsx(Yf,{children:n.jsxs("div",{style:{padding:"60px 24px",display:"flex",flexDirection:"column",alignItems:"center",gap:"0",textAlign:"center"},children:[n.jsx("div",{style:{width:"88px",height:"88px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"24px",border:"2px solid rgba(255,255,255,0.35)"},children:n.jsx(ft,{size:44,color:"#fff",strokeWidth:1.5})}),n.jsx("h1",{style:{color:"#fff",fontSize:"30px",fontWeight:900,margin:"0 0 12px",lineHeight:1.1},children:t.estado==="respondida"&&!a?"Ya respondiste!":"Gracias!"}),n.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"16px",lineHeight:"1.6",margin:"0 0 40px",maxWidth:"320px"},children:t.estado==="respondida"&&!a?"Tu mensaje ya fue enviado. Que disfrutes el regalo!":`Tu respuesta lleg a ${t.remitente_nombre}. Que disfrutes el regalo!`}),n.jsxs("div",{style:{padding:"20px 28px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.2)",maxWidth:"320px",width:"100%"},children:[n.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px",marginBottom:"4px"},children:"Enviado con"}),n.jsx("div",{style:{color:"#fff",fontWeight:900,fontSize:"18px"},children:"Charlie Marketplace"}),n.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",marginTop:"4px"},children:"Cada envo cuenta una historia"})]})]})})}function Yf({children:e}){return n.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(145deg, #FF6835 0%, #e8501e 40%, #c73d0f 100%)",display:"flex",flexDirection:"column",justifyContent:"center"},children:n.jsx("div",{style:{width:"100%",maxWidth:"480px",margin:"0 auto"},children:e})})}const sR="#FF6835",lie="rgba(255,255,255,0.22)",cie="rgba(255,255,255,0.12)",lR=[{id:"dashboard",icon:xx,label:"Dashboard"},{id:"ecommerce",icon:ir,label:"eCommerce"},{id:"logistica",icon:At,label:"Logstica"},{id:"marketing",icon:In,label:"Marketing"},{id:"rrss",icon:nc,label:"RRSS"},{id:"herramientas",icon:un,label:"Herramientas"},{id:"gestion",icon:hr,label:"Gestin"},{id:"sistema",icon:ac,label:"Sistema"},{id:"integraciones",icon:va,label:"Integraciones"},{id:"auditoria",icon:tr,label:"Auditora"}];function die({activeSection:e,onNavigate:t}){var o;const r=((o=lR.find(i=>i.id===e))==null?void 0:o.id)??e;return n.jsxs("aside",{style:{width:"200px",height:"100vh",backgroundColor:sR,display:"flex",flexDirection:"column",flexShrink:0,position:"sticky",top:0,overflow:"hidden"},children:[n.jsx("div",{style:{height:"88px",display:"flex",alignItems:"center",padding:"0 16px",borderBottom:"1px solid rgba(255,255,255,0.18)",flexShrink:0},children:n.jsxs("div",{style:{display:"inline-flex",flexDirection:"column"},children:[n.jsx("span",{style:{color:"#000",fontWeight:"600",fontSize:"1.7rem",lineHeight:1,textAlign:"justify",textAlignLast:"justify"},children:"Charlie"}),n.jsx("p",{style:{color:"#000",fontSize:"0.64rem",margin:"0",letterSpacing:"0.08em",textTransform:"none",fontWeight:"500",lineHeight:1,whiteSpace:"nowrap"},children:"Marketplace Builder"})]})}),n.jsx("div",{style:{padding:"10px 14px",borderBottom:"1px solid rgba(255,255,255,0.18)",flexShrink:0},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"9px"},children:[n.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.28)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"800",fontSize:"0.78rem",flexShrink:0,border:"2px solid rgba(255,255,255,0.4)"},children:"CV"}),n.jsxs("div",{style:{overflow:"hidden"},children:[n.jsx("p",{style:{color:"#fff",fontWeight:"700",fontSize:"0.82rem",margin:0,whiteSpace:"nowrap"},children:"Carlos Varalla"}),n.jsx("p",{style:{color:"rgba(255,255,255,0.72)",fontSize:"0.68rem",margin:0},children:"Administrador"})]})]})}),n.jsxs("nav",{style:{flex:1,padding:"6px 0",overflowY:"auto"},children:[lR.map(i=>{const a=e===i.id||r===i.id;return n.jsxs("button",{onClick:()=>t(i.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"9px 16px",border:"none",cursor:"pointer",backgroundColor:a?lie:"transparent",color:"#fff",borderLeft:a?"3px solid #fff":"3px solid transparent",transition:"all 0.14s"},onMouseEnter:s=>{a||(s.currentTarget.style.backgroundColor=cie)},onMouseLeave:s=>{a||(s.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(i.icon,{size:16,strokeWidth:a?2.5:2,style:{flexShrink:0}}),n.jsx("span",{style:{fontSize:"0.84rem",fontWeight:a?"700":"500",textAlign:"left",whiteSpace:"nowrap"},children:i.label})]},i.id)}),n.jsx("div",{style:{margin:"8px 14px",borderTop:"1px solid rgba(255,255,255,0.25)"}}),(()=>{const i=e==="constructor";return n.jsxs("button",{onClick:()=>t("constructor"),style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"9px 16px",border:"none",cursor:"pointer",backgroundColor:i?"rgba(0,0,0,0.18)":"transparent",color:"#000",borderLeft:i?"3px solid #000":"3px solid transparent",transition:"all 0.14s"},onMouseEnter:a=>{i||(a.currentTarget.style.backgroundColor="rgba(0,0,0,0.10)")},onMouseLeave:a=>{i||(a.currentTarget.style.backgroundColor="transparent")},children:[n.jsx($L,{size:16,strokeWidth:i?2.5:2,style:{flexShrink:0}}),n.jsx("span",{style:{fontSize:"0.84rem",fontWeight:i?"700":"600",textAlign:"left",whiteSpace:"nowrap",color:"#000"},children:"Constructor"})]})})()]}),n.jsxs("div",{style:{margin:"0 10px 10px",padding:"10px",backgroundColor:"rgba(255,255,255,0.15)",borderRadius:"10px",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"5px"},children:[n.jsx(ns,{size:12,color:"#fff"}),n.jsx("span",{style:{color:"#fff",fontWeight:"700",fontSize:"0.72rem"},children:"Tip del da"})]}),n.jsx("p",{style:{color:"rgba(255,255,255,0.82)",fontSize:"0.67rem",margin:0,lineHeight:"1.4"},children:"Us la IA para optimizar descripciones de productos automticamente"})]}),n.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 10px 12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"7px",padding:"9px 0",backgroundColor:"#fff",color:sR,borderRadius:"10px",textDecoration:"none",fontSize:"0.8rem",fontWeight:"700",flexShrink:0,transition:"opacity 0.15s"},onMouseEnter:i=>i.currentTarget.style.opacity="0.88",onMouseLeave:i=>i.currentTarget.style.opacity="1",children:[n.jsx(gn,{size:13}),"Ver tienda"]})]})}function rW(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=rW(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function It(){for(var e,t,r=0,o="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=rW(e))&&(o&&(o+=" "),o+=t);return o}var T2,cR;function Lo(){if(cR)return T2;cR=1;var e=Array.isArray;return T2=e,T2}var P2,dR;function nW(){if(dR)return P2;dR=1;var e=typeof Um=="object"&&Um&&Um.Object===Object&&Um;return P2=e,P2}var z2,uR;function xs(){if(uR)return z2;uR=1;var e=nW(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return z2=r,z2}var B2,pR;function mx(){if(pR)return B2;pR=1;var e=xs(),t=e.Symbol;return B2=t,B2}var I2,fR;function uie(){if(fR)return I2;fR=1;var e=mx(),t=Object.prototype,r=t.hasOwnProperty,o=t.toString,i=e?e.toStringTag:void 0;function a(s){var l=r.call(s,i),c=s[i];try{s[i]=void 0;var d=!0}catch{}var f=o.call(s);return d&&(l?s[i]=c:delete s[i]),f}return I2=a,I2}var O2,hR;function pie(){if(hR)return O2;hR=1;var e=Object.prototype,t=e.toString;function r(o){return t.call(o)}return O2=r,O2}var D2,gR;function ll(){if(gR)return D2;gR=1;var e=mx(),t=uie(),r=pie(),o="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(l){return l==null?l===void 0?i:o:a&&a in Object(l)?t(l):r(l)}return D2=s,D2}var M2,xR;function cl(){if(xR)return M2;xR=1;function e(t){return t!=null&&typeof t=="object"}return M2=e,M2}var $2,mR;function Jp(){if(mR)return $2;mR=1;var e=ll(),t=cl(),r="[object Symbol]";function o(i){return typeof i=="symbol"||t(i)&&e(i)==r}return $2=o,$2}var N2,yR;function k8(){if(yR)return N2;yR=1;var e=Lo(),t=Jp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function i(a,s){if(e(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:o.test(a)||!r.test(a)||s!=null&&a in Object(s)}return N2=i,N2}var L2,bR;function xc(){if(bR)return L2;bR=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return L2=e,L2}var W2,vR;function F8(){if(vR)return W2;vR=1;var e=ll(),t=xc(),r="[object AsyncFunction]",o="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!t(l))return!1;var c=e(l);return c==o||c==i||c==r||c==a}return W2=s,W2}var V2,jR;function fie(){if(jR)return V2;jR=1;var e=xs(),t=e["__core-js_shared__"];return V2=t,V2}var U2,SR;function hie(){if(SR)return U2;SR=1;var e=fie(),t=(function(){var o=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function r(o){return!!t&&t in o}return U2=r,U2}var q2,wR;function oW(){if(wR)return q2;wR=1;var e=Function.prototype,t=e.toString;function r(o){if(o!=null){try{return t.call(o)}catch{}try{return o+""}catch{}}return""}return q2=r,q2}var H2,ER;function gie(){if(ER)return H2;ER=1;var e=F8(),t=hie(),r=xc(),o=oW(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(h){if(!r(h)||t(h))return!1;var x=e(h)?f:a;return x.test(o(h))}return H2=p,H2}var G2,CR;function xie(){if(CR)return G2;CR=1;function e(t,r){return t==null?void 0:t[r]}return G2=e,G2}var K2,kR;function Bd(){if(kR)return K2;kR=1;var e=gie(),t=xie();function r(o,i){var a=t(o,i);return e(a)?a:void 0}return K2=r,K2}var Y2,FR;function Sb(){if(FR)return Y2;FR=1;var e=Bd(),t=e(Object,"create");return Y2=t,Y2}var X2,AR;function mie(){if(AR)return X2;AR=1;var e=Sb();function t(){this.__data__=e?e(null):{},this.size=0}return X2=t,X2}var J2,_R;function yie(){if(_R)return J2;_R=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return J2=e,J2}var Q2,RR;function bie(){if(RR)return Q2;RR=1;var e=Sb(),t="__lodash_hash_undefined__",r=Object.prototype,o=r.hasOwnProperty;function i(a){var s=this.__data__;if(e){var l=s[a];return l===t?void 0:l}return o.call(s,a)?s[a]:void 0}return Q2=i,Q2}var Z2,TR;function vie(){if(TR)return Z2;TR=1;var e=Sb(),t=Object.prototype,r=t.hasOwnProperty;function o(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Z2=o,Z2}var eS,PR;function jie(){if(PR)return eS;PR=1;var e=Sb(),t="__lodash_hash_undefined__";function r(o,i){var a=this.__data__;return this.size+=this.has(o)?0:1,a[o]=e&&i===void 0?t:i,this}return eS=r,eS}var tS,zR;function Sie(){if(zR)return tS;zR=1;var e=mie(),t=yie(),r=bie(),o=vie(),i=jie();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,tS=a,tS}var rS,BR;function wie(){if(BR)return rS;BR=1;function e(){this.__data__=[],this.size=0}return rS=e,rS}var nS,IR;function A8(){if(IR)return nS;IR=1;function e(t,r){return t===r||t!==t&&r!==r}return nS=e,nS}var oS,OR;function wb(){if(OR)return oS;OR=1;var e=A8();function t(r,o){for(var i=r.length;i--;)if(e(r[i][0],o))return i;return-1}return oS=t,oS}var iS,DR;function Eie(){if(DR)return iS;DR=1;var e=wb(),t=Array.prototype,r=t.splice;function o(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():r.call(a,s,1),--this.size,!0}return iS=o,iS}var aS,MR;function Cie(){if(MR)return aS;MR=1;var e=wb();function t(r){var o=this.__data__,i=e(o,r);return i<0?void 0:o[i][1]}return aS=t,aS}var sS,$R;function kie(){if($R)return sS;$R=1;var e=wb();function t(r){return e(this.__data__,r)>-1}return sS=t,sS}var lS,NR;function Fie(){if(NR)return lS;NR=1;var e=wb();function t(r,o){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,o])):i[a][1]=o,this}return lS=t,lS}var cS,LR;function Eb(){if(LR)return cS;LR=1;var e=wie(),t=Eie(),r=Cie(),o=kie(),i=Fie();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,cS=a,cS}var dS,WR;function _8(){if(WR)return dS;WR=1;var e=Bd(),t=xs(),r=e(t,"Map");return dS=r,dS}var uS,VR;function Aie(){if(VR)return uS;VR=1;var e=Sie(),t=Eb(),r=_8();function o(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return uS=o,uS}var pS,UR;function _ie(){if(UR)return pS;UR=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return pS=e,pS}var fS,qR;function Cb(){if(qR)return fS;qR=1;var e=_ie();function t(r,o){var i=r.__data__;return e(o)?i[typeof o=="string"?"string":"hash"]:i.map}return fS=t,fS}var hS,HR;function Rie(){if(HR)return hS;HR=1;var e=Cb();function t(r){var o=e(this,r).delete(r);return this.size-=o?1:0,o}return hS=t,hS}var gS,GR;function Tie(){if(GR)return gS;GR=1;var e=Cb();function t(r){return e(this,r).get(r)}return gS=t,gS}var xS,KR;function Pie(){if(KR)return xS;KR=1;var e=Cb();function t(r){return e(this,r).has(r)}return xS=t,xS}var mS,YR;function zie(){if(YR)return mS;YR=1;var e=Cb();function t(r,o){var i=e(this,r),a=i.size;return i.set(r,o),this.size+=i.size==a?0:1,this}return mS=t,mS}var yS,XR;function R8(){if(XR)return yS;XR=1;var e=Aie(),t=Rie(),r=Tie(),o=Pie(),i=zie();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,yS=a,yS}var bS,JR;function iW(){if(JR)return bS;JR=1;var e=R8(),t="Expected a function";function r(o,i){if(typeof o!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var d=o.apply(this,s);return a.cache=c.set(l,d)||c,d};return a.cache=new(r.Cache||e),a}return r.Cache=e,bS=r,bS}var vS,QR;function Bie(){if(QR)return vS;QR=1;var e=iW(),t=500;function r(o){var i=e(o,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return vS=r,vS}var jS,ZR;function Iie(){if(ZR)return jS;ZR=1;var e=Bie(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,l,c,d){a.push(c?d.replace(r,"$1"):l||s)}),a});return jS=o,jS}var SS,eT;function T8(){if(eT)return SS;eT=1;function e(t,r){for(var o=-1,i=t==null?0:t.length,a=Array(i);++o<i;)a[o]=r(t[o],o,t);return a}return SS=e,SS}var wS,tT;function Oie(){if(tT)return wS;tT=1;var e=mx(),t=T8(),r=Lo(),o=Jp(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return t(l,s)+"";if(o(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return wS=s,wS}var ES,rT;function aW(){if(rT)return ES;rT=1;var e=Oie();function t(r){return r==null?"":e(r)}return ES=t,ES}var CS,nT;function sW(){if(nT)return CS;nT=1;var e=Lo(),t=k8(),r=Iie(),o=aW();function i(a,s){return e(a)?a:t(a,s)?[a]:r(o(a))}return CS=i,CS}var kS,oT;function kb(){if(oT)return kS;oT=1;var e=Jp();function t(r){if(typeof r=="string"||e(r))return r;var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}return kS=t,kS}var FS,iT;function P8(){if(iT)return FS;iT=1;var e=sW(),t=kb();function r(o,i){i=e(i,o);for(var a=0,s=i.length;o!=null&&a<s;)o=o[t(i[a++])];return a&&a==s?o:void 0}return FS=r,FS}var AS,aT;function lW(){if(aT)return AS;aT=1;var e=P8();function t(r,o,i){var a=r==null?void 0:e(r,o);return a===void 0?i:a}return AS=t,AS}var Die=lW();const li=nr(Die);var _S,sT;function Mie(){if(sT)return _S;sT=1;function e(t){return t==null}return _S=e,_S}var $ie=Mie();const Tt=nr($ie);var RS,lT;function Nie(){if(lT)return RS;lT=1;var e=ll(),t=Lo(),r=cl(),o="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==o}return RS=i,RS}var Lie=Nie();const yx=nr(Lie);var Wie=F8();const wt=nr(Wie);var Vie=xc();const Qp=nr(Vie);var TS={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function Uie(){if(cT)return cr;cT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case e:switch(b=b.type,b){case r:case i:case o:case d:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case s:case c:case h:case p:case a:return b;default:return v}}case t:return v}}}return cr.ContextConsumer=s,cr.ContextProvider=a,cr.Element=e,cr.ForwardRef=c,cr.Fragment=r,cr.Lazy=h,cr.Memo=p,cr.Portal=t,cr.Profiler=i,cr.StrictMode=o,cr.Suspense=d,cr.SuspenseList=f,cr.isAsyncMode=function(){return!1},cr.isConcurrentMode=function(){return!1},cr.isContextConsumer=function(b){return y(b)===s},cr.isContextProvider=function(b){return y(b)===a},cr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},cr.isForwardRef=function(b){return y(b)===c},cr.isFragment=function(b){return y(b)===r},cr.isLazy=function(b){return y(b)===h},cr.isMemo=function(b){return y(b)===p},cr.isPortal=function(b){return y(b)===t},cr.isProfiler=function(b){return y(b)===i},cr.isStrictMode=function(b){return y(b)===o},cr.isSuspense=function(b){return y(b)===d},cr.isSuspenseList=function(b){return y(b)===f},cr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===o||b===d||b===f||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===p||b.$$typeof===a||b.$$typeof===s||b.$$typeof===c||b.$$typeof===m||b.getModuleId!==void 0)},cr.typeOf=y,cr}var dT;function qie(){return dT||(dT=1,TS.exports=Uie()),TS.exports}var Hie=qie(),PS,uT;function cW(){if(uT)return PS;uT=1;var e=ll(),t=cl(),r="[object Number]";function o(i){return typeof i=="number"||t(i)&&e(i)==r}return PS=o,PS}var zS,pT;function Gie(){if(pT)return zS;pT=1;var e=cW();function t(r){return e(r)&&r!=+r}return zS=t,zS}var Kie=Gie();const bx=nr(Kie);var Yie=cW();const Xie=nr(Yie);var wo=function(t){return t===0?0:t>0?1:-1},ad=function(t){return yx(t)&&t.indexOf("%")===t.length-1},Me=function(t){return Xie(t)&&!bx(t)},An=function(t){return Me(t)||yx(t)},Jie=0,Zp=function(t){var r=++Jie;return"".concat(t||"").concat(r)},Eo=function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(t)&&!yx(t))return o;var a;if(ad(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return bx(a)&&(a=o),i&&a>r&&(a=r),a},Jl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Qie=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,o={},i=0;i<r;i++)if(!o[t[i]])o[t[i]]=!0;else return!0;return!1},ri=function(t,r){return Me(t)&&Me(r)?function(o){return t+o*(r-t)}:function(){return r}};function Oy(e,t,r){return!e||!e.length?null:e.find(function(o){return o&&(typeof t=="function"?t(o):li(o,t))===r})}function sp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var o in t)if({}.hasOwnProperty.call(t,o)&&!{}.hasOwnProperty.call(e,o))return!1;return!0}function zF(e){"@babel/helpers - typeof";return zF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zF(e)}var Zie=["viewBox","children"],eae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fT=["points","pathLength"],BS={svg:Zie,polygon:fT,polyline:fT},z8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var o=t;if(A.isValidElement(t)&&(o=t.props),!Qp(o))return null;var i={};return Object.keys(o).forEach(function(a){z8.includes(a)&&(i[a]=r||function(s){return o[a](o,s)})}),i},tae=function(t,r,o){return function(i){return t(r,o,i),null}},wd=function(t,r,o){if(!Qp(t)||zF(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];z8.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=tae(s,r,o))}),i},rae=["children"],nae=["children"];function hT(e,t){if(e==null)return{};var r=oae(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function oae(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function BF(e){"@babel/helpers - typeof";return BF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BF(e)}var gT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xT=null,IS=null,B8=function e(t){if(t===xT&&Array.isArray(IS))return IS;var r=[];return A.Children.forEach(t,function(o){Tt(o)||(Hie.isFragment(o)?r=r.concat(e(o.props.children)):r.push(o))}),IS=r,xT=t,r};function ci(e,t){var r=[],o=[];return Array.isArray(t)?o=t.map(function(i){return Xs(i)}):o=[Xs(t)],B8(e).forEach(function(i){var a=li(i,"type.displayName")||li(i,"type.name");o.indexOf(a)!==-1&&r.push(i)}),r}function ei(e,t){var r=ci(e,t);return r&&r[0]}var mT=function(t){if(!t||!t.props)return!1;var r=t.props,o=r.width,i=r.height;return!(!Me(o)||o<=0||!Me(i)||i<=0)},iae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aae=function(t){return t&&t.type&&yx(t.type)&&iae.indexOf(t.type)>=0},sae=function(t){return t&&BF(t)==="object"&&"clipDot"in t},lae=function(t,r,o,i){var a,s=(a=BS==null?void 0:BS[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!wt(t)&&(i&&s.includes(r)||eae.includes(r))||o&&z8.includes(r)},xt=function(t,r,o){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(A.isValidElement(t)&&(i=t.props),!Qp(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;lae((l=i)===null||l===void 0?void 0:l[s],s,r,o)&&(a[s]=i[s])}),a},IF=function e(t,r){if(t===r)return!0;var o=A.Children.count(t);if(o!==A.Children.count(r))return!1;if(o===0)return!0;if(o===1)return yT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<o;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!yT(a,s))return!1}return!0},yT=function(t,r){if(Tt(t)&&Tt(r))return!0;if(!Tt(t)&&!Tt(r)){var o=t.props||{},i=o.children,a=hT(o,rae),s=r.props||{},l=s.children,c=hT(s,nae);return i&&l?sp(a,c)&&IF(i,l):!i&&!l?sp(a,c):!1}return!1},bT=function(t,r){var o=[],i={};return B8(t).forEach(function(a,s){if(aae(a))o.push(a);else if(a){var l=Xs(a.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var p=d(a,l,s);o.push(p),i[l]=!0}}}),o},cae=function(t){var r=t&&t.type;return r&&gT[r]?gT[r]:null},dae=function(t,r){return B8(r).indexOf(t)},uae=["children","width","height","viewBox","className","style","title","desc"];function OF(){return OF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},OF.apply(this,arguments)}function pae(e,t){if(e==null)return{};var r=fae(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function fae(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function DF(e){var t=e.children,r=e.width,o=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,d=pae(e,uae),f=i||{width:r,height:o,x:0,y:0},p=It("recharts-surface",a);return Y.createElement("svg",OF({},xt(d,!0,"svg"),{className:p,width:r,height:o,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),t)}var hae=["children","className"];function MF(){return MF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MF.apply(this,arguments)}function gae(e,t){if(e==null)return{};var r=xae(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function xae(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}var er=Y.forwardRef(function(e,t){var r=e.children,o=e.className,i=gae(e,hae),a=It("recharts-layer",o);return Y.createElement("g",MF({className:a},xt(i,!0),{ref:t}),r)}),Sa=function(t,r){for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a]},OS,vT;function mae(){if(vT)return OS;vT=1;function e(t,r,o){var i=-1,a=t.length;r<0&&(r=-r>a?0:a+r),o=o>a?a:o,o<0&&(o+=a),a=r>o?0:o-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=t[i+r];return s}return OS=e,OS}var DS,jT;function yae(){if(jT)return DS;jT=1;var e=mae();function t(r,o,i){var a=r.length;return i=i===void 0?a:i,!o&&i>=a?r:e(r,o,i)}return DS=t,DS}var MS,ST;function dW(){if(ST)return MS;ST=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",i=t+r+o,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+e+i+a+"]");function c(d){return l.test(d)}return MS=c,MS}var $S,wT;function bae(){if(wT)return $S;wT=1;function e(t){return t.split("")}return $S=e,$S}var NS,ET;function vae(){if(ET)return NS;ET=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",i=t+r+o,a="\\ufe0e\\ufe0f",s="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",m=d+"?",y="["+a+"]?",b="(?:"+x+"(?:"+[f,p,h].join("|")+")"+y+m+")*",v=y+m+b,C="(?:"+[f+l+"?",l,p,h,s].join("|")+")",S=RegExp(c+"(?="+c+")|"+C+v,"g");function F(w){return w.match(S)||[]}return NS=F,NS}var LS,CT;function jae(){if(CT)return LS;CT=1;var e=bae(),t=dW(),r=vae();function o(i){return t(i)?r(i):e(i)}return LS=o,LS}var WS,kT;function Sae(){if(kT)return WS;kT=1;var e=yae(),t=dW(),r=jae(),o=aW();function i(a){return function(s){s=o(s);var l=t(s)?r(s):void 0,c=l?l[0]:s.charAt(0),d=l?e(l,1).join(""):s.slice(1);return c[a]()+d}}return WS=i,WS}var VS,FT;function wae(){if(FT)return VS;FT=1;var e=Sae(),t=e("toUpperCase");return VS=t,VS}var Eae=wae();const Fb=nr(Eae);function _r(e){return function(){return e}}const uW=Math.cos,My=Math.sin,Ba=Math.sqrt,$y=Math.PI,Ab=2*$y,$F=Math.PI,NF=2*$F,Kc=1e-6,Cae=NF-Kc;function pW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function kae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pW;const r=10**t;return function(o){this._+=o[0];for(let i=1,a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}class Fae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pW:kae(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,o,i){this._append`Q${+t},${+r},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(t,r,o,i,a,s){this._append`C${+t},${+r},${+o},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,o,i,a){if(t=+t,r=+r,o=+o,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=o-t,d=i-r,f=s-t,p=l-r,h=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Kc)if(!(Math.abs(p*c-d*f)>Kc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let x=o-s,m=i-l,y=c*c+d*d,b=x*x+m*m,v=Math.sqrt(y),C=Math.sqrt(h),S=a*Math.tan(($F-Math.acos((y+h-b)/(2*v*C)))/2),F=S/C,w=S/v;Math.abs(F-1)>Kc&&this._append`L${t+F*f},${r+F*p}`,this._append`A${a},${a},0,0,${+(p*x>f*m)},${this._x1=t+w*c},${this._y1=r+w*d}`}}arc(t,r,o,i,a,s){if(t=+t,r=+r,o=+o,s=!!s,o<0)throw new Error(`negative radius: ${o}`);let l=o*Math.cos(i),c=o*Math.sin(i),d=t+l,f=r+c,p=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Kc||Math.abs(this._y1-f)>Kc)&&this._append`L${d},${f}`,o&&(h<0&&(h=h%NF+NF),h>Cae?this._append`A${o},${o},0,1,${p},${t-l},${r-c}A${o},${o},0,1,${p},${this._x1=d},${this._y1=f}`:h>Kc&&this._append`A${o},${o},0,${+(h>=$F)},${p},${this._x1=t+o*Math.cos(a)},${this._y1=r+o*Math.sin(a)}`)}rect(t,r,o,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function I8(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const o=Math.floor(r);if(!(o>=0))throw new RangeError(`invalid digits: ${r}`);t=o}return e},()=>new Fae(t)}function O8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fW(e){this._context=e}fW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _b(e){return new fW(e)}function hW(e){return e[0]}function gW(e){return e[1]}function xW(e,t){var r=_r(!0),o=null,i=_b,a=null,s=I8(l);e=typeof e=="function"?e:e===void 0?hW:_r(e),t=typeof t=="function"?t:t===void 0?gW:_r(t);function l(c){var d,f=(c=O8(c)).length,p,h=!1,x;for(o==null&&(a=i(x=s())),d=0;d<=f;++d)!(d<f&&r(p=c[d],d,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(p,d,c),+t(p,d,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:_r(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:_r(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:_r(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,o!=null&&(a=i(o)),l):i},l.context=function(c){return arguments.length?(c==null?o=a=null:a=i(o=c),l):o},l}function Qm(e,t,r){var o=null,i=_r(!0),a=null,s=_b,l=null,c=I8(d);e=typeof e=="function"?e:e===void 0?hW:_r(+e),t=typeof t=="function"?t:_r(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?gW:_r(+r);function d(p){var h,x,m,y=(p=O8(p)).length,b,v=!1,C,S=new Array(y),F=new Array(y);for(a==null&&(l=s(C=c())),h=0;h<=y;++h){if(!(h<y&&i(b=p[h],h,p))===v)if(v=!v)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=x;--m)l.point(S[m],F[m]);l.lineEnd(),l.areaEnd()}v&&(S[h]=+e(b,h,p),F[h]=+t(b,h,p),l.point(o?+o(b,h,p):S[h],r?+r(b,h,p):F[h]))}if(C)return l=null,C+""||null}function f(){return xW().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:_r(+p),o=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:_r(+p),d):e},d.x1=function(p){return arguments.length?(o=p==null?null:typeof p=="function"?p:_r(+p),d):o},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:_r(+p),r=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:_r(+p),d):t},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:_r(+p),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(o).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:_r(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),d):a},d}class mW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Aae(e){return new mW(e,!0)}function _ae(e){return new mW(e,!1)}const D8={draw(e,t){const r=Ba(t/$y);e.moveTo(r,0),e.arc(0,0,r,0,Ab)}},Rae={draw(e,t){const r=Ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yW=Ba(1/3),Tae=yW*2,Pae={draw(e,t){const r=Ba(t/Tae),o=r*yW;e.moveTo(0,-r),e.lineTo(o,0),e.lineTo(0,r),e.lineTo(-o,0),e.closePath()}},zae={draw(e,t){const r=Ba(t),o=-r/2;e.rect(o,o,r,r)}},Bae=.8908130915292852,bW=My($y/10)/My(7*$y/10),Iae=My(Ab/10)*bW,Oae=-uW(Ab/10)*bW,Dae={draw(e,t){const r=Ba(t*Bae),o=Iae*r,i=Oae*r;e.moveTo(0,-r),e.lineTo(o,i);for(let a=1;a<5;++a){const s=Ab*a/5,l=uW(s),c=My(s);e.lineTo(c*r,-l*r),e.lineTo(l*o-c*i,c*o+l*i)}e.closePath()}},US=Ba(3),Mae={draw(e,t){const r=-Ba(t/(US*3));e.moveTo(0,r*2),e.lineTo(-US*r,-r),e.lineTo(US*r,-r),e.closePath()}},Si=-.5,wi=Ba(3)/2,LF=1/Ba(12),$ae=(LF/2+1)*3,Nae={draw(e,t){const r=Ba(t/$ae),o=r/2,i=r*LF,a=o,s=r*LF+r,l=-a,c=s;e.moveTo(o,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(Si*o-wi*i,wi*o+Si*i),e.lineTo(Si*a-wi*s,wi*a+Si*s),e.lineTo(Si*l-wi*c,wi*l+Si*c),e.lineTo(Si*o+wi*i,Si*i-wi*o),e.lineTo(Si*a+wi*s,Si*s-wi*a),e.lineTo(Si*l+wi*c,Si*c-wi*l),e.closePath()}};function Lae(e,t){let r=null,o=I8(i);e=typeof e=="function"?e:_r(e||D8),t=typeof t=="function"?t:_r(t===void 0?64:+t);function i(){let a;if(r||(r=a=o()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:_r(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:_r(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ny(){}function Ly(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vW(e){this._context=e}vW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wae(e){return new vW(e)}function jW(e){this._context=e}jW.prototype={areaStart:Ny,areaEnd:Ny,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vae(e){return new jW(e)}function SW(e){this._context=e}SW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,o=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 3:this._point=4;default:Ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uae(e){return new SW(e)}function wW(e){this._context=e}wW.prototype={areaStart:Ny,areaEnd:Ny,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qae(e){return new wW(e)}function AT(e){return e<0?-1:1}function _T(e,t,r){var o=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(o||i<0&&-0),s=(r-e._y1)/(i||o<0&&-0),l=(a*i+s*o)/(o+i);return(AT(a)+AT(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function RT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qS(e,t,r){var o=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-o)/3;e._context.bezierCurveTo(o+l,i+l*t,a-l,s-l*r,a,s)}function Wy(e){this._context=e}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qS(this,this._t0,RT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qS(this,RT(this,r=_T(this,e,t)),r);break;default:qS(this,this._t0,r=_T(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function EW(e){this._context=new CW(e)}(EW.prototype=Object.create(Wy.prototype)).point=function(e,t){Wy.prototype.point.call(this,t,e)};function CW(e){this._context=e}CW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,o,i,a){this._context.bezierCurveTo(t,e,o,r,a,i)}};function Hae(e){return new Wy(e)}function Gae(e){return new EW(e)}function kW(e){this._context=e}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var o=TT(e),i=TT(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(o[0][a],i[0][a],o[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function TT(e){var t,r=e.length-1,o,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)o=i[t]/a[t-1],a[t]-=o,s[t]-=o*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Kae(e){return new kW(e)}function Rb(e,t){this._context=e,this._t=t}Rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Yae(e){return new Rb(e,.5)}function Xae(e){return new Rb(e,0)}function Jae(e){return new Rb(e,1)}function hp(e,t){if((s=e.length)>1)for(var r=1,o,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],o=0;o<l;++o)a[o][1]+=a[o][0]=isNaN(i[o][1])?i[o][0]:i[o][1]}function WF(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Qae(e,t){return e[t]}function Zae(e){const t=[];return t.key=e,t}function ese(){var e=_r([]),t=WF,r=hp,o=Qae;function i(a){var s=Array.from(e.apply(this,arguments),Zae),l,c=s.length,d=-1,f;for(const p of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+o(p,s[l].key,d,a)]).data=p;for(l=0,f=O8(t(s));l<c;++l)s[f[l]].index=l;return r(s,f),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:_r(Array.from(a)),i):e},i.value=function(a){return arguments.length?(o=typeof a=="function"?a:_r(+a),i):o},i.order=function(a){return arguments.length?(t=a==null?WF:typeof a=="function"?a:_r(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??hp,i):r},i}function tse(e,t){if((o=e.length)>0){for(var r,o,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<o;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<o;++r)e[r][i][1]/=s}hp(e,t)}}function rse(e,t){if((i=e.length)>0){for(var r=0,o=e[t[0]],i,a=o.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;o[r][1]+=o[r][0]=-l/2}hp(e,t)}}function nse(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,o=1,i,a,s;o<a;++o){for(var l=0,c=0,d=0;l<s;++l){for(var f=e[t[l]],p=f[o][1]||0,h=f[o-1][1]||0,x=(p-h)/2,m=0;m<l;++m){var y=e[t[m]],b=y[o][1]||0,v=y[o-1][1]||0;x+=b-v}c+=p,d+=x*p}i[o-1][1]+=i[o-1][0]=r,c&&(r-=d/c)}i[o-1][1]+=i[o-1][0]=r,hp(e,t)}}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}var ose=["type","size","sizeType"];function VF(){return VF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},VF.apply(this,arguments)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(o){ise(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function ise(e,t,r){return t=ase(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ase(e){var t=sse(e,"string");return cg(t)=="symbol"?t:t+""}function sse(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(cg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lse(e,t){if(e==null)return{};var r=cse(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function cse(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}var FW={symbolCircle:D8,symbolCross:Rae,symbolDiamond:Pae,symbolSquare:zae,symbolStar:Dae,symbolTriangle:Mae,symbolWye:Nae},dse=Math.PI/180,use=function(t){var r="symbol".concat(Fb(t));return FW[r]||D8},pse=function(t,r,o){if(r==="area")return t;switch(o){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*dse;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fse=function(t,r){FW["symbol".concat(Fb(t))]=r},M8=function(t){var r=t.type,o=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=lse(t,ose),d=zT(zT({},c),{},{type:o,size:a,sizeType:l}),f=function(){var b=use(o),v=Lae().type(b).size(pse(a,l,o));return v()},p=d.className,h=d.cx,x=d.cy,m=xt(d,!0);return h===+h&&x===+x&&a===+a?Y.createElement("path",VF({},m,{className:It("recharts-symbols",p),transform:"translate(".concat(h,", ").concat(x,")"),d:f()})):null};M8.registerSymbol=fse;function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function UF(){return UF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},UF.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function hse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(o){dg(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function gse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xse(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_W(o.key),o)}}function mse(e,t,r){return t&&xse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yse(e,t,r){return t=Vy(t),bse(e,AW()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function bse(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vse(e)}function vse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AW=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function jse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qF(e,t)}function qF(e,t){return qF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},qF(e,t)}function dg(e,t,r){return t=_W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=Sse(e,"string");return gp(t)=="symbol"?t:t+""}function Sse(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(gp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ei=32,$8=(function(e){function t(){return gse(this,t),yse(this,t,arguments)}return jse(t,e),mse(t,[{key:"renderIcon",value:function(o){var i=this.props.inactiveColor,a=Ei/2,s=Ei/6,l=Ei/3,c=o.inactive?i:o.color;if(o.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:o.payload.strokeDasharray,x1:0,y1:a,x2:Ei,y2:a,className:"recharts-legend-icon"});if(o.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ei,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(o.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ei/8,"h").concat(Ei,"v").concat(Ei*3/4,"h").concat(-Ei,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(o.legendIcon)){var d=hse({},o);return delete d.legendIcon,Y.cloneElement(o.legendIcon,d)}return Y.createElement(M8,{fill:c,cx:a,cy:a,size:Ei,sizeType:"diameter",type:o.type})}},{key:"renderItems",value:function(){var o=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:Ei,height:Ei},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,m){var y=x.formatter||c,b=It(dg(dg({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",x.inactive));if(x.type==="none")return null;var v=wt(x.value)?null:x.value;Sa(!wt(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=x.inactive?d:x.color;return Y.createElement("li",UF({className:b,style:p,key:"legend-item-".concat(m)},wd(o.props,x,m)),Y.createElement(DF,{width:s,height:s,viewBox:f,style:h},o.renderIcon(x)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},y?y(v,x,m):v))})}},{key:"render",value:function(){var o=this.props,i=o.payload,a=o.layout,s=o.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(A.PureComponent);dg($8,"displayName","Legend");dg($8,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var HS,IT;function wse(){if(IT)return HS;IT=1;var e=Eb();function t(){this.__data__=new e,this.size=0}return HS=t,HS}var GS,OT;function Ese(){if(OT)return GS;OT=1;function e(t){var r=this.__data__,o=r.delete(t);return this.size=r.size,o}return GS=e,GS}var KS,DT;function Cse(){if(DT)return KS;DT=1;function e(t){return this.__data__.get(t)}return KS=e,KS}var YS,MT;function kse(){if(MT)return YS;MT=1;function e(t){return this.__data__.has(t)}return YS=e,YS}var XS,$T;function Fse(){if($T)return XS;$T=1;var e=Eb(),t=_8(),r=R8(),o=200;function i(a,s){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<o-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,s),this.size=l.size,this}return XS=i,XS}var JS,NT;function RW(){if(NT)return JS;NT=1;var e=Eb(),t=wse(),r=Ese(),o=Cse(),i=kse(),a=Fse();function s(l){var c=this.__data__=new e(l);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=o,s.prototype.has=i,s.prototype.set=a,JS=s,JS}var QS,LT;function Ase(){if(LT)return QS;LT=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return QS=t,QS}var ZS,WT;function _se(){if(WT)return ZS;WT=1;function e(t){return this.__data__.has(t)}return ZS=e,ZS}var ew,VT;function TW(){if(VT)return ew;VT=1;var e=R8(),t=Ase(),r=_se();function o(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new e;++a<s;)this.add(i[a])}return o.prototype.add=o.prototype.push=t,o.prototype.has=r,ew=o,ew}var tw,UT;function PW(){if(UT)return tw;UT=1;function e(t,r){for(var o=-1,i=t==null?0:t.length;++o<i;)if(r(t[o],o,t))return!0;return!1}return tw=e,tw}var rw,qT;function zW(){if(qT)return rw;qT=1;function e(t,r){return t.has(r)}return rw=e,rw}var nw,HT;function BW(){if(HT)return nw;HT=1;var e=TW(),t=PW(),r=zW(),o=1,i=2;function a(s,l,c,d,f,p){var h=c&o,x=s.length,m=l.length;if(x!=m&&!(h&&m>x))return!1;var y=p.get(s),b=p.get(l);if(y&&b)return y==l&&b==s;var v=-1,C=!0,S=c&i?new e:void 0;for(p.set(s,l),p.set(l,s);++v<x;){var F=s[v],w=l[v];if(d)var k=h?d(w,F,v,l,s,p):d(F,w,v,s,l,p);if(k!==void 0){if(k)continue;C=!1;break}if(S){if(!t(l,function(E,T){if(!r(S,T)&&(F===E||f(F,E,c,d,p)))return S.push(T)})){C=!1;break}}else if(!(F===w||f(F,w,c,d,p))){C=!1;break}}return p.delete(s),p.delete(l),C}return nw=a,nw}var ow,GT;function Rse(){if(GT)return ow;GT=1;var e=xs(),t=e.Uint8Array;return ow=t,ow}var iw,KT;function Tse(){if(KT)return iw;KT=1;function e(t){var r=-1,o=Array(t.size);return t.forEach(function(i,a){o[++r]=[a,i]}),o}return iw=e,iw}var aw,YT;function N8(){if(YT)return aw;YT=1;function e(t){var r=-1,o=Array(t.size);return t.forEach(function(i){o[++r]=i}),o}return aw=e,aw}var sw,XT;function Pse(){if(XT)return sw;XT=1;var e=mx(),t=Rse(),r=A8(),o=BW(),i=Tse(),a=N8(),s=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",h="[object Number]",x="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",v="[object ArrayBuffer]",C="[object DataView]",S=e?e.prototype:void 0,F=S?S.valueOf:void 0;function w(k,E,T,_,z,B,P){switch(T){case C:if(k.byteLength!=E.byteLength||k.byteOffset!=E.byteOffset)return!1;k=k.buffer,E=E.buffer;case v:return!(k.byteLength!=E.byteLength||!B(new t(k),new t(E)));case c:case d:case h:return r(+k,+E);case f:return k.name==E.name&&k.message==E.message;case x:case y:return k==E+"";case p:var D=i;case m:var I=_&s;if(D||(D=a),k.size!=E.size&&!I)return!1;var N=P.get(k);if(N)return N==E;_|=l,P.set(k,E);var M=o(D(k),D(E),_,z,B,P);return P.delete(k),M;case b:if(F)return F.call(k)==F.call(E)}return!1}return sw=w,sw}var lw,JT;function IW(){if(JT)return lw;JT=1;function e(t,r){for(var o=-1,i=r.length,a=t.length;++o<i;)t[a+o]=r[o];return t}return lw=e,lw}var cw,QT;function zse(){if(QT)return cw;QT=1;var e=IW(),t=Lo();function r(o,i,a){var s=i(o);return t(o)?s:e(s,a(o))}return cw=r,cw}var dw,ZT;function Bse(){if(ZT)return dw;ZT=1;function e(t,r){for(var o=-1,i=t==null?0:t.length,a=0,s=[];++o<i;){var l=t[o];r(l,o,t)&&(s[a++]=l)}return s}return dw=e,dw}var uw,eP;function Ise(){if(eP)return uw;eP=1;function e(){return[]}return uw=e,uw}var pw,tP;function Ose(){if(tP)return pw;tP=1;var e=Bse(),t=Ise(),r=Object.prototype,o=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(l){return o.call(s,l)}))}:t;return pw=a,pw}var fw,rP;function Dse(){if(rP)return fw;rP=1;function e(t,r){for(var o=-1,i=Array(t);++o<t;)i[o]=r(o);return i}return fw=e,fw}var hw,nP;function Mse(){if(nP)return hw;nP=1;var e=ll(),t=cl(),r="[object Arguments]";function o(i){return t(i)&&e(i)==r}return hw=o,hw}var gw,oP;function L8(){if(oP)return gw;oP=1;var e=Mse(),t=cl(),r=Object.prototype,o=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(s){return t(s)&&o.call(s,"callee")&&!i.call(s,"callee")};return gw=a,gw}var Fh={exports:{}},xw,iP;function $se(){if(iP)return xw;iP=1;function e(){return!1}return xw=e,xw}Fh.exports;var aP;function OW(){return aP||(aP=1,(function(e,t){var r=xs(),o=$se(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||o;e.exports=d})(Fh,Fh.exports)),Fh.exports}var mw,sP;function W8(){if(sP)return mw;sP=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(o,i){var a=typeof o;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(o))&&o>-1&&o%1==0&&o<i}return mw=r,mw}var yw,lP;function V8(){if(lP)return yw;lP=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return yw=t,yw}var bw,cP;function Nse(){if(cP)return bw;cP=1;var e=ll(),t=V8(),r=cl(),o="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object RegExp]",x="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",v="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",F="[object Int8Array]",w="[object Int16Array]",k="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",_="[object Uint16Array]",z="[object Uint32Array]",B={};B[C]=B[S]=B[F]=B[w]=B[k]=B[E]=B[T]=B[_]=B[z]=!0,B[o]=B[i]=B[b]=B[a]=B[v]=B[s]=B[l]=B[c]=B[d]=B[f]=B[p]=B[h]=B[x]=B[m]=B[y]=!1;function P(D){return r(D)&&t(D.length)&&!!B[e(D)]}return bw=P,bw}var vw,dP;function DW(){if(dP)return vw;dP=1;function e(t){return function(r){return t(r)}}return vw=e,vw}var Ah={exports:{}};Ah.exports;var uP;function Lse(){return uP||(uP=1,(function(e,t){var r=nW(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();e.exports=l})(Ah,Ah.exports)),Ah.exports}var jw,pP;function MW(){if(pP)return jw;pP=1;var e=Nse(),t=DW(),r=Lse(),o=r&&r.isTypedArray,i=o?t(o):e;return jw=i,jw}var Sw,fP;function Wse(){if(fP)return Sw;fP=1;var e=Dse(),t=L8(),r=Lo(),o=OW(),i=W8(),a=MW(),s=Object.prototype,l=s.hasOwnProperty;function c(d,f){var p=r(d),h=!p&&t(d),x=!p&&!h&&o(d),m=!p&&!h&&!x&&a(d),y=p||h||x||m,b=y?e(d.length,String):[],v=b.length;for(var C in d)(f||l.call(d,C))&&!(y&&(C=="length"||x&&(C=="offset"||C=="parent")||m&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,v)))&&b.push(C);return b}return Sw=c,Sw}var ww,hP;function Vse(){if(hP)return ww;hP=1;var e=Object.prototype;function t(r){var o=r&&r.constructor,i=typeof o=="function"&&o.prototype||e;return r===i}return ww=t,ww}var Ew,gP;function $W(){if(gP)return Ew;gP=1;function e(t,r){return function(o){return t(r(o))}}return Ew=e,Ew}var Cw,xP;function Use(){if(xP)return Cw;xP=1;var e=$W(),t=e(Object.keys,Object);return Cw=t,Cw}var kw,mP;function qse(){if(mP)return kw;mP=1;var e=Vse(),t=Use(),r=Object.prototype,o=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var s=[];for(var l in Object(a))o.call(a,l)&&l!="constructor"&&s.push(l);return s}return kw=i,kw}var Fw,yP;function vx(){if(yP)return Fw;yP=1;var e=F8(),t=V8();function r(o){return o!=null&&t(o.length)&&!e(o)}return Fw=r,Fw}var Aw,bP;function Tb(){if(bP)return Aw;bP=1;var e=Wse(),t=qse(),r=vx();function o(i){return r(i)?e(i):t(i)}return Aw=o,Aw}var _w,vP;function Hse(){if(vP)return _w;vP=1;var e=zse(),t=Ose(),r=Tb();function o(i){return e(i,r,t)}return _w=o,_w}var Rw,jP;function Gse(){if(jP)return Rw;jP=1;var e=Hse(),t=1,r=Object.prototype,o=r.hasOwnProperty;function i(a,s,l,c,d,f){var p=l&t,h=e(a),x=h.length,m=e(s),y=m.length;if(x!=y&&!p)return!1;for(var b=x;b--;){var v=h[b];if(!(p?v in s:o.call(s,v)))return!1}var C=f.get(a),S=f.get(s);if(C&&S)return C==s&&S==a;var F=!0;f.set(a,s),f.set(s,a);for(var w=p;++b<x;){v=h[b];var k=a[v],E=s[v];if(c)var T=p?c(E,k,v,s,a,f):c(k,E,v,a,s,f);if(!(T===void 0?k===E||d(k,E,l,c,f):T)){F=!1;break}w||(w=v=="constructor")}if(F&&!w){var _=a.constructor,z=s.constructor;_!=z&&"constructor"in a&&"constructor"in s&&!(typeof _=="function"&&_ instanceof _&&typeof z=="function"&&z instanceof z)&&(F=!1)}return f.delete(a),f.delete(s),F}return Rw=i,Rw}var Tw,SP;function Kse(){if(SP)return Tw;SP=1;var e=Bd(),t=xs(),r=e(t,"DataView");return Tw=r,Tw}var Pw,wP;function Yse(){if(wP)return Pw;wP=1;var e=Bd(),t=xs(),r=e(t,"Promise");return Pw=r,Pw}var zw,EP;function NW(){if(EP)return zw;EP=1;var e=Bd(),t=xs(),r=e(t,"Set");return zw=r,zw}var Bw,CP;function Xse(){if(CP)return Bw;CP=1;var e=Bd(),t=xs(),r=e(t,"WeakMap");return Bw=r,Bw}var Iw,kP;function Jse(){if(kP)return Iw;kP=1;var e=Kse(),t=_8(),r=Yse(),o=NW(),i=Xse(),a=ll(),s=oW(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",x=s(e),m=s(t),y=s(r),b=s(o),v=s(i),C=a;return(e&&C(new e(new ArrayBuffer(1)))!=h||t&&C(new t)!=l||r&&C(r.resolve())!=d||o&&C(new o)!=f||i&&C(new i)!=p)&&(C=function(S){var F=a(S),w=F==c?S.constructor:void 0,k=w?s(w):"";if(k)switch(k){case x:return h;case m:return l;case y:return d;case b:return f;case v:return p}return F}),Iw=C,Iw}var Ow,FP;function Qse(){if(FP)return Ow;FP=1;var e=RW(),t=BW(),r=Pse(),o=Gse(),i=Jse(),a=Lo(),s=OW(),l=MW(),c=1,d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype,x=h.hasOwnProperty;function m(y,b,v,C,S,F){var w=a(y),k=a(b),E=w?f:i(y),T=k?f:i(b);E=E==d?p:E,T=T==d?p:T;var _=E==p,z=T==p,B=E==T;if(B&&s(y)){if(!s(b))return!1;w=!0,_=!1}if(B&&!_)return F||(F=new e),w||l(y)?t(y,b,v,C,S,F):r(y,b,E,v,C,S,F);if(!(v&c)){var P=_&&x.call(y,"__wrapped__"),D=z&&x.call(b,"__wrapped__");if(P||D){var I=P?y.value():y,N=D?b.value():b;return F||(F=new e),S(I,N,v,C,F)}}return B?(F||(F=new e),o(y,b,v,C,S,F)):!1}return Ow=m,Ow}var Dw,AP;function U8(){if(AP)return Dw;AP=1;var e=Qse(),t=cl();function r(o,i,a,s,l){return o===i?!0:o==null||i==null||!t(o)&&!t(i)?o!==o&&i!==i:e(o,i,a,s,r,l)}return Dw=r,Dw}var Mw,_P;function Zse(){if(_P)return Mw;_P=1;var e=RW(),t=U8(),r=1,o=2;function i(a,s,l,c){var d=l.length,f=d,p=!c;if(a==null)return!f;for(a=Object(a);d--;){var h=l[d];if(p&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++d<f;){h=l[d];var x=h[0],m=a[x],y=h[1];if(p&&h[2]){if(m===void 0&&!(x in a))return!1}else{var b=new e;if(c)var v=c(m,y,x,a,s,b);if(!(v===void 0?t(y,m,r|o,c,b):v))return!1}}return!0}return Mw=i,Mw}var $w,RP;function LW(){if(RP)return $w;RP=1;var e=xc();function t(r){return r===r&&!e(r)}return $w=t,$w}var Nw,TP;function ele(){if(TP)return Nw;TP=1;var e=LW(),t=Tb();function r(o){for(var i=t(o),a=i.length;a--;){var s=i[a],l=o[s];i[a]=[s,l,e(l)]}return i}return Nw=r,Nw}var Lw,PP;function WW(){if(PP)return Lw;PP=1;function e(t,r){return function(o){return o==null?!1:o[t]===r&&(r!==void 0||t in Object(o))}}return Lw=e,Lw}var Ww,zP;function tle(){if(zP)return Ww;zP=1;var e=Zse(),t=ele(),r=WW();function o(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||e(s,i,a)}}return Ww=o,Ww}var Vw,BP;function rle(){if(BP)return Vw;BP=1;function e(t,r){return t!=null&&r in Object(t)}return Vw=e,Vw}var Uw,IP;function nle(){if(IP)return Uw;IP=1;var e=sW(),t=L8(),r=Lo(),o=W8(),i=V8(),a=kb();function s(l,c,d){c=e(c,l);for(var f=-1,p=c.length,h=!1;++f<p;){var x=a(c[f]);if(!(h=l!=null&&d(l,x)))break;l=l[x]}return h||++f!=p?h:(p=l==null?0:l.length,!!p&&i(p)&&o(x,p)&&(r(l)||t(l)))}return Uw=s,Uw}var qw,OP;function ole(){if(OP)return qw;OP=1;var e=rle(),t=nle();function r(o,i){return o!=null&&t(o,i,e)}return qw=r,qw}var Hw,DP;function ile(){if(DP)return Hw;DP=1;var e=U8(),t=lW(),r=ole(),o=k8(),i=LW(),a=WW(),s=kb(),l=1,c=2;function d(f,p){return o(f)&&i(p)?a(s(f),p):function(h){var x=t(h,f);return x===void 0&&x===p?r(h,f):e(p,x,l|c)}}return Hw=d,Hw}var Gw,MP;function ef(){if(MP)return Gw;MP=1;function e(t){return t}return Gw=e,Gw}var Kw,$P;function ale(){if($P)return Kw;$P=1;function e(t){return function(r){return r==null?void 0:r[t]}}return Kw=e,Kw}var Yw,NP;function sle(){if(NP)return Yw;NP=1;var e=P8();function t(r){return function(o){return e(o,r)}}return Yw=t,Yw}var Xw,LP;function lle(){if(LP)return Xw;LP=1;var e=ale(),t=sle(),r=k8(),o=kb();function i(a){return r(a)?e(o(a)):t(a)}return Xw=i,Xw}var Jw,WP;function ms(){if(WP)return Jw;WP=1;var e=tle(),t=ile(),r=ef(),o=Lo(),i=lle();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?o(s)?t(s[0],s[1]):e(s):i(s)}return Jw=a,Jw}var Qw,VP;function VW(){if(VP)return Qw;VP=1;function e(t,r,o,i){for(var a=t.length,s=o+(i?1:-1);i?s--:++s<a;)if(r(t[s],s,t))return s;return-1}return Qw=e,Qw}var Zw,UP;function cle(){if(UP)return Zw;UP=1;function e(t){return t!==t}return Zw=e,Zw}var eE,qP;function dle(){if(qP)return eE;qP=1;function e(t,r,o){for(var i=o-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return eE=e,eE}var tE,HP;function ule(){if(HP)return tE;HP=1;var e=VW(),t=cle(),r=dle();function o(i,a,s){return a===a?r(i,a,s):e(i,t,s)}return tE=o,tE}var rE,GP;function ple(){if(GP)return rE;GP=1;var e=ule();function t(r,o){var i=r==null?0:r.length;return!!i&&e(r,o,0)>-1}return rE=t,rE}var nE,KP;function fle(){if(KP)return nE;KP=1;function e(t,r,o){for(var i=-1,a=t==null?0:t.length;++i<a;)if(o(r,t[i]))return!0;return!1}return nE=e,nE}var oE,YP;function hle(){if(YP)return oE;YP=1;function e(){}return oE=e,oE}var iE,XP;function gle(){if(XP)return iE;XP=1;var e=NW(),t=hle(),r=N8(),o=1/0,i=e&&1/r(new e([,-0]))[1]==o?function(a){return new e(a)}:t;return iE=i,iE}var aE,JP;function xle(){if(JP)return aE;JP=1;var e=TW(),t=ple(),r=fle(),o=zW(),i=gle(),a=N8(),s=200;function l(c,d,f){var p=-1,h=t,x=c.length,m=!0,y=[],b=y;if(f)m=!1,h=r;else if(x>=s){var v=d?null:i(c);if(v)return a(v);m=!1,h=o,b=new e}else b=d?[]:y;e:for(;++p<x;){var C=c[p],S=d?d(C):C;if(C=f||C!==0?C:0,m&&S===S){for(var F=b.length;F--;)if(b[F]===S)continue e;d&&b.push(S),y.push(C)}else h(b,S,f)||(b!==y&&b.push(S),y.push(C))}return y}return aE=l,aE}var sE,QP;function mle(){if(QP)return sE;QP=1;var e=ms(),t=xle();function r(o,i){return o&&o.length?t(o,e(i,2)):[]}return sE=r,sE}var yle=mle();const ZP=nr(yle);function UW(e,t,r){return t===!0?ZP(e,r):wt(t)?ZP(e,t):e}function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}var ble=["ref"];function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ez(Object(r),!0).forEach(function(o){Pb(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function vle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tz(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,HW(o.key),o)}}function jle(e,t,r){return t&&tz(e.prototype,t),r&&tz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sle(e,t,r){return t=Uy(t),wle(e,qW()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function wle(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ele(e)}function Ele(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function Cle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HF(e,t)}function HF(e,t){return HF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},HF(e,t)}function Pb(e,t,r){return t=HW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=kle(e,"string");return xp(t)=="symbol"?t:t+""}function kle(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(xp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fle(e,t){if(e==null)return{};var r=Ale(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Ale(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function _le(e){return e.value}function Rle(e,t){if(Y.isValidElement(e))return Y.cloneElement(e,t);if(typeof e=="function")return Y.createElement(e,t);t.ref;var r=Fle(t,ble);return Y.createElement($8,r)}var rz=1,sc=(function(e){function t(){var r;vle(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Sle(this,t,[].concat(i)),Pb(r,"lastBoundingBox",{width:-1,height:-1}),r}return Cle(t,e),jle(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();return o.height=this.wrapperNode.offsetHeight,o.width=this.wrapperNode.offsetWidth,o}return null}},{key:"updateBBox",value:function(){var o=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>rz||Math.abs(i.height-this.lastBoundingBox.height)>rz)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,o&&o(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,o&&o(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(o){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,p,h;if(!o||(o.left===void 0||o.left===null)&&(o.right===void 0||o.right===null))if(s==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();p={left:((d||0)-x.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!o||(o.top===void 0||o.top===null)&&(o.bottom===void 0||o.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Rs(Rs({},p),h)}},{key:"render",value:function(){var o=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,p=Rs(Rs({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(x){o.wrapperNode=x}},Rle(a,Rs(Rs({},this.props),{},{payload:UW(f,d,_le)})))}}],[{key:"getWithHeight",value:function(o,i){var a=Rs(Rs({},this.defaultProps),o.props),s=a.layout;return s==="vertical"&&Me(o.props.height)?{height:o.props.height}:s==="horizontal"?{width:o.props.width||i}:null}}])})(A.PureComponent);Pb(sc,"displayName","Legend");Pb(sc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lE,nz;function Tle(){if(nz)return lE;nz=1;var e=mx(),t=L8(),r=Lo(),o=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(o&&a&&a[o])}return lE=i,lE}var cE,oz;function GW(){if(oz)return cE;oz=1;var e=IW(),t=Tle();function r(o,i,a,s,l){var c=-1,d=o.length;for(a||(a=t),l||(l=[]);++c<d;){var f=o[c];i>0&&a(f)?i>1?r(f,i-1,a,s,l):e(l,f):s||(l[l.length]=f)}return l}return cE=r,cE}var dE,iz;function Ple(){if(iz)return dE;iz=1;function e(t){return function(r,o,i){for(var a=-1,s=Object(r),l=i(r),c=l.length;c--;){var d=l[t?c:++a];if(o(s[d],d,s)===!1)break}return r}}return dE=e,dE}var uE,az;function zle(){if(az)return uE;az=1;var e=Ple(),t=e();return uE=t,uE}var pE,sz;function KW(){if(sz)return pE;sz=1;var e=zle(),t=Tb();function r(o,i){return o&&e(o,i,t)}return pE=r,pE}var fE,lz;function Ble(){if(lz)return fE;lz=1;var e=vx();function t(r,o){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var s=i.length,l=o?s:-1,c=Object(i);(o?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return fE=t,fE}var hE,cz;function q8(){if(cz)return hE;cz=1;var e=KW(),t=Ble(),r=t(e);return hE=r,hE}var gE,dz;function YW(){if(dz)return gE;dz=1;var e=q8(),t=vx();function r(o,i){var a=-1,s=t(o)?Array(o.length):[];return e(o,function(l,c,d){s[++a]=i(l,c,d)}),s}return gE=r,gE}var xE,uz;function Ile(){if(uz)return xE;uz=1;function e(t,r){var o=t.length;for(t.sort(r);o--;)t[o]=t[o].value;return t}return xE=e,xE}var mE,pz;function Ole(){if(pz)return mE;pz=1;var e=Jp();function t(r,o){if(r!==o){var i=r!==void 0,a=r===null,s=r===r,l=e(r),c=o!==void 0,d=o===null,f=o===o,p=e(o);if(!d&&!p&&!l&&r>o||l&&c&&f&&!d&&!p||a&&c&&f||!i&&f||!s)return 1;if(!a&&!l&&!p&&r<o||p&&i&&s&&!a&&!l||d&&i&&s||!c&&s||!f)return-1}return 0}return mE=t,mE}var yE,fz;function Dle(){if(fz)return yE;fz=1;var e=Ole();function t(r,o,i){for(var a=-1,s=r.criteria,l=o.criteria,c=s.length,d=i.length;++a<c;){var f=e(s[a],l[a]);if(f){if(a>=d)return f;var p=i[a];return f*(p=="desc"?-1:1)}}return r.index-o.index}return yE=t,yE}var bE,hz;function Mle(){if(hz)return bE;hz=1;var e=T8(),t=P8(),r=ms(),o=YW(),i=Ile(),a=DW(),s=Dle(),l=ef(),c=Lo();function d(f,p,h){p.length?p=e(p,function(y){return c(y)?function(b){return t(b,y.length===1?y[0]:y)}:y}):p=[l];var x=-1;p=e(p,a(r));var m=o(f,function(y,b,v){var C=e(p,function(S){return S(y)});return{criteria:C,index:++x,value:y}});return i(m,function(y,b){return s(y,b,h)})}return bE=d,bE}var vE,gz;function $le(){if(gz)return vE;gz=1;function e(t,r,o){switch(o.length){case 0:return t.call(r);case 1:return t.call(r,o[0]);case 2:return t.call(r,o[0],o[1]);case 3:return t.call(r,o[0],o[1],o[2])}return t.apply(r,o)}return vE=e,vE}var jE,xz;function Nle(){if(xz)return jE;xz=1;var e=$le(),t=Math.max;function r(o,i,a){return i=t(i===void 0?o.length-1:i,0),function(){for(var s=arguments,l=-1,c=t(s.length-i,0),d=Array(c);++l<c;)d[l]=s[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=s[l];return f[i]=a(d),e(o,this,f)}}return jE=r,jE}var SE,mz;function Lle(){if(mz)return SE;mz=1;function e(t){return function(){return t}}return SE=e,SE}var wE,yz;function XW(){if(yz)return wE;yz=1;var e=Bd(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return wE=t,wE}var EE,bz;function Wle(){if(bz)return EE;bz=1;var e=Lle(),t=XW(),r=ef(),o=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return EE=o,EE}var CE,vz;function Vle(){if(vz)return CE;vz=1;var e=800,t=16,r=Date.now;function o(i){var a=0,s=0;return function(){var l=r(),c=t-(l-s);if(s=l,c>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return CE=o,CE}var kE,jz;function Ule(){if(jz)return kE;jz=1;var e=Wle(),t=Vle(),r=t(e);return kE=r,kE}var FE,Sz;function qle(){if(Sz)return FE;Sz=1;var e=ef(),t=Nle(),r=Ule();function o(i,a){return r(t(i,a,e),i+"")}return FE=o,FE}var AE,wz;function zb(){if(wz)return AE;wz=1;var e=A8(),t=vx(),r=W8(),o=xc();function i(a,s,l){if(!o(l))return!1;var c=typeof s;return(c=="number"?t(l)&&r(s,l.length):c=="string"&&s in l)?e(l[s],a):!1}return AE=i,AE}var _E,Ez;function Hle(){if(Ez)return _E;Ez=1;var e=GW(),t=Mle(),r=qle(),o=zb(),i=r(function(a,s){if(a==null)return[];var l=s.length;return l>1&&o(a,s[0],s[1])?s=[]:l>2&&o(s[0],s[1],s[2])&&(s=[s[0]]),t(a,e(s,1),[])});return _E=i,_E}var Gle=Hle();const H8=nr(Gle);function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function GF(){return GF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},GF.apply(this,arguments)}function Kle(e,t){return Qle(e)||Jle(e,t)||Xle(e,t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(e,t){if(e){if(typeof e=="string")return Cz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cz(e,t)}}function Cz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Jle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Qle(e){if(Array.isArray(e))return e}function kz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function RE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kz(Object(r),!0).forEach(function(o){Zle(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kz(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Zle(e,t,r){return t=ece(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ece(e){var t=tce(e,"string");return ug(t)=="symbol"?t:t+""}function tce(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(ug(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rce(e){return Array.isArray(e)&&An(e[0])&&An(e[1])?e.join(" ~ "):e}var nce=function(t){var r=t.separator,o=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,d=c===void 0?{}:c,f=t.payload,p=t.formatter,h=t.itemSorter,x=t.wrapperClassName,m=t.labelClassName,y=t.label,b=t.labelFormatter,v=t.accessibilityLayer,C=v===void 0?!1:v,S=function(){if(f&&f.length){var P={padding:0,margin:0},D=(h?H8(f,h):f).map(function(I,N){if(I.type==="none")return null;var M=RE({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),V=I.formatter||p||rce,L=I.value,W=I.name,G=L,U=W;if(V&&G!=null&&U!=null){var H=V(L,W,I,N,f);if(Array.isArray(H)){var K=Kle(H,2);G=K[0],U=K[1]}else G=H}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:M},An(U)?Y.createElement("span",{className:"recharts-tooltip-item-name"},U):null,An(U)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},G),Y.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},F=RE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=RE({margin:0},d),k=!Tt(y),E=k?y:"",T=It("recharts-default-tooltip",x),_=It("recharts-tooltip-label",m);k&&b&&f!==void 0&&f!==null&&(E=b(y,f));var z=C?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",GF({className:T,style:F},z),Y.createElement("p",{className:_,style:w},Y.isValidElement(E)?E:"".concat(E)),S())};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function Zm(e,t,r){return t=oce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oce(e){var t=ice(e,"string");return pg(t)=="symbol"?t:t+""}function ice(e,t){if(pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(pg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xf="recharts-tooltip-wrapper",ace={visibility:"hidden"};function sce(e){var t=e.coordinate,r=e.translateX,o=e.translateY;return It(Xf,Zm(Zm(Zm(Zm({},"".concat(Xf,"-right"),Me(r)&&t&&Me(t.x)&&r>=t.x),"".concat(Xf,"-left"),Me(r)&&t&&Me(t.x)&&r<t.x),"".concat(Xf,"-bottom"),Me(o)&&t&&Me(t.y)&&o>=t.y),"".concat(Xf,"-top"),Me(o)&&t&&Me(t.y)&&o<t.y))}function Fz(e){var t=e.allowEscapeViewBox,r=e.coordinate,o=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&Me(a[o]))return a[o];var f=r[o]-l-i,p=r[o]+i;if(t[o])return s[o]?f:p;if(s[o]){var h=f,x=c[o];return h<x?Math.max(p,c[o]):Math.max(f,c[o])}var m=p+l,y=c[o]+d;return m>y?Math.max(f,c[o]):Math.max(p,c[o])}function lce(e){var t=e.translateX,r=e.translateY,o=e.useTranslate3d;return{transform:o?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cce(e){var t=e.allowEscapeViewBox,r=e.coordinate,o=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,f,p;return s.height>0&&s.width>0&&r?(f=Fz({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:o,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=Fz({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:o,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=lce({translateX:f,translateY:p,useTranslate3d:l})):d=ace,{cssProperties:d,cssClasses:sce({translateX:f,translateY:p,coordinate:r})}}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function Az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function _z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Az(Object(r),!0).forEach(function(o){YF(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Az(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function dce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uce(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,QW(o.key),o)}}function pce(e,t,r){return t&&uce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fce(e,t,r){return t=qy(t),hce(e,JW()?Reflect.construct(t,r||[],qy(e).constructor):t.apply(e,r))}function hce(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gce(e)}function gce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(e)}function xce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KF(e,t)}function KF(e,t){return KF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},KF(e,t)}function YF(e,t,r){return t=QW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=mce(e,"string");return mp(t)=="symbol"?t:t+""}function mce(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(mp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rz=1,yce=(function(e){function t(){var r;dce(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=fce(this,t,[].concat(i)),YF(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),YF(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return xce(t,e),pce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.state.lastBoundingBox.width)>Rz||Math.abs(o.height-this.state.lastBoundingBox.height)>Rz)&&this.setState({lastBoundingBox:{width:o.width,height:o.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var o,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((o=this.props.coordinate)===null||o===void 0?void 0:o.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var o=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,p=i.hasPayload,h=i.isAnimationActive,x=i.offset,m=i.position,y=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,C=i.wrapperStyle,S=cce({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:x,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),F=S.cssClasses,w=S.cssProperties,k=_z(_z({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},C);return Y.createElement("div",{tabIndex:-1,className:F,style:k,ref:function(T){o.wrapperNode=T}},d)}}])})(A.PureComponent),bce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Id={isSsr:bce()};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Pz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(o){G8(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function vce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jce(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,eV(o.key),o)}}function Sce(e,t,r){return t&&jce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wce(e,t,r){return t=Hy(t),Ece(e,ZW()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function Ece(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(e)}function Cce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function kce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XF(e,t)}function XF(e,t){return XF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},XF(e,t)}function G8(e,t,r){return t=eV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=Fce(e,"string");return yp(t)=="symbol"?t:t+""}function Fce(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(yp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ace(e){return e.dataKey}function _ce(e,t){return Y.isValidElement(e)?Y.cloneElement(e,t):typeof e=="function"?Y.createElement(e,t):Y.createElement(nce,t)}var Bn=(function(e){function t(){return vce(this,t),wce(this,t,arguments)}return kce(t,e),Sce(t,[{key:"render",value:function(){var o=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,p=i.filterNull,h=i.isAnimationActive,x=i.offset,m=i.payload,y=i.payloadUniqBy,b=i.position,v=i.reverseDirection,C=i.useTranslate3d,S=i.viewBox,F=i.wrapperStyle,w=m??[];p&&w.length&&(w=UW(m.filter(function(E){return E.value!=null&&(E.hide!==!0||o.props.includeHidden)}),y,Ace));var k=w.length>0;return Y.createElement(yce,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:f,hasPayload:k,offset:x,position:b,reverseDirection:v,useTranslate3d:C,viewBox:S,wrapperStyle:F},_ce(d,Pz(Pz({},this.props),{},{payload:w})))}}])})(A.PureComponent);G8(Bn,"displayName","Tooltip");G8(Bn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Id.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var TE,zz;function Rce(){if(zz)return TE;zz=1;var e=xs(),t=function(){return e.Date.now()};return TE=t,TE}var PE,Bz;function Tce(){if(Bz)return PE;Bz=1;var e=/\s/;function t(r){for(var o=r.length;o--&&e.test(r.charAt(o)););return o}return PE=t,PE}var zE,Iz;function Pce(){if(Iz)return zE;Iz=1;var e=Tce(),t=/^\s+/;function r(o){return o&&o.slice(0,e(o)+1).replace(t,"")}return zE=r,zE}var BE,Oz;function tV(){if(Oz)return BE;Oz=1;var e=Pce(),t=xc(),r=Jp(),o=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return o;if(t(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=t(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=e(d);var p=a.test(d);return p||s.test(d)?l(d.slice(2),p?2:8):i.test(d)?o:+d}return BE=c,BE}var IE,Dz;function zce(){if(Dz)return IE;Dz=1;var e=xc(),t=Rce(),r=tV(),o="Expected a function",i=Math.max,a=Math.min;function s(l,c,d){var f,p,h,x,m,y,b=0,v=!1,C=!1,S=!0;if(typeof l!="function")throw new TypeError(o);c=r(c)||0,e(d)&&(v=!!d.leading,C="maxWait"in d,h=C?i(r(d.maxWait)||0,c):h,S="trailing"in d?!!d.trailing:S);function F(D){var I=f,N=p;return f=p=void 0,b=D,x=l.apply(N,I),x}function w(D){return b=D,m=setTimeout(T,c),v?F(D):x}function k(D){var I=D-y,N=D-b,M=c-I;return C?a(M,h-N):M}function E(D){var I=D-y,N=D-b;return y===void 0||I>=c||I<0||C&&N>=h}function T(){var D=t();if(E(D))return _(D);m=setTimeout(T,k(D))}function _(D){return m=void 0,S&&f?F(D):(f=p=void 0,x)}function z(){m!==void 0&&clearTimeout(m),b=0,f=y=p=m=void 0}function B(){return m===void 0?x:_(t())}function P(){var D=t(),I=E(D);if(f=arguments,p=this,y=D,I){if(m===void 0)return w(y);if(C)return clearTimeout(m),m=setTimeout(T,c),F(y)}return m===void 0&&(m=setTimeout(T,c)),x}return P.cancel=z,P.flush=B,P}return IE=s,IE}var OE,Mz;function Bce(){if(Mz)return OE;Mz=1;var e=zce(),t=xc(),r="Expected a function";function o(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return t(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),e(i,a,{leading:l,maxWait:a,trailing:c})}return OE=o,OE}var Ice=Bce();const rV=nr(Ice);function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function $z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function e0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$z(Object(r),!0).forEach(function(o){Oce(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$z(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Oce(e,t,r){return t=Dce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dce(e){var t=Mce(e,"string");return fg(t)=="symbol"?t:t+""}function Mce(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(fg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ce(e,t){return Vce(e)||Wce(e,t)||Lce(e,t)||Nce()}function Nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lce(e,t){if(e){if(typeof e=="string")return Nz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nz(e,t)}}function Nz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Wce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Vce(e){if(Array.isArray(e))return e}var os=A.forwardRef(function(e,t){var r=e.aspect,o=e.initialDimension,i=o===void 0?{width:-1,height:-1}:o,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,f=d===void 0?0:d,p=e.minHeight,h=e.maxHeight,x=e.children,m=e.debounce,y=m===void 0?0:m,b=e.id,v=e.className,C=e.onResize,S=e.style,F=S===void 0?{}:S,w=A.useRef(null),k=A.useRef();k.current=C,A.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=A.useState({containerWidth:i.width,containerHeight:i.height}),T=$ce(E,2),_=T[0],z=T[1],B=A.useCallback(function(D,I){z(function(N){var M=Math.round(D),V=Math.round(I);return N.containerWidth===M&&N.containerHeight===V?N:{containerWidth:M,containerHeight:V}})},[]);A.useEffect(function(){var D=function(W){var G,U=W[0].contentRect,H=U.width,K=U.height;B(H,K),(G=k.current)===null||G===void 0||G.call(k,H,K)};y>0&&(D=rV(D,y,{trailing:!0,leading:!1}));var I=new ResizeObserver(D),N=w.current.getBoundingClientRect(),M=N.width,V=N.height;return B(M,V),I.observe(w.current),function(){I.disconnect()}},[B,y]);var P=A.useMemo(function(){var D=_.containerWidth,I=_.containerHeight;if(D<0||I<0)return null;Sa(ad(s)||ad(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Sa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var N=ad(s)?D:s,M=ad(c)?I:c;r&&r>0&&(N?M=N/r:M&&(N=M*r),h&&M>h&&(M=h)),Sa(N>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,s,c,f,p,r);var V=!Array.isArray(x)&&Xs(x.type).endsWith("Chart");return Y.Children.map(x,function(L){return Y.isValidElement(L)?A.cloneElement(L,e0({width:N,height:M},V?{style:e0({height:"100%",width:"100%",maxHeight:M,maxWidth:N},L.props.style)}:{})):L})},[r,x,c,h,p,f,_,s]);return Y.createElement("div",{id:b?"".concat(b):void 0,className:It("recharts-responsive-container",v),style:e0(e0({},F),{},{width:s,height:c,minWidth:f,minHeight:p,maxHeight:h}),ref:w},P)}),tf=function(t){return null};tf.displayName="Cell";function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function Lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function JF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lz(Object(r),!0).forEach(function(o){Uce(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Uce(e,t,r){return t=qce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qce(e){var t=Hce(e,"string");return hg(t)=="symbol"?t:t+""}function Hce(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(hg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uu={widthCache:{},cacheCount:0},Gce=2e3,Kce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wz="recharts_measurement_span";function Yce(e){var t=JF({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Dh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Id.isSsr)return{width:0,height:0};var o=Yce(r),i=JSON.stringify({text:t,copyStyle:o});if(uu.widthCache[i])return uu.widthCache[i];try{var a=document.getElementById(Wz);a||(a=document.createElement("span"),a.setAttribute("id",Wz),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=JF(JF({},Kce),o);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return uu.widthCache[i]=c,++uu.cacheCount>Gce&&(uu.cacheCount=0,uu.widthCache={}),c}catch{return{width:0,height:0}}},Xce=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function Gy(e,t){return ede(e)||Zce(e,t)||Qce(e,t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(e,t){if(e){if(typeof e=="string")return Vz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vz(e,t)}}function Vz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Zce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function ede(e){if(Array.isArray(e))return e}function tde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uz(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,nde(o.key),o)}}function rde(e,t,r){return t&&Uz(e.prototype,t),r&&Uz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nde(e){var t=ode(e,"string");return gg(t)=="symbol"?t:t+""}function ode(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(gg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ide=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ade=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sde=Object.keys(nV),Vu="NaN";function lde(e,t){return e*nV[t]}var t0=(function(){function e(t,r){tde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ide.test(r)&&(this.num=NaN,this.unit=""),sde.includes(r)&&(this.num=lde(t,r),this.unit="px")}return rde(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var o,i=(o=ade.exec(r))!==null&&o!==void 0?o:[],a=Gy(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])})();function oV(e){if(e.includes(Vu))return Vu;for(var t=e;t.includes("*")||t.includes("/");){var r,o=(r=qz.exec(t))!==null&&r!==void 0?r:[],i=Gy(o,4),a=i[1],s=i[2],l=i[3],c=t0.parse(a??""),d=t0.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Vu;t=t.replace(qz,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,h=(p=Hz.exec(t))!==null&&p!==void 0?p:[],x=Gy(h,4),m=x[1],y=x[2],b=x[3],v=t0.parse(m??""),C=t0.parse(b??""),S=y==="+"?v.add(C):v.subtract(C);if(S.isNaN())return Vu;t=t.replace(Hz,S.toString())}return t}var Gz=/\(([^()]*)\)/;function cde(e){for(var t=e;t.includes("(");){var r=Gz.exec(t),o=Gy(r,2),i=o[1];t=t.replace(Gz,oV(i))}return t}function dde(e){var t=e.replace(/\s+/g,"");return t=cde(t),t=oV(t),t}function ude(e){try{return dde(e)}catch{return Vu}}function DE(e){var t=ude(e.slice(5,-1));return t===Vu?"":t}var pde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fde=["dx","dy","angle","className","breakAll"];function QF(){return QF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},QF.apply(this,arguments)}function Kz(e,t){if(e==null)return{};var r=hde(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function hde(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function Yz(e,t){return yde(e)||mde(e,t)||xde(e,t)||gde()}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xde(e,t){if(e){if(typeof e=="string")return Xz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xz(e,t)}}function Xz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function mde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function yde(e){if(Array.isArray(e))return e}var iV=/[ \f\n\r\t\v\u2028\u2029]+/,aV=function(t){var r=t.children,o=t.breakAll,i=t.style;try{var a=[];Tt(r)||(o?a=r.toString().split(""):a=r.toString().split(iV));var s=a.map(function(c){return{word:c,width:Dh(c,i).width}}),l=o?0:Dh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},bde=function(t,r,o,i,a){var s=t.maxLines,l=t.children,c=t.style,d=t.breakAll,f=Me(s),p=l,h=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce(function(M,V){var L=V.word,W=V.width,G=M[M.length-1];if(G&&(i==null||a||G.width+W+o<Number(i)))G.words.push(L),G.width+=W+o;else{var U={words:[L],width:W};M.push(U)}return M},[])},x=h(r),m=function(N){return N.reduce(function(M,V){return M.width>V.width?M:V})};if(!f)return x;for(var y="",b=function(N){var M=p.slice(0,N),V=aV({breakAll:d,style:c,children:M+y}).wordsWithComputedWidth,L=h(V),W=L.length>s||m(L).width>Number(i);return[W,L]},v=0,C=p.length-1,S=0,F;v<=C&&S<=p.length-1;){var w=Math.floor((v+C)/2),k=w-1,E=b(k),T=Yz(E,2),_=T[0],z=T[1],B=b(w),P=Yz(B,1),D=P[0];if(!_&&!D&&(v=w+1),_&&D&&(C=w-1),!_&&D){F=z;break}S++}return F||x},Jz=function(t){var r=Tt(t)?[]:t.toString().split(iV);return[{words:r}]},vde=function(t){var r=t.width,o=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((r||o)&&!Id.isSsr){var c,d,f=aV({breakAll:s,children:i,style:a});if(f){var p=f.wordsWithComputedWidth,h=f.spaceWidth;c=p,d=h}else return Jz(i);return bde({breakAll:s,children:i,maxLines:l,style:a},c,d,r,o)}return Jz(i)},Qz="#808080",Ed=function(t){var r=t.x,o=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,d=c===void 0?"0.71em":c,f=t.scaleToFit,p=f===void 0?!1:f,h=t.textAnchor,x=h===void 0?"start":h,m=t.verticalAnchor,y=m===void 0?"end":m,b=t.fill,v=b===void 0?Qz:b,C=Kz(t,pde),S=A.useMemo(function(){return vde({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:p,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,p,C.style,C.width]),F=C.dx,w=C.dy,k=C.angle,E=C.className,T=C.breakAll,_=Kz(C,fde);if(!An(o)||!An(a))return null;var z=o+(Me(F)?F:0),B=a+(Me(w)?w:0),P;switch(y){case"start":P=DE("calc(".concat(d,")"));break;case"middle":P=DE("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=DE("calc(".concat(S.length-1," * -").concat(l,")"));break}var D=[];if(p){var I=S[0].width,N=C.width;D.push("scale(".concat((Me(N)?N/I:1)/I,")"))}return k&&D.push("rotate(".concat(k,", ").concat(z,", ").concat(B,")")),D.length&&(_.transform=D.join(" ")),Y.createElement("text",QF({},xt(_,!0),{x:z,y:B,className:It("recharts-text",E),textAnchor:x,fill:v.includes("url")?Qz:v}),S.map(function(M,V){var L=M.words.join(T?"":" ");return Y.createElement("tspan",{x:z,dy:V===0?P:l,key:"".concat(L,"-").concat(V)},L)}))};function lc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function K8(e){let t,r,o;e.length!==2?(t=lc,r=(l,c)=>lc(e(l),c),o=(l,c)=>e(l)-c):(t=e===lc||e===jde?e:Sde,r=e,o=e);function i(l,c,d=0,f=l.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(l[p],c)<0?d=p+1:f=p}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(l[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,c,d=0,f=l.length){const p=i(l,c,d,f-1);return p>d&&o(l[p-1],c)>-o(l[p],c)?p-1:p}return{left:i,center:s,right:a}}function Sde(){return 0}function sV(e){return e===null?NaN:+e}function*wde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ede=K8(lc),jx=Ede.right;K8(sV).center;class Zz extends Map{constructor(t,r=Fde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[o,i]of t)this.set(o,i)}get(t){return super.get(eB(this,t))}has(t){return super.has(eB(this,t))}set(t,r){return super.set(Cde(this,t),r)}delete(t){return super.delete(kde(this,t))}}function eB({_intern:e,_key:t},r){const o=t(r);return e.has(o)?e.get(o):r}function Cde({_intern:e,_key:t},r){const o=t(r);return e.has(o)?e.get(o):(e.set(o,r),r)}function kde({_intern:e,_key:t},r){const o=t(r);return e.has(o)&&(r=e.get(o),e.delete(o)),r}function Fde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ade(e=lc){if(e===lc)return lV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const o=e(t,r);return o||o===0?o:(e(r,r)===0)-(e(t,t)===0)}}function lV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _de=Math.sqrt(50),Rde=Math.sqrt(10),Tde=Math.sqrt(2);function Ky(e,t,r){const o=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(o)),a=o/Math.pow(10,i),s=a>=_de?10:a>=Rde?5:a>=Tde?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Ky(e,t,r*2):[l,c,d]}function ZF(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const o=t<e,[i,a,s]=o?Ky(t,e,r):Ky(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(o)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function eA(e,t,r){return t=+t,e=+e,r=+r,Ky(e,t,r)[2]}function tA(e,t,r){t=+t,e=+e,r=+r;const o=t<e,i=o?eA(t,e,r):eA(e,t,r);return(o?-1:1)*(i<0?1/-i:i)}function tB(e,t){let r;for(const o of e)o!=null&&(r<o||r===void 0&&o>=o)&&(r=o);return r}function rB(e,t){let r;for(const o of e)o!=null&&(r>o||r===void 0&&o>=o)&&(r=o);return r}function cV(e,t,r=0,o=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),o=Math.floor(Math.min(e.length-1,o)),!(r<=t&&t<=o))return e;for(i=i===void 0?lV:Ade(i);o>r;){if(o-r>600){const c=o-r+1,d=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),x=Math.max(r,Math.floor(t-d*p/c+h)),m=Math.min(o,Math.floor(t+(c-d)*p/c+h));cV(e,t,x,m,i)}const a=e[t];let s=r,l=o;for(Jf(e,r,t),i(e[o],a)>0&&Jf(e,r,o);s<l;){for(Jf(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Jf(e,r,l):(++l,Jf(e,l,o)),l<=t&&(r=l+1),t<=l&&(o=l-1)}return e}function Jf(e,t,r){const o=e[t];e[t]=e[r],e[r]=o}function Pde(e,t,r){if(e=Float64Array.from(wde(e)),!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return rB(e);if(t>=1)return tB(e);var o,i=(o-1)*t,a=Math.floor(i),s=tB(cV(e,a).subarray(0,a+1)),l=rB(e.subarray(a+1));return s+(l-s)*(i-a)}}function zde(e,t,r=sV){if(!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return+r(e[0],0,e);if(t>=1)return+r(e[o-1],o-1,e);var o,i=(o-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function Bde(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var o=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++o<i;)a[o]=e+o*r;return a}function Ui(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function dl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rA=Symbol("implicit");function Y8(){var e=new Zz,t=[],r=[],o=rA;function i(a){let s=e.get(a);if(s===void 0){if(o!==rA)return o;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Zz;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(o=a,i):o},i.copy=function(){return Y8(t,r).unknown(o)},Ui.apply(i,arguments),i}function xg(){var e=Y8().unknown(void 0),t=e.domain,r=e.range,o=0,i=1,a,s,l=!1,c=0,d=0,f=.5;delete e.unknown;function p(){var h=t().length,x=i<o,m=x?i:o,y=x?o:i;a=(y-m)/Math.max(1,h-c+d*2),l&&(a=Math.floor(a)),m+=(y-m-a*(h-c))*f,s=a*(1-c),l&&(m=Math.round(m),s=Math.round(s));var b=Bde(h).map(function(v){return m+a*v});return r(x?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),p()):t()},e.range=function(h){return arguments.length?([o,i]=h,o=+o,i=+i,p()):[o,i]},e.rangeRound=function(h){return[o,i]=h,o=+o,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,p()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),p()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),p()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,p()):d},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),p()):f},e.copy=function(){return xg(t(),[o,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Ui.apply(p(),arguments)}function dV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dV(t())},e}function Mh(){return dV(xg.apply(null,arguments).paddingInner(1))}function X8(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function uV(e,t){var r=Object.create(e.prototype);for(var o in t)r[o]=t[o];return r}function Sx(){}var mg=.7,Yy=1/mg,lp="\\s*([+-]?\\d+)\\s*",yg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ide=/^#([0-9a-f]{3,8})$/,Ode=new RegExp(`^rgb\\(${lp},${lp},${lp}\\)$`),Dde=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),Mde=new RegExp(`^rgba\\(${lp},${lp},${lp},${yg}\\)$`),$de=new RegExp(`^rgba\\(${is},${is},${is},${yg}\\)$`),Nde=new RegExp(`^hsl\\(${yg},${is},${is}\\)$`),Lde=new RegExp(`^hsla\\(${yg},${is},${is},${yg}\\)$`),nB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X8(Sx,Cd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oB,formatHex:oB,formatHex8:Wde,formatHsl:Vde,formatRgb:iB,toString:iB});function oB(){return this.rgb().formatHex()}function Wde(){return this.rgb().formatHex8()}function Vde(){return pV(this).formatHsl()}function iB(){return this.rgb().formatRgb()}function Cd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ide.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aB(t):r===3?new No(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?r0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?r0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ode.exec(e))?new No(t[1],t[2],t[3],1):(t=Dde.exec(e))?new No(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mde.exec(e))?r0(t[1],t[2],t[3],t[4]):(t=$de.exec(e))?r0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nde.exec(e))?cB(t[1],t[2]/100,t[3]/100,1):(t=Lde.exec(e))?cB(t[1],t[2]/100,t[3]/100,t[4]):nB.hasOwnProperty(e)?aB(nB[e]):e==="transparent"?new No(NaN,NaN,NaN,0):null}function aB(e){return new No(e>>16&255,e>>8&255,e&255,1)}function r0(e,t,r,o){return o<=0&&(e=t=r=NaN),new No(e,t,r,o)}function Ude(e){return e instanceof Sx||(e=Cd(e)),e?(e=e.rgb(),new No(e.r,e.g,e.b,e.opacity)):new No}function nA(e,t,r,o){return arguments.length===1?Ude(e):new No(e,t,r,o??1)}function No(e,t,r,o){this.r=+e,this.g=+t,this.b=+r,this.opacity=+o}X8(No,nA,uV(Sx,{brighter(e){return e=e==null?Yy:Math.pow(Yy,e),new No(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mg:Math.pow(mg,e),new No(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new No(gd(this.r),gd(this.g),gd(this.b),Xy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sB,formatHex:sB,formatHex8:qde,formatRgb:lB,toString:lB}));function sB(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}`}function qde(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}${sd((isNaN(this.opacity)?1:this.opacity)*255)}`}function lB(){const e=Xy(this.opacity);return`${e===1?"rgb(":"rgba("}${gd(this.r)}, ${gd(this.g)}, ${gd(this.b)}${e===1?")":`, ${e})`}`}function Xy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sd(e){return e=gd(e),(e<16?"0":"")+e.toString(16)}function cB(e,t,r,o){return o<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xa(e,t,r,o)}function pV(e){if(e instanceof xa)return new xa(e.h,e.s,e.l,e.opacity);if(e instanceof Sx||(e=Cd(e)),!e)return new xa;if(e instanceof xa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,o=e.b/255,i=Math.min(t,r,o),a=Math.max(t,r,o),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-o)/l+(r<o)*6:r===a?s=(o-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new xa(s,l,c,e.opacity)}function Hde(e,t,r,o){return arguments.length===1?pV(e):new xa(e,t,r,o??1)}function xa(e,t,r,o){this.h=+e,this.s=+t,this.l=+r,this.opacity=+o}X8(xa,Hde,uV(Sx,{brighter(e){return e=e==null?Yy:Math.pow(Yy,e),new xa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mg:Math.pow(mg,e),new xa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*t,i=2*r-o;return new No(ME(e>=240?e-240:e+120,i,o),ME(e,i,o),ME(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new xa(dB(this.h),n0(this.s),n0(this.l),Xy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xy(this.opacity);return`${e===1?"hsl(":"hsla("}${dB(this.h)}, ${n0(this.s)*100}%, ${n0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dB(e){return e=(e||0)%360,e<0?e+360:e}function n0(e){return Math.max(0,Math.min(1,e||0))}function ME(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const J8=e=>()=>e;function Gde(e,t){return function(r){return e+r*t}}function Kde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(o){return Math.pow(e+o*t,r)}}function Yde(e){return(e=+e)==1?fV:function(t,r){return r-t?Kde(t,r,e):J8(isNaN(t)?r:t)}}function fV(e,t){var r=t-e;return r?Gde(e,r):J8(isNaN(e)?t:e)}const Jy=(function e(t){var r=Yde(t);function o(i,a){var s=r((i=nA(i)).r,(a=nA(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=fV(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return o.gamma=e,o})(1);function Xde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(a){for(i=0;i<r;++i)o[i]=e[i]*(1-a)+t[i]*a;return o}}function Jde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qde(e,t){var r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r),s;for(s=0;s<o;++s)i[s]=Js(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<o;++s)a[s]=i[s](l);return a}}function Zde(e,t){var r=new Date;return e=+e,t=+t,function(o){return r.setTime(e*(1-o)+t*o),r}}function ga(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function eue(e,t){var r={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Js(e[i],t[i]):o[i]=t[i];return function(a){for(i in r)o[i]=r[i](a);return o}}var oA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$E=new RegExp(oA.source,"g");function tue(e){return function(){return e}}function rue(e){return function(t){return e(t)+""}}function hV(e,t){var r=oA.lastIndex=$E.lastIndex=0,o,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(o=oA.exec(e))&&(i=$E.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(o=o[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:ga(o,i)})),r=$E.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?rue(c[0].x):tue(t):(t=c.length,function(d){for(var f=0,p;f<t;++f)l[(p=c[f]).i]=p.x(d);return l.join("")})}function Js(e,t){var r=typeof t,o;return t==null||r==="boolean"?J8(t):(r==="number"?ga:r==="string"?(o=Cd(t))?(t=o,Jy):hV:t instanceof Cd?Jy:t instanceof Date?Zde:Jde(t)?Xde:Array.isArray(t)?Qde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eue:ga)(e,t)}function Q8(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var uB=180/Math.PI,iA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gV(e,t,r,o,i,a){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*r+t*o)&&(r-=e*c,o-=t*c),(l=Math.sqrt(r*r+o*o))&&(r/=l,o/=l,c/=l),e*o<t*r&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*uB,skewX:Math.atan(c)*uB,scaleX:s,scaleY:l}}var o0;function nue(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?iA:gV(t.a,t.b,t.c,t.d,t.e,t.f)}function oue(e){return e==null||(o0||(o0=document.createElementNS("http://www.w3.org/2000/svg","g")),o0.setAttribute("transform",e),!(e=o0.transform.baseVal.consolidate()))?iA:(e=e.matrix,gV(e.a,e.b,e.c,e.d,e.e,e.f))}function xV(e,t,r,o){function i(d){return d.length?d.pop()+" ":""}function a(d,f,p,h,x,m){if(d!==p||f!==h){var y=x.push("translate(",null,t,null,r);m.push({i:y-4,x:ga(d,p)},{i:y-2,x:ga(f,h)})}else(p||h)&&x.push("translate("+p+t+h+r)}function s(d,f,p,h){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),h.push({i:p.push(i(p)+"rotate(",null,o)-2,x:ga(d,f)})):f&&p.push(i(p)+"rotate("+f+o)}function l(d,f,p,h){d!==f?h.push({i:p.push(i(p)+"skewX(",null,o)-2,x:ga(d,f)}):f&&p.push(i(p)+"skewX("+f+o)}function c(d,f,p,h,x,m){if(d!==p||f!==h){var y=x.push(i(x)+"scale(",null,",",null,")");m.push({i:y-4,x:ga(d,p)},{i:y-2,x:ga(f,h)})}else(p!==1||h!==1)&&x.push(i(x)+"scale("+p+","+h+")")}return function(d,f){var p=[],h=[];return d=e(d),f=e(f),a(d.translateX,d.translateY,f.translateX,f.translateY,p,h),s(d.rotate,f.rotate,p,h),l(d.skewX,f.skewX,p,h),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,p,h),d=f=null,function(x){for(var m=-1,y=h.length,b;++m<y;)p[(b=h[m]).i]=b.x(x);return p.join("")}}}var iue=xV(nue,"px, ","px)","deg)"),aue=xV(oue,", ",")",")"),sue=1e-12;function pB(e){return((e=Math.exp(e))+1/e)/2}function lue(e){return((e=Math.exp(e))-1/e)/2}function cue(e){return((e=Math.exp(2*e))-1)/(e+1)}const hy=(function e(t,r,o){function i(a,s){var l=a[0],c=a[1],d=a[2],f=s[0],p=s[1],h=s[2],x=f-l,m=p-c,y=x*x+m*m,b,v;if(y<sue)v=Math.log(h/d)/t,b=function(E){return[l+E*x,c+E*m,d*Math.exp(t*E*v)]};else{var C=Math.sqrt(y),S=(h*h-d*d+o*y)/(2*d*r*C),F=(h*h-d*d-o*y)/(2*h*r*C),w=Math.log(Math.sqrt(S*S+1)-S),k=Math.log(Math.sqrt(F*F+1)-F);v=(k-w)/t,b=function(E){var T=E*v,_=pB(w),z=d/(r*C)*(_*cue(t*T+w)-lue(w));return[l+z*x,c+z*m,d*_/pB(t*T+w)]}}return b.duration=v*1e3*t/Math.SQRT2,b}return i.rho=function(a){var s=Math.max(.001,+a),l=s*s,c=l*l;return e(s,l,c)},i})(Math.SQRT2,2,4);function due(e,t){t===void 0&&(t=e,e=Js);for(var r=0,o=t.length-1,i=t[0],a=new Array(o<0?0:o);r<o;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(o-1,Math.floor(s*=o)));return a[l](s-l)}}function uue(e){return function(){return e}}function Qy(e){return+e}var fB=[0,1];function Co(e){return e}function aA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uue(isNaN(t)?NaN:.5)}function pue(e,t){var r;return e>t&&(r=e,e=t,t=r),function(o){return Math.max(e,Math.min(t,o))}}function fue(e,t,r){var o=e[0],i=e[1],a=t[0],s=t[1];return i<o?(o=aA(i,o),a=r(s,a)):(o=aA(o,i),a=r(a,s)),function(l){return a(o(l))}}function hue(e,t,r){var o=Math.min(e.length,t.length)-1,i=new Array(o),a=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)i[s]=aA(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=jx(e,l,1,o)-1;return a[c](i[c](l))}}function wx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bb(){var e=fB,t=fB,r=Js,o,i,a,s=Co,l,c,d;function f(){var h=Math.min(e.length,t.length);return s!==Co&&(s=pue(e[0],e[h-1])),l=h>2?hue:fue,c=d=null,p}function p(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(o),t,r)))(o(s(h)))}return p.invert=function(h){return s(i((d||(d=l(t,e.map(o),ga)))(h)))},p.domain=function(h){return arguments.length?(e=Array.from(h,Qy),f()):e.slice()},p.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},p.rangeRound=function(h){return t=Array.from(h),r=Q8,f()},p.clamp=function(h){return arguments.length?(s=h?!0:Co,f()):s!==Co},p.interpolate=function(h){return arguments.length?(r=h,f()):r},p.unknown=function(h){return arguments.length?(a=h,p):a},function(h,x){return o=h,i=x,f()}}function Z8(){return Bb()(Co,Co)}function gue(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zy(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}function bp(e){return e=Zy(Math.abs(e)),e?e[1]:NaN}function xue(e,t){return function(r,o){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>o&&(l=Math.max(1,o-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>o));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function mue(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bg(e){if(!(t=yue.exec(e)))throw new Error("invalid format: "+e);var t;return new e_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bg.prototype=e_.prototype;function e_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}e_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bue(e){e:for(var t=e.length,r=1,o=-1,i;r<t;++r)switch(e[r]){case".":o=i=r;break;case"0":o===0&&(o=r),i=r;break;default:if(!+e[r])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var e1;function vue(e,t){var r=Zy(e,t);if(!r)return e1=void 0,e.toPrecision(t);var o=r[0],i=r[1],a=i-(e1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=o.length;return a===s?o:a>s?o+new Array(a-s+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+Zy(e,Math.max(0,t+a-1))[0]}function hB(e,t){var r=Zy(e,t);if(!r)return e+"";var o=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const gB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gue,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hB(e*100,t),r:hB,s:vue,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xB(e){return e}var mB=Array.prototype.map,yB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jue(e){var t=e.grouping===void 0||e.thousands===void 0?xB:xue(mB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?xB:mue(mB.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(p,h){p=bg(p);var x=p.fill,m=p.align,y=p.sign,b=p.symbol,v=p.zero,C=p.width,S=p.comma,F=p.precision,w=p.trim,k=p.type;k==="n"?(S=!0,k="g"):gB[k]||(F===void 0&&(F=12),w=!0,k="g"),(v||x==="0"&&m==="=")&&(v=!0,x="0",m="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),T=(b==="$"?o:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),_=gB[k],z=/[defgprs%]/.test(k);F=F===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function B(P){var D=E,I=T,N,M,V;if(k==="c")I=_(P)+I,P="";else{P=+P;var L=P<0||1/P<0;if(P=isNaN(P)?c:_(Math.abs(P),F),w&&(P=bue(P)),L&&+P==0&&y!=="+"&&(L=!1),D=(L?y==="("?y:l:y==="-"||y==="("?"":y)+D,I=(k==="s"&&!isNaN(P)&&e1!==void 0?yB[8+e1/3]:"")+I+(L&&y==="("?")":""),z){for(N=-1,M=P.length;++N<M;)if(V=P.charCodeAt(N),48>V||V>57){I=(V===46?i+P.slice(N+1):P.slice(N))+I,P=P.slice(0,N);break}}}S&&!v&&(P=t(P,1/0));var W=D.length+P.length+I.length,G=W<C?new Array(C-W+1).join(x):"";switch(S&&v&&(P=t(G+P,G.length?C-I.length:1/0),G=""),m){case"<":P=D+P+I+G;break;case"=":P=D+G+P+I;break;case"^":P=G.slice(0,W=G.length>>1)+D+P+I+G.slice(W);break;default:P=G+D+P+I;break}return a(P)}return B.toString=function(){return p+""},B}function f(p,h){var x=Math.max(-8,Math.min(8,Math.floor(bp(h)/3)))*3,m=Math.pow(10,-x),y=d((p=bg(p),p.type="f",p),{suffix:yB[8+x/3]});return function(b){return y(m*b)}}return{format:d,formatPrefix:f}}var i0,t_,mV;Sue({thousands:",",grouping:[3],currency:["$",""]});function Sue(e){return i0=jue(e),t_=i0.format,mV=i0.formatPrefix,i0}function wue(e){return Math.max(0,-bp(Math.abs(e)))}function Eue(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bp(t)/3)))*3-bp(Math.abs(e)))}function Cue(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bp(t)-bp(e))+1}function yV(e,t,r,o){var i=tA(e,t,r),a;switch(o=bg(o??",f"),o.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(a=Eue(i,s))&&(o.precision=a),mV(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=Cue(i,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=a-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=wue(i))&&(o.precision=a-(o.type==="%")*2);break}}return t_(o)}function mc(e){var t=e.domain;return e.ticks=function(r){var o=t();return ZF(o[0],o[o.length-1],r??10)},e.tickFormat=function(r,o){var i=t();return yV(i[0],i[i.length-1],r??10,o)},e.nice=function(r){r==null&&(r=10);var o=t(),i=0,a=o.length-1,s=o[i],l=o[a],c,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=eA(s,l,r),d===c)return o[i]=s,o[a]=l,t(o);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function t1(){var e=Z8();return e.copy=function(){return wx(e,t1())},Ui.apply(e,arguments),mc(e)}function bV(e){var t;function r(o){return o==null||isNaN(o=+o)?t:o}return r.invert=r,r.domain=r.range=function(o){return arguments.length?(e=Array.from(o,Qy),r):e.slice()},r.unknown=function(o){return arguments.length?(t=o,r):t},r.copy=function(){return bV(e).unknown(t)},e=arguments.length?Array.from(e,Qy):[0,1],mc(r)}function vV(e,t){e=e.slice();var r=0,o=e.length-1,i=e[r],a=e[o],s;return a<i&&(s=r,r=o,o=s,s=i,i=a,a=s),e[r]=t.floor(i),e[o]=t.ceil(a),e}function bB(e){return Math.log(e)}function vB(e){return Math.exp(e)}function kue(e){return-Math.log(-e)}function Fue(e){return-Math.exp(-e)}function Aue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _ue(e){return e===10?Aue:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Rue(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jB(e){return(t,r)=>-e(-t,r)}function r_(e){const t=e(bB,vB),r=t.domain;let o=10,i,a;function s(){return i=Rue(o),a=_ue(o),r()[0]<0?(i=jB(i),a=jB(a),e(kue,Fue)):e(bB,vB),t}return t.base=function(l){return arguments.length?(o=+l,s()):o},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let h=i(d),x=i(f),m,y;const b=l==null?10:+l;let v=[];if(!(o%1)&&x-h<b){if(h=Math.floor(h),x=Math.ceil(x),d>0){for(;h<=x;++h)for(m=1;m<o;++m)if(y=h<0?m/a(-h):m*a(h),!(y<d)){if(y>f)break;v.push(y)}}else for(;h<=x;++h)for(m=o-1;m>=1;--m)if(y=h>0?m/a(-h):m*a(h),!(y<d)){if(y>f)break;v.push(y)}v.length*2<b&&(v=ZF(d,f,b))}else v=ZF(h,x,Math.min(x-h,b)).map(a);return p?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=o===10?"s":","),typeof c!="function"&&(!(o%1)&&(c=bg(c)).precision==null&&(c.trim=!0),c=t_(c)),l===1/0)return c;const d=Math.max(1,o*l/t.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*o<o-.5&&(p*=o),p<=d?c(f):""}},t.nice=()=>r(vV(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function jV(){const e=r_(Bb()).domain([1,10]);return e.copy=()=>wx(e,jV()).base(e.base()),Ui.apply(e,arguments),e}function SB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n_(e){var t=1,r=e(SB(t),wB(t));return r.constant=function(o){return arguments.length?e(SB(t=+o),wB(t)):t},mc(r)}function SV(){var e=n_(Bb());return e.copy=function(){return wx(e,SV()).constant(e.constant())},Ui.apply(e,arguments)}function EB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tue(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pue(e){return e<0?-e*e:e*e}function o_(e){var t=e(Co,Co),r=1;function o(){return r===1?e(Co,Co):r===.5?e(Tue,Pue):e(EB(r),EB(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,o()):r},mc(t)}function i_(){var e=o_(Bb());return e.copy=function(){return wx(e,i_()).exponent(e.exponent())},Ui.apply(e,arguments),e}function zue(){return i_.apply(null,arguments).exponent(.5)}function CB(e){return Math.sign(e)*e*e}function Bue(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wV(){var e=Z8(),t=[0,1],r=!1,o;function i(a){var s=Bue(e(a));return isNaN(s)?o:r?Math.round(s):s}return i.invert=function(a){return e.invert(CB(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Qy)).map(CB)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(o=a,i):o},i.copy=function(){return wV(e.domain(),t).round(r).clamp(e.clamp()).unknown(o)},Ui.apply(i,arguments),mc(i)}function EV(){var e=[],t=[],r=[],o;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=zde(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?o:t[jx(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(lc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(o=s,a):o},a.quantiles=function(){return r.slice()},a.copy=function(){return EV().domain(e).range(t).unknown(o)},Ui.apply(a,arguments)}function CV(){var e=0,t=1,r=1,o=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[jx(o,c,0,r)]:a}function l(){var c=-1;for(o=new Array(r);++c<r;)o[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,o[0]]:d>=r?[o[r-1],t]:[o[d-1],o[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return o.slice()},s.copy=function(){return CV().domain([e,t]).range(i).unknown(a)},Ui.apply(mc(s),arguments)}function kV(){var e=[.5],t=[0,1],r,o=1;function i(a){return a!=null&&a<=a?t[jx(e,a,0,o)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),o=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),o=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kV().domain(e).range(t).unknown(r)},Ui.apply(i,arguments)}const NE=new Date,LE=new Date;function _n(e,t,r,o){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<s);return c},i.filter=a=>_n(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(NE.setTime(+a),LE.setTime(+s),e(NE),e(LE),Math.floor(r(NE,LE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(o?s=>o(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const r1=_n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);r1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_n(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):r1);r1.range;const Us=1e3,Bi=Us*60,qs=Bi*60,nl=qs*24,a_=nl*7,kB=nl*30,WE=nl*365,ld=_n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Us)},(e,t)=>(t-e)/Us,e=>e.getUTCSeconds());ld.range;const s_=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Us)},(e,t)=>{e.setTime(+e+t*Bi)},(e,t)=>(t-e)/Bi,e=>e.getMinutes());s_.range;const l_=_n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bi)},(e,t)=>(t-e)/Bi,e=>e.getUTCMinutes());l_.range;const c_=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Us-e.getMinutes()*Bi)},(e,t)=>{e.setTime(+e+t*qs)},(e,t)=>(t-e)/qs,e=>e.getHours());c_.range;const d_=_n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qs)},(e,t)=>(t-e)/qs,e=>e.getUTCHours());d_.range;const Ex=_n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bi)/nl,e=>e.getDate()-1);Ex.range;const Ib=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nl,e=>e.getUTCDate()-1);Ib.range;const FV=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nl,e=>Math.floor(e/nl));FV.range;function Od(e){return _n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Bi)/a_)}const Ob=Od(0),n1=Od(1),Iue=Od(2),Oue=Od(3),vp=Od(4),Due=Od(5),Mue=Od(6);Ob.range;n1.range;Iue.range;Oue.range;vp.range;Due.range;Mue.range;function Dd(e){return _n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/a_)}const Db=Dd(0),o1=Dd(1),$ue=Dd(2),Nue=Dd(3),jp=Dd(4),Lue=Dd(5),Wue=Dd(6);Db.range;o1.range;$ue.range;Nue.range;jp.range;Lue.range;Wue.range;const u_=_n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());u_.range;const p_=_n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());p_.range;const ol=_n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ol.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ol.range;const il=_n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());il.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});il.range;function AV(e,t,r,o,i,a){const s=[[ld,1,Us],[ld,5,5*Us],[ld,15,15*Us],[ld,30,30*Us],[a,1,Bi],[a,5,5*Bi],[a,15,15*Bi],[a,30,30*Bi],[i,1,qs],[i,3,3*qs],[i,6,6*qs],[i,12,12*qs],[o,1,nl],[o,2,2*nl],[r,1,a_],[t,1,kB],[t,3,3*kB],[e,1,WE]];function l(d,f,p){const h=f<d;h&&([d,f]=[f,d]);const x=p&&typeof p.range=="function"?p:c(d,f,p),m=x?x.range(d,+f+1):[];return h?m.reverse():m}function c(d,f,p){const h=Math.abs(f-d)/p,x=K8(([,,b])=>b).right(s,h);if(x===s.length)return e.every(tA(d/WE,f/WE,p));if(x===0)return r1.every(Math.max(tA(d,f,p),1));const[m,y]=s[h/s[x-1][2]<s[x][2]/h?x-1:x];return m.every(y)}return[l,c]}const[Vue,Uue]=AV(il,p_,Db,FV,d_,l_),[que,Hue]=AV(ol,u_,Ob,Ex,c_,s_);function VE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function UE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Gue(e){var t=e.dateTime,r=e.date,o=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,d=Zf(i),f=eh(i),p=Zf(a),h=eh(a),x=Zf(s),m=eh(s),y=Zf(l),b=eh(l),v=Zf(c),C=eh(c),S={a:V,A:L,b:W,B:G,c:null,d:PB,e:PB,f:xpe,g:kpe,G:Ape,H:fpe,I:hpe,j:gpe,L:_V,m:mpe,M:ype,p:U,q:H,Q:IB,s:OB,S:bpe,u:vpe,U:jpe,V:Spe,w:wpe,W:Epe,x:null,X:null,y:Cpe,Y:Fpe,Z:_pe,"%":BB},F={a:K,A:ne,b:Q,B:pe,c:null,d:zB,e:zB,f:zpe,g:Vpe,G:qpe,H:Rpe,I:Tpe,j:Ppe,L:TV,m:Bpe,M:Ipe,p:X,q:se,Q:IB,s:OB,S:Ope,u:Dpe,U:Mpe,V:$pe,w:Npe,W:Lpe,x:null,X:null,y:Wpe,Y:Upe,Z:Hpe,"%":BB},w={a:z,A:B,b:P,B:D,c:I,d:RB,e:RB,f:cpe,g:_B,G:AB,H:TB,I:TB,j:ipe,L:lpe,m:ope,M:ape,p:_,q:npe,Q:upe,s:ppe,S:spe,u:Que,U:Zue,V:epe,w:Jue,W:tpe,x:N,X:M,y:_B,Y:AB,Z:rpe,"%":dpe};S.x=k(r,S),S.X=k(o,S),S.c=k(t,S),F.x=k(r,F),F.X=k(o,F),F.c=k(t,F);function k(ae,ye){return function(ie){var re=[],Se=-1,Ae=0,te=ae.length,he,Te,rt;for(ie instanceof Date||(ie=new Date(+ie));++Se<te;)ae.charCodeAt(Se)===37&&(re.push(ae.slice(Ae,Se)),(Te=FB[he=ae.charAt(++Se)])!=null?he=ae.charAt(++Se):Te=he==="e"?" ":"0",(rt=ye[he])&&(he=rt(ie,Te)),re.push(he),Ae=Se+1);return re.push(ae.slice(Ae,Se)),re.join("")}}function E(ae,ye){return function(ie){var re=Qf(1900,void 0,1),Se=T(re,ae,ie+="",0),Ae,te;if(Se!=ie.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ye&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ae=UE(Qf(re.y,0,1)),te=Ae.getUTCDay(),Ae=te>4||te===0?o1.ceil(Ae):o1(Ae),Ae=Ib.offset(Ae,(re.V-1)*7),re.y=Ae.getUTCFullYear(),re.m=Ae.getUTCMonth(),re.d=Ae.getUTCDate()+(re.w+6)%7):(Ae=VE(Qf(re.y,0,1)),te=Ae.getDay(),Ae=te>4||te===0?n1.ceil(Ae):n1(Ae),Ae=Ex.offset(Ae,(re.V-1)*7),re.y=Ae.getFullYear(),re.m=Ae.getMonth(),re.d=Ae.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),te="Z"in re?UE(Qf(re.y,0,1)).getUTCDay():VE(Qf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(te+5)%7:re.w+re.U*7-(te+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,UE(re)):VE(re)}}function T(ae,ye,ie,re){for(var Se=0,Ae=ye.length,te=ie.length,he,Te;Se<Ae;){if(re>=te)return-1;if(he=ye.charCodeAt(Se++),he===37){if(he=ye.charAt(Se++),Te=w[he in FB?ye.charAt(Se++):he],!Te||(re=Te(ae,ie,re))<0)return-1}else if(he!=ie.charCodeAt(re++))return-1}return re}function _(ae,ye,ie){var re=d.exec(ye.slice(ie));return re?(ae.p=f.get(re[0].toLowerCase()),ie+re[0].length):-1}function z(ae,ye,ie){var re=x.exec(ye.slice(ie));return re?(ae.w=m.get(re[0].toLowerCase()),ie+re[0].length):-1}function B(ae,ye,ie){var re=p.exec(ye.slice(ie));return re?(ae.w=h.get(re[0].toLowerCase()),ie+re[0].length):-1}function P(ae,ye,ie){var re=v.exec(ye.slice(ie));return re?(ae.m=C.get(re[0].toLowerCase()),ie+re[0].length):-1}function D(ae,ye,ie){var re=y.exec(ye.slice(ie));return re?(ae.m=b.get(re[0].toLowerCase()),ie+re[0].length):-1}function I(ae,ye,ie){return T(ae,t,ye,ie)}function N(ae,ye,ie){return T(ae,r,ye,ie)}function M(ae,ye,ie){return T(ae,o,ye,ie)}function V(ae){return s[ae.getDay()]}function L(ae){return a[ae.getDay()]}function W(ae){return c[ae.getMonth()]}function G(ae){return l[ae.getMonth()]}function U(ae){return i[+(ae.getHours()>=12)]}function H(ae){return 1+~~(ae.getMonth()/3)}function K(ae){return s[ae.getUTCDay()]}function ne(ae){return a[ae.getUTCDay()]}function Q(ae){return c[ae.getUTCMonth()]}function pe(ae){return l[ae.getUTCMonth()]}function X(ae){return i[+(ae.getUTCHours()>=12)]}function se(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ye=k(ae+="",S);return ye.toString=function(){return ae},ye},parse:function(ae){var ye=E(ae+="",!1);return ye.toString=function(){return ae},ye},utcFormat:function(ae){var ye=k(ae+="",F);return ye.toString=function(){return ae},ye},utcParse:function(ae){var ye=E(ae+="",!0);return ye.toString=function(){return ae},ye}}}var FB={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,Kue=/^%/,Yue=/[\\^$*+?|[\]().{}]/g;function rr(e,t,r){var o=e<0?"-":"",i=(o?-e:e)+"",a=i.length;return o+(a<r?new Array(r-a+1).join(t)+i:i)}function Xue(e){return e.replace(Yue,"\\$&")}function Zf(e){return new RegExp("^(?:"+e.map(Xue).join("|")+")","i")}function eh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Jue(e,t,r){var o=Mn.exec(t.slice(r,r+1));return o?(e.w=+o[0],r+o[0].length):-1}function Que(e,t,r){var o=Mn.exec(t.slice(r,r+1));return o?(e.u=+o[0],r+o[0].length):-1}function Zue(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.U=+o[0],r+o[0].length):-1}function epe(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.V=+o[0],r+o[0].length):-1}function tpe(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.W=+o[0],r+o[0].length):-1}function AB(e,t,r){var o=Mn.exec(t.slice(r,r+4));return o?(e.y=+o[0],r+o[0].length):-1}function _B(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.y=+o[0]+(+o[0]>68?1900:2e3),r+o[0].length):-1}function rpe(e,t,r){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return o?(e.Z=o[1]?0:-(o[2]+(o[3]||"00")),r+o[0].length):-1}function npe(e,t,r){var o=Mn.exec(t.slice(r,r+1));return o?(e.q=o[0]*3-3,r+o[0].length):-1}function ope(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.m=o[0]-1,r+o[0].length):-1}function RB(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.d=+o[0],r+o[0].length):-1}function ipe(e,t,r){var o=Mn.exec(t.slice(r,r+3));return o?(e.m=0,e.d=+o[0],r+o[0].length):-1}function TB(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.H=+o[0],r+o[0].length):-1}function ape(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.M=+o[0],r+o[0].length):-1}function spe(e,t,r){var o=Mn.exec(t.slice(r,r+2));return o?(e.S=+o[0],r+o[0].length):-1}function lpe(e,t,r){var o=Mn.exec(t.slice(r,r+3));return o?(e.L=+o[0],r+o[0].length):-1}function cpe(e,t,r){var o=Mn.exec(t.slice(r,r+6));return o?(e.L=Math.floor(o[0]/1e3),r+o[0].length):-1}function dpe(e,t,r){var o=Kue.exec(t.slice(r,r+1));return o?r+o[0].length:-1}function upe(e,t,r){var o=Mn.exec(t.slice(r));return o?(e.Q=+o[0],r+o[0].length):-1}function ppe(e,t,r){var o=Mn.exec(t.slice(r));return o?(e.s=+o[0],r+o[0].length):-1}function PB(e,t){return rr(e.getDate(),t,2)}function fpe(e,t){return rr(e.getHours(),t,2)}function hpe(e,t){return rr(e.getHours()%12||12,t,2)}function gpe(e,t){return rr(1+Ex.count(ol(e),e),t,3)}function _V(e,t){return rr(e.getMilliseconds(),t,3)}function xpe(e,t){return _V(e,t)+"000"}function mpe(e,t){return rr(e.getMonth()+1,t,2)}function ype(e,t){return rr(e.getMinutes(),t,2)}function bpe(e,t){return rr(e.getSeconds(),t,2)}function vpe(e){var t=e.getDay();return t===0?7:t}function jpe(e,t){return rr(Ob.count(ol(e)-1,e),t,2)}function RV(e){var t=e.getDay();return t>=4||t===0?vp(e):vp.ceil(e)}function Spe(e,t){return e=RV(e),rr(vp.count(ol(e),e)+(ol(e).getDay()===4),t,2)}function wpe(e){return e.getDay()}function Epe(e,t){return rr(n1.count(ol(e)-1,e),t,2)}function Cpe(e,t){return rr(e.getFullYear()%100,t,2)}function kpe(e,t){return e=RV(e),rr(e.getFullYear()%100,t,2)}function Fpe(e,t){return rr(e.getFullYear()%1e4,t,4)}function Ape(e,t){var r=e.getDay();return e=r>=4||r===0?vp(e):vp.ceil(e),rr(e.getFullYear()%1e4,t,4)}function _pe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rr(t/60|0,"0",2)+rr(t%60,"0",2)}function zB(e,t){return rr(e.getUTCDate(),t,2)}function Rpe(e,t){return rr(e.getUTCHours(),t,2)}function Tpe(e,t){return rr(e.getUTCHours()%12||12,t,2)}function Ppe(e,t){return rr(1+Ib.count(il(e),e),t,3)}function TV(e,t){return rr(e.getUTCMilliseconds(),t,3)}function zpe(e,t){return TV(e,t)+"000"}function Bpe(e,t){return rr(e.getUTCMonth()+1,t,2)}function Ipe(e,t){return rr(e.getUTCMinutes(),t,2)}function Ope(e,t){return rr(e.getUTCSeconds(),t,2)}function Dpe(e){var t=e.getUTCDay();return t===0?7:t}function Mpe(e,t){return rr(Db.count(il(e)-1,e),t,2)}function PV(e){var t=e.getUTCDay();return t>=4||t===0?jp(e):jp.ceil(e)}function $pe(e,t){return e=PV(e),rr(jp.count(il(e),e)+(il(e).getUTCDay()===4),t,2)}function Npe(e){return e.getUTCDay()}function Lpe(e,t){return rr(o1.count(il(e)-1,e),t,2)}function Wpe(e,t){return rr(e.getUTCFullYear()%100,t,2)}function Vpe(e,t){return e=PV(e),rr(e.getUTCFullYear()%100,t,2)}function Upe(e,t){return rr(e.getUTCFullYear()%1e4,t,4)}function qpe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jp(e):jp.ceil(e),rr(e.getUTCFullYear()%1e4,t,4)}function Hpe(){return"+0000"}function BB(){return"%"}function IB(e){return+e}function OB(e){return Math.floor(+e/1e3)}var pu,zV,BV;Gpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gpe(e){return pu=Gue(e),zV=pu.format,pu.parse,BV=pu.utcFormat,pu.utcParse,pu}function Kpe(e){return new Date(e)}function Ype(e){return e instanceof Date?+e:+new Date(+e)}function f_(e,t,r,o,i,a,s,l,c,d){var f=Z8(),p=f.invert,h=f.domain,x=d(".%L"),m=d(":%S"),y=d("%I:%M"),b=d("%I %p"),v=d("%a %d"),C=d("%b %d"),S=d("%B"),F=d("%Y");function w(k){return(c(k)<k?x:l(k)<k?m:s(k)<k?y:a(k)<k?b:o(k)<k?i(k)<k?v:C:r(k)<k?S:F)(k)}return f.invert=function(k){return new Date(p(k))},f.domain=function(k){return arguments.length?h(Array.from(k,Ype)):h().map(Kpe)},f.ticks=function(k){var E=h();return e(E[0],E[E.length-1],k??10)},f.tickFormat=function(k,E){return E==null?w:d(E)},f.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?h(vV(E,k)):f},f.copy=function(){return wx(f,f_(e,t,r,o,i,a,s,l,c,d))},f}function Xpe(){return Ui.apply(f_(que,Hue,ol,u_,Ob,Ex,c_,s_,ld,zV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jpe(){return Ui.apply(f_(Vue,Uue,il,p_,Db,Ib,d_,l_,ld,BV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mb(){var e=0,t=1,r,o,i,a,s=Co,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,r=a(e=+e),o=a(t=+t),i=r===o?0:1/(o-r),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(h){var x,m;return arguments.length?([x,m]=h,s=p(x,m),d):[s(0),s(1)]}}return d.range=f(Js),d.rangeRound=f(Q8),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,r=p(e),o=p(t),i=r===o?0:1/(o-r),d}}function yc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function IV(){var e=mc(Mb()(Co));return e.copy=function(){return yc(e,IV())},dl.apply(e,arguments)}function OV(){var e=r_(Mb()).domain([1,10]);return e.copy=function(){return yc(e,OV()).base(e.base())},dl.apply(e,arguments)}function DV(){var e=n_(Mb());return e.copy=function(){return yc(e,DV()).constant(e.constant())},dl.apply(e,arguments)}function h_(){var e=o_(Mb());return e.copy=function(){return yc(e,h_()).exponent(e.exponent())},dl.apply(e,arguments)}function Qpe(){return h_.apply(null,arguments).exponent(.5)}function MV(){var e=[],t=Co;function r(o){if(o!=null&&!isNaN(o=+o))return t((jx(e,o,1)-1)/(e.length-1))}return r.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let i of o)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(lc),r},r.interpolator=function(o){return arguments.length?(t=o,r):t},r.range=function(){return e.map((o,i)=>t(i/(e.length-1)))},r.quantiles=function(o){return Array.from({length:o+1},(i,a)=>Pde(e,a/o))},r.copy=function(){return MV(t).domain(e)},dl.apply(r,arguments)}function $b(){var e=0,t=.5,r=1,o=1,i,a,s,l,c,d=Co,f,p=!1,h;function x(y){return isNaN(y=+y)?h:(y=.5+((y=+f(y))-a)*(o*y<o*a?l:c),d(p?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,r]=y,i=f(e=+e),a=f(t=+t),s=f(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),o=a<i?-1:1,x):[e,t,r]},x.clamp=function(y){return arguments.length?(p=!!y,x):p},x.interpolator=function(y){return arguments.length?(d=y,x):d};function m(y){return function(b){var v,C,S;return arguments.length?([v,C,S]=b,d=due(y,[v,C,S]),x):[d(0),d(.5),d(1)]}}return x.range=m(Js),x.rangeRound=m(Q8),x.unknown=function(y){return arguments.length?(h=y,x):h},function(y){return f=y,i=y(e),a=y(t),s=y(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),o=a<i?-1:1,x}}function $V(){var e=mc($b()(Co));return e.copy=function(){return yc(e,$V())},dl.apply(e,arguments)}function NV(){var e=r_($b()).domain([.1,1,10]);return e.copy=function(){return yc(e,NV()).base(e.base())},dl.apply(e,arguments)}function LV(){var e=n_($b());return e.copy=function(){return yc(e,LV()).constant(e.constant())},dl.apply(e,arguments)}function g_(){var e=o_($b());return e.copy=function(){return yc(e,g_()).exponent(e.exponent())},dl.apply(e,arguments)}function Zpe(){return g_.apply(null,arguments).exponent(.5)}const DB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xg,scaleDiverging:$V,scaleDivergingLog:NV,scaleDivergingPow:g_,scaleDivergingSqrt:Zpe,scaleDivergingSymlog:LV,scaleIdentity:bV,scaleImplicit:rA,scaleLinear:t1,scaleLog:jV,scaleOrdinal:Y8,scalePoint:Mh,scalePow:i_,scaleQuantile:EV,scaleQuantize:CV,scaleRadial:wV,scaleSequential:IV,scaleSequentialLog:OV,scaleSequentialPow:h_,scaleSequentialQuantile:MV,scaleSequentialSqrt:Qpe,scaleSequentialSymlog:DV,scaleSqrt:zue,scaleSymlog:SV,scaleThreshold:kV,scaleTime:Xpe,scaleUtc:Jpe,tickFormat:yV},Symbol.toStringTag,{value:"Module"}));var qE,MB;function Nb(){if(MB)return qE;MB=1;var e=Jp();function t(r,o,i){for(var a=-1,s=r.length;++a<s;){var l=r[a],c=o(l);if(c!=null&&(d===void 0?c===c&&!e(c):i(c,d)))var d=c,f=l}return f}return qE=t,qE}var HE,$B;function WV(){if($B)return HE;$B=1;function e(t,r){return t>r}return HE=e,HE}var GE,NB;function efe(){if(NB)return GE;NB=1;var e=Nb(),t=WV(),r=ef();function o(i){return i&&i.length?e(i,r,t):void 0}return GE=o,GE}var tfe=efe();const Lb=nr(tfe);var KE,LB;function VV(){if(LB)return KE;LB=1;function e(t,r){return t<r}return KE=e,KE}var YE,WB;function rfe(){if(WB)return YE;WB=1;var e=Nb(),t=VV(),r=ef();function o(i){return i&&i.length?e(i,r,t):void 0}return YE=o,YE}var nfe=rfe();const Wb=nr(nfe);var XE,VB;function ofe(){if(VB)return XE;VB=1;var e=T8(),t=ms(),r=YW(),o=Lo();function i(a,s){var l=o(a)?e:r;return l(a,t(s,3))}return XE=i,XE}var JE,UB;function ife(){if(UB)return JE;UB=1;var e=GW(),t=ofe();function r(o,i){return e(t(o,i),1)}return JE=r,JE}var afe=ife();const sfe=nr(afe);var QE,qB;function lfe(){if(qB)return QE;qB=1;var e=U8();function t(r,o){return e(r,o)}return QE=t,QE}var cfe=lfe();const Cx=nr(cfe);var rf=1e9,dfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},m_,Lr=!0,Vi="[DecimalError] ",xd=Vi+"Invalid argument: ",x_=Vi+"Exponent out of range: ",nf=Math.floor,Yc=Math.pow,ufe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,zn=1e7,Or=7,UV=9007199254740991,i1=nf(UV/Or),Xe={};Xe.absoluteValue=Xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xe.comparedTo=Xe.cmp=function(e){var t,r,o,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(o=a.d.length,i=e.d.length,t=0,r=o<i?o:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return o===i?0:o>i^a.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Or;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(e){return Qs(this,new this.constructor(e))};Xe.dividedToIntegerBy=Xe.idiv=function(e){var t=this,r=t.constructor;return vr(Qs(t,new r(e),0,1),r.precision)};Xe.equals=Xe.eq=function(e){return!this.cmp(e)};Xe.exponent=function(){return xn(this)};Xe.greaterThan=Xe.gt=function(e){return this.cmp(e)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(e){return this.cmp(e)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(e){return this.cmp(e)<0};Xe.lessThanOrEqualTo=Xe.lte=function(e){return this.cmp(e)<1};Xe.logarithm=Xe.log=function(e){var t,r=this,o=r.constructor,i=o.precision,a=i+5;if(e===void 0)e=new o(10);else if(e=new o(e),e.s<1||e.eq(ni))throw Error(Vi+"NaN");if(r.s<1)throw Error(Vi+(r.s?"NaN":"-Infinity"));return r.eq(ni)?new o(0):(Lr=!1,t=Qs(vg(r,a),vg(e,a),a),Lr=!0,vr(t,i))};Xe.minus=Xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GV(t,e):qV(t,(e.s=-e.s,e))};Xe.modulo=Xe.mod=function(e){var t,r=this,o=r.constructor,i=o.precision;if(e=new o(e),!e.s)throw Error(Vi+"NaN");return r.s?(Lr=!1,t=Qs(r,e,0,1).times(e),Lr=!0,r.minus(t)):vr(new o(r),i)};Xe.naturalExponential=Xe.exp=function(){return HV(this)};Xe.naturalLogarithm=Xe.ln=function(){return vg(this)};Xe.negated=Xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xe.plus=Xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qV(t,e):GV(t,(e.s=-e.s,e))};Xe.precision=Xe.sd=function(e){var t,r,o,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xd+e);if(t=xn(i)+1,o=i.d.length-1,r=o*Or+1,o=i.d[o],o){for(;o%10==0;o/=10)r--;for(o=i.d[0];o>=10;o/=10)r++}return e&&t>r?t:r};Xe.squareRoot=Xe.sqrt=function(){var e,t,r,o,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vi+"NaN")}for(e=xn(l),Lr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=es(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),o=new c(t)):o=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=o,o=a.plus(Qs(l,a,s+2)).times(.5),es(a.d).slice(0,s)===(t=es(o.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(vr(a,r+1,0),a.times(a).eq(l)){o=a;break}}else if(t!="9999")break;s+=4}return Lr=!0,vr(o,r)};Xe.times=Xe.mul=function(e){var t,r,o,i,a,s,l,c,d,f=this,p=f.constructor,h=f.d,x=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,d=x.length,c<d&&(a=h,h=x,x=a,s=c,c=d,d=s),a=[],s=c+d,o=s;o--;)a.push(0);for(o=d;--o>=0;){for(t=0,i=c+o;i>o;)l=a[i]+x[o]*h[i-o-1]+t,a[i--]=l%zn|0,t=l/zn|0;a[i]=(a[i]+t)%zn|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Lr?vr(e,p.precision):e};Xe.toDecimalPlaces=Xe.todp=function(e,t){var r=this,o=r.constructor;return r=new o(r),e===void 0?r:(ds(e,0,rf),t===void 0?t=o.rounding:ds(t,0,8),vr(r,e+xn(r)+1,t))};Xe.toExponential=function(e,t){var r,o=this,i=o.constructor;return e===void 0?r=kd(o,!0):(ds(e,0,rf),t===void 0?t=i.rounding:ds(t,0,8),o=vr(new i(o),e+1,t),r=kd(o,!0,e+1)),r};Xe.toFixed=function(e,t){var r,o,i=this,a=i.constructor;return e===void 0?kd(i):(ds(e,0,rf),t===void 0?t=a.rounding:ds(t,0,8),o=vr(new a(i),e+xn(i)+1,t),r=kd(o.abs(),!1,e+xn(o)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var e=this,t=e.constructor;return vr(new t(e),xn(e)+1,t.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(e){var t,r,o,i,a,s,l=this,c=l.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(ni);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vi+"Infinity");return l}if(l.eq(ni))return l;if(o=c.precision,e.eq(ni))return vr(l,o);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=f<0?-f:f)<=UV){for(i=new c(ni),t=Math.ceil(o/Or+4),Lr=!1;r%2&&(i=i.times(l),GB(i.d,t)),r=nf(r/2),r!==0;)l=l.times(l),GB(l.d,t);return Lr=!0,e.s<0?new c(ni).div(i):vr(i,o)}}else if(a<0)throw Error(Vi+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Lr=!1,i=e.times(vg(l,o+d)),Lr=!0,i=HV(i),i.s=a,i};Xe.toPrecision=function(e,t){var r,o,i=this,a=i.constructor;return e===void 0?(r=xn(i),o=kd(i,r<=a.toExpNeg||r>=a.toExpPos)):(ds(e,1,rf),t===void 0?t=a.rounding:ds(t,0,8),i=vr(new a(i),e,t),r=xn(i),o=kd(i,e<=r||r<=a.toExpNeg,e)),o};Xe.toSignificantDigits=Xe.tosd=function(e,t){var r=this,o=r.constructor;return e===void 0?(e=o.precision,t=o.rounding):(ds(e,1,rf),t===void 0?t=o.rounding:ds(t,0,8)),vr(new o(r),e,t)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xn(e),r=e.constructor;return kd(e,t<=r.toExpNeg||t>=r.toExpPos)};function qV(e,t){var r,o,i,a,s,l,c,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Lr?vr(t,p):t;if(c=e.d,d=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(o=c,a=-a,l=d.length):(o=d,i=s,l=c.length),s=Math.ceil(p/Or),l=s>l?s+1:l+1,a>l&&(a=l,o.length=1),o.reverse();a--;)o.push(0);o.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,o=d,d=c,c=o),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/zn|0,c[a]%=zn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Lr?vr(t,p):t}function ds(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xd+e)}function es(e){var t,r,o,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)o=e[t]+"",r=Or-o.length,r&&(a+=Hl(r)),a+=o;s=e[t],o=s+"",r=Or-o.length,r&&(a+=Hl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Qs=(function(){function e(o,i){var a,s=0,l=o.length;for(o=o.slice();l--;)a=o[l]*i+s,o[l]=a%zn|0,s=a/zn|0;return s&&o.unshift(s),o}function t(o,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(o[l]!=i[l]){c=o[l]>i[l]?1:-1;break}return c}function r(o,i,a){for(var s=0;a--;)o[a]-=s,s=o[a]<i[a]?1:0,o[a]=s*zn+o[a]-i[a];for(;!o[0]&&o.length>1;)o.shift()}return function(o,i,a,s){var l,c,d,f,p,h,x,m,y,b,v,C,S,F,w,k,E,T,_=o.constructor,z=o.s==i.s?1:-1,B=o.d,P=i.d;if(!o.s)return new _(o);if(!i.s)throw Error(Vi+"Division by zero");for(c=o.e-i.e,E=P.length,w=B.length,x=new _(z),m=x.d=[],d=0;P[d]==(B[d]||0);)++d;if(P[d]>(B[d]||0)&&--c,a==null?C=a=_.precision:s?C=a+(xn(o)-xn(i))+1:C=a,C<0)return new _(0);if(C=C/Or+2|0,d=0,E==1)for(f=0,P=P[0],C++;(d<w||f)&&C--;d++)S=f*zn+(B[d]||0),m[d]=S/P|0,f=S%P|0;else{for(f=zn/(P[0]+1)|0,f>1&&(P=e(P,f),B=e(B,f),E=P.length,w=B.length),F=E,y=B.slice(0,E),b=y.length;b<E;)y[b++]=0;T=P.slice(),T.unshift(0),k=P[0],P[1]>=zn/2&&++k;do f=0,l=t(P,y,E,b),l<0?(v=y[0],E!=b&&(v=v*zn+(y[1]||0)),f=v/k|0,f>1?(f>=zn&&(f=zn-1),p=e(P,f),h=p.length,b=y.length,l=t(p,y,h,b),l==1&&(f--,r(p,E<h?T:P,h))):(f==0&&(l=f=1),p=P.slice()),h=p.length,h<b&&p.unshift(0),r(y,p,b),l==-1&&(b=y.length,l=t(P,y,E,b),l<1&&(f++,r(y,E<b?T:P,b))),b=y.length):l===0&&(f++,y=[0]),m[d++]=f,l&&y[0]?y[b++]=B[F]||0:(y=[B[F]],b=1);while((F++<w||y[0]!==void 0)&&C--)}return m[0]||m.shift(),x.e=c,vr(x,s?a+xn(x)+1:a)}})();function HV(e,t){var r,o,i,a,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(xn(e)>16)throw Error(x_+xn(e));if(!e.s)return new f(ni);for(Lr=!1,l=p,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(o=Math.log(Yc(2,d))/Math.LN10*2+5|0,l+=o,r=i=a=new f(ni),f.precision=l;;){if(i=vr(i.times(e),l),r=r.times(++c),s=a.plus(Qs(i,r,l)),es(s.d).slice(0,l)===es(a.d).slice(0,l)){for(;d--;)a=vr(a.times(a),l);return f.precision=p,t==null?(Lr=!0,vr(a,p)):a}a=s}}function xn(e){for(var t=e.e*Or,r=e.d[0];r>=10;r/=10)t++;return t}function ZE(e,t,r){if(t>e.LN10.sd())throw Lr=!0,r&&(e.precision=r),Error(Vi+"LN10 precision limit exceeded");return vr(new e(e.LN10),t)}function Hl(e){for(var t="";e--;)t+="0";return t}function vg(e,t){var r,o,i,a,s,l,c,d,f,p=1,h=10,x=e,m=x.d,y=x.constructor,b=y.precision;if(x.s<1)throw Error(Vi+(x.s?"NaN":"-Infinity"));if(x.eq(ni))return new y(0);if(t==null?(Lr=!1,d=b):d=t,x.eq(10))return t==null&&(Lr=!0),ZE(y,d);if(d+=h,y.precision=d,r=es(m),o=r.charAt(0),a=xn(x),Math.abs(a)<15e14){for(;o<7&&o!=1||o==1&&r.charAt(1)>3;)x=x.times(e),r=es(x.d),o=r.charAt(0),p++;a=xn(x),o>1?(x=new y("0."+r),a++):x=new y(o+"."+r.slice(1))}else return c=ZE(y,d+2,b).times(a+""),x=vg(new y(o+"."+r.slice(1)),d-h).plus(c),y.precision=b,t==null?(Lr=!0,vr(x,b)):x;for(l=s=x=Qs(x.minus(ni),x.plus(ni),d),f=vr(x.times(x),d),i=3;;){if(s=vr(s.times(f),d),c=l.plus(Qs(s,new y(i),d)),es(c.d).slice(0,d)===es(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(ZE(y,d+2,b).times(a+""))),l=Qs(l,new y(p),d),y.precision=b,t==null?(Lr=!0,vr(l,b)):l;l=c,i+=2}}function HB(e,t){var r,o,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charCodeAt(o)===48;)++o;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(o,i),t){if(i-=o,r=r-o-1,e.e=nf(r/Or),e.d=[],o=(r+1)%Or,r<0&&(o+=Or),o<i){for(o&&e.d.push(+t.slice(0,o)),i-=Or;o<i;)e.d.push(+t.slice(o,o+=Or));t=t.slice(o),o=Or-t.length}else o-=i;for(;o--;)t+="0";if(e.d.push(+t),Lr&&(e.e>i1||e.e<-i1))throw Error(x_+r)}else e.s=0,e.e=0,e.d=[0];return e}function vr(e,t,r){var o,i,a,s,l,c,d,f,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(o=t-s,o<0)o+=Or,i=t,d=p[f=0];else{if(f=Math.ceil((o+1)/Or),a=p.length,f>=a)return e;for(d=a=p[f],s=1;a>=10;a/=10)s++;o%=Or,i=o-Or+s}if(r!==void 0&&(a=Yc(10,s-i-1),l=d/a%10|0,c=t<0||p[f+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(o>0?i>0?d/Yc(10,s-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(a=xn(e),p.length=1,t=t-a-1,p[0]=Yc(10,(Or-t%Or)%Or),e.e=nf(-t/Or)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(o==0?(p.length=f,a=1,f--):(p.length=f+1,a=Yc(10,Or-o),p[f]=i>0?(d/Yc(10,s-i)%Yc(10,i)|0)*a:0),c)for(;;)if(f==0){(p[0]+=a)==zn&&(p[0]=1,++e.e);break}else{if(p[f]+=a,p[f]!=zn)break;p[f--]=0,a=1}for(o=p.length;p[--o]===0;)p.pop();if(Lr&&(e.e>i1||e.e<-i1))throw Error(x_+xn(e));return e}function GV(e,t){var r,o,i,a,s,l,c,d,f,p,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Lr?vr(t,x):t;if(c=e.d,p=t.d,o=t.e,d=e.e,c=c.slice(),s=d-o,s){for(f=s<0,f?(r=c,s=-s,l=p.length):(r=p,o=d,l=c.length),i=Math.max(Math.ceil(x/Or),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}s=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=zn-1;--c[a],c[i]+=zn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--o;return c[0]?(t.d=c,t.e=o,Lr?vr(t,x):t):new h(0)}function kd(e,t,r){var o,i=xn(e),a=es(e.d),s=a.length;return t?(r&&(o=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Hl(o):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Hl(-i-1)+a,r&&(o=r-s)>0&&(a+=Hl(o))):i>=s?(a+=Hl(i+1-s),r&&(o=r-i-1)>0&&(a=a+"."+Hl(o))):((o=i+1)<s&&(a=a.slice(0,o)+"."+a.slice(o)),r&&(o=r-s)>0&&(i+1===s&&(a+="."),a+=Hl(o))),e.s<0?"-"+a:a}function GB(e,t){if(e.length>t)return e.length=t,!0}function KV(e){var t,r,o;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(xd+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return HB(s,a.toString())}else if(typeof a!="string")throw Error(xd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,ufe.test(a))HB(s,a);else throw Error(xd+a)}if(i.prototype=Xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KV,i.config=i.set=pfe,e===void 0&&(e={}),e)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<o.length;)e.hasOwnProperty(r=o[t++])||(e[r]=this[r]);return i.config(e),i}function pfe(e){if(!e||typeof e!="object")throw Error(Vi+"Object expected");var t,r,o,i=["precision",1,rf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((o=e[r=i[t]])!==void 0)if(nf(o)===o&&o>=i[t+1]&&o<=i[t+2])this[r]=o;else throw Error(xd+r+": "+o);if((o=e[r="LN10"])!==void 0)if(o==Math.LN10)this[r]=new this(o);else throw Error(xd+r+": "+o);return this}var m_=KV(dfe);ni=new m_(1);const gr=m_;function ffe(e){return mfe(e)||xfe(e)||gfe(e)||hfe()}function hfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gfe(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function xfe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mfe(e){if(Array.isArray(e))return sA(e)}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var yfe=function(t){return t},YV={},XV=function(t){return t===YV},KB=function(t){return function r(){return arguments.length===0||arguments.length===1&&XV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},bfe=function e(t,r){return t===1?r:KB(function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==YV}).length;return s>=t?r.apply(void 0,i):e(t-s,KB(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(p){return XV(p)?c.shift():p});return r.apply(void 0,ffe(f).concat(c))}))})},Vb=function(t){return bfe(t.length,t)},lA=function(t,r){for(var o=[],i=t;i<r;++i)o[i-t]=i;return o},vfe=Vb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),jfe=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];if(!r.length)return yfe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},cA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},JV=function(t){var r=null,o=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,c){return l===r[c]})||(r=a,o=t.apply(void 0,a)),o}};function Sfe(e){var t;return e===0?t=1:t=Math.floor(new gr(e).abs().log(10).toNumber())+1,t}function wfe(e,t,r){for(var o=new gr(e),i=0,a=[];o.lt(t)&&i<1e5;)a.push(o.toNumber()),o=o.add(r),i++;return a}var Efe=Vb(function(e,t,r){var o=+e,i=+t;return o+r*(i-o)}),Cfe=Vb(function(e,t,r){var o=t-+e;return o=o||1/0,(r-e)/o}),kfe=Vb(function(e,t,r){var o=t-+e;return o=o||1/0,Math.max(0,Math.min(1,(r-e)/o))});const Ub={rangeStep:wfe,getDigitCount:Sfe,interpolateNumber:Efe,uninterpolateNumber:Cfe,uninterpolateTruncation:kfe};function dA(e){return _fe(e)||Afe(e)||QV(e)||Ffe()}function Ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Afe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _fe(e){if(Array.isArray(e))return uA(e)}function jg(e,t){return Pfe(e)||Tfe(e,t)||QV(e,t)||Rfe()}function Rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(e,t){if(e){if(typeof e=="string")return uA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(e,t)}}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Tfe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],o=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(o=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));o=!0);}catch(c){i=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Pfe(e){if(Array.isArray(e))return e}function ZV(e){var t=jg(e,2),r=t[0],o=t[1],i=r,a=o;return r>o&&(i=o,a=r),[i,a]}function eU(e,t,r){if(e.lte(0))return new gr(0);var o=Ub.getDigitCount(e.toNumber()),i=new gr(10).pow(o),a=e.div(i),s=o!==1?.05:.1,l=new gr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?c:new gr(Math.ceil(c))}function zfe(e,t,r){var o=1,i=new gr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(o=new gr(10).pow(Ub.getDigitCount(e)-1),i=new gr(Math.floor(i.div(o).toNumber())).mul(o)):a>1&&(i=new gr(Math.floor(e)))}else e===0?i=new gr(Math.floor((t-1)/2)):r||(i=new gr(Math.floor(e)));var s=Math.floor((t-1)/2),l=jfe(vfe(function(c){return i.add(new gr(c-s).mul(o)).toNumber()}),lA);return l(0,t)}function tU(e,t,r,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gr(0),tickMin:new gr(0),tickMax:new gr(0)};var a=eU(new gr(t).sub(e).div(r-1),o,i),s;e<=0&&t>=0?s=new gr(0):(s=new gr(e).add(t).div(2),s=s.sub(new gr(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new gr(t).sub(s).div(a).toNumber()),d=l+c+1;return d>r?tU(e,t,r,o,i+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:a,tickMin:s.sub(new gr(l).mul(a)),tickMax:s.add(new gr(c).mul(a))})}function Bfe(e){var t=jg(e,2),r=t[0],o=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=ZV([r,o]),c=jg(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var p=f===1/0?[d].concat(dA(lA(0,i-1).map(function(){return 1/0}))):[].concat(dA(lA(0,i-1).map(function(){return-1/0})),[f]);return r>o?cA(p):p}if(d===f)return zfe(d,i,a);var h=tU(d,f,s,a),x=h.step,m=h.tickMin,y=h.tickMax,b=Ub.rangeStep(m,y.add(new gr(.1).mul(x)),x);return r>o?cA(b):b}function Ife(e,t){var r=jg(e,2),o=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=ZV([o,i]),l=jg(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[o,i];if(c===d)return[c];var f=Math.max(t,2),p=eU(new gr(d).sub(c).div(f-1),a,0),h=[].concat(dA(Ub.rangeStep(new gr(c),new gr(d).sub(new gr(.99).mul(p)),p)),[d]);return o>i?cA(h):h}var Ofe=JV(Bfe),Dfe=JV(Ife),Mfe="Invariant failed";function Fd(e,t){throw new Error(Mfe)}var $fe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a1.apply(this,arguments)}function Nfe(e,t){return Ufe(e)||Vfe(e,t)||Wfe(e,t)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wfe(e,t){if(e){if(typeof e=="string")return YB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YB(e,t)}}function YB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Vfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Ufe(e){if(Array.isArray(e))return e}function qfe(e,t){if(e==null)return{};var r=Hfe(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Hfe(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function Gfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kfe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,oU(o.key),o)}}function Yfe(e,t,r){return t&&Kfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xfe(e,t,r){return t=s1(t),Jfe(e,rU()?Reflect.construct(t,r||[],s1(e).constructor):t.apply(e,r))}function Jfe(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qfe(e)}function Qfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rU=function(){return!!e})()}function s1(e){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(e)}function Zfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pA(e,t)}function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},pA(e,t)}function nU(e,t,r){return t=oU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=ehe(e,"string");return Sp(t)=="symbol"?t:t+""}function ehe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Sp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kx=(function(e){function t(){return Gfe(this,t),Xfe(this,t,arguments)}return Zfe(t,e),Yfe(t,[{key:"render",value:function(){var o=this.props,i=o.offset,a=o.layout,s=o.width,l=o.dataKey,c=o.data,d=o.dataPointFormatter,f=o.xAxis,p=o.yAxis,h=qfe(o,$fe),x=xt(h,!1);this.props.direction==="x"&&f.type!=="number"&&Fd();var m=c.map(function(y){var b=d(y,l),v=b.x,C=b.y,S=b.value,F=b.errorVal;if(!F)return null;var w=[],k,E;if(Array.isArray(F)){var T=Nfe(F,2);k=T[0],E=T[1]}else k=E=F;if(a==="vertical"){var _=f.scale,z=C+i,B=z+s,P=z-s,D=_(S-k),I=_(S+E);w.push({x1:I,y1:B,x2:I,y2:P}),w.push({x1:D,y1:z,x2:I,y2:z}),w.push({x1:D,y1:B,x2:D,y2:P})}else if(a==="horizontal"){var N=p.scale,M=v+i,V=M-s,L=M+s,W=N(S-k),G=N(S+E);w.push({x1:V,y1:G,x2:L,y2:G}),w.push({x1:M,y1:W,x2:M,y2:G}),w.push({x1:V,y1:W,x2:L,y2:W})}return Y.createElement(er,a1({className:"recharts-errorBar",key:"bar-".concat(w.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},x),w.map(function(U){return Y.createElement("line",a1({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return Y.createElement(er,{className:"recharts-errorBars"},m)}}])})(Y.Component);nU(kx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nU(kx,"displayName","ErrorBar");function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function XB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(r),!0).forEach(function(o){the(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function the(e,t,r){return t=rhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rhe(e){var t=nhe(e,"string");return Sg(t)=="symbol"?t:t+""}function nhe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Sg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iU=function(t){var r=t.children,o=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=ei(r,sc);if(!s)return null;var l=sc.defaultProps,c=l!==void 0?Ic(Ic({},l),s.props):{},d;return s.props&&s.props.payload?d=s.props&&s.props.payload:a==="children"?d=(o||[]).reduce(function(f,p){var h=p.item,x=p.props,m=x.sectors||x.data||[];return f.concat(m.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):d=(o||[]).map(function(f){var p=f.item,h=p.type.defaultProps,x=h!==void 0?Ic(Ic({},h),p.props):{},m=x.dataKey,y=x.name,b=x.legendType,v=x.hide;return{inactive:v,dataKey:m,type:c.iconType||b||"square",color:y_(p),value:y||m,payload:x}}),Ic(Ic(Ic({},c),sc.getWithHeight(s,i)),{},{payload:d,item:s})};function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function JB(e){return she(e)||ahe(e)||ihe(e)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(e,t){if(e){if(typeof e=="string")return fA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(e,t)}}function ahe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function she(e){if(Array.isArray(e))return fA(e)}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function QB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(r),!0).forEach(function(o){cp(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function cp(e,t,r){return t=lhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lhe(e){var t=che(e,"string");return wg(t)=="symbol"?t:t+""}function che(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(wg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(e,t,r){return Tt(e)||Tt(t)?r:An(t)?li(e,t,r):wt(t)?t(e):r}function $h(e,t,r,o){var i=sfe(e,function(l){return Fn(l,t)});if(r==="number"){var a=i.filter(function(l){return Me(l)||parseFloat(l)});return a.length?[Wb(a),Lb(a)]:[1/0,-1/0]}var s=o?i.filter(function(l){return!Tt(l)}):i;return s.map(function(l){return An(l)||l instanceof Date?l:""})}var dhe=function(t){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=o==null?void 0:o.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,p=i[d].coordinate,h=d>=l-1?i[0].coordinate:i[d+1].coordinate,x=void 0;if(wo(p-f)!==wo(h-p)){var m=[];if(wo(h-p)===wo(c[1]-c[0])){x=h;var y=p+c[1]-c[0];m[0]=Math.min(y,(y+f)/2),m[1]=Math.max(y,(y+f)/2)}else{x=f;var b=h+c[1]-c[0];m[0]=Math.min(p,(b+p)/2),m[1]=Math.max(p,(b+p)/2)}var v=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){s=i[d].index;break}}else{var C=Math.min(f,h),S=Math.max(f,h);if(t>(C+p)/2&&t<=(S+p)/2){s=i[d].index;break}}}else for(var F=0;F<l;F++)if(F===0&&t<=(o[F].coordinate+o[F+1].coordinate)/2||F>0&&F<l-1&&t>(o[F].coordinate+o[F-1].coordinate)/2&&t<=(o[F].coordinate+o[F+1].coordinate)/2||F===l-1&&t>(o[F].coordinate+o[F-1].coordinate)/2){s=o[F].index;break}return s},y_=function(t){var r,o=t,i=o.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?tn(tn({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},uhe=function(t){var r=t.barSize,o=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var f=a[l[c]].stackGroups,p=Object.keys(f),h=0,x=p.length;h<x;h++){var m=f[p[h]],y=m.items,b=m.cateAxisId,v=y.filter(function(E){return Xs(E.type).indexOf("Bar")>=0});if(v&&v.length){var C=v[0].type.defaultProps,S=C!==void 0?tn(tn({},C),v[0].props):v[0].props,F=S.barSize,w=S[b];s[w]||(s[w]=[]);var k=Tt(F)?r:F;s[w].push({item:v[0],stackList:v.slice(1),barSize:Tt(k)?void 0:Eo(k,o,0)})}}return s},phe=function(t){var r=t.barGap,o=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var d=Eo(r,i,0,!0),f,p=[];if(s[0].barSize===+s[0].barSize){var h=!1,x=i/c,m=s.reduce(function(F,w){return F+w.barSize||0},0);m+=(c-1)*d,m>=i&&(m-=(c-1)*d,d=0),m>=i&&x>0&&(h=!0,x*=.9,m=c*x);var y=(i-m)/2>>0,b={offset:y-d,size:0};f=s.reduce(function(F,w){var k={item:w.item,position:{offset:b.offset+b.size+d,size:h?x:w.barSize}},E=[].concat(JB(F),[k]);return b=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){E.push({item:T,position:b})}),E},p)}else{var v=Eo(o,i,0,!0);i-2*v-(c-1)*d<=0&&(d=0);var C=(i-2*v-(c-1)*d)/c;C>1&&(C>>=0);var S=l===+l?Math.min(C,l):C;f=s.reduce(function(F,w,k){var E=[].concat(JB(F),[{item:w.item,position:{offset:v+(C+d)*k+(C-S)/2,size:S}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},p)}return f},fhe=function(t,r,o,i){var a=o.children,s=o.width,l=o.margin,c=s-(l.left||0)-(l.right||0),d=iU({children:a,legendWidth:c});if(d){var f=i||{},p=f.width,h=f.height,x=d.align,m=d.verticalAlign,y=d.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&x!=="center"&&Me(t[x]))return tn(tn({},t),{},cp({},x,t[x]+(p||0)));if((y==="horizontal"||y==="vertical"&&x==="center")&&m!=="middle"&&Me(t[m]))return tn(tn({},t),{},cp({},m,t[m]+(h||0)))}return t},hhe=function(t,r,o){return Tt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||o==="x"?r==="xAxis":o==="y"?r==="yAxis":!0},aU=function(t,r,o,i,a){var s=r.props.children,l=ci(s,kx).filter(function(d){return hhe(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,f){var p=Fn(f,o);if(Tt(p))return d;var h=Array.isArray(p)?[Wb(p),Lb(p)]:[p,p],x=c.reduce(function(m,y){var b=Fn(f,y,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),C=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,m[0]),Math.max(C,m[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},ghe=function(t,r,o,i,a){var s=r.map(function(l){return aU(t,l,o,a,i)}).filter(function(l){return!Tt(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},sU=function(t,r,o,i,a){var s=r.map(function(c){var d=c.props.dataKey;return o==="number"&&d&&aU(t,c,d,i)||$h(t,d,o,a)});if(o==="number")return s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,d){for(var f=0,p=d.length;f<p;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},lU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},cU=function(t,r,o,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===o&&(s=!0),c.coordinate});return a||l.push(r),s||l.push(o),l},Hs=function(t,r,o){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||o)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?wo(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(p){var h=a?a.indexOf(p):p;return{coordinate:i(h)+d,value:p,offset:d}});return f.filter(function(p){return!bx(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,h){return{coordinate:i(p)+d,value:p,index:h,offset:d}}):i.ticks&&!o?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+d,value:p,offset:d}}):i.domain().map(function(p,h){return{coordinate:i(p)+d,value:a?a[p]:p,index:h,offset:d}})},eC=new WeakMap,a0=function(t,r){if(typeof r!="function")return t;eC.has(t)||eC.set(t,new WeakMap);var o=eC.get(t);if(o.has(r))return o.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return o.set(r,i),i},dU=function(t,r,o){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:xg(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:t1(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!o)?{scale:Mh(),realScaleType:"point"}:a==="category"?{scale:xg(),realScaleType:"band"}:{scale:t1(),realScaleType:"linear"};if(yx(i)){var c="scale".concat(Fb(i));return{scale:(DB[c]||Mh)(),realScaleType:DB[c]?c:"point"}}return wt(i)?{scale:i}:{scale:Mh(),realScaleType:"point"}},ZB=1e-4,uU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var o=r.length,i=t.range(),a=Math.min(i[0],i[1])-ZB,s=Math.max(i[0],i[1])+ZB,l=t(r[0]),c=t(r[o-1]);(l<a||l>s||c<a||c>s)&&t.domain([r[0],r[o-1]])}},xhe=function(t,r){if(!t)return null;for(var o=0,i=t.length;o<i;o++)if(t[o].item===r)return t[o].position;return null},mhe=function(t,r){if(!r||r.length!==2||!Me(r[0])||!Me(r[1]))return t;var o=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Me(t[0])||t[0]<o)&&(a[0]=o),(!Me(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<o&&(a[1]=o),a},yhe=function(t){var r=t.length;if(!(r<=0))for(var o=0,i=t[0].length;o<i;++o)for(var a=0,s=0,l=0;l<r;++l){var c=bx(t[l][o][1])?t[l][o][0]:t[l][o][1];c>=0?(t[l][o][0]=a,t[l][o][1]=a+c,a=t[l][o][1]):(t[l][o][0]=s,t[l][o][1]=s+c,s=t[l][o][1])}},bhe=function(t){var r=t.length;if(!(r<=0))for(var o=0,i=t[0].length;o<i;++o)for(var a=0,s=0;s<r;++s){var l=bx(t[s][o][1])?t[s][o][0]:t[s][o][1];l>=0?(t[s][o][0]=a,t[s][o][1]=a+l,a=t[s][o][1]):(t[s][o][0]=0,t[s][o][1]=0)}},vhe={sign:yhe,expand:tse,none:hp,silhouette:rse,wiggle:nse,positive:bhe},jhe=function(t,r,o){var i=r.map(function(l){return l.props.dataKey}),a=vhe[o],s=ese().keys(i).value(function(l,c){return+Fn(l,c,0)}).order(WF).offset(a);return s(t)},She=function(t,r,o,i,a,s){if(!t)return null;var l=s?r.reverse():r,c={},d=l.reduce(function(p,h){var x,m=(x=h.type)!==null&&x!==void 0&&x.defaultProps?tn(tn({},h.type.defaultProps),h.props):h.props,y=m.stackId,b=m.hide;if(b)return p;var v=m[o],C=p[v]||{hasStack:!1,stackGroups:{}};if(An(y)){var S=C.stackGroups[y]||{numericAxisId:o,cateAxisId:i,items:[]};S.items.push(h),C.hasStack=!0,C.stackGroups[y]=S}else C.stackGroups[Zp("_stackId_")]={numericAxisId:o,cateAxisId:i,items:[h]};return tn(tn({},p),{},cp({},v,C))},c),f={};return Object.keys(d).reduce(function(p,h){var x=d[h];if(x.hasStack){var m={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(y,b){var v=x.stackGroups[b];return tn(tn({},y),{},cp({},b,{numericAxisId:o,cateAxisId:i,items:v.items,stackedData:jhe(t,v.items,a)}))},m)}return tn(tn({},p),{},cp({},h,x))},f)},pU=function(t,r){var o=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=o||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var d=t.domain();if(!d.length)return null;var f=Ofe(d,a,l);return t.domain([Wb(f),Lb(f)]),{niceTicks:f}}if(a&&i==="number"){var p=t.domain(),h=Dfe(p,a,l);return{niceTicks:h}}return null};function eI(e){var t=e.axis,r=e.ticks,o=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Tt(i[t.dataKey])){var l=Oy(r,"value",i[t.dataKey]);if(l)return l.coordinate+o/2}return r[a]?r[a].coordinate+o/2:null}var c=Fn(i,Tt(s)?t.dataKey:s);return Tt(c)?null:t.scale(c)}var tI=function(t){var r=t.axis,o=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return o[l]?o[l].coordinate+i:null;var c=Fn(s,r.dataKey,r.domain[l]);return Tt(c)?null:r.scale(c)-a/2+i},whe=function(t){var r=t.numericAxis,o=r.scale.domain();if(r.type==="number"){var i=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);return i<=0&&a>=0?0:a<0?a:i}return o[0]},Ehe=function(t,r){var o,i=(o=t.type)!==null&&o!==void 0&&o.defaultProps?tn(tn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(An(a)){var s=r[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Che=function(t){return t.reduce(function(r,o){return[Wb(o.concat([r[0]]).filter(Me)),Lb(o.concat([r[1]]).filter(Me))]},[1/0,-1/0])},fU=function(t,r,o){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(d,f){var p=Che(f.slice(r,o+1));return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},rI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hA=function(t,r,o){if(wt(t))return t(r,o);if(!Array.isArray(t))return r;var i=[];if(Me(t[0]))i[0]=o?t[0]:Math.min(t[0],r[0]);else if(rI.test(t[0])){var a=+rI.exec(t[0])[1];i[0]=r[0]-a}else wt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Me(t[1]))i[1]=o?t[1]:Math.max(t[1],r[1]);else if(nI.test(t[1])){var s=+nI.exec(t[1])[1];i[1]=r[1]+s}else wt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},l1=function(t,r,o){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!o||i>0)return i}if(t&&r&&r.length>=2){for(var a=H8(r,function(p){return p.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return o?void 0:0},oI=function(t,r,o){return!t||!t.length||Cx(t,li(o,"type.defaultProps.domain"))?r:t},hU=function(t,r){var o=t.type.defaultProps?tn(tn({},t.type.defaultProps),t.props):t.props,i=o.dataKey,a=o.name,s=o.unit,l=o.formatter,c=o.tooltipType,d=o.chartType,f=o.hide;return tn(tn({},xt(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:y_(t),value:Fn(r,i),type:c,payload:r,chartType:d,hide:f})};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(o){gU(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function gU(e,t,r){return t=khe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function khe(e){var t=Fhe(e,"string");return Eg(t)=="symbol"?t:t+""}function Fhe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Eg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ahe(e,t){return Phe(e)||The(e,t)||Rhe(e,t)||_he()}function _he(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(e,t){if(e){if(typeof e=="string")return aI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aI(e,t)}}function aI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function The(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Phe(e){if(Array.isArray(e))return e}var c1=Math.PI/180,zhe=function(t){return t*180/Math.PI},Rr=function(t,r,o,i){return{x:t+Math.cos(-c1*i)*o,y:r+Math.sin(-c1*i)*o}},xU=function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(o.left||0)-(o.right||0)),Math.abs(r-(o.top||0)-(o.bottom||0)))/2},Bhe=function(t,r,o,i,a){var s=t.width,l=t.height,c=t.startAngle,d=t.endAngle,f=Eo(t.cx,s,s/2),p=Eo(t.cy,l,l/2),h=xU(s,l,o),x=Eo(t.innerRadius,h,0),m=Eo(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(b,v){var C=r[v],S=C.domain,F=C.reversed,w;if(Tt(C.range))i==="angleAxis"?w=[c,d]:i==="radiusAxis"&&(w=[x,m]),F&&(w=[w[1],w[0]]);else{w=C.range;var k=w,E=Ahe(k,2);c=E[0],d=E[1]}var T=dU(C,a),_=T.realScaleType,z=T.scale;z.domain(S).range(w),uU(z);var B=pU(z,Ls(Ls({},C),{},{realScaleType:_})),P=Ls(Ls(Ls({},C),B),{},{range:w,radius:m,realScaleType:_,scale:z,cx:f,cy:p,innerRadius:x,outerRadius:m,startAngle:c,endAngle:d});return Ls(Ls({},b),{},gU({},v,P))},{})},Ihe=function(t,r){var o=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(o-a,2)+Math.pow(i-s,2))},Ohe=function(t,r){var o=t.x,i=t.y,a=r.cx,s=r.cy,l=Ihe({x:o,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(o-a)/l,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:l,angle:zhe(d),angleInRadian:d}},Dhe=function(t){var r=t.startAngle,o=t.endAngle,i=Math.floor(r/360),a=Math.floor(o/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:o-s*360}},Mhe=function(t,r){var o=r.startAngle,i=r.endAngle,a=Math.floor(o/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},sI=function(t,r){var o=t.x,i=t.y,a=Ohe({x:o,y:i},r),s=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(s<c||s>d)return!1;if(s===0)return!0;var f=Dhe(r),p=f.startAngle,h=f.endAngle,x=l,m;if(p<=h){for(;x>h;)x-=360;for(;x<p;)x+=360;m=x>=p&&x<=h}else{for(;x>p;)x-=360;for(;x<h;)x+=360;m=x>=h&&x<=p}return m?Ls(Ls({},r),{},{radius:s,angle:Mhe(x,r)}):null},mU=function(t){return!A.isValidElement(t)&&!wt(t)&&typeof t!="boolean"?t.className:""};function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}var $he=["offset"];function Nhe(e){return Uhe(e)||Vhe(e)||Whe(e)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function Vhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uhe(e){if(Array.isArray(e))return gA(e)}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function qhe(e,t){if(e==null)return{};var r=Hhe(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Hhe(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(o){Ghe(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Ghe(e,t,r){return t=Khe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Khe(e){var t=Yhe(e,"string");return Cg(t)=="symbol"?t:t+""}function Yhe(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Cg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},kg.apply(this,arguments)}var Xhe=function(t){var r=t.value,o=t.formatter,i=Tt(t.children)?r:t.children;return wt(o)?o(i):i},Jhe=function(t,r){var o=wo(r-t),i=Math.min(Math.abs(r-t),360);return o*i},Qhe=function(t,r,o){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,d=c.cx,f=c.cy,p=c.innerRadius,h=c.outerRadius,x=c.startAngle,m=c.endAngle,y=c.clockWise,b=(p+h)/2,v=Jhe(x,m),C=v>=0?1:-1,S,F;i==="insideStart"?(S=x+C*s,F=y):i==="insideEnd"?(S=m-C*s,F=!y):i==="end"&&(S=m+C*s,F=y),F=v<=0?F:!F;var w=Rr(d,f,b,S),k=Rr(d,f,b,S+(F?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(F?0:1,`,
    `).concat(k.x,",").concat(k.y),T=Tt(t.id)?Zp("recharts-radial-line-"):t.id;return Y.createElement("text",kg({},o,{dominantBaseline:"central",className:It("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:T,d:E})),Y.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Zhe=function(t){var r=t.viewBox,o=t.offset,i=t.position,a=r,s=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,f=a.startAngle,p=a.endAngle,h=(f+p)/2;if(i==="outside"){var x=Rr(s,l,d+o,h),m=x.x,y=x.y;return{x:m,y,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,v=Rr(s,l,b,h),C=v.x,S=v.y;return{x:C,y:S,textAnchor:"middle",verticalAnchor:"middle"}},ege=function(t){var r=t.viewBox,o=t.parentViewBox,i=t.offset,a=t.position,s=r,l=s.x,c=s.y,d=s.width,f=s.height,p=f>=0?1:-1,h=p*i,x=p>0?"end":"start",m=p>0?"start":"end",y=d>=0?1:-1,b=y*i,v=y>0?"end":"start",C=y>0?"start":"end";if(a==="top"){var S={x:l+d/2,y:c-p*i,textAnchor:"middle",verticalAnchor:x};return En(En({},S),o?{height:Math.max(c-o.y,0),width:d}:{})}if(a==="bottom"){var F={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:m};return En(En({},F),o?{height:Math.max(o.y+o.height-(c+f),0),width:d}:{})}if(a==="left"){var w={x:l-b,y:c+f/2,textAnchor:v,verticalAnchor:"middle"};return En(En({},w),o?{width:Math.max(w.x-o.x,0),height:f}:{})}if(a==="right"){var k={x:l+d+b,y:c+f/2,textAnchor:C,verticalAnchor:"middle"};return En(En({},k),o?{width:Math.max(o.x+o.width-k.x,0),height:f}:{})}var E=o?{width:d,height:f}:{};return a==="insideLeft"?En({x:l+b,y:c+f/2,textAnchor:C,verticalAnchor:"middle"},E):a==="insideRight"?En({x:l+d-b,y:c+f/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideTop"?En({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:m},E):a==="insideBottom"?En({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},E):a==="insideTopLeft"?En({x:l+b,y:c+h,textAnchor:C,verticalAnchor:m},E):a==="insideTopRight"?En({x:l+d-b,y:c+h,textAnchor:v,verticalAnchor:m},E):a==="insideBottomLeft"?En({x:l+b,y:c+f-h,textAnchor:C,verticalAnchor:x},E):a==="insideBottomRight"?En({x:l+d-b,y:c+f-h,textAnchor:v,verticalAnchor:x},E):Qp(a)&&(Me(a.x)||ad(a.x))&&(Me(a.y)||ad(a.y))?En({x:l+Eo(a.x,d),y:c+Eo(a.y,f),textAnchor:"end",verticalAnchor:"end"},E):En({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},tge=function(t){return"cx"in t&&Me(t.cx)};function On(e){var t=e.offset,r=t===void 0?5:t,o=qhe(e,$he),i=En({offset:r},o),a=i.viewBox,s=i.position,l=i.value,c=i.children,d=i.content,f=i.className,p=f===void 0?"":f,h=i.textBreakAll;if(!a||Tt(l)&&Tt(c)&&!A.isValidElement(d)&&!wt(d))return null;if(A.isValidElement(d))return A.cloneElement(d,i);var x;if(wt(d)){if(x=A.createElement(d,i),A.isValidElement(x))return x}else x=Xhe(i);var m=tge(a),y=xt(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Qhe(i,x,y);var b=m?Zhe(i):ege(i);return Y.createElement(Ed,kg({className:It("recharts-label",p)},y,b,{breakAll:h}),x)}On.displayName="Label";var yU=function(t){var r=t.cx,o=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,f=t.outerRadius,p=t.x,h=t.y,x=t.top,m=t.left,y=t.width,b=t.height,v=t.clockWise,C=t.labelViewBox;if(C)return C;if(Me(y)&&Me(b)){if(Me(p)&&Me(h))return{x:p,y:h,width:y,height:b};if(Me(x)&&Me(m))return{x,y:m,width:y,height:b}}return Me(p)&&Me(h)?{x:p,y:h,width:0,height:0}:Me(r)&&Me(o)?{cx:r,cy:o,startAngle:a||i||0,endAngle:s||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},rge=function(t,r){return t?t===!0?Y.createElement(On,{key:"label-implicit",viewBox:r}):An(t)?Y.createElement(On,{key:"label-implicit",viewBox:r,value:t}):A.isValidElement(t)?t.type===On?A.cloneElement(t,{key:"label-implicit",viewBox:r}):Y.createElement(On,{key:"label-implicit",content:t,viewBox:r}):wt(t)?Y.createElement(On,{key:"label-implicit",content:t,viewBox:r}):Qp(t)?Y.createElement(On,kg({viewBox:r},t,{key:"label-implicit"})):null:null},nge=function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&o&&!t.label)return null;var i=t.children,a=yU(t),s=ci(i,On).map(function(c,d){return A.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!o)return s;var l=rge(t.label,r||a);return[l].concat(Nhe(s))};On.parseViewBox=yU;On.renderCallByParent=nge;var tC,cI;function oge(){if(cI)return tC;cI=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return tC=e,tC}var ige=oge();const age=nr(ige);function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}var sge=["valueAccessor"],lge=["data","dataKey","clockWise","id","textBreakAll"];function cge(e){return fge(e)||pge(e)||uge(e)||dge()}function dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uge(e,t){if(e){if(typeof e=="string")return xA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(e,t)}}function pge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fge(e){if(Array.isArray(e))return xA(e)}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},d1.apply(this,arguments)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function uI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(o){hge(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function hge(e,t,r){return t=gge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gge(e){var t=xge(e,"string");return Fg(t)=="symbol"?t:t+""}function xge(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Fg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pI(e,t){if(e==null)return{};var r=mge(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function mge(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}var yge=function(t){return Array.isArray(t.value)?age(t.value):t.value};function Zs(e){var t=e.valueAccessor,r=t===void 0?yge:t,o=pI(e,sge),i=o.data,a=o.dataKey,s=o.clockWise,l=o.id,c=o.textBreakAll,d=pI(o,lge);return!i||!i.length?null:Y.createElement(er,{className:"recharts-label-list"},i.map(function(f,p){var h=Tt(a)?r(f,p):Fn(f&&f.payload,a),x=Tt(l)?{}:{id:"".concat(l,"-").concat(p)};return Y.createElement(On,d1({},xt(f,!0),d,x,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:On.parseViewBox(Tt(s)?f:uI(uI({},f),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Zs.displayName="LabelList";function bge(e,t){return e?e===!0?Y.createElement(Zs,{key:"labelList-implicit",data:t}):Y.isValidElement(e)||wt(e)?Y.createElement(Zs,{key:"labelList-implicit",data:t,content:e}):Qp(e)?Y.createElement(Zs,d1({data:t},e,{key:"labelList-implicit"})):null:null}function vge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var o=e.children,i=ci(o,Zs).map(function(s,l){return A.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=bge(e.label,t);return[a].concat(cge(i))}Zs.renderCallByParent=vge;function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},mA.apply(this,arguments)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(o){jge(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function jge(e,t,r){return t=Sge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sge(e){var t=wge(e,"string");return Ag(t)=="symbol"?t:t+""}function wge(e,t){if(Ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Ag(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ege=function(t,r){var o=wo(r-t),i=Math.min(Math.abs(r-t),359.999);return o*i},s0=function(t){var r=t.cx,o=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,f=c*(l?1:-1)+i,p=Math.asin(c/f)/c1,h=d?a:a+s*p,x=Rr(r,o,f,h),m=Rr(r,o,i,h),y=d?a-s*p:a,b=Rr(r,o,f*Math.cos(p*c1),y);return{center:x,circleTangency:m,lineTangency:b,theta:p}},bU=function(t){var r=t.cx,o=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=Ege(s,l),d=s+c,f=Rr(r,o,a,s),p=Rr(r,o,a,d),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var x=Rr(r,o,i,s),m=Rr(r,o,i,d);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(r,",").concat(o," Z");return h},Cge=function(t){var r=t.cx,o=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,f=t.endAngle,p=wo(f-d),h=s0({cx:r,cy:o,radius:a,angle:d,sign:p,cornerRadius:s,cornerIsExternal:c}),x=h.circleTangency,m=h.lineTangency,y=h.theta,b=s0({cx:r,cy:o,radius:a,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:c}),v=b.circleTangency,C=b.lineTangency,S=b.theta,F=c?Math.abs(d-f):Math.abs(d-f)-y-S;if(F<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):bU({cx:r,cy:o,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var k=s0({cx:r,cy:o,radius:i,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),E=k.circleTangency,T=k.lineTangency,_=k.theta,z=s0({cx:r,cy:o,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),B=z.circleTangency,P=z.lineTangency,D=z.theta,I=c?Math.abs(d-f):Math.abs(d-f)-_-D;if(I<0&&s===0)return"".concat(w,"L").concat(r,",").concat(o,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else w+="L".concat(r,",").concat(o,"Z");return w},kge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vU=function(t){var r=hI(hI({},kge),t),o=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,h=r.className;if(s<a||f===p)return null;var x=It("recharts-sector",h),m=s-a,y=Eo(l,m,0,!0),b;return y>0&&Math.abs(f-p)<360?b=Cge({cx:o,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):b=bU({cx:o,cy:i,innerRadius:a,outerRadius:s,startAngle:f,endAngle:p}),Y.createElement("path",mA({},xt(r,!0),{className:x,d:b,role:"img"}))};function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function yA(){return yA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},yA.apply(this,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(o){Fge(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Fge(e,t,r){return t=Age(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Age(e){var t=_ge(e,"string");return _g(t)=="symbol"?t:t+""}function _ge(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(_g(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mI={curveBasisClosed:Vae,curveBasisOpen:Uae,curveBasis:Wae,curveBumpX:Aae,curveBumpY:_ae,curveLinearClosed:qae,curveLinear:_b,curveMonotoneX:Hae,curveMonotoneY:Gae,curveNatural:Kae,curveStep:Yae,curveStepAfter:Jae,curveStepBefore:Xae},l0=function(t){return t.x===+t.x&&t.y===+t.y},th=function(t){return t.x},rh=function(t){return t.y},Rge=function(t,r){if(wt(t))return t;var o="curve".concat(Fb(t));return(o==="curveMonotone"||o==="curveBump")&&r?mI["".concat(o).concat(r==="vertical"?"Y":"X")]:mI[o]||_b},Tge=function(t){var r=t.type,o=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,f=Rge(o,l),p=d?a.filter(function(y){return l0(y)}):a,h;if(Array.isArray(s)){var x=d?s.filter(function(y){return l0(y)}):s,m=p.map(function(y,b){return xI(xI({},y),{},{base:x[b]})});return l==="vertical"?h=Qm().y(rh).x1(th).x0(function(y){return y.base.x}):h=Qm().x(th).y1(rh).y0(function(y){return y.base.y}),h.defined(l0).curve(f),h(m)}return l==="vertical"&&Me(s)?h=Qm().y(rh).x1(th).x0(s):Me(s)?h=Qm().x(th).y1(rh).y0(s):h=xW().x(th).y(rh),h.defined(l0).curve(f),h(p)},u1=function(t){var r=t.className,o=t.points,i=t.path,a=t.pathRef;if((!o||!o.length)&&!i)return null;var s=o&&o.length?Tge(t):i;return Y.createElement("path",yA({},xt(t,!1),Dy(t),{className:It("recharts-curve",r),d:s,ref:a}))},rC={exports:{}},nC,yI;function Pge(){if(yI)return nC;yI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nC=e,nC}var oC,bI;function zge(){if(bI)return oC;bI=1;var e=Pge();function t(){}function r(){}return r.resetWarningCache=t,oC=function(){function o(s,l,c,d,f,p){if(p!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}o.isRequired=o;function i(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},oC}var vI;function Bge(){return vI||(vI=1,rC.exports=zge()()),rC.exports}var Ige=Bge();const dr=nr(Ige),{getOwnPropertyNames:Oge,getOwnPropertySymbols:Dge}=Object,{hasOwnProperty:Mge}=Object.prototype;function iC(e,t){return function(o,i,a){return e(o,i,a)&&t(o,i,a)}}function c0(e){return function(r,o,i){if(!r||!o||typeof r!="object"||typeof o!="object")return e(r,o,i);const{cache:a}=i,s=a.get(r),l=a.get(o);if(s&&l)return s===o&&l===r;a.set(r,o),a.set(o,r);const c=e(r,o,i);return a.delete(r),a.delete(o),c}}function $ge(e){return e!=null?e[Symbol.toStringTag]:void 0}function jI(e){return Oge(e).concat(Dge(e))}const Nge=Object.hasOwn||((e,t)=>Mge.call(e,t));function Md(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Lge="__v",Wge="__o",Vge="_owner",{getOwnPropertyDescriptor:SI,keys:wI}=Object;function Uge(e,t){return e.byteLength===t.byteLength&&p1(new Uint8Array(e),new Uint8Array(t))}function qge(e,t,r){let o=e.length;if(t.length!==o)return!1;for(;o-- >0;)if(!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function Hge(e,t){return e.byteLength===t.byteLength&&p1(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Gge(e,t){return Md(e.getTime(),t.getTime())}function Kge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Yge(e,t){return e===t}function EI(e,t,r){const o=e.size;if(o!==t.size)return!1;if(!o)return!0;const i=new Array(o),a=e.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const d=t.entries();let f=!1,p=0;for(;(l=d.next())&&!l.done;){if(i[p]){p++;continue}const h=s.value,x=l.value;if(r.equals(h[0],x[0],c,p,e,t,r)&&r.equals(h[1],x[1],h[0],x[0],e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}const Xge=Md;function Jge(e,t,r){const o=wI(e);let i=o.length;if(wI(t).length!==i)return!1;for(;i-- >0;)if(!jU(e,t,r,o[i]))return!1;return!0}function nh(e,t,r){const o=jI(e);let i=o.length;if(jI(t).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=o[i],!jU(e,t,r,a)||(s=SI(e,a),l=SI(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Qge(e,t){return Md(e.valueOf(),t.valueOf())}function Zge(e,t){return e.source===t.source&&e.flags===t.flags}function CI(e,t,r){const o=e.size;if(o!==t.size)return!1;if(!o)return!0;const i=new Array(o),a=e.values();let s,l;for(;(s=a.next())&&!s.done;){const c=t.values();let d=!1,f=0;for(;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function p1(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function exe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jU(e,t,r,o){return(o===Vge||o===Wge||o===Lge)&&(e.$$typeof||t.$$typeof)?!0:Nge(t,o)&&r.equals(e[o],t[o],o,o,e,t,r)}const txe="[object ArrayBuffer]",rxe="[object Arguments]",nxe="[object Boolean]",oxe="[object DataView]",ixe="[object Date]",axe="[object Error]",sxe="[object Map]",lxe="[object Number]",cxe="[object Object]",dxe="[object RegExp]",uxe="[object Set]",pxe="[object String]",fxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},hxe="[object URL]",gxe=Object.prototype.toString;function xxe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:o,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:p,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:m}){return function(b,v,C){if(b===v)return!0;if(b==null||v==null)return!1;const S=typeof b;if(S!==typeof v)return!1;if(S!=="object")return S==="number"?l(b,v,C):S==="function"?a(b,v,C):!1;const F=b.constructor;if(F!==v.constructor)return!1;if(F===Object)return c(b,v,C);if(Array.isArray(b))return t(b,v,C);if(F===Date)return o(b,v,C);if(F===RegExp)return f(b,v,C);if(F===Map)return s(b,v,C);if(F===Set)return p(b,v,C);const w=gxe.call(b);if(w===ixe)return o(b,v,C);if(w===dxe)return f(b,v,C);if(w===sxe)return s(b,v,C);if(w===uxe)return p(b,v,C);if(w===cxe)return typeof b.then!="function"&&typeof v.then!="function"&&c(b,v,C);if(w===hxe)return x(b,v,C);if(w===axe)return i(b,v,C);if(w===rxe)return c(b,v,C);if(fxe[w])return h(b,v,C);if(w===txe)return e(b,v,C);if(w===oxe)return r(b,v,C);if(w===nxe||w===lxe||w===pxe)return d(b,v,C);if(m){let k=m[w];if(!k){const E=$ge(b);E&&(k=m[E])}if(k)return k(b,v,C)}return!1}}function mxe({circular:e,createCustomConfig:t,strict:r}){let o={areArrayBuffersEqual:Uge,areArraysEqual:r?nh:qge,areDataViewsEqual:Hge,areDatesEqual:Gge,areErrorsEqual:Kge,areFunctionsEqual:Yge,areMapsEqual:r?iC(EI,nh):EI,areNumbersEqual:Xge,areObjectsEqual:r?nh:Jge,arePrimitiveWrappersEqual:Qge,areRegExpsEqual:Zge,areSetsEqual:r?iC(CI,nh):CI,areTypedArraysEqual:r?iC(p1,nh):p1,areUrlsEqual:exe,unknownTagComparators:void 0};if(t&&(o=Object.assign({},o,t(o))),e){const i=c0(o.areArraysEqual),a=c0(o.areMapsEqual),s=c0(o.areObjectsEqual),l=c0(o.areSetsEqual);o=Object.assign({},o,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return o}function yxe(e){return function(t,r,o,i,a,s,l){return e(t,r,l)}}function bxe({circular:e,comparator:t,createState:r,equals:o,strict:i}){if(r)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:f}=r();return t(l,c,{cache:d,equals:o,meta:f,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:o,meta:void 0,strict:i})};const a={cache:void 0,equals:o,meta:void 0,strict:i};return function(l,c){return t(l,c,a)}}const vxe=bc();bc({strict:!0});bc({circular:!0});bc({circular:!0,strict:!0});bc({createInternalComparator:()=>Md});bc({strict:!0,createInternalComparator:()=>Md});bc({circular:!0,createInternalComparator:()=>Md});bc({circular:!0,createInternalComparator:()=>Md,strict:!0});function bc(e={}){const{circular:t=!1,createInternalComparator:r,createState:o,strict:i=!1}=e,a=mxe(e),s=xxe(a),l=r?r(s):yxe(s);return bxe({circular:t,comparator:s,createState:o,equals:l,strict:i})}function jxe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function kI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,o=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):jxe(i)};requestAnimationFrame(o)}function bA(e){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bA(e)}function Sxe(e){return kxe(e)||Cxe(e)||Exe(e)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(e,t){if(e){if(typeof e=="string")return FI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(e,t)}}function FI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Cxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kxe(e){if(Array.isArray(e))return e}function Fxe(){var e={},t=function(){return null},r=!1,o=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=Sxe(s),c=l[0],d=l.slice(1);if(typeof c=="number"){kI(i.bind(null,d),c);return}i(c),kI(i.bind(null,d));return}bA(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,o(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(o){SU(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function SU(e,t,r){return t=Axe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Axe(e){var t=_xe(e,"string");return Rg(t)==="symbol"?t:String(t)}function _xe(e,t){if(Rg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Rg(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rxe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(o,i){return o.filter(function(a){return i.includes(a)})})},Txe=function(t){return t},Pxe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nh=function(t,r){return Object.keys(r).reduce(function(o,i){return _I(_I({},o),{},SU({},i,t(i,r[i])))},{})},RI=function(t,r,o){return t.map(function(i){return"".concat(Pxe(i)," ").concat(r,"ms ").concat(o)}).join(",")};function zxe(e,t){return Oxe(e)||Ixe(e,t)||wU(e,t)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ixe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Oxe(e){if(Array.isArray(e))return e}function Dxe(e){return Nxe(e)||$xe(e)||wU(e)||Mxe()}function Mxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wU(e,t){if(e){if(typeof e=="string")return vA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(e,t)}}function $xe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nxe(e){if(Array.isArray(e))return vA(e)}function vA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var f1=1e-4,EU=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},CU=function(t,r){return t.map(function(o,i){return o*Math.pow(r,i)}).reduce(function(o,i){return o+i})},TI=function(t,r){return function(o){var i=EU(t,r);return CU(i,o)}},Lxe=function(t,r){return function(o){var i=EU(t,r),a=[].concat(Dxe(i.map(function(s,l){return s*l}).slice(1)),[0]);return CU(a,o)}},PI=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=zxe(d,4);i=f[0],a=f[1],s=f[2],l=f[3]}}}var p=TI(i,s),h=TI(a,l),x=Lxe(i,s),m=function(v){return v>1?1:v<0?0:v},y=function(v){for(var C=v>1?1:v,S=C,F=0;F<8;++F){var w=p(S)-C,k=x(S);if(Math.abs(w-C)<f1||k<f1)return h(S);S=m(S-w/k)}return h(S)};return y.isStepper=!1,y},Wxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,o=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(f,p,h){var x=-(f-p)*o,m=h*a,y=h+(x-m)*l/1e3,b=h*l/1e3+f;return Math.abs(b-p)<f1&&Math.abs(y)<f1?[p,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},Vxe=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PI(i);case"spring":return Wxe();default:if(i.split("(")[0]==="cubic-bezier")return PI(i)}return typeof i=="function"?i:null};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function zI(e){return Hxe(e)||qxe(e)||kU(e)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hxe(e){if(Array.isArray(e))return SA(e)}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(o){jA(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function jA(e,t,r){return t=Gxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gxe(e){var t=Kxe(e,"string");return Tg(t)==="symbol"?t:String(t)}function Kxe(e,t){if(Tg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Tg(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yxe(e,t){return Qxe(e)||Jxe(e,t)||kU(e,t)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(e,t){if(e){if(typeof e=="string")return SA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SA(e,t)}}function SA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Jxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Qxe(e){if(Array.isArray(e))return e}var h1=function(t,r,o){return t+(r-t)*o},wA=function(t){var r=t.from,o=t.to;return r!==o},Zxe=function e(t,r,o){var i=Nh(function(a,s){if(wA(s)){var l=t(s.from,s.to,s.velocity),c=Yxe(l,2),d=c[0],f=c[1];return Gn(Gn({},s),{},{from:d,velocity:f})}return s},r);return o<1?Nh(function(a,s){return wA(s)?Gn(Gn({},s),{},{velocity:h1(s.velocity,i[a].velocity,o),from:h1(s.from,i[a].from,o)}):s},r):e(t,i,o-1)};const eme=(function(e,t,r,o,i){var a=Rxe(e,t),s=a.reduce(function(b,v){return Gn(Gn({},b),{},jA({},v,[e[v],t[v]]))},{}),l=a.reduce(function(b,v){return Gn(Gn({},b),{},jA({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,f,p=function(){return null},h=function(){return Nh(function(v,C){return C.from},l)},x=function(){return!Object.values(l).filter(wA).length},m=function(v){d||(d=v);var C=v-d,S=C/r.dt;l=Zxe(r,l,S),i(Gn(Gn(Gn({},e),t),h())),d=v,x()||(c=requestAnimationFrame(p))},y=function(v){f||(f=v);var C=(v-f)/o,S=Nh(function(w,k){return h1.apply(void 0,zI(k).concat([r(C)]))},s);if(i(Gn(Gn(Gn({},e),t),S)),C<1)c=requestAnimationFrame(p);else{var F=Nh(function(w,k){return h1.apply(void 0,zI(k).concat([r(1)]))},s);i(Gn(Gn(Gn({},e),t),F))}};return p=r.isStepper?m:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}var tme=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rme(e,t){if(e==null)return{};var r=nme(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function nme(e,t){if(e==null)return{};var r={},o=Object.keys(e),i,a;for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function aC(e){return sme(e)||ame(e)||ime(e)||ome()}function ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(e,t){if(e){if(typeof e=="string")return EA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(e,t)}}function ame(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sme(e){if(Array.isArray(e))return EA(e)}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(o){_h(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _h(e,t,r){return t=FU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cme(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,FU(o.key),o)}}function dme(e,t,r){return t&&cme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FU(e){var t=ume(e,"string");return wp(t)==="symbol"?t:String(t)}function ume(e,t){if(wp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(wp(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},CA(e,t)}function fme(e){var t=hme();return function(){var o=g1(e),i;if(t){var a=g1(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return kA(this,i)}}function kA(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FA(e)}function FA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g1(e){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g1(e)}var us=(function(e){pme(r,e);var t=fme(r);function r(o,i){var a;lme(this,r),a=t.call(this,o,i);var s=a.props,l=s.isActive,c=s.attributeName,d=s.from,f=s.to,p=s.steps,h=s.children,x=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(FA(a)),a.changeStyle=a.changeStyle.bind(FA(a)),!l||x<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),kA(a);if(p&&p.length)a.state={style:p[0].style};else if(d){if(typeof h=="function")return a.state={style:d},kA(a);a.state={style:c?_h({},c,d):d}}else a.state={style:{}};return a}return dme(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,f=a.to,p=a.from,h=this.state.style;if(l){if(!s){var x={style:c?_h({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(x);return}if(!(vxe(i.to,f)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||d?p:i.to;if(this.state&&h){var b={style:c?_h({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(b)}this.runAnimation(Zi(Zi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,p=i.onAnimationEnd,h=i.onAnimationStart,x=eme(s,l,Vxe(d),c,this.changeStyle),m=function(){a.stopJSAnimation=x()};this.manager.start([h,f,m,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,d=s[0],f=d.style,p=d.duration,h=p===void 0?0:p,x=function(y,b,v){if(v===0)return y;var C=b.duration,S=b.easing,F=S===void 0?"ease":S,w=b.style,k=b.properties,E=b.onAnimationEnd,T=v>0?s[v-1]:b,_=k||Object.keys(w);if(typeof F=="function"||F==="spring")return[].concat(aC(y),[a.runJSAnimation.bind(a,{from:T.style,to:w,duration:C,easing:F}),C]);var z=RI(_,C,F),B=Zi(Zi(Zi({},T.style),w),{},{transition:z});return[].concat(aC(y),[B,C,E]).filter(Txe)};return this.manager.start([c].concat(aC(s.reduce(x,[f,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fxe());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,h=i.steps,x=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=l?_h({},l,c):c,b=RI(Object.keys(y),s,d);m.start([f,a,Zi(Zi({},y),{},{transition:b}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=rme(i,tme),d=A.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||d===0||s<=0)return a;var p=function(x){var m=x.props,y=m.style,b=y===void 0?{}:y,v=m.className,C=A.cloneElement(x,Zi(Zi({},c),{},{style:Zi(Zi({},b),f),className:v}));return C};return d===1?p(A.Children.only(a)):Y.createElement("div",null,A.Children.map(a,function(h){return p(h)}))}}]),r})(A.PureComponent);us.displayName="Animate";us.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};us.propTypes={from:dr.oneOfType([dr.object,dr.string]),to:dr.oneOfType([dr.object,dr.string]),attributeName:dr.string,duration:dr.number,begin:dr.number,easing:dr.oneOfType([dr.string,dr.func]),steps:dr.arrayOf(dr.shape({duration:dr.number.isRequired,style:dr.object.isRequired,easing:dr.oneOfType([dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dr.func]),properties:dr.arrayOf("string"),onAnimationEnd:dr.func})),children:dr.oneOfType([dr.node,dr.func]),isActive:dr.bool,canBegin:dr.bool,onAnimationEnd:dr.func,shouldReAnimate:dr.bool,onAnimationStart:dr.func,onAnimationReStart:dr.func};var AU=oL();const gme=nr(AU);function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},x1.apply(this,arguments)}function xme(e,t){return vme(e)||bme(e,t)||yme(e,t)||mme()}function mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(e,t){if(e){if(typeof e=="string")return OI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OI(e,t)}}function OI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function bme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function vme(e){if(Array.isArray(e))return e}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function MI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(o){jme(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function jme(e,t,r){return t=Sme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sme(e){var t=wme(e,"string");return Pg(t)=="symbol"?t:t+""}function wme(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Pg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $I=function(t,r,o,i,a){var s=Math.min(Math.abs(o)/2,Math.abs(i)/2),l=i>=0?1:-1,c=o>=0?1:-1,d=i>=0&&o>=0||i<0&&o<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],h=0,x=4;h<x;h++)p[h]=a[h]>s?s:a[h];f="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(t+c*p[0],",").concat(r)),f+="L ".concat(t+o-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(t+o,",").concat(r+l*p[1])),f+="L ".concat(t+o,",").concat(r+i-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(t+o-c*p[2],",").concat(r+i)),f+="L ".concat(t+c*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+i-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);f="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+o-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+o,",").concat(r+l*m,`
            L `).concat(t+o,",").concat(r+i-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+o-c*m,",").concat(r+i,`
            L `).concat(t+c*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t,",").concat(r+i-l*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(o," v ").concat(i," h ").concat(-o," Z");return f},Eme=function(t,r){if(!t||!r)return!1;var o=t.x,i=t.y,a=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),f=Math.max(a,a+l),p=Math.min(s,s+c),h=Math.max(s,s+c);return o>=d&&o<=f&&i>=p&&i<=h}return!1},Cme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b_=function(t){var r=MI(MI({},Cme),t),o=A.useRef(),i=A.useState(-1),a=xme(i,2),s=a[0],l=a[1];A.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var F=o.current.getTotalLength();F&&l(F)}catch{}},[]);var c=r.x,d=r.y,f=r.width,p=r.height,h=r.radius,x=r.className,m=r.animationEasing,y=r.animationDuration,b=r.animationBegin,v=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||p!==+p||f===0||p===0)return null;var S=It("recharts-rectangle",x);return C?Y.createElement(us,{canBegin:s>0,from:{width:f,height:p,x:c,y:d},to:{width:f,height:p,x:c,y:d},duration:y,animationEasing:m,isActive:C},function(F){var w=F.width,k=F.height,E=F.x,T=F.y;return Y.createElement(us,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:v,easing:m},Y.createElement("path",x1({},xt(r,!0),{className:S,d:$I(E,T,w,k,h),ref:o})))}):Y.createElement("path",x1({},xt(r,!0),{className:S,d:$I(c,d,f,p,h)}))},kme=["points","className","baseLinePoints","connectNulls"];function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Uu.apply(this,arguments)}function Fme(e,t){if(e==null)return{};var r=Ame(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Ame(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function NI(e){return Pme(e)||Tme(e)||Rme(e)||_me()}function _me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(e,t){if(e){if(typeof e=="string")return AA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AA(e,t)}}function Tme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pme(e){if(Array.isArray(e))return AA(e)}function AA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var LI=function(t){return t&&t.x===+t.x&&t.y===+t.y},zme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(o){LI(o)?r[r.length-1].push(o):r[r.length-1].length>0&&r.push([])}),LI(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Lh=function(t,r){var o=zme(t);r&&(o=[o.reduce(function(a,s){return[].concat(NI(a),NI(s))},[])]);var i=o.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return o.length===1?"".concat(i,"Z"):i},Bme=function(t,r,o){var i=Lh(t,o);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Lh(r.reverse(),o).slice(1))},Ime=function(t){var r=t.points,o=t.className,i=t.baseLinePoints,a=t.connectNulls,s=Fme(t,kme);if(!r||!r.length)return null;var l=It("recharts-polygon",o);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",d=Bme(r,i,a);return Y.createElement("g",{className:l},Y.createElement("path",Uu({},xt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",stroke:"none",d})),c?Y.createElement("path",Uu({},xt(s,!0),{fill:"none",d:Lh(r,a)})):null,c?Y.createElement("path",Uu({},xt(s,!0),{fill:"none",d:Lh(i,a)})):null)}var f=Lh(r,a);return Y.createElement("path",Uu({},xt(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:l,d:f}))};function _A(){return _A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_A.apply(this,arguments)}var qb=function(t){var r=t.cx,o=t.cy,i=t.r,a=t.className,s=It("recharts-dot",a);return r===+r&&o===+o&&i===+i?Y.createElement("circle",_A({},xt(t,!1),Dy(t),{className:s,cx:r,cy:o,r:i})):null};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var Ome=["x","y","top","left","width","height","className"];function RA(){return RA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},RA.apply(this,arguments)}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Dme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(o){Mme(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Mme(e,t,r){return t=$me(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $me(e){var t=Nme(e,"string");return zg(t)=="symbol"?t:t+""}function Nme(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(zg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lme(e,t){if(e==null)return{};var r=Wme(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Wme(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}var Vme=function(t,r,o,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(o)},Ume=function(t){var r=t.x,o=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,d=c===void 0?0:c,f=t.width,p=f===void 0?0:f,h=t.height,x=h===void 0?0:h,m=t.className,y=Lme(t,Ome),b=Dme({x:o,y:a,top:l,left:d,width:p,height:x},y);return!Me(o)||!Me(a)||!Me(p)||!Me(x)||!Me(l)||!Me(d)?null:Y.createElement("path",RA({},xt(b,!0),{className:It("recharts-cross",m),d:Vme(o,a,p,x,l,d)}))},sC,VI;function qme(){if(VI)return sC;VI=1;var e=Nb(),t=WV(),r=ms();function o(i,a){return i&&i.length?e(i,r(a,2),t):void 0}return sC=o,sC}var Hme=qme();const Gme=nr(Hme);var lC,UI;function Kme(){if(UI)return lC;UI=1;var e=Nb(),t=ms(),r=VV();function o(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return lC=o,lC}var Yme=Kme();const Xme=nr(Yme);var Jme=["cx","cy","angle","ticks","axisLine"],Qme=["ticks","tick","angle","tickFormatter","stroke"];function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Wh.apply(this,arguments)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(o){Hb(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function HI(e,t){if(e==null)return{};var r=Zme(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Zme(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function e0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GI(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,RU(o.key),o)}}function t0e(e,t,r){return t&&GI(e.prototype,t),r&&GI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r0e(e,t,r){return t=m1(t),n0e(e,_U()?Reflect.construct(t,r||[],m1(e).constructor):t.apply(e,r))}function n0e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(e)}function o0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_U=function(){return!!e})()}function m1(e){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(e)}function i0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TA(e,t)}function TA(e,t){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},TA(e,t)}function Hb(e,t,r){return t=RU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=a0e(e,"string");return Ep(t)=="symbol"?t:t+""}function a0e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Ep(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gb=(function(e){function t(){return e0e(this,t),r0e(this,t,arguments)}return i0e(t,e),t0e(t,[{key:"getTickValueCoord",value:function(o){var i=o.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return Rr(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var o=this.props.orientation,i;switch(o){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var o=this.props,i=o.cx,a=o.cy,s=o.angle,l=o.ticks,c=Gme(l,function(f){return f.coordinate||0}),d=Xme(l,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var o=this.props,i=o.cx,a=o.cy,s=o.angle,l=o.ticks,c=o.axisLine,d=HI(o,Jme),f=l.reduce(function(m,y){return[Math.min(m[0],y.coordinate),Math.max(m[1],y.coordinate)]},[1/0,-1/0]),p=Rr(i,a,f[0],s),h=Rr(i,a,f[1],s),x=Oc(Oc(Oc({},xt(d,!1)),{},{fill:"none"},xt(c,!1)),{},{x1:p.x,y1:p.y,x2:h.x,y2:h.y});return Y.createElement("line",Wh({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var o=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=HI(i,Qme),p=this.getTickTextAnchor(),h=xt(f,!1),x=xt(s,!1),m=a.map(function(y,b){var v=o.getTickValueCoord(y),C=Oc(Oc(Oc(Oc({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:d},x),{},{index:b},v),{},{payload:y});return Y.createElement(er,Wh({className:It("recharts-polar-radius-axis-tick",mU(s)),key:"tick-".concat(y.coordinate)},wd(o.props,y,b)),t.renderTickItem(s,C,c?c(y.value,b):y.value))});return Y.createElement(er,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var o=this.props,i=o.ticks,a=o.axisLine,s=o.tick;return!i||!i.length?null:Y.createElement(er,{className:It("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(o,i,a){var s;return Y.isValidElement(o)?s=Y.cloneElement(o,i):wt(o)?s=o(i):s=Y.createElement(Ed,Wh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(A.PureComponent);Hb(Gb,"displayName","PolarRadiusAxis");Hb(Gb,"axisType","radiusAxis");Hb(Gb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},rd.apply(this,arguments)}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(o){Kb(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function s0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YI(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,PU(o.key),o)}}function l0e(e,t,r){return t&&YI(e.prototype,t),r&&YI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c0e(e,t,r){return t=y1(t),d0e(e,TU()?Reflect.construct(t,r||[],y1(e).constructor):t.apply(e,r))}function d0e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(e)}function u0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!e})()}function y1(e){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y1(e)}function p0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PA(e,t)}function PA(e,t){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},PA(e,t)}function Kb(e,t,r){return t=PU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=f0e(e,"string");return Cp(t)=="symbol"?t:t+""}function f0e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Cp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h0e=Math.PI/180,XI=1e-5,Yb=(function(e){function t(){return s0e(this,t),c0e(this,t,arguments)}return p0e(t,e),l0e(t,[{key:"getTickLineCoord",value:function(o){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,p=Rr(a,s,l,o.coordinate),h=Rr(a,s,l+(c==="inner"?-1:1)*f,o.coordinate);return{x1:p.x,y1:p.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(o){var i=this.props.orientation,a=Math.cos(-o.coordinate*h0e),s;return a>XI?s=i==="outer"?"start":"end":a<-XI?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var o=this.props,i=o.cx,a=o.cy,s=o.radius,l=o.axisLine,c=o.axisLineType,d=Dc(Dc({},xt(this.props,!1)),{},{fill:"none"},xt(l,!1));if(c==="circle")return Y.createElement(qb,rd({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:s}));var f=this.props.ticks,p=f.map(function(h){return Rr(i,a,s,h.coordinate)});return Y.createElement(Ime,rd({className:"recharts-polar-angle-axis-line"},d,{points:p}))}},{key:"renderTicks",value:function(){var o=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=xt(this.props,!1),p=xt(s,!1),h=Dc(Dc({},f),{},{fill:"none"},xt(l,!1)),x=a.map(function(m,y){var b=o.getTickLineCoord(m),v=o.getTickTextAnchor(m),C=Dc(Dc(Dc({textAnchor:v},f),{},{stroke:"none",fill:d},p),{},{index:y,payload:m,x:b.x2,y:b.y2});return Y.createElement(er,rd({className:It("recharts-polar-angle-axis-tick",mU(s)),key:"tick-".concat(m.coordinate)},wd(o.props,m,y)),l&&Y.createElement("line",rd({className:"recharts-polar-angle-axis-tick-line"},h,b)),s&&t.renderTickItem(s,C,c?c(m.value,y):m.value))});return Y.createElement(er,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var o=this.props,i=o.ticks,a=o.radius,s=o.axisLine;return a<=0||!i||!i.length?null:Y.createElement(er,{className:It("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(o,i,a){var s;return Y.isValidElement(o)?s=Y.cloneElement(o,i):wt(o)?s=o(i):s=Y.createElement(Ed,rd({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(A.PureComponent);Kb(Yb,"displayName","PolarAngleAxis");Kb(Yb,"axisType","angleAxis");Kb(Yb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cC,JI;function g0e(){if(JI)return cC;JI=1;var e=$W(),t=e(Object.getPrototypeOf,Object);return cC=t,cC}var dC,QI;function x0e(){if(QI)return dC;QI=1;var e=ll(),t=g0e(),r=cl(),o="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function d(f){if(!r(f)||e(f)!=o)return!1;var p=t(f);if(p===null)return!0;var h=l.call(p,"constructor")&&p.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==c}return dC=d,dC}var m0e=x0e();const y0e=nr(m0e);var uC,ZI;function b0e(){if(ZI)return uC;ZI=1;var e=ll(),t=cl(),r="[object Boolean]";function o(i){return i===!0||i===!1||t(i)&&e(i)==r}return uC=o,uC}var v0e=b0e();const j0e=nr(v0e);function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},b1.apply(this,arguments)}function S0e(e,t){return k0e(e)||C0e(e,t)||E0e(e,t)||w0e()}function w0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E0e(e,t){if(e){if(typeof e=="string")return eO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(e,t)}}function eO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function C0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function k0e(e){if(Array.isArray(e))return e}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(o){F0e(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function F0e(e,t,r){return t=A0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A0e(e){var t=_0e(e,"string");return Bg(t)=="symbol"?t:t+""}function _0e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Bg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nO=function(t,r,o,i,a){var s=o-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+o,",").concat(r),l+="L ".concat(t+o-s/2,",").concat(r+a),l+="L ".concat(t+o-s/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},R0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T0e=function(t){var r=rO(rO({},R0e),t),o=A.useRef(),i=A.useState(-1),a=S0e(i,2),s=a[0],l=a[1];A.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var S=o.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,p=r.lowerWidth,h=r.height,x=r.className,m=r.animationEasing,y=r.animationDuration,b=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||p!==+p||h!==+h||f===0&&p===0||h===0)return null;var C=It("recharts-trapezoid",x);return v?Y.createElement(us,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:f,lowerWidth:p,height:h,x:c,y:d},duration:y,animationEasing:m,isActive:v},function(S){var F=S.upperWidth,w=S.lowerWidth,k=S.height,E=S.x,T=S.y;return Y.createElement(us,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:m},Y.createElement("path",b1({},xt(r,!0),{className:C,d:nO(E,T,F,w,k),ref:o})))}):Y.createElement("g",null,Y.createElement("path",b1({},xt(r,!0),{className:C,d:nO(c,d,f,p,h)})))},P0e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function z0e(e,t){if(e==null)return{};var r=B0e(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function B0e(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function v1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(o){I0e(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function I0e(e,t,r){return t=O0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O0e(e){var t=D0e(e,"string");return Ig(t)=="symbol"?t:t+""}function D0e(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Ig(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0e(e,t){return v1(v1({},t),e)}function $0e(e,t){return e==="symbols"}function iO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Y.createElement(b_,r);case"trapezoid":return Y.createElement(T0e,r);case"sector":return Y.createElement(vU,r);case"symbols":if($0e(t))return Y.createElement(M8,r);break;default:return null}}function N0e(e){return A.isValidElement(e)?e.props:e}function zU(e){var t=e.option,r=e.shapeType,o=e.propTransformer,i=o===void 0?M0e:o,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=z0e(e,P0e),d;if(A.isValidElement(t))d=A.cloneElement(t,v1(v1({},c),N0e(t)));else if(wt(t))d=t(c);else if(y0e(t)&&!j0e(t)){var f=i(t,c);d=Y.createElement(iO,{shapeType:r,elementProps:f})}else{var p=c;d=Y.createElement(iO,{shapeType:r,elementProps:p})}return l?Y.createElement(er,{className:s},d):d}function Xb(e,t){return t!=null&&"trapezoids"in e.props}function Jb(e,t){return t!=null&&"sectors"in e.props}function Og(e,t){return t!=null&&"points"in e.props}function L0e(e,t){var r,o,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(o=t.labelViewBox)===null||o===void 0?void 0:o.y)||e.y===t.y;return i&&a}function W0e(e,t){var r=e.endAngle===t.endAngle,o=e.startAngle===t.startAngle;return r&&o}function V0e(e,t){var r=e.x===t.x,o=e.y===t.y,i=e.z===t.z;return r&&o&&i}function U0e(e,t){var r;return Xb(e,t)?r=L0e:Jb(e,t)?r=W0e:Og(e,t)&&(r=V0e),r}function q0e(e,t){var r;return Xb(e,t)?r="trapezoids":Jb(e,t)?r="sectors":Og(e,t)&&(r="points"),r}function H0e(e,t){if(Xb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jb(e,t)){var o;return(o=t.tooltipPayload)===null||o===void 0||(o=o[0])===null||o===void 0||(o=o.payload)===null||o===void 0?void 0:o.payload}return Og(e,t)?t.payload:{}}function G0e(e){var t=e.activeTooltipItem,r=e.graphicalItem,o=e.itemData,i=q0e(r,t),a=H0e(r,t),s=o.filter(function(c,d){var f=Cx(a,c),p=r.props[i].filter(function(m){var y=U0e(r,t);return y(m,t)}),h=r.props[i].indexOf(p[p.length-1]),x=d===h;return f&&x}),l=o.indexOf(s[s.length-1]);return l}var gy;function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},qu.apply(this,arguments)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(o){zi(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function K0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,IU(o.key),o)}}function Y0e(e,t,r){return t&&sO(e.prototype,t),r&&sO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function X0e(e,t,r){return t=j1(t),J0e(e,BU()?Reflect.construct(t,r||[],j1(e).constructor):t.apply(e,r))}function J0e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q0e(e)}function Q0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!e})()}function j1(e){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j1(e)}function Z0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},zA(e,t)}function zi(e,t,r){return t=IU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IU(e){var t=eye(e,"string");return kp(t)=="symbol"?t:t+""}function eye(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(kp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ia=(function(e){function t(r){var o;return K0e(this,t),o=X0e(this,t,[r]),zi(o,"pieRef",null),zi(o,"sectorRefs",[]),zi(o,"id",Zp("recharts-pie-")),zi(o,"handleAnimationEnd",function(){var i=o.props.onAnimationEnd;o.setState({isAnimationFinished:!0}),wt(i)&&i()}),zi(o,"handleAnimationStart",function(){var i=o.props.onAnimationStart;o.setState({isAnimationFinished:!1}),wt(i)&&i()}),o.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},o}return Z0e(t,e),Y0e(t,[{key:"isActiveIndex",value:function(o){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(o)!==-1:o===i}},{key:"hasActiveIndex",value:function(){var o=this.props.activeIndex;return Array.isArray(o)?o.length!==0:o||o===0}},{key:"renderLabels",value:function(o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,f=xt(this.props,!1),p=xt(s,!1),h=xt(l,!1),x=s&&s.offsetRadius||20,m=o.map(function(y,b){var v=(y.startAngle+y.endAngle)/2,C=Rr(y.cx,y.cy,y.outerRadius+x,v),S=Ar(Ar(Ar(Ar({},f),y),{},{stroke:"none"},p),{},{index:b,textAnchor:t.getTextAnchor(C.x,y.cx)},C),F=Ar(Ar(Ar(Ar({},f),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Rr(y.cx,y.cy,y.outerRadius,v),C]}),w=c;return Tt(c)&&Tt(d)?w="value":Tt(c)&&(w=d),Y.createElement(er,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,F,"line"),t.renderLabelItem(s,S,Fn(y,w)))});return Y.createElement(er,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(o){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return o.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&o.length!==1)return null;var p=i.isActiveIndex(f),h=c&&i.hasActiveIndex()?c:null,x=p?s:h,m=Ar(Ar({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Y.createElement(er,qu({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},wd(i.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),Y.createElement(zU,qu({option:x,isActive:p,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var o=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,p=this.state,h=p.prevSectors,x=p.prevIsAnimationActive;return Y.createElement(us,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var y=m.t,b=[],v=a&&a[0],C=v.startAngle;return a.forEach(function(S,F){var w=h&&h[F],k=F>0?li(S,"paddingAngle",0):0;if(w){var E=ri(w.endAngle-w.startAngle,S.endAngle-S.startAngle),T=Ar(Ar({},S),{},{startAngle:C+k,endAngle:C+E(y)+k});b.push(T),C=T.endAngle}else{var _=S.endAngle,z=S.startAngle,B=ri(0,_-z),P=B(y),D=Ar(Ar({},S),{},{startAngle:C+k,endAngle:C+P+k});b.push(D),C=D.endAngle}}),Y.createElement(er,null,o.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(o){var i=this;o.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var o=this.props,i=o.sectors,a=o.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Cx(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var o=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,p=i.innerRadius,h=i.outerRadius,x=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!Me(d)||!Me(f)||!Me(p)||!Me(h))return null;var y=It("recharts-pie",l);return Y.createElement(er,{tabIndex:this.props.rootTabIndex,className:y,ref:function(v){o.pieRef=v}},this.renderSectors(),c&&this.renderLabels(s),On.renderCallByParent(this.props,null,!1),(!x||m)&&Zs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(o,i){return i.prevIsAnimationActive!==o.isAnimationActive?{prevIsAnimationActive:o.isAnimationActive,prevAnimationId:o.animationId,curSectors:o.sectors,prevSectors:[],isAnimationFinished:!0}:o.isAnimationActive&&o.animationId!==i.prevAnimationId?{prevAnimationId:o.animationId,curSectors:o.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:o.sectors!==i.curSectors?{curSectors:o.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(o,i){return o>i?"start":o<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(o,i,a){if(Y.isValidElement(o))return Y.cloneElement(o,i);if(wt(o))return o(i);var s=It("recharts-pie-label-line",typeof o!="boolean"?o.className:"");return Y.createElement(u1,qu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(o,i,a){if(Y.isValidElement(o))return Y.cloneElement(o,i);var s=a;if(wt(o)&&(s=o(i),Y.isValidElement(s)))return s;var l=It("recharts-pie-label-text",typeof o!="boolean"&&!wt(o)?o.className:"");return Y.createElement(Ed,qu({},i,{alignmentBaseline:"middle",className:l}),s)}}])})(A.PureComponent);gy=Ia;zi(Ia,"displayName","Pie");zi(Ia,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Id.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zi(Ia,"parseDeltaAngle",function(e,t){var r=wo(t-e),o=Math.min(Math.abs(t-e),360);return r*o});zi(Ia,"getRealPieData",function(e){var t=e.data,r=e.children,o=xt(e,!1),i=ci(r,tf);return t&&t.length?t.map(function(a,s){return Ar(Ar(Ar({payload:a},o),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ar(Ar({},o),a.props)}):[]});zi(Ia,"parseCoordinateOfPie",function(e,t){var r=t.top,o=t.left,i=t.width,a=t.height,s=xU(i,a),l=o+Eo(e.cx,i,i/2),c=r+Eo(e.cy,a,a/2),d=Eo(e.innerRadius,s,0),f=Eo(e.outerRadius,s,s*.8),p=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}});zi(Ia,"getComposedData",function(e){var t=e.item,r=e.offset,o=t.type.defaultProps!==void 0?Ar(Ar({},t.type.defaultProps),t.props):t.props,i=gy.getRealPieData(o);if(!i||!i.length)return null;var a=o.cornerRadius,s=o.startAngle,l=o.endAngle,c=o.paddingAngle,d=o.dataKey,f=o.nameKey,p=o.valueKey,h=o.tooltipType,x=Math.abs(o.minAngle),m=gy.parseCoordinateOfPie(o,r),y=gy.parseDeltaAngle(s,l),b=Math.abs(y),v=d;Tt(d)&&Tt(p)?(Sa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Tt(d)&&(Sa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=p);var C=i.filter(function(T){return Fn(T,v,0)!==0}).length,S=(b>=360?C:C-1)*c,F=b-C*x-S,w=i.reduce(function(T,_){var z=Fn(_,v,0);return T+(Me(z)?z:0)},0),k;if(w>0){var E;k=i.map(function(T,_){var z=Fn(T,v,0),B=Fn(T,f,_),P=(Me(z)?z:0)/w,D;_?D=E.endAngle+wo(y)*c*(z!==0?1:0):D=s;var I=D+wo(y)*((z!==0?x:0)+P*F),N=(D+I)/2,M=(m.innerRadius+m.outerRadius)/2,V=[{name:B,value:z,payload:T,dataKey:v,type:h}],L=Rr(m.cx,m.cy,M,N);return E=Ar(Ar(Ar({percent:P,cornerRadius:a,name:B,tooltipPayload:V,midAngle:N,middleRadius:M,tooltipPosition:L},T),m),{},{value:Fn(T,v),startAngle:D,endAngle:I,payload:T,paddingAngle:wo(y)*c}),E})}return Ar(Ar({},m),{},{sectors:k,data:i})});var pC,lO;function tye(){if(lO)return pC;lO=1;var e=Math.ceil,t=Math.max;function r(o,i,a,s){for(var l=-1,c=t(e((i-o)/(a||1)),0),d=Array(c);c--;)d[s?c:++l]=o,o+=a;return d}return pC=r,pC}var fC,cO;function OU(){if(cO)return fC;cO=1;var e=tV(),t=1/0,r=17976931348623157e292;function o(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return fC=o,fC}var hC,dO;function rye(){if(dO)return hC;dO=1;var e=tye(),t=zb(),r=OU();function o(i){return function(a,s,l){return l&&typeof l!="number"&&t(a,s,l)&&(s=l=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),l=l===void 0?a<s?1:-1:r(l),e(a,s,l,i)}}return hC=o,hC}var gC,uO;function nye(){if(uO)return gC;uO=1;var e=rye(),t=e();return gC=t,gC}var oye=nye();const S1=nr(oye);function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(o){DU(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function DU(e,t,r){return t=iye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iye(e){var t=aye(e,"string");return Dg(t)=="symbol"?t:t+""}function aye(e,t){if(Dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Dg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sye=["Webkit","Moz","O","ms"],lye=function(t,r){var o=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=sye.reduce(function(a,s){return fO(fO({},a),{},DU({},s+o,r))},{});return i[t]=r,i};function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},w1.apply(this,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(o){Zo(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,$U(o.key),o)}}function dye(e,t,r){return t&&gO(e.prototype,t),r&&gO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uye(e,t,r){return t=E1(t),pye(e,MU()?Reflect.construct(t,r||[],E1(e).constructor):t.apply(e,r))}function pye(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fye(e)}function fye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!e})()}function E1(e){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(e)}function hye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},BA(e,t)}function Zo(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=gye(e,"string");return Fp(t)=="symbol"?t:t+""}function gye(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Fp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xye=function(t){var r=t.data,o=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Mh().domain(S1(0,c)).range([a,a+s-l]),f=d.domain().map(function(p){return d(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(o),endX:d(i),scale:d,scaleValues:f}},xO=function(t){return t.changedTouches&&!!t.changedTouches.length},Ap=(function(e){function t(r){var o;return cye(this,t),o=uye(this,t,[r]),Zo(o,"handleDrag",function(i){o.leaveTimer&&(clearTimeout(o.leaveTimer),o.leaveTimer=null),o.state.isTravellerMoving?o.handleTravellerMove(i):o.state.isSlideMoving&&o.handleSlideDrag(i)}),Zo(o,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&o.handleDrag(i.changedTouches[0])}),Zo(o,"handleDragEnd",function(){o.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=o.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),o.detachDragEndListener()}),Zo(o,"handleLeaveWrapper",function(){(o.state.isTravellerMoving||o.state.isSlideMoving)&&(o.leaveTimer=window.setTimeout(o.handleDragEnd,o.props.leaveTimeOut))}),Zo(o,"handleEnterSlideOrTraveller",function(){o.setState({isTextActive:!0})}),Zo(o,"handleLeaveSlideOrTraveller",function(){o.setState({isTextActive:!1})}),Zo(o,"handleSlideDragStart",function(i){var a=xO(i)?i.changedTouches[0]:i;o.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),o.attachDragEndListener()}),o.travellerDragStartHandlers={startX:o.handleTravellerDragStart.bind(o,"startX"),endX:o.handleTravellerDragStart.bind(o,"endX")},o.state={},o}return hye(t,e),dye(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(o){var i=o.startX,a=o.endX,s=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,p=Math.min(i,a),h=Math.max(i,a),x=t.getIndexInRange(s,p),m=t.getIndexInRange(s,h);return{startIndex:x-x%c,endIndex:m===f?f:m-m%c}}},{key:"getTextOfTick",value:function(o){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Fn(a[o],l,o);return wt(s)?s(c,o):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(o){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,p=c.travellerWidth,h=c.startIndex,x=c.endIndex,m=c.onChange,y=o.pageX-a;y>0?y=Math.min(y,d+f-p-l,d+f-p-s):y<0&&(y=Math.max(y,d-s,d-l));var b=this.getIndex({startX:s+y,endX:l+y});(b.startIndex!==h||b.endIndex!==x)&&m&&m(b),this.setState({startX:s+y,endX:l+y,slideMoveStartX:o.pageX})}},{key:"handleTravellerDragStart",value:function(o,i){var a=xO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:o,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(o){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[s],f=this.props,p=f.x,h=f.width,x=f.travellerWidth,m=f.onChange,y=f.gap,b=f.data,v={startX:this.state.startX,endX:this.state.endX},C=o.pageX-a;C>0?C=Math.min(C,p+h-x-d):C<0&&(C=Math.max(C,p-d)),v[s]=d+C;var S=this.getIndex(v),F=S.startIndex,w=S.endIndex,k=function(){var T=b.length-1;return s==="startX"&&(l>c?F%y===0:w%y===0)||l<c&&w===T||s==="endX"&&(l>c?w%y===0:F%y===0)||l>c&&w===T};this.setState(Zo(Zo({},s,d+C),"brushMoveStartX",o.pageX),function(){m&&k()&&m(S)})}},{key:"handleTravellerMoveKeyboard",value:function(o,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,d=s.endX,f=this.state[i],p=l.indexOf(f);if(p!==-1){var h=p+o;if(!(h===-1||h>=l.length)){var x=l[h];i==="startX"&&x>=d||i==="endX"&&x<=c||this.setState(Zo({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var o=this.props,i=o.x,a=o.y,s=o.width,l=o.height,c=o.fill,d=o.stroke;return Y.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var o=this.props,i=o.x,a=o.y,s=o.width,l=o.height,c=o.data,d=o.children,f=o.padding,p=A.Children.only(d);return p?Y.cloneElement(p,{x:i,y:a,width:s,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(o,i){var a,s,l=this,c=this.props,d=c.y,f=c.travellerWidth,p=c.height,h=c.traveller,x=c.ariaLabel,m=c.data,y=c.startIndex,b=c.endIndex,v=Math.max(o,this.props.x),C=xC(xC({},xt(this.props,!1)),{},{x:v,y:d,width:f,height:p}),S=x||"Min value: ".concat((a=m[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[b])===null||s===void 0?void 0:s.name);return Y.createElement(er,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":o,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,C))}},{key:"renderSlide",value:function(o,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,f=Math.min(o,i)+d,p=Math.max(Math.abs(i-o)-d,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:p,height:l})}},{key:"renderText",value:function(){var o=this.props,i=o.startIndex,a=o.endIndex,s=o.y,l=o.height,c=o.travellerWidth,d=o.stroke,f=this.state,p=f.startX,h=f.endX,x=5,m={pointerEvents:"none",fill:d};return Y.createElement(er,{className:"recharts-brush-texts"},Y.createElement(Ed,w1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,h)-x,y:s+l/2},m),this.getTextOfTick(i)),Y.createElement(Ed,w1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,h)+c+x,y:s+l/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var o=this.props,i=o.data,a=o.className,s=o.children,l=o.x,c=o.y,d=o.width,f=o.height,p=o.alwaysShowText,h=this.state,x=h.startX,m=h.endX,y=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,C=h.isTravellerFocused;if(!i||!i.length||!Me(l)||!Me(c)||!Me(d)||!Me(f)||d<=0||f<=0)return null;var S=It("recharts-brush",a),F=Y.Children.count(s)===1,w=lye("userSelect","none");return Y.createElement(er,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(x,m),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(m,"endX"),(y||b||v||C||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(o){var i=o.x,a=o.y,s=o.width,l=o.height,c=o.stroke,d=Math.floor(a+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:d,x2:i+s-1,y2:d,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:d+2,x2:i+s-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(o,i){var a;return Y.isValidElement(o)?a=Y.cloneElement(o,i):wt(o)?a=o(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(o,i){var a=o.data,s=o.width,l=o.x,c=o.travellerWidth,d=o.updateId,f=o.startIndex,p=o.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return xC({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s},a&&a.length?xye({data:a,width:s,x:l,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s,startX:i.scale(o.startIndex),endX:i.scale(o.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(o,i){for(var a=o.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);o[c]>i?l=c:s=c}return i>=o[l]?l:s}}])})(A.PureComponent);Zo(Ap,"displayName","Brush");Zo(Ap,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mC,mO;function mye(){if(mO)return mC;mO=1;var e=q8();function t(r,o){var i;return e(r,function(a,s,l){return i=o(a,s,l),!i}),!!i}return mC=t,mC}var yC,yO;function yye(){if(yO)return yC;yO=1;var e=PW(),t=ms(),r=mye(),o=Lo(),i=zb();function a(s,l,c){var d=o(s)?e:r;return c&&i(s,l,c)&&(l=void 0),d(s,t(l,3))}return yC=a,yC}var bye=yye();const vye=nr(bye);var as=function(t,r){var o=t.alwaysShow,i=t.ifOverflow;return o&&(i="extendDomain"),i===r},bC,bO;function jye(){if(bO)return bC;bO=1;var e=XW();function t(r,o,i){o=="__proto__"&&e?e(r,o,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[o]=i}return bC=t,bC}var vC,vO;function Sye(){if(vO)return vC;vO=1;var e=jye(),t=KW(),r=ms();function o(i,a){var s={};return a=r(a,3),t(i,function(l,c,d){e(s,c,a(l,c,d))}),s}return vC=o,vC}var wye=Sye();const Eye=nr(wye);var jC,jO;function Cye(){if(jO)return jC;jO=1;function e(t,r){for(var o=-1,i=t==null?0:t.length;++o<i;)if(!r(t[o],o,t))return!1;return!0}return jC=e,jC}var SC,SO;function kye(){if(SO)return SC;SO=1;var e=q8();function t(r,o){var i=!0;return e(r,function(a,s,l){return i=!!o(a,s,l),i}),i}return SC=t,SC}var wC,wO;function Fye(){if(wO)return wC;wO=1;var e=Cye(),t=kye(),r=ms(),o=Lo(),i=zb();function a(s,l,c){var d=o(s)?e:t;return c&&i(s,l,c)&&(l=void 0),d(s,r(l,3))}return wC=a,wC}var Aye=Fye();const NU=nr(Aye);var _ye=["x","y"];function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function IA(){return IA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},IA.apply(this,arguments)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(o){Rye(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Rye(e,t,r){return t=Tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tye(e){var t=Pye(e,"string");return Mg(t)=="symbol"?t:t+""}function Pye(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Mg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zye(e,t){if(e==null)return{};var r=Bye(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Bye(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function Iye(e,t){var r=e.x,o=e.y,i=zye(e,_ye),a="".concat(r),s=parseInt(a,10),l="".concat(o),c=parseInt(l,10),d="".concat(t.height||i.height),f=parseInt(d,10),p="".concat(t.width||i.width),h=parseInt(p,10);return oh(oh(oh(oh(oh({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function CO(e){return Y.createElement(zU,IA({shapeType:"rectangle",propTransformer:Iye,activeClassName:"recharts-active-bar"},e))}var Oye=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(o,i){if(typeof t=="number")return t;var a=typeof o=="number";return a?t(o,i):(a||Fd(),r)}},Dye=["value","background"],LU;function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function Mye(e,t){if(e==null)return{};var r=$ye(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function $ye(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},C1.apply(this,arguments)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(o){oc(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,VU(o.key),o)}}function Lye(e,t,r){return t&&FO(e.prototype,t),r&&FO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wye(e,t,r){return t=k1(t),Vye(e,WU()?Reflect.construct(t,r||[],k1(e).constructor):t.apply(e,r))}function Vye(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uye(e)}function Uye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!e})()}function k1(e){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k1(e)}function qye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},OA(e,t)}function oc(e,t,r){return t=VU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=Hye(e,"string");return _p(t)=="symbol"?t:t+""}function Hye(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(_p(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ps=(function(e){function t(){var r;Nye(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Wye(this,t,[].concat(i)),oc(r,"state",{isAnimationFinished:!1}),oc(r,"id",Zp("recharts-bar-")),oc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),oc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return qye(t,e),Lye(t,[{key:"renderRectanglesStatically",value:function(o){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,f=xt(this.props,!1);return o&&o.map(function(p,h){var x=h===c,m=x?d:s,y=cn(cn(cn({},f),p),{},{isActive:x,option:m,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(er,C1({className:"recharts-bar-rectangle"},wd(i.props,p,h),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(h)}),Y.createElement(CO,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var o=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,h=this.state.prevData;return Y.createElement(us,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var m=x.t,y=a.map(function(b,v){var C=h&&h[v];if(C){var S=ri(C.x,b.x),F=ri(C.y,b.y),w=ri(C.width,b.width),k=ri(C.height,b.height);return cn(cn({},b),{},{x:S(m),y:F(m),width:w(m),height:k(m)})}if(s==="horizontal"){var E=ri(0,b.height),T=E(m);return cn(cn({},b),{},{y:b.y+b.height-T,height:T})}var _=ri(0,b.width),z=_(m);return cn(cn({},b),{},{width:z})});return Y.createElement(er,null,o.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var o=this.props,i=o.data,a=o.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Cx(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var o=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=xt(this.props.background,!1);return a.map(function(d,f){d.value;var p=d.background,h=Mye(d,Dye);if(!p)return null;var x=cn(cn(cn(cn(cn({},h),{},{fill:"#eee"},p),c),wd(o.props,d,f)),{},{onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return Y.createElement(CO,C1({key:"background-bar-".concat(f),option:o.props.background,isActive:f===l},x))})}},{key:"renderErrorBar",value:function(o,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,f=a.children,p=ci(f,kx);if(!p)return null;var h=d==="vertical"?s[0].height/2:s[0].width/2,x=function(b,v){var C=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:C,errorVal:Fn(b,v)}},m={clipPath:o?"url(#clipPath-".concat(i,")"):null};return Y.createElement(er,m,p.map(function(y){return Y.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var o=this.props,i=o.hide,a=o.data,s=o.className,l=o.xAxis,c=o.yAxis,d=o.left,f=o.top,p=o.width,h=o.height,x=o.isAnimationActive,m=o.background,y=o.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,v=It("recharts-bar",s),C=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,F=C||S,w=Tt(y)?this.id:y;return Y.createElement(er,{className:v},C||S?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(w)},Y.createElement("rect",{x:C?d:d-p/2,y:S?f:f-h/2,width:C?p:p*2,height:S?h:h*2}))):null,Y.createElement(er,{className:"recharts-bar-rectangles",clipPath:F?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(F,w),(!x||b)&&Zs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(o,i){return o.animationId!==i.prevAnimationId?{prevAnimationId:o.animationId,curData:o.data,prevData:i.curData}:o.data!==i.curData?{curData:o.data}:null}}])})(A.PureComponent);LU=ps;oc(ps,"displayName","Bar");oc(ps,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Id.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oc(ps,"getComposedData",function(e){var t=e.props,r=e.item,o=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,f=e.dataStartIndex,p=e.displayedData,h=e.offset,x=xhe(o,r);if(!x)return null;var m=t.layout,y=r.type.defaultProps,b=y!==void 0?cn(cn({},y),r.props):r.props,v=b.dataKey,C=b.children,S=b.minPointSize,F=m==="horizontal"?s:a,w=d?F.scale.domain():null,k=whe({numericAxis:F}),E=ci(C,tf),T=p.map(function(_,z){var B,P,D,I,N,M;d?B=mhe(d[f+z],w):(B=Fn(_,v),Array.isArray(B)||(B=[k,B]));var V=Oye(S,LU.defaultProps.minPointSize)(B[1],z);if(m==="horizontal"){var L,W=[s.scale(B[0]),s.scale(B[1])],G=W[0],U=W[1];P=tI({axis:a,ticks:l,bandSize:i,offset:x.offset,entry:_,index:z}),D=(L=U??G)!==null&&L!==void 0?L:void 0,I=x.size;var H=G-U;if(N=Number.isNaN(H)?0:H,M={x:P,y:s.y,width:I,height:s.height},Math.abs(V)>0&&Math.abs(N)<Math.abs(V)){var K=wo(N||V)*(Math.abs(V)-Math.abs(N));D-=K,N+=K}}else{var ne=[a.scale(B[0]),a.scale(B[1])],Q=ne[0],pe=ne[1];if(P=Q,D=tI({axis:s,ticks:c,bandSize:i,offset:x.offset,entry:_,index:z}),I=pe-Q,N=x.size,M={x:a.x,y:D,width:a.width,height:N},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var X=wo(I||V)*(Math.abs(V)-Math.abs(I));I+=X}}return cn(cn(cn({},_),{},{x:P,y:D,width:I,height:N,value:d?B:B[1],payload:_,background:M},E&&E[z]&&E[z].props),{},{tooltipPayload:[hU(r,_)],tooltipPosition:{x:P+I/2,y:D+N/2}})});return cn({data:T,layout:m},h)});function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function Gye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,UU(o.key),o)}}function Kye(e,t,r){return t&&AO(e.prototype,t),r&&AO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(o){Qb(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Qb(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=Yye(e,"string");return $g(t)=="symbol"?t:t+""}function Yye(e,t){if($g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if($g(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qU=function(t,r,o,i,a){var s=t.width,l=t.height,c=t.layout,d=t.children,f=Object.keys(r),p={left:o.left,leftMirror:o.left,right:s-o.right,rightMirror:s-o.right,top:o.top,topMirror:o.top,bottom:l-o.bottom,bottomMirror:l-o.bottom},h=!!ei(d,ps);return f.reduce(function(x,m){var y=r[m],b=y.orientation,v=y.domain,C=y.padding,S=C===void 0?{}:C,F=y.mirror,w=y.reversed,k="".concat(b).concat(F?"Mirror":""),E,T,_,z,B;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var P=v[1]-v[0],D=1/0,I=y.categoricalDomain.sort();if(I.forEach(function(ne,Q){Q>0&&(D=Math.min((ne||0)-(I[Q-1]||0),D))}),Number.isFinite(D)){var N=D/P,M=y.layout==="vertical"?o.height:o.width;if(y.padding==="gap"&&(E=N*M/2),y.padding==="no-gap"){var V=Eo(t.barCategoryGap,N*M),L=N*M/2;E=L-V-(L-V)/M*V}}}i==="xAxis"?T=[o.left+(S.left||0)+(E||0),o.left+o.width-(S.right||0)-(E||0)]:i==="yAxis"?T=c==="horizontal"?[o.top+o.height-(S.bottom||0),o.top+(S.top||0)]:[o.top+(S.top||0)+(E||0),o.top+o.height-(S.bottom||0)-(E||0)]:T=y.range,w&&(T=[T[1],T[0]]);var W=dU(y,a,h),G=W.scale,U=W.realScaleType;G.domain(v).range(T),uU(G);var H=pU(G,ua(ua({},y),{},{realScaleType:U}));i==="xAxis"?(B=b==="top"&&!F||b==="bottom"&&F,_=o.left,z=p[k]-B*y.height):i==="yAxis"&&(B=b==="left"&&!F||b==="right"&&F,_=p[k]-B*y.width,z=o.top);var K=ua(ua(ua({},y),H),{},{realScaleType:U,x:_,y:z,scale:G,width:i==="xAxis"?o.width:y.width,height:i==="yAxis"?o.height:y.height});return K.bandSize=l1(K,H),!y.hide&&i==="xAxis"?p[k]+=(B?-1:1)*K.height:y.hide||(p[k]+=(B?-1:1)*K.width),ua(ua({},x),{},Qb({},m,K))},{})},HU=function(t,r){var o=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(o,a),y:Math.min(i,s),width:Math.abs(a-o),height:Math.abs(s-i)}},Xye=function(t){var r=t.x1,o=t.y1,i=t.x2,a=t.y2;return HU({x:r,y:o},{x:i,y:a})},GU=(function(){function e(t){Gye(this,e),this.scale=t}return Kye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,a=o.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var o=this.range(),i=o[0],a=o[o.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Qb(GU,"EPS",1e-4);var v_=function(t){var r=Object.keys(t).reduce(function(o,i){return ua(ua({},o),{},Qb({},i,GU.create(t[i])))},{});return ua(ua({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Eye(i,function(c,d){return r[d].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return NU(i,function(a,s){return r[s].isInRange(a)})}})};function Jye(e){return(e%180+180)%180}var Qye=function(t){var r=t.width,o=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jye(i),s=a*Math.PI/180,l=Math.atan(o/r),c=s>l&&s<Math.PI-l?o/Math.sin(s):r/Math.cos(s);return Math.abs(c)},EC,RO;function Zye(){if(RO)return EC;RO=1;var e=ms(),t=vx(),r=Tb();function o(i){return function(a,s,l){var c=Object(a);if(!t(a)){var d=e(s,3);a=r(a),s=function(p){return d(c[p],p,c)}}var f=i(a,s,l);return f>-1?c[d?a[f]:f]:void 0}}return EC=o,EC}var CC,TO;function e1e(){if(TO)return CC;TO=1;var e=OU();function t(r){var o=e(r),i=o%1;return o===o?i?o-i:o:0}return CC=t,CC}var kC,PO;function t1e(){if(PO)return kC;PO=1;var e=VW(),t=ms(),r=e1e(),o=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=o(c+d,0)),e(a,t(s,3),d)}return kC=i,kC}var FC,zO;function r1e(){if(zO)return FC;zO=1;var e=Zye(),t=t1e(),r=e(t);return FC=r,FC}var n1e=r1e();const o1e=nr(n1e);var i1e=iW();const a1e=nr(i1e);var s1e=a1e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),j_=A.createContext(void 0),S_=A.createContext(void 0),KU=A.createContext(void 0),YU=A.createContext({}),XU=A.createContext(void 0),JU=A.createContext(0),QU=A.createContext(0),BO=function(t){var r=t.state,o=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,l=t.children,c=t.width,d=t.height,f=s1e(a);return Y.createElement(j_.Provider,{value:o},Y.createElement(S_.Provider,{value:i},Y.createElement(YU.Provider,{value:a},Y.createElement(KU.Provider,{value:f},Y.createElement(XU.Provider,{value:s},Y.createElement(JU.Provider,{value:d},Y.createElement(QU.Provider,{value:c},l)))))))},l1e=function(){return A.useContext(XU)},ZU=function(t){var r=A.useContext(j_);r==null&&Fd();var o=r[t];return o==null&&Fd(),o},c1e=function(){var t=A.useContext(j_);return Jl(t)},d1e=function(){var t=A.useContext(S_),r=o1e(t,function(o){return NU(o.domain,Number.isFinite)});return r||Jl(t)},eq=function(t){var r=A.useContext(S_);r==null&&Fd();var o=r[t];return o==null&&Fd(),o},u1e=function(){var t=A.useContext(KU);return t},p1e=function(){return A.useContext(YU)},w_=function(){return A.useContext(QU)},E_=function(){return A.useContext(JU)};function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function f1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h1e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,rq(o.key),o)}}function g1e(e,t,r){return t&&h1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x1e(e,t,r){return t=F1(t),m1e(e,tq()?Reflect.construct(t,r||[],F1(e).constructor):t.apply(e,r))}function m1e(e,t){if(t&&(Rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1e(e)}function y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tq=function(){return!!e})()}function F1(e){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(e)}function b1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DA(e,t)}function DA(e,t){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},DA(e,t)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(o){C_(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function C_(e,t,r){return t=rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rq(e){var t=v1e(e,"string");return Rp(t)=="symbol"?t:t+""}function v1e(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Rp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function j1e(e,t){return C1e(e)||E1e(e,t)||w1e(e,t)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(e,t){if(e){if(typeof e=="string")return DO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(e,t)}}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function E1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function C1e(e){if(Array.isArray(e))return e}function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},MA.apply(this,arguments)}var k1e=function(t,r){var o;return Y.isValidElement(t)?o=Y.cloneElement(t,r):wt(t)?o=t(r):o=Y.createElement("line",MA({},r,{className:"recharts-reference-line-line"})),o},F1e=function(t,r,o,i,a,s,l,c,d){var f=a.x,p=a.y,h=a.width,x=a.height;if(o){var m=d.y,y=t.y.apply(m,{position:s});if(as(d,"discard")&&!t.y.isInRange(y))return null;var b=[{x:f+h,y},{x:f,y}];return c==="left"?b.reverse():b}if(r){var v=d.x,C=t.x.apply(v,{position:s});if(as(d,"discard")&&!t.x.isInRange(C))return null;var S=[{x:C,y:p+x},{x:C,y:p}];return l==="top"?S.reverse():S}if(i){var F=d.segment,w=F.map(function(k){return t.apply(k,{position:s})});return as(d,"discard")&&vye(w,function(k){return!t.isInRange(k)})?null:w}return null};function A1e(e){var t=e.x,r=e.y,o=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,d=l1e(),f=ZU(i),p=eq(a),h=u1e();if(!d||!h)return null;Sa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=v_({x:f.scale,y:p.scale}),m=An(t),y=An(r),b=o&&o.length===2,v=F1e(x,m,y,b,h,e.position,f.orientation,p.orientation,e);if(!v)return null;var C=j1e(v,2),S=C[0],F=S.x,w=S.y,k=C[1],E=k.x,T=k.y,_=as(e,"hidden")?"url(#".concat(d,")"):void 0,z=OO(OO({clipPath:_},xt(e,!0)),{},{x1:F,y1:w,x2:E,y2:T});return Y.createElement(er,{className:It("recharts-reference-line",l)},k1e(s,z),On.renderCallByParent(e,Xye({x1:F,y1:w,x2:E,y2:T})))}var k_=(function(e){function t(){return f1e(this,t),x1e(this,t,arguments)}return b1e(t,e),g1e(t,[{key:"render",value:function(){return Y.createElement(A1e,this.props)}}])})(Y.Component);C_(k_,"displayName","ReferenceLine");C_(k_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},$A.apply(this,arguments)}function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(o){Zb(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R1e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,oq(o.key),o)}}function T1e(e,t,r){return t&&R1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P1e(e,t,r){return t=A1(t),z1e(e,nq()?Reflect.construct(t,r||[],A1(e).constructor):t.apply(e,r))}function z1e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B1e(e)}function B1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nq=function(){return!!e})()}function A1(e){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(e)}function I1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NA(e,t)}function NA(e,t){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},NA(e,t)}function Zb(e,t,r){return t=oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=O1e(e,"string");return Tp(t)=="symbol"?t:t+""}function O1e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Tp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D1e=function(t){var r=t.x,o=t.y,i=t.xAxis,a=t.yAxis,s=v_({x:i.scale,y:a.scale}),l=s.apply({x:r,y:o},{bandAware:!0});return as(t,"discard")&&!s.isInRange(l)?null:l},ev=(function(e){function t(){return _1e(this,t),P1e(this,t,arguments)}return I1e(t,e),T1e(t,[{key:"render",value:function(){var o=this.props,i=o.x,a=o.y,s=o.r,l=o.alwaysShow,c=o.clipPathId,d=An(i),f=An(a);if(Sa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var p=D1e(this.props);if(!p)return null;var h=p.x,x=p.y,m=this.props,y=m.shape,b=m.className,v=as(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=$O($O({clipPath:v},xt(this.props,!0)),{},{cx:h,cy:x});return Y.createElement(er,{className:It("recharts-reference-dot",b)},t.renderDot(y,C),On.renderCallByParent(this.props,{x:h-s,y:x-s,width:2*s,height:2*s}))}}])})(Y.Component);Zb(ev,"displayName","ReferenceDot");Zb(ev,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zb(ev,"renderDot",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):wt(e)?r=e(t):r=Y.createElement(qb,$A({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},LA.apply(this,arguments)}function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(o){tv(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function M1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $1e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,aq(o.key),o)}}function N1e(e,t,r){return t&&$1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L1e(e,t,r){return t=_1(t),W1e(e,iq()?Reflect.construct(t,r||[],_1(e).constructor):t.apply(e,r))}function W1e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1e(e)}function V1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!e})()}function _1(e){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(e)}function U1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WA(e,t)}function WA(e,t){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},WA(e,t)}function tv(e,t,r){return t=aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=q1e(e,"string");return Pp(t)=="symbol"?t:t+""}function q1e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Pp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var H1e=function(t,r,o,i,a){var s=a.x1,l=a.x2,c=a.y1,d=a.y2,f=a.xAxis,p=a.yAxis;if(!f||!p)return null;var h=v_({x:f.scale,y:p.scale}),x={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:o?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(d,{position:"end"}):h.y.rangeMax};return as(a,"discard")&&(!h.isInRange(x)||!h.isInRange(m))?null:HU(x,m)},rv=(function(e){function t(){return M1e(this,t),L1e(this,t,arguments)}return U1e(t,e),N1e(t,[{key:"render",value:function(){var o=this.props,i=o.x1,a=o.x2,s=o.y1,l=o.y2,c=o.className,d=o.alwaysShow,f=o.clipPathId;Sa(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=An(i),h=An(a),x=An(s),m=An(l),y=this.props.shape;if(!p&&!h&&!x&&!m&&!y)return null;var b=H1e(p,h,x,m,this.props);if(!b&&!y)return null;var v=as(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Y.createElement(er,{className:It("recharts-reference-area",c)},t.renderRect(y,LO(LO({clipPath:v},xt(this.props,!0)),b)),On.renderCallByParent(this.props,b))}}])})(Y.Component);tv(rv,"displayName","ReferenceArea");tv(rv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tv(rv,"renderRect",function(e,t){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,t):wt(e)?r=e(t):r=Y.createElement(b_,LA({},t,{className:"recharts-reference-area-rect"})),r});function sq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var o=[],i=0;i<e.length;i+=t)o.push(e[i]);return o}function G1e(e,t,r){var o={width:e.width+t.width,height:e.height+t.height};return Qye(o,r)}function K1e(e,t,r){var o=r==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:o?i:a,end:o?i+s:a+l}:{start:o?i+s:a+l,end:o?i:a}}function R1(e,t,r,o,i){if(e*t<e*o||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-o)>=0&&e*(t+e*a/2-i)<=0}function Y1e(e,t){return sq(e,t+1)}function X1e(e,t,r,o,i){for(var a=(o||[]).slice(),s=t.start,l=t.end,c=0,d=1,f=s,p=function(){var m=o==null?void 0:o[c];if(m===void 0)return{v:sq(o,d)};var y=c,b,v=function(){return b===void 0&&(b=r(m,y)),b},C=m.coordinate,S=c===0||R1(e,C,v,f,l);S||(c=0,f=s,d+=1),S&&(f=C+e*(v()/2+i),c+=d)},h;d<=a.length;)if(h=p(),h)return h.v;return[]}function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(o){J1e(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function J1e(e,t,r){return t=Q1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q1e(e){var t=Z1e(e,"string");return Ng(t)=="symbol"?t:t+""}function Z1e(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Ng(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ebe(e,t,r,o,i){for(var a=(o||[]).slice(),s=a.length,l=t.start,c=t.end,d=function(h){var x=a[h],m,y=function(){return m===void 0&&(m=r(x,h)),m};if(h===s-1){var b=e*(x.coordinate+e*y()/2-c);a[h]=x=ao(ao({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate})}else a[h]=x=ao(ao({},x),{},{tickCoord:x.coordinate});var v=R1(e,x.tickCoord,y,l,c);v&&(c=x.tickCoord-e*(y()/2+i),a[h]=ao(ao({},x),{},{isShow:!0}))},f=s-1;f>=0;f--)d(f);return a}function tbe(e,t,r,o,i,a){var s=(o||[]).slice(),l=s.length,c=t.start,d=t.end;if(a){var f=o[l-1],p=r(f,l-1),h=e*(f.coordinate+e*p/2-d);s[l-1]=f=ao(ao({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var x=R1(e,f.tickCoord,function(){return p},c,d);x&&(d=f.tickCoord-e*(p/2+i),s[l-1]=ao(ao({},f),{},{isShow:!0}))}for(var m=a?l-1:l,y=function(C){var S=s[C],F,w=function(){return F===void 0&&(F=r(S,C)),F};if(C===0){var k=e*(S.coordinate-e*w()/2-c);s[C]=S=ao(ao({},S),{},{tickCoord:k<0?S.coordinate-k*e:S.coordinate})}else s[C]=S=ao(ao({},S),{},{tickCoord:S.coordinate});var E=R1(e,S.tickCoord,w,c,d);E&&(c=S.tickCoord+e*(w()/2+i),s[C]=ao(ao({},S),{},{isShow:!0}))},b=0;b<m;b++)y(b);return s}function F_(e,t,r){var o=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,f=e.unit,p=e.angle;if(!i||!i.length||!o)return[];if(Me(c)||Id.isSsr)return Y1e(i,typeof c=="number"&&Me(c)?c:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",m=f&&x==="width"?Dh(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(S,F){var w=wt(d)?d(S.value,F):S.value;return x==="width"?G1e(Dh(w,{fontSize:t,letterSpacing:r}),m,p):Dh(w,{fontSize:t,letterSpacing:r})[x]},b=i.length>=2?wo(i[1].coordinate-i[0].coordinate):1,v=K1e(a,b,x);return c==="equidistantPreserveStart"?X1e(b,v,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=tbe(b,v,y,i,s,c==="preserveStartEnd"):h=ebe(b,v,y,i,s),h.filter(function(C){return C.isShow}))}var rbe=["viewBox"],nbe=["viewBox"],obe=["ticks"];function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Hu.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(o){A_(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function AC(e,t){if(e==null)return{};var r=ibe(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function ibe(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function abe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UO(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,cq(o.key),o)}}function sbe(e,t,r){return t&&UO(e.prototype,t),r&&UO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lbe(e,t,r){return t=T1(t),cbe(e,lq()?Reflect.construct(t,r||[],T1(e).constructor):t.apply(e,r))}function cbe(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dbe(e)}function dbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!e})()}function T1(e){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(e)}function ube(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},VA(e,t)}function A_(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=pbe(e,"string");return zp(t)=="symbol"?t:t+""}function pbe(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(zp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var of=(function(e){function t(r){var o;return abe(this,t),o=lbe(this,t,[r]),o.state={fontSize:"",letterSpacing:""},o}return ube(t,e),sbe(t,[{key:"shouldComponentUpdate",value:function(o,i){var a=o.viewBox,s=AC(o,rbe),l=this.props,c=l.viewBox,d=AC(l,nbe);return!sp(a,c)||!sp(s,d)||!sp(i,this.state)}},{key:"componentDidMount",value:function(){var o=this.layerReference;if(o){var i=o.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(o){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,p=i.mirror,h=i.tickMargin,x,m,y,b,v,C,S=p?-1:1,F=o.tickSize||f,w=Me(o.tickCoord)?o.tickCoord:o.coordinate;switch(d){case"top":x=m=o.coordinate,b=s+ +!p*c,y=b-S*F,C=y-S*h,v=w;break;case"left":y=b=o.coordinate,m=a+ +!p*l,x=m-S*F,v=x-S*h,C=w;break;case"right":y=b=o.coordinate,m=a+ +p*l,x=m+S*F,v=x+S*h,C=w;break;default:x=m=o.coordinate,b=s+ +p*c,y=b+S*F,C=y+S*h,v=w;break}return{line:{x1:x,y1:y,x2:m,y2:b},tick:{x:v,y:C}}}},{key:"getTickTextAnchor",value:function(){var o=this.props,i=o.orientation,a=o.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var o=this.props,i=o.orientation,a=o.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var o=this.props,i=o.x,a=o.y,s=o.width,l=o.height,c=o.orientation,d=o.mirror,f=o.axisLine,p=yo(yo(yo({},xt(this.props,!1)),xt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);p=yo(yo({},p),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);p=yo(yo({},p),{},{x1:i+x*s,y1:a,x2:i+x*s,y2:a+l})}return Y.createElement("line",Hu({},p,{className:It("recharts-cartesian-axis-line",li(f,"className"))}))}},{key:"renderTicks",value:function(o,i,a){var s=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,p=l.tickFormatter,h=l.unit,x=F_(yo(yo({},this.props),{},{ticks:o}),i,a),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=xt(this.props,!1),v=xt(f,!1),C=yo(yo({},b),{},{fill:"none"},xt(c,!1)),S=x.map(function(F,w){var k=s.getTickLineCoord(F),E=k.line,T=k.tick,_=yo(yo(yo(yo({textAnchor:m,verticalAnchor:y},b),{},{stroke:"none",fill:d},v),T),{},{index:w,payload:F,visibleTicksCount:x.length,tickFormatter:p});return Y.createElement(er,Hu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},wd(s.props,F,w)),c&&Y.createElement("line",Hu({},C,E,{className:It("recharts-cartesian-axis-tick-line",li(c,"className"))})),f&&t.renderTickItem(f,_,"".concat(wt(p)?p(F.value,w):F.value).concat(h||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var o=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var p=this.props,h=p.ticks,x=AC(p,obe),m=h;return wt(c)&&(m=h&&h.length>0?c(this.props):c(x)),s<=0||l<=0||!m||!m.length?null:Y.createElement(er,{className:It("recharts-cartesian-axis",d),ref:function(b){o.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(o,i,a){var s;return Y.isValidElement(o)?s=Y.cloneElement(o,i):wt(o)?s=o(i):s=Y.createElement(Ed,Hu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(A.Component);A_(of,"displayName","CartesianAxis");A_(of,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fbe=["x1","y1","x2","y2","key"],hbe=["offset"];function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(o){gbe(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function gbe(e,t,r){return t=xbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xbe(e){var t=mbe(e,"string");return Ad(t)=="symbol"?t:t+""}function mbe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Ad(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},cd.apply(this,arguments)}function HO(e,t){if(e==null)return{};var r=ybe(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function ybe(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}var bbe=function(t){var r=t.fill;if(!r||r==="none")return null;var o=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return Y.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:o,className:"recharts-cartesian-grid-bg"})};function dq(e,t){var r;if(Y.isValidElement(e))r=Y.cloneElement(e,t);else if(wt(e))r=e(t);else{var o=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=HO(t,fbe),d=xt(c,!1);d.offset;var f=HO(d,hbe);r=Y.createElement("line",cd({},f,{x1:o,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function vbe(e){var t=e.x,r=e.width,o=e.horizontal,i=o===void 0?!0:o,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=co(co({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return dq(i,d)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function jbe(e){var t=e.y,r=e.height,o=e.vertical,i=o===void 0?!0:o,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=co(co({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return dq(i,d)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Sbe(e){var t=e.horizontalFill,r=e.fillOpacity,o=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==f[0]&&f.unshift(0);var p=f.map(function(h,x){var m=!f[x+1],y=m?i+s-h:f[x+1]-h;if(y<=0)return null;var b=x%t.length;return Y.createElement("rect",{key:"react-".concat(x),y:h,x:o,height:y,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function wbe(e){var t=e.vertical,r=t===void 0?!0:t,o=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!o||!o.length)return null;var f=d.map(function(h){return Math.round(h+a-a)}).sort(function(h,x){return h-x});a!==f[0]&&f.unshift(0);var p=f.map(function(h,x){var m=!f[x+1],y=m?a+l-h:f[x+1]-h;if(y<=0)return null;var b=x%o.length;return Y.createElement("rect",{key:"react-".concat(x),x:h,y:s,width:y,height:c,stroke:"none",fill:o[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Ebe=function(t,r){var o=t.xAxis,i=t.width,a=t.height,s=t.offset;return cU(F_(co(co(co({},of.defaultProps),o),{},{ticks:Hs(o,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Cbe=function(t,r){var o=t.yAxis,i=t.width,a=t.height,s=t.offset;return cU(F_(co(co(co({},of.defaultProps),o),{},{ticks:Hs(o,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},fu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uc(e){var t,r,o,i,a,s,l=w_(),c=E_(),d=p1e(),f=co(co({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:fu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:fu.fill,horizontal:(o=e.horizontal)!==null&&o!==void 0?o:fu.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:fu.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:fu.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:fu.verticalFill,x:Me(e.x)?e.x:d.left,y:Me(e.y)?e.y:d.top,width:Me(e.width)?e.width:d.width,height:Me(e.height)?e.height:d.height}),p=f.x,h=f.y,x=f.width,m=f.height,y=f.syncWithTicks,b=f.horizontalValues,v=f.verticalValues,C=c1e(),S=d1e();if(!Me(x)||x<=0||!Me(m)||m<=0||!Me(p)||p!==+p||!Me(h)||h!==+h)return null;var F=f.verticalCoordinatesGenerator||Ebe,w=f.horizontalCoordinatesGenerator||Cbe,k=f.horizontalPoints,E=f.verticalPoints;if((!k||!k.length)&&wt(w)){var T=b&&b.length,_=w({yAxis:S?co(co({},S),{},{ticks:T?b:S.ticks}):void 0,width:l,height:c,offset:d},T?!0:y);Sa(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ad(_),"]")),Array.isArray(_)&&(k=_)}if((!E||!E.length)&&wt(F)){var z=v&&v.length,B=F({xAxis:C?co(co({},C),{},{ticks:z?v:C.ticks}):void 0,width:l,height:c,offset:d},z?!0:y);Sa(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ad(B),"]")),Array.isArray(B)&&(E=B)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(bbe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Y.createElement(vbe,cd({},f,{offset:d,horizontalPoints:k,xAxis:C,yAxis:S})),Y.createElement(jbe,cd({},f,{offset:d,verticalPoints:E,xAxis:C,yAxis:S})),Y.createElement(Sbe,cd({},f,{horizontalPoints:k})),Y.createElement(wbe,cd({},f,{verticalPoints:E})))}uc.displayName="CartesianGrid";var kbe=["type","layout","connectNulls","ref"],Fbe=["key"];function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function GO(e,t){if(e==null)return{};var r=Abe(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Abe(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Vh.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(o){pa(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function hu(e){return Pbe(e)||Tbe(e)||Rbe(e)||_be()}function _be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbe(e,t){if(e){if(typeof e=="string")return UA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(e,t)}}function Tbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pbe(e){if(Array.isArray(e))return UA(e)}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function zbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,pq(o.key),o)}}function Bbe(e,t,r){return t&&YO(e.prototype,t),r&&YO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ibe(e,t,r){return t=P1(t),Obe(e,uq()?Reflect.construct(t,r||[],P1(e).constructor):t.apply(e,r))}function Obe(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dbe(e)}function Dbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!e})()}function P1(e){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P1(e)}function Mbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},qA(e,t)}function pa(e,t,r){return t=pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=$be(e,"string");return Bp(t)=="symbol"?t:t+""}function $be(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Bp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oi=(function(e){function t(){var r;zbe(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=Ibe(this,t,[].concat(i)),pa(r,"state",{isAnimationFinished:!0,totalLength:0}),pa(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),pa(r,"getStrokeDasharray",function(s,l,c){var d=c.reduce(function(v,C){return v+C});if(!d)return r.generateSimpleStrokeDasharray(l,s);for(var f=Math.floor(s/d),p=s%d,h=l-s,x=[],m=0,y=0;m<c.length;y+=c[m],++m)if(y+c[m]>p){x=[].concat(hu(c.slice(0,m)),[p-y]);break}var b=x.length%2===0?[0,h]:[h];return[].concat(hu(t.repeat(c,f)),hu(x),b).map(function(v){return"".concat(v,"px")}).join(", ")}),pa(r,"id",Zp("recharts-line-")),pa(r,"pathRef",function(s){r.mainCurve=s}),pa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),pa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Mbe(t,e),Bbe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var o=this.getTotalLength();this.setState({totalLength:o})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var o=this.getTotalLength();o!==this.state.totalLength&&this.setState({totalLength:o})}}},{key:"getTotalLength",value:function(){var o=this.mainCurve;try{return o&&o.getTotalLength&&o.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(o,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,f=a.children,p=ci(f,kx);if(!p)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Fn(y.payload,b)}},x={clipPath:o?"url(#clipPath-".concat(i,")"):null};return Y.createElement(er,x,p.map(function(m){return Y.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(o,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,p=xt(this.props,!1),h=xt(c,!0),x=d.map(function(y,b){var v=Xo(Xo(Xo({key:"dot-".concat(b),r:3},p),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:d});return t.renderDotItem(c,v)}),m={clipPath:o?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Y.createElement(er,Vh({className:"recharts-line-dots",key:"dots"},m),x)}},{key:"renderCurveStatically",value:function(o,i,a,s){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var p=GO(l,kbe),h=Xo(Xo(Xo({},xt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:o},s),{},{type:c,layout:d,connectNulls:f});return Y.createElement(u1,Vh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(o,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,d=s.isAnimationActive,f=s.animationBegin,p=s.animationDuration,h=s.animationEasing,x=s.animationId,m=s.animateNewValues,y=s.width,b=s.height,v=this.state,C=v.prevPoints,S=v.totalLength;return Y.createElement(us,{begin:f,duration:p,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(F){var w=F.t;if(C){var k=C.length/l.length,E=l.map(function(P,D){var I=Math.floor(D*k);if(C[I]){var N=C[I],M=ri(N.x,P.x),V=ri(N.y,P.y);return Xo(Xo({},P),{},{x:M(w),y:V(w)})}if(m){var L=ri(y*2,P.x),W=ri(b/2,P.y);return Xo(Xo({},P),{},{x:L(w),y:W(w)})}return Xo(Xo({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(E,o,i)}var T=ri(0,S),_=T(w),z;if(c){var B="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});z=a.getStrokeDasharray(_,S,B)}else z=a.generateSimpleStrokeDasharray(S,_);return a.renderCurveStatically(l,o,i,{strokeDasharray:z})})}},{key:"renderCurve",value:function(o,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&s&&s.length&&(!d&&f>0||!Cx(d,s))?this.renderCurveWithAnimation(o,i):this.renderCurveStatically(s,o,i)}},{key:"render",value:function(){var o,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,d=i.xAxis,f=i.yAxis,p=i.top,h=i.left,x=i.width,m=i.height,y=i.isAnimationActive,b=i.id;if(a||!l||!l.length)return null;var v=this.state.isAnimationFinished,C=l.length===1,S=It("recharts-line",c),F=d&&d.allowDataOverflow,w=f&&f.allowDataOverflow,k=F||w,E=Tt(b)?this.id:b,T=(o=xt(s,!1))!==null&&o!==void 0?o:{r:3,strokeWidth:2},_=T.r,z=_===void 0?3:_,B=T.strokeWidth,P=B===void 0?2:B,D=sae(s)?s:{},I=D.clipDot,N=I===void 0?!0:I,M=z*2+P;return Y.createElement(er,{className:S},F||w?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(E)},Y.createElement("rect",{x:F?h:h-x/2,y:w?p:p-m/2,width:F?x:x*2,height:w?m:m*2})),!N&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Y.createElement("rect",{x:h-M/2,y:p-M/2,width:x+M,height:m+M}))):null,!C&&this.renderCurve(k,E),this.renderErrorBar(k,E),(C||s)&&this.renderDots(k,N,E),(!y||v)&&Zs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(o,i){return o.animationId!==i.prevAnimationId?{prevAnimationId:o.animationId,curPoints:o.points,prevPoints:i.curPoints}:o.points!==i.curPoints?{curPoints:o.points}:null}},{key:"repeat",value:function(o,i){for(var a=o.length%2!==0?[].concat(hu(o),[0]):o,s=[],l=0;l<i;++l)s=[].concat(hu(s),hu(a));return s}},{key:"renderDotItem",value:function(o,i){var a;if(Y.isValidElement(o))a=Y.cloneElement(o,i);else if(wt(o))a=o(i);else{var s=i.key,l=GO(i,Fbe),c=It("recharts-line-dot",typeof o!="boolean"?o.className:"");a=Y.createElement(qb,Vh({key:s},l,{className:c}))}return a}}])})(A.PureComponent);pa(oi,"displayName","Line");pa(oi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Id.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pa(oi,"getComposedData",function(e){var t=e.props,r=e.xAxis,o=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,f=t.layout,p=c.map(function(h,x){var m=Fn(h,s);return f==="horizontal"?{x:eI({axis:r,ticks:i,bandSize:l,entry:h,index:x}),y:Tt(m)?null:o.scale(m),value:m,payload:h}:{x:Tt(m)?null:r.scale(m),y:eI({axis:o,ticks:a,bandSize:l,entry:h,index:x}),value:m,payload:h}});return Xo({points:p,layout:f},d)});function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function Nbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lbe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,gq(o.key),o)}}function Wbe(e,t,r){return t&&Lbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vbe(e,t,r){return t=z1(t),Ube(e,fq()?Reflect.construct(t,r||[],z1(e).constructor):t.apply(e,r))}function Ube(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qbe(e)}function qbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fq=function(){return!!e})()}function z1(e){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z1(e)}function Hbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}function HA(e,t){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},HA(e,t)}function hq(e,t,r){return t=gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=Gbe(e,"string");return Ip(t)=="symbol"?t:t+""}function Gbe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Ip(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},GA.apply(this,arguments)}function Kbe(e){var t=e.xAxisId,r=w_(),o=E_(),i=ZU(t);return i==null?null:Y.createElement(of,GA({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:o},ticksGenerator:function(s){return Hs(s,!0)}}))}var Ra=(function(e){function t(){return Nbe(this,t),Vbe(this,t,arguments)}return Hbe(t,e),Wbe(t,[{key:"render",value:function(){return Y.createElement(Kbe,this.props)}}])})(Y.Component);hq(Ra,"displayName","XAxis");hq(Ra,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function Ybe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xbe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,yq(o.key),o)}}function Jbe(e,t,r){return t&&Xbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qbe(e,t,r){return t=B1(t),Zbe(e,xq()?Reflect.construct(t,r||[],B1(e).constructor):t.apply(e,r))}function Zbe(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eve(e)}function eve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!e})()}function B1(e){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(e)}function tve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KA(e,t)}function KA(e,t){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},KA(e,t)}function mq(e,t,r){return t=yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=rve(e,"string");return Op(t)=="symbol"?t:t+""}function rve(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Op(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function YA(){return YA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},YA.apply(this,arguments)}var nve=function(t){var r=t.yAxisId,o=w_(),i=E_(),a=eq(r);return a==null?null:Y.createElement(of,YA({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:o,height:i},ticksGenerator:function(l){return Hs(l,!0)}}))},Ta=(function(e){function t(){return Ybe(this,t),Qbe(this,t,arguments)}return tve(t,e),Jbe(t,[{key:"render",value:function(){return Y.createElement(nve,this.props)}}])})(Y.Component);mq(Ta,"displayName","YAxis");mq(Ta,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XO(e){return sve(e)||ave(e)||ive(e)||ove()}function ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ive(e,t){if(e){if(typeof e=="string")return XA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(e,t)}}function ave(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sve(e){if(Array.isArray(e))return XA(e)}function XA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var JA=function(t,r,o,i,a){var s=ci(t,k_),l=ci(t,ev),c=[].concat(XO(s),XO(l)),d=ci(t,rv),f="".concat(i,"Id"),p=i[0],h=r;if(c.length&&(h=c.reduce(function(y,b){if(b.props[f]===o&&as(b.props,"extendDomain")&&Me(b.props[p])){var v=b.props[p];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),d.length){var x="".concat(p,"1"),m="".concat(p,"2");h=d.reduce(function(y,b){if(b.props[f]===o&&as(b.props,"extendDomain")&&Me(b.props[x])&&Me(b.props[m])){var v=b.props[x],C=b.props[m];return[Math.min(y[0],v,C),Math.max(y[1],v,C)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,b){return Me(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},_C={exports:{}},JO;function lve(){return JO||(JO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,p,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,p||c,h),m=r?r+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],x]:c._events[m].push(x):(c._events[m]=x,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new o:delete c._events[d]}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,x=p.length,m=new Array(x);h<x;h++)m[h]=p[h].fn;return m},l.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,h,x,m){var y=r?r+d:d;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,C,S;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,h),!0;case 5:return b.fn.call(b.context,f,p,h,x),!0;case 6:return b.fn.call(b.context,f,p,h,x,m),!0}for(S=1,C=new Array(v-1);S<v;S++)C[S-1]=arguments[S];b.fn.apply(b.context,C)}else{var F=b.length,w;for(S=0;S<F;S++)switch(b[S].once&&this.removeListener(d,b[S].fn,void 0,!0),v){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,p);break;case 4:b[S].fn.call(b[S].context,f,p,h);break;default:if(!C)for(w=1,C=new Array(v-1);w<v;w++)C[w-1]=arguments[w];b[S].fn.apply(b[S].context,C)}}return!0},l.prototype.on=function(d,f,p){return a(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return a(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,h){var x=r?r+d:d;if(!this._events[x])return this;if(!f)return s(this,x),this;var m=this._events[x];if(m.fn)m.fn===f&&(!h||m.once)&&(!p||m.context===p)&&s(this,x);else{for(var y=0,b=[],v=m.length;y<v;y++)(m[y].fn!==f||h&&!m[y].once||p&&m[y].context!==p)&&b.push(m[y]);b.length?this._events[x]=b.length===1?b[0]:b:s(this,x)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&s(this,f)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(_C)),_C.exports}var cve=lve();const dve=nr(cve);var RC=new dve,TC="recharts.syncMouseEvents";function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function uve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pve(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,bq(o.key),o)}}function fve(e,t,r){return t&&pve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PC(e,t,r){return t=bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=hve(e,"string");return Lg(t)=="symbol"?t:t+""}function hve(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Lg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gve=(function(){function e(){uve(this,e),PC(this,"activeIndex",0),PC(this,"coordinateList",[]),PC(this,"layout","horizontal")}return fve(e,[{key:"setDetails",value:function(r){var o,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,d=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,h=r.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(o=a??this.coordinateList)!==null&&o!==void 0?o:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,o;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((o=window)===null||o===void 0?void 0:o.scrollY)||0,p=a+c+d,h=s+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:h})}}}])})();function xve(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var o=e==null?void 0:e[0],i=e==null?void 0:e[1];if(o&&i&&Me(o)&&Me(i))return!0}return!1}function mve(e,t,r,o){var i=o/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?o:r.width-1,height:e==="horizontal"?r.height-1:o}}function vq(e){var t=e.cx,r=e.cy,o=e.radius,i=e.startAngle,a=e.endAngle,s=Rr(t,r,o,i),l=Rr(t,r,o,a);return{points:[s,l],cx:t,cy:r,radius:o,startAngle:i,endAngle:a}}function yve(e,t,r){var o,i,a,s;if(e==="horizontal")o=t.x,a=o,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,o=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,f=t.outerRadius,p=t.angle,h=Rr(l,c,d,p),x=Rr(l,c,f,p);o=h.x,i=h.y,a=x.x,s=x.y}else return vq(t);return[{x:o,y:i},{x:a,y:s}]}function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function d0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(o){bve(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function bve(e,t,r){return t=vve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vve(e){var t=jve(e,"string");return Wg(t)=="symbol"?t:t+""}function jve(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Wg(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sve(e){var t,r,o=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,x=(t=o.props.cursor)!==null&&t!==void 0?t:(r=o.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!o||!x||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,y=u1;if(h==="ScatterChart")m=s,y=Ume;else if(h==="BarChart")m=mve(p,s,c,f),y=b_;else if(p==="radial"){var b=vq(s),v=b.cx,C=b.cy,S=b.radius,F=b.startAngle,w=b.endAngle;m={cx:v,cy:C,startAngle:F,endAngle:w,innerRadius:S,outerRadius:S},y=vU}else m={points:yve(p,s,c)},y=u1;var k=d0(d0(d0(d0({stroke:"#ccc",pointerEvents:"none"},c),m),xt(x,!1)),{},{payload:l,payloadIndex:d,className:It("recharts-tooltip-cursor",x.className)});return A.isValidElement(x)?A.cloneElement(x,k):A.createElement(y,k)}var wve=["item"],Eve=["children","className","width","height","style","compact","title","desc"];function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Gu.apply(this,arguments)}function ZO(e,t){return Fve(e)||kve(e,t)||Sq(e,t)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(o=a.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Fve(e){if(Array.isArray(e))return e}function eD(e,t){if(e==null)return{};var r=Ave(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Ave(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function _ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rve(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,wq(o.key),o)}}function Tve(e,t,r){return t&&Rve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pve(e,t,r){return t=I1(t),zve(e,jq()?Reflect.construct(t,r||[],I1(e).constructor):t.apply(e,r))}function zve(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bve(e)}function Bve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!e})()}function I1(e){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(e)}function Ive(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QA(e,t)}function QA(e,t){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},QA(e,t)}function Mp(e){return Mve(e)||Dve(e)||Sq(e)||Ove()}function Ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sq(e,t){if(e){if(typeof e=="string")return ZA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(e,t)}}function Dve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mve(e){if(Array.isArray(e))return ZA(e)}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(o){yt(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function yt(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=$ve(e,"string");return Dp(t)=="symbol"?t:t+""}function $ve(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(Dp(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nve={xAxis:["bottom","top"],yAxis:["left","right"]},Lve={width:"100%",height:"100%"},Eq={x:0,y:0};function u0(e){return e}var Wve=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Vve=function(t,r,o,i){var a=r.find(function(f){return f&&f.index===o});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return Ee(Ee(Ee({},i),Rr(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,d=i.angle;return Ee(Ee(Ee({},i),Rr(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return Eq},nv=function(t,r){var o=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(o??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Mp(l),Mp(d)):l},[]);return s.length>0?s:t&&t.length&&Me(i)&&Me(a)?t.slice(i,a+1):[]};function Cq(e){return e==="number"?[0,"auto"]:void 0}var e5=function(t,r,o,i){var a=t.graphicalItems,s=t.tooltipAxis,l=nv(r,t);return o<0||!a||!a.length||o>=l.length?null:a.reduce(function(c,d){var f,p=(f=d.props.data)!==null&&f!==void 0?f:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=o&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var x=p===void 0?l:p;h=Oy(x,s.dataKey,i)}else h=p&&p[o]||l[o];return h?[].concat(Mp(c),[hU(d,h)]):c},[])},rD=function(t,r,o,i){var a=i||{x:t.chartX,y:t.chartY},s=Wve(a,o),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,f=dhe(s,l,d,c);if(f>=0&&d){var p=d[f]&&d[f].value,h=e5(t,r,f,p),x=Vve(o,l,f,a);return{activeTooltipIndex:f,activeLabel:p,activePayload:h,activeCoordinate:x}}return null},Uve=function(t,r){var o=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,p=t.children,h=t.stackOffset,x=lU(f,a);return o.reduce(function(m,y){var b,v=y.type.defaultProps!==void 0?Ee(Ee({},y.type.defaultProps),y.props):y.props,C=v.type,S=v.dataKey,F=v.allowDataOverflow,w=v.allowDuplicatedCategory,k=v.scale,E=v.ticks,T=v.includeHidden,_=v[s];if(m[_])return m;var z=nv(t.data,{graphicalItems:i.filter(function(H){var K,ne=s in H.props?H.props[s]:(K=H.type.defaultProps)===null||K===void 0?void 0:K[s];return ne===_}),dataStartIndex:c,dataEndIndex:d}),B=z.length,P,D,I;xve(v.domain,F,C)&&(P=hA(v.domain,null,F),x&&(C==="number"||k!=="auto")&&(I=$h(z,S,"category")));var N=Cq(C);if(!P||P.length===0){var M,V=(M=v.domain)!==null&&M!==void 0?M:N;if(S){if(P=$h(z,S,C),C==="category"&&x){var L=Qie(P);w&&L?(D=P,P=S1(0,B)):w||(P=oI(V,P,y).reduce(function(H,K){return H.indexOf(K)>=0?H:[].concat(Mp(H),[K])},[]))}else if(C==="category")w?P=P.filter(function(H){return H!==""&&!Tt(H)}):P=oI(V,P,y).reduce(function(H,K){return H.indexOf(K)>=0||K===""||Tt(K)?H:[].concat(Mp(H),[K])},[]);else if(C==="number"){var W=ghe(z,i.filter(function(H){var K,ne,Q=s in H.props?H.props[s]:(K=H.type.defaultProps)===null||K===void 0?void 0:K[s],pe="hide"in H.props?H.props.hide:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return Q===_&&(T||!pe)}),S,a,f);W&&(P=W)}x&&(C==="number"||k!=="auto")&&(I=$h(z,S,"category"))}else x?P=S1(0,B):l&&l[_]&&l[_].hasStack&&C==="number"?P=h==="expand"?[0,1]:fU(l[_].stackGroups,c,d):P=sU(z,i.filter(function(H){var K=s in H.props?H.props[s]:H.type.defaultProps[s],ne="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return K===_&&(T||!ne)}),C,f,!0);if(C==="number")P=JA(p,P,_,a,E),V&&(P=hA(V,P,F));else if(C==="category"&&V){var G=V,U=P.every(function(H){return G.indexOf(H)>=0});U&&(P=G)}}return Ee(Ee({},m),{},yt({},_,Ee(Ee({},v),{},{axisType:a,domain:P,categoricalDomain:I,duplicateDomain:D,originalDomain:(b=v.domain)!==null&&b!==void 0?b:N,isCategorical:x,layout:f})))},{})},qve=function(t,r){var o=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,p=t.children,h=nv(t.data,{graphicalItems:o,dataStartIndex:c,dataEndIndex:d}),x=h.length,m=lU(f,a),y=-1;return o.reduce(function(b,v){var C=v.type.defaultProps!==void 0?Ee(Ee({},v.type.defaultProps),v.props):v.props,S=C[s],F=Cq("number");if(!b[S]){y++;var w;return m?w=S1(0,x):l&&l[S]&&l[S].hasStack?(w=fU(l[S].stackGroups,c,d),w=JA(p,w,S,a)):(w=hA(F,sU(h,o.filter(function(k){var E,T,_=s in k.props?k.props[s]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[s],z="hide"in k.props?k.props.hide:(T=k.type.defaultProps)===null||T===void 0?void 0:T.hide;return _===S&&!z}),"number",f),i.defaultProps.allowDataOverflow),w=JA(p,w,S,a)),Ee(Ee({},b),{},yt({},S,Ee(Ee({axisType:a},i.defaultProps),{},{hide:!0,orientation:li(Nve,"".concat(a,".").concat(y%2),null),domain:w,originalDomain:F,isCategorical:m,layout:f})))}return b},{})},Hve=function(t,r){var o=r.axisType,i=o===void 0?"xAxis":o,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.children,p="".concat(i,"Id"),h=ci(f,a),x={};return h&&h.length?x=Uve(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):s&&s.length&&(x=qve(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},Gve=function(t){var r=Jl(t),o=Hs(r,!1,!0);return{tooltipTicks:o,orderedTooltipTicks:H8(o,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:l1(r,o)}},nD=function(t){var r=t.children,o=t.defaultShowTooltip,i=ei(r,Ap),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!o}},Kve=function(t){return!t||!t.length?!1:t.some(function(r){var o=Xs(r&&r.type);return o&&o.indexOf("Bar")>=0})},oD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Yve=function(t,r){var o=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=o.width,f=o.height,p=o.children,h=o.margin||{},x=ei(p,Ap),m=ei(p,sc),y=Object.keys(c).reduce(function(w,k){var E=c[k],T=E.orientation;return!E.mirror&&!E.hide?Ee(Ee({},w),{},yt({},T,w[T]+E.width)):w},{left:h.left||0,right:h.right||0}),b=Object.keys(s).reduce(function(w,k){var E=s[k],T=E.orientation;return!E.mirror&&!E.hide?Ee(Ee({},w),{},yt({},T,li(w,"".concat(T))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=Ee(Ee({},b),y),C=v.bottom;x&&(v.bottom+=x.props.height||Ap.defaultProps.height),m&&r&&(v=fhe(v,i,o,r));var S=d-v.left-v.right,F=f-v.top-v.bottom;return Ee(Ee({brushBottom:C},v),{},{width:Math.max(S,0),height:Math.max(F,0)})},Xve=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},__=function(t){var r=t.chartName,o=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,d=t.legendContent,f=t.formatAxisMap,p=t.defaultProps,h=function(v,C){var S=C.graphicalItems,F=C.stackGroups,w=C.offset,k=C.updateId,E=C.dataStartIndex,T=C.dataEndIndex,_=v.barSize,z=v.layout,B=v.barGap,P=v.barCategoryGap,D=v.maxBarSize,I=oD(z),N=I.numericAxisName,M=I.cateAxisName,V=Kve(S),L=[];return S.forEach(function(W,G){var U=nv(v.data,{graphicalItems:[W],dataStartIndex:E,dataEndIndex:T}),H=W.type.defaultProps!==void 0?Ee(Ee({},W.type.defaultProps),W.props):W.props,K=H.dataKey,ne=H.maxBarSize,Q=H["".concat(N,"Id")],pe=H["".concat(M,"Id")],X={},se=c.reduce(function(Pt,jt){var zt=C["".concat(jt.axisType,"Map")],fr=H["".concat(jt.axisType,"Id")];zt&&zt[fr]||jt.axisType==="zAxis"||Fd();var Bt=zt[fr];return Ee(Ee({},Pt),{},yt(yt({},jt.axisType,Bt),"".concat(jt.axisType,"Ticks"),Hs(Bt)))},X),ae=se[M],ye=se["".concat(M,"Ticks")],ie=F&&F[Q]&&F[Q].hasStack&&Ehe(W,F[Q].stackGroups),re=Xs(W.type).indexOf("Bar")>=0,Se=l1(ae,ye),Ae=[],te=V&&uhe({barSize:_,stackGroups:F,totalSize:Xve(se,M)});if(re){var he,Te,rt=Tt(ne)?D:ne,it=(he=(Te=l1(ae,ye,!0))!==null&&Te!==void 0?Te:rt)!==null&&he!==void 0?he:0;Ae=phe({barGap:B,barCategoryGap:P,bandSize:it!==Se?it:Se,sizeList:te[pe],maxBarSize:rt}),it!==Se&&(Ae=Ae.map(function(Pt){return Ee(Ee({},Pt),{},{position:Ee(Ee({},Pt.position),{},{offset:Pt.position.offset-it/2})})}))}var kt=W&&W.type&&W.type.getComposedData;kt&&L.push({props:Ee(Ee({},kt(Ee(Ee({},se),{},{displayedData:U,props:v,dataKey:K,item:W,bandSize:Se,barPosition:Ae,offset:w,stackedData:ie,layout:z,dataStartIndex:E,dataEndIndex:T}))),{},yt(yt(yt({key:W.key||"item-".concat(G)},N,se[N]),M,se[M]),"animationId",k)),childIndex:dae(W,v.children),item:W})}),L},x=function(v,C){var S=v.props,F=v.dataStartIndex,w=v.dataEndIndex,k=v.updateId;if(!mT({props:S}))return null;var E=S.children,T=S.layout,_=S.stackOffset,z=S.data,B=S.reverseStackOrder,P=oD(T),D=P.numericAxisName,I=P.cateAxisName,N=ci(E,o),M=She(z,N,"".concat(D,"Id"),"".concat(I,"Id"),_,B),V=c.reduce(function(H,K){var ne="".concat(K.axisType,"Map");return Ee(Ee({},H),{},yt({},ne,Hve(S,Ee(Ee({},K),{},{graphicalItems:N,stackGroups:K.axisType===D&&M,dataStartIndex:F,dataEndIndex:w}))))},{}),L=Yve(Ee(Ee({},V),{},{props:S,graphicalItems:N}),C==null?void 0:C.legendBBox);Object.keys(V).forEach(function(H){V[H]=f(S,V[H],L,H.replace("Map",""),r)});var W=V["".concat(I,"Map")],G=Gve(W),U=h(S,Ee(Ee({},V),{},{dataStartIndex:F,dataEndIndex:w,updateId:k,graphicalItems:N,stackGroups:M,offset:L}));return Ee(Ee({formattedGraphicalItems:U,graphicalItems:N,offset:L,stackGroups:M},G),V)},m=(function(b){function v(C){var S,F,w;return _ve(this,v),w=Pve(this,v,[C]),yt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yt(w,"accessibilityManager",new gve),yt(w,"handleLegendBBoxUpdate",function(k){if(k){var E=w.state,T=E.dataStartIndex,_=E.dataEndIndex,z=E.updateId;w.setState(Ee({legendBBox:k},x({props:w.props,dataStartIndex:T,dataEndIndex:_,updateId:z},Ee(Ee({},w.state),{},{legendBBox:k}))))}}),yt(w,"handleReceiveSyncEvent",function(k,E,T){if(w.props.syncId===k){if(T===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),yt(w,"handleBrushChange",function(k){var E=k.startIndex,T=k.endIndex;if(E!==w.state.dataStartIndex||T!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return Ee({dataStartIndex:E,dataEndIndex:T},x({props:w.props,dataStartIndex:E,dataEndIndex:T,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),yt(w,"handleMouseEnter",function(k){var E=w.getMouseInfo(k);if(E){var T=Ee(Ee({},E),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var _=w.props.onMouseEnter;wt(_)&&_(T,k)}}),yt(w,"triggeredAfterMouseMove",function(k){var E=w.getMouseInfo(k),T=E?Ee(Ee({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(T),w.triggerSyncEvent(T);var _=w.props.onMouseMove;wt(_)&&_(T,k)}),yt(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),yt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),yt(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),yt(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var T=w.props.onMouseLeave;wt(T)&&T(E,k)}),yt(w,"handleOuterEvent",function(k){var E=cae(k),T=li(w.props,"".concat(E));if(E&&wt(T)){var _,z;/.*touch.*/i.test(E)?z=w.getMouseInfo(k.changedTouches[0]):z=w.getMouseInfo(k),T((_=z)!==null&&_!==void 0?_:{},k)}}),yt(w,"handleClick",function(k){var E=w.getMouseInfo(k);if(E){var T=Ee(Ee({},E),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var _=w.props.onClick;wt(_)&&_(T,k)}}),yt(w,"handleMouseDown",function(k){var E=w.props.onMouseDown;if(wt(E)){var T=w.getMouseInfo(k);E(T,k)}}),yt(w,"handleMouseUp",function(k){var E=w.props.onMouseUp;if(wt(E)){var T=w.getMouseInfo(k);E(T,k)}}),yt(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),yt(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),yt(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),yt(w,"handleDoubleClick",function(k){var E=w.props.onDoubleClick;if(wt(E)){var T=w.getMouseInfo(k);E(T,k)}}),yt(w,"handleContextMenu",function(k){var E=w.props.onContextMenu;if(wt(E)){var T=w.getMouseInfo(k);E(T,k)}}),yt(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&RC.emit(TC,w.props.syncId,k,w.eventEmitterSymbol)}),yt(w,"applySyncEvent",function(k){var E=w.props,T=E.layout,_=E.syncMethod,z=w.state.updateId,B=k.dataStartIndex,P=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(Ee({dataStartIndex:B,dataEndIndex:P},x({props:w.props,dataStartIndex:B,dataEndIndex:P,updateId:z},w.state)));else if(k.activeTooltipIndex!==void 0){var D=k.chartX,I=k.chartY,N=k.activeTooltipIndex,M=w.state,V=M.offset,L=M.tooltipTicks;if(!V)return;if(typeof _=="function")N=_(L,k);else if(_==="value"){N=-1;for(var W=0;W<L.length;W++)if(L[W].value===k.activeLabel){N=W;break}}var G=Ee(Ee({},V),{},{x:V.left,y:V.top}),U=Math.min(D,G.x+G.width),H=Math.min(I,G.y+G.height),K=L[N]&&L[N].value,ne=e5(w.state,w.props.data,N),Q=L[N]?{x:T==="horizontal"?L[N].coordinate:U,y:T==="horizontal"?H:L[N].coordinate}:Eq;w.setState(Ee(Ee({},k),{},{activeLabel:K,activeCoordinate:Q,activePayload:ne,activeTooltipIndex:N}))}else w.setState(k)}),yt(w,"renderCursor",function(k){var E,T=w.state,_=T.isTooltipActive,z=T.activeCoordinate,B=T.activePayload,P=T.offset,D=T.activeTooltipIndex,I=T.tooltipAxisBandSize,N=w.getTooltipEventType(),M=(E=k.props.active)!==null&&E!==void 0?E:_,V=w.props.layout,L=k.key||"_recharts-cursor";return Y.createElement(Sve,{key:L,activeCoordinate:z,activePayload:B,activeTooltipIndex:D,chartName:r,element:k,isActive:M,layout:V,offset:P,tooltipAxisBandSize:I,tooltipEventType:N})}),yt(w,"renderPolarAxis",function(k,E,T){var _=li(k,"type.axisType"),z=li(w.state,"".concat(_,"Map")),B=k.type.defaultProps,P=B!==void 0?Ee(Ee({},B),k.props):k.props,D=z&&z[P["".concat(_,"Id")]];return A.cloneElement(k,Ee(Ee({},D),{},{className:It(_,D.className),key:k.key||"".concat(E,"-").concat(T),ticks:Hs(D,!0)}))}),yt(w,"renderPolarGrid",function(k){var E=k.props,T=E.radialLines,_=E.polarAngles,z=E.polarRadius,B=w.state,P=B.radiusAxisMap,D=B.angleAxisMap,I=Jl(P),N=Jl(D),M=N.cx,V=N.cy,L=N.innerRadius,W=N.outerRadius;return A.cloneElement(k,{polarAngles:Array.isArray(_)?_:Hs(N,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(z)?z:Hs(I,!0).map(function(G){return G.coordinate}),cx:M,cy:V,innerRadius:L,outerRadius:W,key:k.key||"polar-grid",radialLines:T})}),yt(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,E=w.props,T=E.children,_=E.width,z=E.height,B=w.props.margin||{},P=_-(B.left||0)-(B.right||0),D=iU({children:T,formattedGraphicalItems:k,legendWidth:P,legendContent:d});if(!D)return null;var I=D.item,N=eD(D,wve);return A.cloneElement(I,Ee(Ee({},N),{},{chartWidth:_,chartHeight:z,margin:B,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),yt(w,"renderTooltip",function(){var k,E=w.props,T=E.children,_=E.accessibilityLayer,z=ei(T,Bn);if(!z)return null;var B=w.state,P=B.isTooltipActive,D=B.activeCoordinate,I=B.activePayload,N=B.activeLabel,M=B.offset,V=(k=z.props.active)!==null&&k!==void 0?k:P;return A.cloneElement(z,{viewBox:Ee(Ee({},M),{},{x:M.left,y:M.top}),active:V,label:N,payload:V?I:[],coordinate:D,accessibilityLayer:_})}),yt(w,"renderBrush",function(k){var E=w.props,T=E.margin,_=E.data,z=w.state,B=z.offset,P=z.dataStartIndex,D=z.dataEndIndex,I=z.updateId;return A.cloneElement(k,{key:k.key||"_recharts-brush",onChange:a0(w.handleBrushChange,k.props.onChange),data:_,x:Me(k.props.x)?k.props.x:B.left,y:Me(k.props.y)?k.props.y:B.top+B.height+B.brushBottom-(T.bottom||0),width:Me(k.props.width)?k.props.width:B.width,startIndex:P,endIndex:D,updateId:"brush-".concat(I)})}),yt(w,"renderReferenceElement",function(k,E,T){if(!k)return null;var _=w,z=_.clipPathId,B=w.state,P=B.xAxisMap,D=B.yAxisMap,I=B.offset,N=k.type.defaultProps||{},M=k.props,V=M.xAxisId,L=V===void 0?N.xAxisId:V,W=M.yAxisId,G=W===void 0?N.yAxisId:W;return A.cloneElement(k,{key:k.key||"".concat(E,"-").concat(T),xAxis:P[L],yAxis:D[G],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:z})}),yt(w,"renderActivePoints",function(k){var E=k.item,T=k.activePoint,_=k.basePoint,z=k.childIndex,B=k.isRange,P=[],D=E.props.key,I=E.item.type.defaultProps!==void 0?Ee(Ee({},E.item.type.defaultProps),E.item.props):E.item.props,N=I.activeDot,M=I.dataKey,V=Ee(Ee({index:z,dataKey:M,cx:T.x,cy:T.y,r:4,fill:y_(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},xt(N,!1)),Dy(N));return P.push(v.renderActiveDot(N,V,"".concat(D,"-activePoint-").concat(z))),_?P.push(v.renderActiveDot(N,Ee(Ee({},V),{},{cx:_.x,cy:_.y}),"".concat(D,"-basePoint-").concat(z))):B&&P.push(null),P}),yt(w,"renderGraphicChild",function(k,E,T){var _=w.filterFormatItem(k,E,T);if(!_)return null;var z=w.getTooltipEventType(),B=w.state,P=B.isTooltipActive,D=B.tooltipAxis,I=B.activeTooltipIndex,N=B.activeLabel,M=w.props.children,V=ei(M,Bn),L=_.props,W=L.points,G=L.isRange,U=L.baseLine,H=_.item.type.defaultProps!==void 0?Ee(Ee({},_.item.type.defaultProps),_.item.props):_.item.props,K=H.activeDot,ne=H.hide,Q=H.activeBar,pe=H.activeShape,X=!!(!ne&&P&&V&&(K||Q||pe)),se={};z!=="axis"&&V&&V.props.trigger==="click"?se={onClick:a0(w.handleItemMouseEnter,k.props.onClick)}:z!=="axis"&&(se={onMouseLeave:a0(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:a0(w.handleItemMouseEnter,k.props.onMouseEnter)});var ae=A.cloneElement(k,Ee(Ee({},_.props),se));function ye(jt){return typeof D.dataKey=="function"?D.dataKey(jt.payload):null}if(X)if(I>=0){var ie,re;if(D.dataKey&&!D.allowDuplicatedCategory){var Se=typeof D.dataKey=="function"?ye:"payload.".concat(D.dataKey.toString());ie=Oy(W,Se,N),re=G&&U&&Oy(U,Se,N)}else ie=W==null?void 0:W[I],re=G&&U&&U[I];if(pe||Q){var Ae=k.props.activeIndex!==void 0?k.props.activeIndex:I;return[A.cloneElement(k,Ee(Ee(Ee({},_.props),se),{},{activeIndex:Ae})),null,null]}if(!Tt(ie))return[ae].concat(Mp(w.renderActivePoints({item:_,activePoint:ie,basePoint:re,childIndex:I,isRange:G})))}else{var te,he=(te=w.getItemByXY(w.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:ae},Te=he.graphicalItem,rt=Te.item,it=rt===void 0?k:rt,kt=Te.childIndex,Pt=Ee(Ee(Ee({},_.props),se),{},{activeIndex:kt});return[A.cloneElement(it,Pt),null,null]}return G?[ae,null,null]:[ae,null]}),yt(w,"renderCustomized",function(k,E,T){return A.cloneElement(k,Ee(Ee({key:"recharts-customized-".concat(T)},w.props),w.state))}),yt(w,"renderMap",{CartesianGrid:{handler:u0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:u0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:u0},YAxis:{handler:u0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((S=C.id)!==null&&S!==void 0?S:Zp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=rV(w.triggeredAfterMouseMove,(F=C.throttleDelay)!==null&&F!==void 0?F:1e3/60),w.state={},w}return Ive(v,b),Tve(v,[{key:"componentDidMount",value:function(){var S,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,F=S.children,w=S.data,k=S.height,E=S.layout,T=ei(F,Bn);if(T){var _=T.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,B=e5(this.state,w,_,z),P=this.state.tooltipTicks[_].coordinate,D=(this.state.offset.top+k)/2,I=E==="horizontal",N=I?{x:P,y:D}:{y:P,x:D},M=this.state.formattedGraphicalItems.find(function(L){var W=L.item;return W.type.name==="Scatter"});M&&(N=Ee(Ee({},N),M.props.points[_].tooltipPosition),B=M.props.points[_].tooltipPayload);var V={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:z,activePayload:B,activeCoordinate:N};this.setState(V),this.renderCursor(T),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){IF([ei(S.children,Bn)],[ei(this.props.children,Bn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ei(this.props.children,Bn);if(S&&typeof S.props.shared=="boolean"){var F=S.props.shared?"axis":"item";return l.indexOf(F)>=0?F:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var F=this.container,w=F.getBoundingClientRect(),k=Xce(w),E={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},T=w.width/F.offsetWidth||1,_=this.inRange(E.chartX,E.chartY,T);if(!_)return null;var z=this.state,B=z.xAxisMap,P=z.yAxisMap,D=this.getTooltipEventType(),I=rD(this.state,this.props.data,this.props.layout,_);if(D!=="axis"&&B&&P){var N=Jl(B).scale,M=Jl(P).scale,V=N&&N.invert?N.invert(E.chartX):null,L=M&&M.invert?M.invert(E.chartY):null;return Ee(Ee({},E),{},{xValue:V,yValue:L},I)}return I?Ee(Ee({},E),I):null}},{key:"inRange",value:function(S,F){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=S/w,T=F/w;if(k==="horizontal"||k==="vertical"){var _=this.state.offset,z=E>=_.left&&E<=_.left+_.width&&T>=_.top&&T<=_.top+_.height;return z?{x:E,y:T}:null}var B=this.state,P=B.angleAxisMap,D=B.radiusAxisMap;if(P&&D){var I=Jl(P);return sI({x:E,y:T},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,F=this.getTooltipEventType(),w=ei(S,Bn),k={};w&&F==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Dy(this.props,this.handleOuterEvent);return Ee(Ee({},E),k)}},{key:"addListener",value:function(){RC.on(TC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){RC.removeListener(TC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,F,w){for(var k=this.state.formattedGraphicalItems,E=0,T=k.length;E<T;E++){var _=k[E];if(_.item===S||_.props.key===S.key||F===Xs(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,F=this.state.offset,w=F.left,k=F.top,E=F.height,T=F.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:S},Y.createElement("rect",{x:w,y:k,height:E,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(F,w){var k=ZO(w,2),E=k[0],T=k[1];return Ee(Ee({},F),{},yt({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(F,w){var k=ZO(w,2),E=k[0],T=k[1];return Ee(Ee({},F),{},yt({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[S])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(S){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[S])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(S){var F=this.state,w=F.formattedGraphicalItems,k=F.activeItem;if(w&&w.length)for(var E=0,T=w.length;E<T;E++){var _=w[E],z=_.props,B=_.item,P=B.type.defaultProps!==void 0?Ee(Ee({},B.type.defaultProps),B.props):B.props,D=Xs(B.type);if(D==="Bar"){var I=(z.data||[]).find(function(L){return Eme(S,L)});if(I)return{graphicalItem:_,payload:I}}else if(D==="RadialBar"){var N=(z.data||[]).find(function(L){return sI(S,L)});if(N)return{graphicalItem:_,payload:N}}else if(Xb(_,k)||Jb(_,k)||Og(_,k)){var M=G0e({graphicalItem:_,activeTooltipItem:k,itemData:P.data}),V=P.activeIndex===void 0?M:P.activeIndex;return{graphicalItem:Ee(Ee({},_),{},{childIndex:V}),payload:Og(_,k)?P.data[M]:_.props.data[M]}}}return null}},{key:"render",value:function(){var S=this;if(!mT(this))return null;var F=this.props,w=F.children,k=F.className,E=F.width,T=F.height,_=F.style,z=F.compact,B=F.title,P=F.desc,D=eD(F,Eve),I=xt(D,!1);if(z)return Y.createElement(BO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(DF,Gu({},I,{width:E,height:T,title:B,desc:P}),this.renderClipPath(),bT(w,this.renderMap)));if(this.props.accessibilityLayer){var N,M;I.tabIndex=(N=this.props.tabIndex)!==null&&N!==void 0?N:0,I.role=(M=this.props.role)!==null&&M!==void 0?M:"application",I.onKeyDown=function(L){S.accessibilityManager.keyboardEvent(L)},I.onFocus=function(){S.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return Y.createElement(BO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",Gu({className:It("recharts-wrapper",k),style:Ee({position:"relative",cursor:"default",width:E,height:T},_)},V,{ref:function(W){S.container=W}}),Y.createElement(DF,Gu({},I,{width:E,height:T,title:B,desc:P,style:Lve}),this.renderClipPath(),bT(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(A.Component);yt(m,"displayName",r),yt(m,"defaultProps",Ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),yt(m,"getDerivedStateFromProps",function(b,v){var C=b.dataKey,S=b.data,F=b.children,w=b.width,k=b.height,E=b.layout,T=b.stackOffset,_=b.margin,z=v.dataStartIndex,B=v.dataEndIndex;if(v.updateId===void 0){var P=nD(b);return Ee(Ee(Ee({},P),{},{updateId:0},x(Ee(Ee({props:b},P),{},{updateId:0}),v)),{},{prevDataKey:C,prevData:S,prevWidth:w,prevHeight:k,prevLayout:E,prevStackOffset:T,prevMargin:_,prevChildren:F})}if(C!==v.prevDataKey||S!==v.prevData||w!==v.prevWidth||k!==v.prevHeight||E!==v.prevLayout||T!==v.prevStackOffset||!sp(_,v.prevMargin)){var D=nD(b),I={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},N=Ee(Ee({},rD(v,S,E)),{},{updateId:v.updateId+1}),M=Ee(Ee(Ee({},D),I),N);return Ee(Ee(Ee({},M),x(Ee({props:b},M),v)),{},{prevDataKey:C,prevData:S,prevWidth:w,prevHeight:k,prevLayout:E,prevStackOffset:T,prevMargin:_,prevChildren:F})}if(!IF(F,v.prevChildren)){var V,L,W,G,U=ei(F,Ap),H=U&&(V=(L=U.props)===null||L===void 0?void 0:L.startIndex)!==null&&V!==void 0?V:z,K=U&&(W=(G=U.props)===null||G===void 0?void 0:G.endIndex)!==null&&W!==void 0?W:B,ne=H!==z||K!==B,Q=!Tt(S),pe=Q&&!ne?v.updateId:v.updateId+1;return Ee(Ee({updateId:pe},x(Ee(Ee({props:b},v),{},{updateId:pe,dataStartIndex:H,dataEndIndex:K}),v)),{},{prevChildren:F,dataStartIndex:H,dataEndIndex:K})}return null}),yt(m,"renderActiveDot",function(b,v,C){var S;return A.isValidElement(b)?S=A.cloneElement(b,v):wt(b)?S=b(v):S=Y.createElement(qb,v),Y.createElement(er,{className:"recharts-active-dot",key:C},S)});var y=A.forwardRef(function(v,C){return Y.createElement(m,Gu({},v,{ref:C}))});return y.displayName=m.displayName,y},O1=__({chartName:"LineChart",GraphicalChild:oi,axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:Ta}],formatAxisMap:qU}),R_=__({chartName:"BarChart",GraphicalChild:ps,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:Ta}],formatAxisMap:qU}),T_=__({chartName:"PieChart",GraphicalChild:Ia,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yb},{axisType:"radiusAxis",AxisComp:Gb}],formatAxisMap:Bhe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const p0="#FF6835";function Jve({card:e}){return n.jsxs("button",{onClick:e.onClick,style:{background:"#fff",border:"1px solid #E9ECEF",borderRadius:"16px",padding:0,cursor:"pointer",textAlign:"left",transition:"all 0.2s",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},onMouseEnter:t=>{const r=t.currentTarget;r.style.transform="translateY(-3px)",r.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",r.style.borderColor=e.color},onMouseLeave:t=>{const r=t.currentTarget;r.style.transform="translateY(0)",r.style.boxShadow="0 2px 8px rgba(0,0,0,0.05)",r.style.borderColor="#E9ECEF"},children:[n.jsxs("div",{style:{background:e.gradient,padding:"22px 24px",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:"rgba(255,255,255,0.22)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(e.icon,{size:22,color:"#fff",strokeWidth:2})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"rgba(255,255,255,0.75)",textTransform:"uppercase",letterSpacing:"0.08em",fontWeight:"600"},children:e.badge}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"1.05rem",color:"#fff",fontWeight:"800"},children:e.label})]})]}),n.jsxs("div",{style:{padding:"18px 24px 20px"},children:[n.jsx("p",{style:{margin:"0 0 18px",fontSize:"0.84rem",color:"#6C757D",lineHeight:"1.5"},children:e.description}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",paddingTop:"14px",borderTop:"1px solid #F0F0F0"},children:e.stats.map((t,r)=>n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx(t.icon,{size:14,color:e.color,style:{marginBottom:"4px"}}),n.jsx("p",{style:{margin:0,fontSize:"0.95rem",fontWeight:"800",color:"#1A1A2E"},children:t.value}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"#ADB5BD"},children:t.label})]},r))}),n.jsx("div",{style:{marginTop:"16px",display:"flex",justifyContent:"flex-end",fontSize:"0.8rem",fontWeight:"700",color:e.color},children:"Abrir mdulo "})]})]})}function kq({cards:e}){return n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:e.map(t=>n.jsx(Jve,{card:t},t.id))})}function vc({hubIcon:e,title:t,subtitle:r,sections:o,intro:i,afterCards:a,quickLinks:s,comingSoon:l,comingSoonText:c,comingSoonIcon:d,hideSeleccionar:f=!1}){const p=d??e;return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{padding:"28px 32px 20px",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF",flexShrink:0},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:`linear-gradient(135deg, ${p0} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(e,{size:20,color:"#fff",strokeWidth:2.5})}),n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"1.4rem",fontWeight:"800",color:"#1A1A2E"},children:t}),n.jsx("p",{style:{margin:0,fontSize:"0.82rem",color:"#6C757D"},children:r})]})]})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"32px"},children:[o.map((h,x)=>n.jsx("div",{style:{marginBottom:x<o.length-1?"32px":"0"},children:n.jsx(kq,{cards:h.cards})},x)),a&&n.jsx("div",{style:{marginTop:"32px"},children:a}),s&&s.length>0&&n.jsxs("div",{style:{marginTop:"32px",padding:"18px 22px",backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E9ECEF"},children:[n.jsx("p",{style:{margin:"0 0 14px",fontSize:"0.75rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Accesos rpidos"}),n.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:s.map(h=>n.jsxs("button",{onClick:h.onClick,style:{display:"flex",alignItems:"center",gap:7,padding:"8px 14px",borderRadius:"9px",border:`1.5px solid ${h.color}30`,backgroundColor:`${h.color}08`,color:h.color,cursor:"pointer",fontSize:"0.78rem",fontWeight:"700",transition:"background 0.12s"},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=`${h.color}18`},onMouseLeave:x=>{x.currentTarget.style.backgroundColor=`${h.color}08`},children:[n.jsx(h.icon,{size:13}),h.label]},h.label))})]}),l&&l.length>0&&n.jsxs("div",{style:{marginTop:"32px",padding:"16px 20px",backgroundColor:"rgba(255,104,53,0.07)",borderRadius:"12px",border:"1px solid rgba(255,104,53,0.18)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:14},children:[n.jsx(p,{size:15,color:p0}),n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"700",color:p0},children:"Prximamente"})]}),c?n.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.78rem",color:"#6C757D",lineHeight:"1.5"},children:c}):null,n.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:l.map(h=>n.jsxs("div",{title:h.desc,style:{display:"flex",alignItems:"center",gap:7,padding:"7px 14px",borderRadius:"9px",backgroundColor:"rgba(255,255,255,0.7)",border:"1px solid rgba(255,104,53,0.2)",fontSize:"0.78rem",fontWeight:"600",color:"#6C757D"},children:[n.jsx(h.icon,{size:13,color:p0}),h.label]},h.label))})]})]})]})}const Pr="qhnmxvexkizcsmivfuam",jr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFobm14dmV4a2l6Y3NtaXZmdWFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyMjEyODEsImV4cCI6MjA4Njc5NzI4MX0.Ifz4fJYldIGZFzhBK5PPxQeqdYzO2ZKNQ5uo8j2mYmM",iD=`https://${Pr}.supabase.co/functions/v1/api/ideas`,aD={"Content-Type":"application/json",Authorization:`Bearer ${jr}`},Ci="#FF6835",Qve=["General","Logstica","Pagos","Tiendas","Redes Sociales","Servicios","eCommerce","Marketing","ERP","Sistema","Herramientas"];function Zve({onClose:e,onOpenBoard:t}){const[r,o]=A.useState("General"),[i,a]=A.useState(""),[s,l]=A.useState([]),[c,d]=A.useState([]),[f,p]=A.useState(!1),[h,x]=A.useState(!1);A.useEffect(()=>{d([]),(async()=>{try{const v=await fetch(`${iD}/ideas?area=${encodeURIComponent(r)}`,{headers:aD}),{ideas:C}=await v.json();l(C??[])}catch(v){console.error("[IdeaQuickModal] Error cargando ideas:",v)}})()},[r]);const m=v=>{d(C=>C.includes(v)?C.filter(S=>S!==v):[...C,v])},y=async()=>{if(i.trim()){p(!0);try{await fetch(`${iD}/ideas`,{method:"POST",headers:aD,body:JSON.stringify({area:r,text:i.trim(),relatedIds:c})}),x(!0),setTimeout(()=>{a(""),d([]),x(!1),p(!1)},1200)}catch(v){console.error("[IdeaQuickModal] Error guardando idea:",v),p(!1)}}},b=s.slice(0,5);return n.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9e3,display:"flex",alignItems:"flex-start",justifyContent:"flex-end",padding:"80px 24px 0 0",pointerEvents:"none"},children:[n.jsx("div",{style:{position:"fixed",inset:0,pointerEvents:"all"},onClick:e}),n.jsxs("div",{onClick:v=>v.stopPropagation(),style:{position:"relative",backgroundColor:"#FFFFFF",borderRadius:16,border:"1.5px solid #E5E7EB",boxShadow:"0 20px 60px rgba(0,0,0,0.18)",width:340,overflow:"hidden",pointerEvents:"all",animation:"slideDown 0.2s ease-out"},children:[n.jsxs("div",{style:{backgroundColor:Ci,padding:"13px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx(ba,{size:16,color:"#fff",strokeWidth:2.5}),n.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"0.9rem"},children:"Nueva Idea"})]}),n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsxs("button",{onClick:t,title:"Abrir Ideas Board completo",style:{background:"rgba(255,255,255,0.22)",border:"none",borderRadius:6,cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",padding:"4px 7px",gap:4,fontSize:"0.68rem",fontWeight:"700"},children:[n.jsx(gn,{size:12})," Board"]}),n.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",color:"rgba(255,255,255,0.85)",display:"flex",padding:4},children:n.jsx(Ut,{size:15})})]})]}),n.jsxs("div",{style:{padding:"14px 16px"},children:[n.jsxs("div",{style:{marginBottom:11},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:5},children:"rea"}),n.jsx("select",{value:r,onChange:v=>o(v.target.value),style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.82rem",outline:"none",color:"#111827",backgroundColor:"#F9FAFB",cursor:"pointer"},children:Qve.map(v=>n.jsx("option",{value:v,children:v},v))})]}),n.jsxs("div",{style:{marginBottom:12},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:5},children:"Idea"}),n.jsx("textarea",{value:i,onChange:v=>a(v.target.value),placeholder:"Qu se te ocurri?",rows:3,style:{width:"100%",padding:"8px 10px",border:`1.5px solid ${i?Ci+"99":"#E5E7EB"}`,borderRadius:8,fontSize:"0.82rem",resize:"none",outline:"none",fontFamily:"inherit",color:"#111827",boxSizing:"border-box",transition:"border-color 0.15s",backgroundColor:"#FAFAFA"},onFocus:v=>v.target.style.borderColor=Ci,onBlur:v=>v.target.style.borderColor=i?Ci+"99":"#E5E7EB",autoFocus:!0})]}),b.length>0&&n.jsxs("div",{style:{marginBottom:12},children:[n.jsxs("div",{style:{fontSize:"0.65rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:6,display:"flex",alignItems:"center",gap:5},children:[n.jsx(_F,{size:10}),"Recientes en ",r,"  click para relacionar"]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4},children:b.map(v=>{var S;const C=c.includes(v.id);return n.jsxs("button",{onClick:()=>m(v.id),style:{width:"100%",display:"flex",alignItems:"flex-start",gap:8,padding:"6px 9px",backgroundColor:C?`${Ci}12`:"#F9FAFB",border:`1px solid ${C?Ci+"66":"#E5E7EB"}`,borderRadius:7,cursor:"pointer",textAlign:"left",transition:"all 0.15s"},children:[n.jsx("div",{style:{width:14,height:14,borderRadius:4,border:`2px solid ${C?Ci:"#D1D5DB"}`,backgroundColor:C?Ci:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:1,transition:"all 0.12s"},children:C&&n.jsx(rn,{size:9,color:"#fff",strokeWidth:3})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#374151",lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:v.text}),n.jsxs("p",{style:{margin:"1px 0 0",fontSize:"0.6rem",color:"#9CA3AF"},children:[new Date(v.timestamp).toLocaleString("es-UY",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),((S=v.relatedIds)==null?void 0:S.length)>0&&n.jsxs("span",{style:{marginLeft:6,color:Ci},children:[" ",v.relatedIds.length," relacionada",v.relatedIds.length>1?"s":""]})]})]})]},v.id)})})]}),c.length>0&&n.jsxs("div",{style:{marginBottom:10,padding:"5px 9px",backgroundColor:`${Ci}0D`,borderRadius:7,fontSize:"0.7rem",color:Ci,fontWeight:"600"},children:[n.jsx(_F,{size:11,style:{display:"inline",marginRight:5,verticalAlign:"middle"}}),c.length," idea",c.length>1?"s":""," relacionada",c.length>1?"s":""]}),n.jsx("button",{disabled:!i.trim()||f,onClick:y,style:{width:"100%",padding:"10px",backgroundColor:h?"#10B981":i.trim()?Ci:"#E5E7EB",color:i.trim()||h?"#fff":"#9CA3AF",border:"none",borderRadius:8,fontSize:"0.85rem",fontWeight:"700",cursor:i.trim()&&!f?"pointer":"not-allowed",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:h?n.jsxs(n.Fragment,{children:[n.jsx(rn,{size:15,strokeWidth:3})," Guardada "]}):f?"Guardando":n.jsxs(n.Fragment,{children:[n.jsx(ba,{size:14})," Guardar idea"]})})]}),n.jsx("style",{children:`
          @keyframes slideDown {
            from { opacity: 0; transform: translateY(-12px); }
            to   { opacity: 1; transform: translateY(0); }
          }
        `})]})]})}function Fq({size:e=17,style:t}){const[r,o]=A.useState(null);return A.useEffect(()=>{const i=async()=>{try{const s=await fetch(`https://${za}.supabase.co/functions/v1/api/roadmap/modules`,{method:"GET",headers:{Authorization:`Bearer ${Ca}`,"Content-Type":"application/json"},signal:AbortSignal.timeout(3e3)});o(s.ok)}catch{o(!1)}};i();const a=setInterval(i,3e4);return()=>clearInterval(a)},[]),r===null?n.jsx("div",{style:{width:e+4,height:e+4,borderRadius:"50%",border:"2px solid #9CA3AF40",backgroundColor:"#9CA3AF08",display:"flex",alignItems:"center",justifyContent:"center",...t},title:"Verificando conexin...",children:n.jsx(pt,{size:e,color:"#9CA3AF",strokeWidth:2.2})}):r?n.jsx("div",{style:{width:e+4,height:e+4,borderRadius:"50%",border:"2px solid #10B981",backgroundColor:"#10B98115",display:"flex",alignItems:"center",justifyContent:"center",...t},title:"Conectado al backend",children:n.jsx(pt,{size:e,color:"#10B981",strokeWidth:2.2,fill:"#10B981"})}):n.jsx("div",{style:{width:e+4,height:e+4,borderRadius:"50%",border:"2px solid #EF444440",backgroundColor:"#EF444408",display:"flex",alignItems:"center",justifyContent:"center",...t},title:"Sin conexin al backend",children:n.jsx(pt,{size:e,color:"#EF4444",strokeWidth:2.2})})}const Jo="#FF6835",f0=[Jo,"#1F2937","#6B7280","#9CA3AF"];function eje({onNavigate:e}){const[t,r]=A.useState("7d"),[o,i]=A.useState(!1),a=h=>()=>e(h),s=[{label:"Ventas del Da",value:"$48,532",change:"+12.5%",up:!0,icon:""},{label:"Pedidos Activos",value:"127",change:"+8.2%",up:!0,icon:""},{label:"Clientes Nuevos",value:"34",change:"-3.1%",up:!1,icon:""},{label:"Tasa de Conversin",value:"3.24%",change:"+0.8%",up:!0,icon:""}],l=[{mes:"Ene",ventas:45e3,pedidos:234},{mes:"Feb",ventas:52e3,pedidos:267},{mes:"Mar",ventas:48e3,pedidos:251},{mes:"Abr",ventas:61e3,pedidos:312},{mes:"May",ventas:55e3,pedidos:289},{mes:"Jun",ventas:67e3,pedidos:334},{mes:"Jul",ventas:72e3,pedidos:378}],c=[{name:"Producto A",sales:4500,pct:35},{name:"Producto B",sales:3200,pct:25},{name:"Producto C",sales:2800,pct:22},{name:"Producto D",sales:1500,pct:12},{name:"Otros",sales:800,pct:6}],d=[{name:"Electrnica",value:4200},{name:"Ropa",value:3100},{name:"Hogar",value:2400},{name:"Deportes",value:1800}],f=[{icon:"",text:"Nuevo pedido #8834  Juan Prez",time:"Hace 2 min"},{icon:"",text:"Pago recibido $2,340",time:"Hace 5 min"},{icon:"",text:"Nuevo cliente registrado",time:"Hace 12 min"},{icon:"",text:"Alerta: Stock bajo en Producto X",time:"Hace 18 min"},{icon:"",text:"Pedido #8833 enviado",time:"Hace 25 min"}],p=[{id:"ecommerce",icon:ir,onClick:a("ecommerce"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Comercial",label:"eCommerce",description:"Pedidos, pagos, catlogo, clientes, envos y storefront multi-pas.",stats:[{icon:ir,value:"127",label:"Pedidos activos"},{icon:yn,value:"$48k",label:"Ventas hoy"},{icon:Xt,value:"+12%",label:"Crecimiento"}]},{id:"marketing",icon:In,onClick:a("marketing"),gradient:"linear-gradient(135deg, #E1306C 0%, #833AB4 100%)",color:"#E1306C",badge:"Marketing",label:"Marketing",description:"Campaas, email, RRSS, rueda de sorteos y programa de fidelizacin.",stats:[{icon:Et,value:"",label:"Suscriptores"},{icon:Xt,value:"",label:"CTR"},{icon:In,value:"",label:"Campaas"}]},{id:"gestion",icon:hr,onClick:a("gestion"),gradient:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"#3B82F6",badge:"ERP  CRM",label:"Gestin",description:"ERP completo: inventario, facturacin, compras, RRHH, CRM y proyectos.",stats:[{icon:Rt,value:"",label:"Productos"},{icon:Et,value:"",label:"Clientes"},{icon:br,value:"",label:"Facturas"}]},{id:"logistica",icon:At,onClick:a("logistica"),gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#10B981",badge:"Logstica",label:"Logstica",description:"Envos, rutas, transportistas, fulfillment, produccin y abastecimiento.",stats:[{icon:At,value:"",label:"Envos activos"},{icon:ag,value:"",label:"Rutas"},{icon:Rt,value:"",label:"OA pendientes"}]},{id:"herramientas",icon:un,onClick:a("herramientas"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:"Herramientas",label:"Suite de Herramientas",description:"6 workspaces + 3 herramientas rpidas. Editor, OCR, QR, docs y ms.",stats:[{icon:Ao,value:"6",label:"Workspaces"},{icon:un,value:"3",label:"Herramientas"},{icon:_a,value:"100%",label:"Browser"}]},{id:"integraciones",icon:va,onClick:a("integraciones"),gradient:"linear-gradient(135deg, #14B8A6 0%, #0F766E 100%)",color:"#14B8A6",badge:"Integraciones",label:"Integraciones",description:"Pagos, logstica, tiendas, RRSS, servicios y repositorio de APIs.",stats:[{icon:va,value:"6",label:"Mdulos"},{icon:_a,value:"1",label:"Conectadas"},{icon:si,value:"65",label:"Disponibles"}]}];return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{padding:"22px 32px 18px",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF",flexShrink:0},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:`linear-gradient(135deg, ${Jo} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xx,{size:20,color:"#fff",strokeWidth:2.5})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("h1",{style:{margin:0,fontSize:"1.4rem",fontWeight:"800",color:"#1A1A2E"},children:"Dashboard"}),n.jsx("p",{style:{margin:0,fontSize:"0.82rem",color:"#6C757D"},children:"Charlie Marketplace Builder v1.5  Sistema de Gestin Enterprise"})]}),n.jsx("button",{onClick:()=>i(!0),title:"Nueva Idea",style:{width:38,height:38,borderRadius:"50%",border:`2px solid ${Jo}40`,backgroundColor:o?`${Jo}15`:`${Jo}08`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.15s",flexShrink:0},onMouseEnter:h=>h.currentTarget.style.backgroundColor=`${Jo}20`,onMouseLeave:h=>h.currentTarget.style.backgroundColor=o?`${Jo}15`:`${Jo}08`,children:n.jsx(ba,{size:17,color:Jo,strokeWidth:2.2})}),n.jsx("button",{onClick:()=>e("google-maps-test"),title:"Prueba Google Maps",style:{width:38,height:38,borderRadius:"50%",border:"2px solid #10B98140",backgroundColor:"#10B98108",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.15s",flexShrink:0},onMouseEnter:h=>h.currentTarget.style.backgroundColor="#10B98120",onMouseLeave:h=>h.currentTarget.style.backgroundColor="#10B98108",children:n.jsx(Dn,{size:17,color:"#10B981",strokeWidth:2.2})}),n.jsx(Fq,{size:17})]})}),o&&n.jsx(Zve,{onClose:()=>i(!1),onOpenBoard:()=>{i(!1),e("ideas-board")}}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:s.map((h,x)=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{fontSize:"1.75rem"},children:h.icon}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:h.up?"#10B981":"#EF4444",backgroundColor:h.up?"#D1FAE5":"#FEE2E2",padding:"3px 9px",borderRadius:"6px"},children:h.change})]}),n.jsx("p",{style:{color:"#6B7280",fontSize:"0.78rem",margin:"0 0 4px"},children:h.label}),n.jsx("p",{style:{color:"#111827",fontSize:"1.75rem",fontWeight:"800",margin:0,lineHeight:1},children:h.value})]},x))}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"700",color:"#111827"},children:"Ventas Mensuales"}),n.jsxs("select",{value:t,onChange:h=>r(h.target.value),style:{padding:"6px 10px",borderRadius:"8px",border:"1px solid #E5E7EB",fontSize:"0.78rem",outline:"none"},children:[n.jsx("option",{value:"7d",children:"7 das"}),n.jsx("option",{value:"30d",children:"30 das"}),n.jsx("option",{value:"90d",children:"90 das"})]})]}),n.jsx(os,{width:"100%",height:230,children:n.jsxs(O1,{data:l,children:[n.jsx(uc,{strokeDasharray:"3 3",stroke:"#F3F4F6"}),n.jsx(Ra,{dataKey:"mes",stroke:"#9CA3AF",style:{fontSize:"0.72rem"}}),n.jsx(Ta,{stroke:"#9CA3AF",style:{fontSize:"0.72rem"}}),n.jsx(Bn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.78rem"}}),n.jsx(oi,{type:"monotone",dataKey:"ventas",stroke:Jo,strokeWidth:3,dot:{fill:Jo,r:4}})]})})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"1rem",fontWeight:"700",color:"#111827"},children:"Pedidos por Mes"}),n.jsx(os,{width:"100%",height:230,children:n.jsxs(R_,{data:l,children:[n.jsx(uc,{strokeDasharray:"3 3",stroke:"#F3F4F6"}),n.jsx(Ra,{dataKey:"mes",stroke:"#9CA3AF",style:{fontSize:"0.72rem"}}),n.jsx(Ta,{stroke:"#9CA3AF",style:{fontSize:"0.72rem"}}),n.jsx(Bn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.78rem"}}),n.jsx(ps,{dataKey:"pedidos",fill:Jo,radius:[6,6,0,0]})]})})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"32px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"1rem",fontWeight:"700",color:"#111827"},children:"Productos Top"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:c.map((h,x)=>n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{style:{fontSize:"0.8rem",color:"#374151",fontWeight:"600"},children:h.name}),n.jsxs("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:["$",h.sales.toLocaleString()]})]}),n.jsx("div",{style:{height:"6px",backgroundColor:"#F3F4F6",borderRadius:"3px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${h.pct}%`,height:"100%",backgroundColor:Jo,borderRadius:"3px"}})})]},x))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 8px",fontSize:"1rem",fontWeight:"700",color:"#111827"},children:"Por Categora"}),n.jsx(os,{width:"100%",height:150,children:n.jsxs(T_,{children:[n.jsx(Ia,{data:d,cx:"50%",cy:"50%",innerRadius:38,outerRadius:62,paddingAngle:5,dataKey:"value",children:d.map((h,x)=>n.jsx(tf,{fill:f0[x%f0.length]},x))}),n.jsx(Bn,{})]})}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginTop:"6px"},children:d.map((h,x)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"3px",backgroundColor:f0[x%f0.length]}}),n.jsx("span",{style:{fontSize:"0.75rem",color:"#6B7280"},children:h.name})]}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#111827",fontWeight:"700"},children:["$",h.value.toLocaleString()]})]},x))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"1rem",fontWeight:"700",color:"#111827"},children:"Actividad Reciente"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:f.map((h,x)=>n.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[n.jsx("span",{style:{fontSize:"1.05rem",flexShrink:0},children:h.icon}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.78rem",color:"#374151"},children:h.text}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"#9CA3AF"},children:h.time})]})]},x))}),n.jsx("button",{style:{marginTop:"14px",width:"100%",padding:"8px",backgroundColor:"transparent",border:"1px solid #E5E7EB",borderRadius:"8px",color:"#6B7280",fontSize:"0.78rem",cursor:"pointer"},children:"Ver todas las actividades"})]})]}),n.jsxs("div",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.75rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Acceso rpido a mdulos"}),n.jsx("div",{style:{flex:1,height:1,backgroundColor:"#E9ECEF"}}),n.jsx("span",{style:{fontSize:"0.75rem",color:"#9CA3AF"},children:"6 mdulos"})]}),n.jsx("p",{style:{fontSize:"0.85rem",color:"#6C757D",margin:"6px 0 20px"},children:"Naveg directamente a cualquier seccin del sistema"}),n.jsx(kq,{cards:p})]})]})}function tje({onNavigate:e}){const t=a=>()=>e(a),r=[{id:"pedidos",icon:ir,onClick:t("pedidos"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Operaciones",label:"Pedidos",description:"rbol madre  hijos, flujo de estados, documentos y seguimiento integral de cada orden.",stats:[{icon:ir,value:"",label:"Total rdenes"},{icon:Ct,value:"",label:"Pendientes"},{icon:At,value:"",label:"En camino"}]},{id:"pagos",icon:yn,onClick:t("pagos"),gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#10B981",badge:"Finanzas",label:"Pagos & Transacciones",description:"Intentos de pago, estados, cobros, reembolsos y conciliacin vinculados al pedido.",stats:[{icon:yn,value:"",label:"Cobros"},{icon:_t,value:"",label:"Reembolsos"},{icon:Xt,value:"",label:"Tasa xito"}]},{id:"envios",icon:At,onClick:t("envios"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:"Logstica",label:"Seguimiento de Envos",description:"Despacho, trnsito y entrega. Tracking multi-tramo con acuse de recibo.",stats:[{icon:At,value:"",label:"Activos"},{icon:ft,value:"",label:"Entregados"},{icon:Jt,value:"",label:"Devoluciones"}]},{id:"erp-inventario",icon:Rt,onClick:t("erp-inventario"),gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"#F59E0B",badge:"Catlogo",label:"Catlogo de Artculos",description:"Gestin de productos, stock, lotes, variantes y movimientos de inventario en tiempo real.",stats:[{icon:xb,value:"",label:"Productos"},{icon:Ys,value:"",label:"Sin stock"},{icon:br,value:"",label:"Categoras"}]},{id:"departamentos",icon:ng,onClick:t("departamentos"),gradient:"linear-gradient(135deg, #0EA5E9 0%, #0369A1 100%)",color:"#0EA5E9",badge:"Estructura",label:"Departamentos y Categoras",description:"rbol jerrquico de departamentos, categoras y subcategoras con iconos y SEO.",stats:[{icon:ng,value:"",label:"Deptos"},{icon:Ys,value:"",label:"Categoras"},{icon:ft,value:"",label:"Activos"}]},{id:"clientes",icon:cs,onClick:t("clientes"),gradient:"linear-gradient(135deg, #6366F1 0%, #4338CA 100%)",color:"#6366F1",badge:"Clientes",label:"Clientes",description:"Compradores con historial de pedidos, saldo, etiquetas y segmentacin por comportamiento.",stats:[{icon:Et,value:"",label:"Total"},{icon:Xt,value:"",label:"Activos"},{icon:cs,value:"",label:"Nuevos"}]},{id:"secondhand",icon:_t,onClick:t("secondhand"),gradient:"linear-gradient(135deg, #65A30D 0%, #4D7C0F 100%)",color:"#65A30D",badge:"Marketplace",label:"Segunda Mano",description:"Marketplace interno de artculos usados con publicaciones, moderacin y estadsticas.",stats:[{icon:Ys,value:"",label:"Publicaciones"},{icon:ft,value:"",label:"Activas"},{icon:ir,value:"",label:"Vendidos"}]}],o=[{label:"Mtodos de Pago",icon:mn,color:"#EC4899",onClick:t("metodos-pago")},{label:"Mtodos de Envo",icon:Dn,color:"#14B8A6",onClick:t("metodos-envio")},{label:"Facturacin",icon:br,color:"#3B82F6",onClick:t("erp-facturacion")},{label:"SEO",icon:Xt,color:"#8B5CF6",onClick:t("seo")}],i=[{icon:Xt,label:"Recomendaciones IA",desc:"Motor de recomendaciones personalizadas"},{icon:ir,label:"Carrito abandonado",desc:"Recuperacin automtica de carritos"},{icon:Py,label:"Upselling automtico",desc:"Ofertas en el checkout basadas en IA"},{icon:Et,label:"Fidelizacin nativa",desc:"Programa de puntos integrado"}];return n.jsx(vc,{hubIcon:ir,title:"eCommerce",subtitle:"Hub de operaciones comerciales  Multi-moneda  Multi-pas",sections:[{cards:r}],quickLinks:o,comingSoon:i,comingSoonText:"Motor de recomendaciones por IA, carrito abandonado, upselling automtico y programa de fidelizacin nativo."})}const P_=`https://${Pr}.supabase.co/functions/v1/api/marketing`,z_={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function af(e){try{return await(await fetch(`${P_}${e}`,{headers:z_})).json()}catch(t){return console.error(`Marketing API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function Fx(e,t){try{return await(await fetch(`${P_}${e}`,{method:"POST",headers:z_,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Marketing API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function Aq(e){try{return await(await fetch(`${P_}${e}`,{method:"DELETE",headers:z_})).json()}catch(t){return console.error(`Marketing API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function rje(){const e=await af("/campanas");return!e.ok||!e.data?[]:e.data}async function nje(e){const t=await Fx("/campanas",e);return!t.ok||!t.data?null:t.data}async function oje(e){return(await Aq(`/campanas/${e}`)).ok}async function _q(e){const t=e?`?estado=${e}`:"",r=await af(`/suscriptores${t}`);return!r.ok||!r.data?[]:r.data}async function ije(e){const t=await Fx("/suscriptores",e);return!t.ok||!t.data?null:t.data}async function aje(e){return(await Aq(`/suscriptores/${e}`)).ok}async function Rq(){const e=await af("/fidelizacion/miembros");return!e.ok||!e.data?[]:e.data}async function sD(e){const t=await af(`/fidelizacion/miembros/${e}`);return!t.ok||!t.data?null:t.data}async function sje(e,t,r,o){return(await Fx(`/fidelizacion/miembros/${e}/puntos`,{puntos:t,descripcion:r,referencia_id:o})).ok}async function lje(){const e=await af("/fidelizacion/niveles");return!e.ok||!e.data?[]:e.data}async function Tq(e){const t=e?`?estado=${e}`:"",r=await af(`/sorteos${t}`);return!r.ok||!r.data?[]:r.data}async function cje(e){const t=await Fx("/sorteos",e);return!t.ok||!t.data?null:t.data}async function dje(e){const t=await Fx(`/sorteos/${e}/girar`);return!t.ok||!t.data?null:t.data}function uje({onNavigate:e}){const t=l=>()=>e(l),[r,o]=A.useState({suscriptores:0,miembros:0,sorteos:0});A.useEffect(()=>{i()},[]);const i=async()=>{try{const[l,c,d]=await Promise.all([_q("activo"),Rq(),Tq("activo")]);o({suscriptores:l.length,miembros:c.length,sorteos:d.length})}catch(l){console.error("Error loading marketing stats:",l)}},a=[{id:"etiqueta-emotiva",icon:Ro,onClick:t("etiqueta-emotiva"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Emotivo  QR",label:"Etiqueta Emotiva ",description:"Mensajes personalizados con QR en cada envo. Prueba de entrega real y conexin emocional con el destinatario.",stats:[{icon:Ro,value:"",label:"QRs generados"},{icon:une,value:"",label:"Escaneos"},{icon:zd,value:"",label:"NPS promedio"}]},{id:"mailing",icon:ka,onClick:t("mailing"),gradient:"linear-gradient(135deg, #6366F1 0%, #4338CA 100%)",color:"#6366F1",badge:"Email Marketing",label:"Mailing & Email",description:"Campaas de email, suscriptores, segmentacin dinmica y A/B Testing con Resend.",stats:[{icon:Et,value:r.suscriptores.toString(),label:"Suscriptores"},{icon:br,value:"",label:"Apertura"},{icon:Aa,value:"",label:"Enviados"}]},{id:"google-ads",icon:Xt,onClick:t("google-ads"),gradient:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"#3B82F6",badge:"Publicidad",label:"Google Ads",description:"Gestin y anlisis de campaas publicitarias en Google. Mtricas, ROI y optimizacin en tiempo real.",stats:[{icon:In,value:"",label:"Campaas"},{icon:Xt,value:"",label:"CTR"},{icon:pt,value:"",label:"Inversin"}]},{id:"rueda-sorteos",icon:Fa,onClick:t("rueda-sorteos"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:"Gamificacin",label:"Rueda de Sorteos",description:"Sorteos interactivos con rueda animada, descuentos y engagement en tiempo real para campaas y eventos.",stats:[{icon:Fa,value:r.sorteos.toString(),label:"Sorteos"},{icon:Et,value:"",label:"Participantes"},{icon:oR,value:"",label:"Premios"}]},{id:"fidelizacion",icon:lg,onClick:t("fidelizacion"),gradient:"linear-gradient(135deg, #F59E0B 0%, #B45309 100%)",color:"#F59E0B",badge:"Loyalty",label:"Fidelizacin",description:"Programa de puntos y membresas Bronce / Plata / Oro / Platino. Recompensas automticas por compra.",stats:[{icon:Et,value:r.miembros.toString(),label:"Miembros"},{icon:hn,value:"",label:"Puntos activos"},{icon:oR,value:"",label:"Nivel Oro+"}]}],s=[{icon:Et,label:"CRM",desc:"Gestin de clientes y pipeline de ventas"},{icon:joe,label:"Cupones",desc:"Descuentos, promociones y cdigos especiales"},{icon:dc,label:"Pop-ups & Banners",desc:"Mensajes promocionales y captura de leads"},{icon:ore,label:"A/B Testing",desc:"Experimenta y optimiza conversiones"},{icon:In,label:"Campaas",desc:"Gestin de campaas multicanal unificadas"}];return n.jsx(vc,{hubIcon:In,title:"Marketing",subtitle:"Campaas, fidelizacin, redes sociales y herramientas de crecimiento",sections:[{cards:a}],comingSoon:s})}function pje({onNavigate:e}){const t=a=>()=>e(a),r=[{id:"editor-imagenes",icon:Ks,onClick:t("editor-imagenes"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Workspace  Editor",label:"Editor de Imgenes",description:"Filtros CSS en tiempo real, rotacin, flip, 8 presets y export PNG/JPG con transformaciones aplicadas.",stats:[{icon:pt,value:"8",label:"Filtros"},{icon:Jm,value:"3",label:"Presets"},{icon:Ht,value:"PNG",label:"Export"}]},{id:"biblioteca",icon:bd,onClick:t("biblioteca"),gradient:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"#3B82F6",badge:"Workspace  Assets",label:"Biblioteca de Assets",description:"Repositorio centralizado de imgenes, documentos y archivos. Upload drag & drop, colecciones y tags.",stats:[{icon:Rt,value:"",label:"Archivos"},{icon:bd,value:"",label:"Colecciones"},{icon:hn,value:"",label:"Destacados"}]},{id:"gen-documentos",icon:fn,onClick:t("gen-documentos"),gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#10B981",badge:"Workspace  Docs",label:"Generador de Documentos",description:"Editor WYSIWYG con bloques arrastrables. Crea contratos, cartas e informes en formato A4 imprimible.",stats:[{icon:Jm,value:"8",label:"Tipos bloque"},{icon:fn,value:"A4",label:"Plantilla"},{icon:Ht,value:"PDF",label:"Export"}]},{id:"gen-presupuestos",icon:yn,onClick:t("gen-presupuestos"),gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"#F59E0B",badge:"Workspace  Finanzas",label:"Generador de Presupuestos",description:"Presupuestos profesionales con tems, IVA configurable, descuentos y export PDF multi-moneda.",stats:[{icon:ft,value:"",label:"Generados"},{icon:pt,value:"IVA",label:"Multi-IVA"},{icon:Ht,value:"PDF",label:"Export"}]},{id:"ocr",icon:Sd,onClick:t("ocr"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:"Workspace  OCR  Browser",label:"OCR  Texto desde Imagen",description:"Convierte fotos de facturas y documentos escaneados a texto editable. 100% en el browser con Tesseract.js.",stats:[{icon:Sd,value:"3",label:"Idiomas"},{icon:pt,value:"0",label:"APIs externas"},{icon:Ht,value:"TXT",label:"Export"}]},{id:"impresion",icon:Mi,onClick:t("impresion"),gradient:"linear-gradient(135deg, #EC4899 0%, #BE185D 100%)",color:"#EC4899",badge:"Workspace  Print",label:"Mdulo de Impresin",description:"Configur papel, orientacin, copias y modo color. Preview A4 antes de imprimir cualquier documento.",stats:[{icon:Jm,value:"4",label:"Formatos"},{icon:hn,value:"2",label:"Modos color"},{icon:ft,value:"A4",label:"Preview"}]}],o=[{id:"qr-generator",icon:Ro,onClick:t("qr-generator"),gradient:"linear-gradient(135deg, #18181B 0%, #3F3F46 100%)",color:"#111827",badge:"Herramienta rpida",label:"Generador de QR",description:"QR personalizado sin APIs. Export PNG y SVG vectorial. Colores y logo personalizable.",stats:[{icon:Ro,value:"",label:"Generados"},{icon:pt,value:"0",label:"APIs"},{icon:Ht,value:"SVG",label:"Export"}]},{id:"rueda-sorteos",icon:Fa,onClick:t("rueda-sorteos"),gradient:"linear-gradient(135deg, #6D28D9 0%, #4C1D95 100%)",color:"#6D28D9",badge:"Herramienta rpida",label:"Rueda de Sorteos",description:"Sorteos interactivos con rueda animada para campaas, concursos y eventos en vivo.",stats:[{icon:Fa,value:"",label:"Sorteos"},{icon:Et,value:"",label:"Participantes"},{icon:hn,value:"",label:"Premios"}]},{id:"ideas-board",icon:ba,onClick:t("ideas-board"),gradient:"linear-gradient(135deg, #0EA5E9 0%, #0369A1 100%)",color:"#0EA5E9",badge:"Herramienta rpida",label:"Ideas Board",description:"Canvas visual tipo pizarrn con stickers, conectores y notas. Brainstorming visual libre.",stats:[{icon:Jm,value:"",label:"Tableros"},{icon:ba,value:"",label:"Ideas"},{icon:br,value:"",label:"Conectores"}]},{id:"carga-masiva",icon:_o,onClick:t("carga-masiva"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Storage  Supabase",label:"Carga Masiva de Archivos",description:"Upload masivo con drag & drop. CSV, imgenes, docs. Queue de archivos con progreso y Supabase Storage.",stats:[{icon:_o,value:"",label:"Archivos"},{icon:pt,value:"Auto",label:"Queue"},{icon:Ht,value:"URL",label:"Signed URL"}]},{id:"unified-workspace",icon:og,onClick:t("unified-workspace"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:"Workspace  Suite",label:"Unified Workspace",description:"Docs, tareas kanban, notas sticky, calendario mensual y chat interno en un nico espacio de trabajo.",stats:[{icon:og,value:"5",label:"Secciones"},{icon:Et,value:"Multi",label:"Usuario"},{icon:pt,value:"RT",label:"Realtime"}]}],i=[{icon:fn,label:"Editor de video",desc:"Videos cortos y reels"},{icon:Ht,label:"Conversor formatos",desc:"Conversin entre formatos de archivo"},{icon:ft,label:"Firma digital",desc:"Firma digital de documentos PDF"},{icon:pt,label:"Contratos con IA",desc:"Generacin de contratos inteligentes"}];return n.jsx(vc,{hubIcon:un,title:"Suite de Herramientas",subtitle:"6 workspaces especializados  3 herramientas rpidas  Export nativo  Sin APIs externas",sections:[{label:"Workspace Suite",count:"6 herramientas",subtitle:"Comparten el mismo layout profesional con panel izquierdo, derecho y barra de herramientas",cards:r},{label:"Herramientas Rpidas",count:"5 herramientas",subtitle:"Utilitarios ligeros  Carga masiva de archivos  Workspace unificado",cards:o}],hideSeleccionar:!0,comingSoon:i,comingSoonText:"Editor de videos cortos, conversor de formatos, firma digital de documentos y generador de contratos con IA."})}const zC="#FF6835";function Ze({title:e,subtitle:t,actions:r,rightSlot:o,icon:i}){return n.jsxs("header",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E9ECEF",padding:"18px 28px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",minWidth:0},children:[n.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"10px",background:`linear-gradient(135deg, ${zC} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i?n.jsx(i,{size:18,color:"#fff",strokeWidth:2.4}):n.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"800",color:"#fff",lineHeight:1},children:typeof e=="string"?e.replace(/[^a-zA-Z-]/g,"").charAt(0).toUpperCase():""})}),n.jsxs("div",{style:{minWidth:0},children:[n.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:"800",color:"#1A1A2E",lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e}),t&&n.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.8rem",color:"#6C757D",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexShrink:0},children:[o,n.jsx(Fq,{size:17}),r&&r.map((a,s)=>n.jsx("button",{onClick:a.onClick,style:{padding:"8px 18px",borderRadius:"8px",border:a.primary?"none":"1.5px solid #DEE2E6",backgroundColor:a.primary?zC:"#F8F9FA",color:a.primary?"#FFFFFF":"#495057",fontSize:"0.82rem",fontWeight:a.primary?"700":"600",cursor:"pointer",transition:"all 0.12s",whiteSpace:"nowrap"},onMouseEnter:l=>{const c=l.currentTarget;c.style.backgroundColor=a.primary?"#e04e20":"#E9ECEF",a.primary||(c.style.borderColor="#ADB5BD")},onMouseLeave:l=>{const c=l.currentTarget;c.style.backgroundColor=a.primary?zC:"#F8F9FA",a.primary||(c.style.borderColor="#DEE2E6")},children:a.label},s))]})]})}var gu={},BC,lD;function fje(){return lD||(lD=1,BC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),BC}var IC={},Pl={},cD;function $d(){if(cD)return Pl;cD=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Pl.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Pl.getSymbolTotalCodewords=function(o){return t[o]},Pl.getBCHDigit=function(r){let o=0;for(;r!==0;)o++,r>>>=1;return o},Pl.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');e=o},Pl.isKanjiModeEnabled=function(){return typeof e<"u"},Pl.toSJIS=function(o){return e(o)},Pl}var OC={},dD;function B_(){return dD||(dD=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},e.from=function(o,i){if(e.isValid(o))return o;try{return t(o)}catch{return i}}})(OC)),OC}var DC,uD;function hje(){if(uD)return DC;uD=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)===1},put:function(t,r){for(let o=0;o<r;o++)this.putBit((t>>>r-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},DC=e,DC}var MC,pD;function gje(){if(pD)return MC;pD=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,r,o,i){const a=t*this.size+r;this.data[a]=o,i&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,r){return this.data[t*this.size+r]},e.prototype.xor=function(t,r,o){this.data[t*this.size+r]^=o},e.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]},MC=e,MC}var $C={},fD;function xje(){return fD||(fD=1,(function(e){const t=$d().getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const i=Math.floor(o/7)+2,a=t(o),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-s;return l.push(6),l.reverse()},e.getPositions=function(o){const i=[],a=e.getRowColCoords(o),s=a.length;for(let l=0;l<s;l++)for(let c=0;c<s;c++)l===0&&c===0||l===0&&c===s-1||l===s-1&&c===0||i.push([a[l],a[c]]);return i}})($C)),$C}var NC={},hD;function mje(){if(hD)return NC;hD=1;const e=$d().getSymbolSize,t=7;return NC.getPositions=function(o){const i=e(o);return[[0,0],[i-t,0],[0,i-t]]},NC}var LC={},gD;function yje(){return gD||(gD=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let s=0,l=0,c=0,d=null,f=null;for(let p=0;p<a;p++){l=c=0,d=f=null;for(let h=0;h<a;h++){let x=i.get(p,h);x===d?l++:(l>=5&&(s+=t.N1+(l-5)),d=x,l=1),x=i.get(h,p),x===f?c++:(c>=5&&(s+=t.N1+(c-5)),f=x,c=1)}l>=5&&(s+=t.N1+(l-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(i){const a=i.size;let s=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const a=i.size;let s=0,l=0,c=0;for(let d=0;d<a;d++){l=c=0;for(let f=0;f<a;f++)l=l<<1&2047|i.get(d,f),f>=10&&(l===1488||l===93)&&s++,c=c<<1&2047|i.get(f,d),f>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let c=0;c<s;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/s/5)-10)*t.N4};function r(o,i,a){switch(o){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(i,a){const s=a.size;for(let l=0;l<s;l++)for(let c=0;c<s;c++)a.isReserved(c,l)||a.xor(c,l,r(i,c,l))},e.getBestMask=function(i,a){const s=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<s;d++){a(d),e.applyMask(d,i);const f=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(d,i),f<c&&(c=f,l=d)}return l}})(LC)),LC}var h0={},xD;function Pq(){if(xD)return h0;xD=1;const e=B_(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return h0.getBlocksCount=function(i,a){switch(a){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},h0.getTotalCodewordsCount=function(i,a){switch(a){case e.L:return r[(i-1)*4+0];case e.M:return r[(i-1)*4+1];case e.Q:return r[(i-1)*4+2];case e.H:return r[(i-1)*4+3];default:return}},h0}var WC={},ih={},mD;function bje(){if(mD)return ih;mD=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let o=1;for(let i=0;i<255;i++)e[i]=o,t[o]=i,o<<=1,o&256&&(o^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),ih.log=function(o){if(o<1)throw new Error("log("+o+")");return t[o]},ih.exp=function(o){return e[o]},ih.mul=function(o,i){return o===0||i===0?0:e[t[o]+t[i]]},ih}var yD;function vje(){return yD||(yD=1,(function(e){const t=bje();e.mul=function(o,i){const a=new Uint8Array(o.length+i.length-1);for(let s=0;s<o.length;s++)for(let l=0;l<i.length;l++)a[s+l]^=t.mul(o[s],i[l]);return a},e.mod=function(o,i){let a=new Uint8Array(o);for(;a.length-i.length>=0;){const s=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],s);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(o){let i=new Uint8Array([1]);for(let a=0;a<o;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(WC)),WC}var VC,bD;function jje(){if(bD)return VC;bD=1;const e=vje();function t(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(o){this.degree=o,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(o.length+this.degree);i.set(o);const a=e.mod(i,this.genPoly),s=this.degree-a.length;if(s>0){const l=new Uint8Array(this.degree);return l.set(a,s),l}return a},VC=t,VC}var UC={},qC={},HC={},vD;function zq(){return vD||(vD=1,HC.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),HC}var qa={},jD;function Bq(){if(jD)return qa;jD=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;qa.KANJI=new RegExp(r,"g"),qa.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),qa.BYTE=new RegExp(o,"g"),qa.NUMERIC=new RegExp(e,"g"),qa.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+r+"$"),a=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return qa.testKanji=function(c){return i.test(c)},qa.testNumeric=function(c){return a.test(c)},qa.testAlphanumeric=function(c){return s.test(c)},qa}var SD;function Nd(){return SD||(SD=1,(function(e){const t=zq(),r=Bq();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,s){if(e.isValid(a))return a;try{return o(a)}catch{return s}}})(qC)),qC}var wD;function Sje(){return wD||(wD=1,(function(e){const t=$d(),r=Pq(),o=B_(),i=Nd(),a=zq(),s=7973,l=t.getBCHDigit(s);function c(h,x,m){for(let y=1;y<=40;y++)if(x<=e.getCapacity(y,m,h))return y}function d(h,x){return i.getCharCountIndicator(h,x)+4}function f(h,x){let m=0;return h.forEach(function(y){const b=d(y.mode,x);m+=b+y.getBitsLength()}),m}function p(h,x){for(let m=1;m<=40;m++)if(f(h,m)<=e.getCapacity(m,x,i.MIXED))return m}e.from=function(x,m){return a.isValid(x)?parseInt(x,10):m},e.getCapacity=function(x,m,y){if(!a.isValid(x))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const b=t.getSymbolTotalCodewords(x),v=r.getTotalCodewordsCount(x,m),C=(b-v)*8;if(y===i.MIXED)return C;const S=C-d(y,x);switch(y){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},e.getBestVersionForData=function(x,m){let y;const b=o.from(m,o.M);if(Array.isArray(x)){if(x.length>1)return p(x,b);if(x.length===0)return 1;y=x[0]}else y=x;return c(y.mode,y.getLength(),b)},e.getEncodedBits=function(x){if(!a.isValid(x)||x<7)throw new Error("Invalid QR Code version");let m=x<<12;for(;t.getBCHDigit(m)-l>=0;)m^=s<<t.getBCHDigit(m)-l;return x<<12|m}})(UC)),UC}var GC={},ED;function wje(){if(ED)return GC;ED=1;const e=$d(),t=1335,r=21522,o=e.getBCHDigit(t);return GC.getEncodedBits=function(a,s){const l=a.bit<<3|s;let c=l<<10;for(;e.getBCHDigit(c)-o>=0;)c^=t<<e.getBCHDigit(c)-o;return(l<<10|c)^r},GC}var KC={},YC,CD;function Eje(){if(CD)return YC;CD=1;const e=Nd();function t(r){this.mode=e.NUMERIC,this.data=r.toString()}return t.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){let i,a,s;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),s=parseInt(a,10),o.put(s,10);const l=this.data.length-i;l>0&&(a=this.data.substr(i),s=parseInt(a,10),o.put(s,l*3+1))},YC=t,YC}var XC,kD;function Cje(){if(kD)return XC;kD=1;const e=Nd(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(o){this.mode=e.ALPHANUMERIC,this.data=o}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let s=t.indexOf(this.data[a])*45;s+=t.indexOf(this.data[a+1]),i.put(s,11)}this.data.length%2&&i.put(t.indexOf(this.data[a]),6)},XC=r,XC}var JC,FD;function kje(){if(FD)return JC;FD=1;const e=Nd();function t(r){this.mode=e.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return t.getBitsLength=function(o){return o*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){for(let o=0,i=this.data.length;o<i;o++)r.put(this.data[o],8)},JC=t,JC}var QC,AD;function Fje(){if(AD)return QC;AD=1;const e=Nd(),t=$d();function r(o){this.mode=e.KANJI,this.data=o}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){let i;for(i=0;i<this.data.length;i++){let a=t.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),o.put(a,13)}},QC=r,QC}var ZC={exports:{}},_D;function Aje(){return _D||(_D=1,(function(e){var t={single_source_shortest_paths:function(r,o,i){var a={},s={};s[o]=0;var l=t.PriorityQueue.make();l.push(o,0);for(var c,d,f,p,h,x,m,y,b;!l.empty();){c=l.pop(),d=c.value,p=c.cost,h=r[d]||{};for(f in h)h.hasOwnProperty(f)&&(x=h[f],m=p+x,y=s[f],b=typeof s[f]>"u",(b||y>m)&&(s[f]=m,l.push(f,m),a[f]=d))}if(typeof i<"u"&&typeof s[i]>"u"){var v=["Could not find a path from ",o," to ",i,"."].join("");throw new Error(v)}return a},extract_shortest_path_from_predecessor_list:function(r,o){for(var i=[],a=o;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,o,i){var a=t.single_source_shortest_paths(r,o,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var o=t.PriorityQueue,i={},a;r=r||{};for(a in o)o.hasOwnProperty(a)&&(i[a]=o[a]);return i.queue=[],i.sorter=r.sorter||o.default_sorter,i},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var i={value:r,cost:o};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(ZC)),ZC.exports}var RD;function _je(){return RD||(RD=1,(function(e){const t=Nd(),r=Eje(),o=Cje(),i=kje(),a=Fje(),s=Bq(),l=$d(),c=Aje();function d(v){return unescape(encodeURIComponent(v)).length}function f(v,C,S){const F=[];let w;for(;(w=v.exec(S))!==null;)F.push({data:w[0],index:w.index,mode:C,length:w[0].length});return F}function p(v){const C=f(s.NUMERIC,t.NUMERIC,v),S=f(s.ALPHANUMERIC,t.ALPHANUMERIC,v);let F,w;return l.isKanjiModeEnabled()?(F=f(s.BYTE,t.BYTE,v),w=f(s.KANJI,t.KANJI,v)):(F=f(s.BYTE_KANJI,t.BYTE,v),w=[]),C.concat(S,F,w).sort(function(E,T){return E.index-T.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function h(v,C){switch(C){case t.NUMERIC:return r.getBitsLength(v);case t.ALPHANUMERIC:return o.getBitsLength(v);case t.KANJI:return a.getBitsLength(v);case t.BYTE:return i.getBitsLength(v)}}function x(v){return v.reduce(function(C,S){const F=C.length-1>=0?C[C.length-1]:null;return F&&F.mode===S.mode?(C[C.length-1].data+=S.data,C):(C.push(S),C)},[])}function m(v){const C=[];for(let S=0;S<v.length;S++){const F=v[S];switch(F.mode){case t.NUMERIC:C.push([F,{data:F.data,mode:t.ALPHANUMERIC,length:F.length},{data:F.data,mode:t.BYTE,length:F.length}]);break;case t.ALPHANUMERIC:C.push([F,{data:F.data,mode:t.BYTE,length:F.length}]);break;case t.KANJI:C.push([F,{data:F.data,mode:t.BYTE,length:d(F.data)}]);break;case t.BYTE:C.push([{data:F.data,mode:t.BYTE,length:d(F.data)}])}}return C}function y(v,C){const S={},F={start:{}};let w=["start"];for(let k=0;k<v.length;k++){const E=v[k],T=[];for(let _=0;_<E.length;_++){const z=E[_],B=""+k+_;T.push(B),S[B]={node:z,lastCount:0},F[B]={};for(let P=0;P<w.length;P++){const D=w[P];S[D]&&S[D].node.mode===z.mode?(F[D][B]=h(S[D].lastCount+z.length,z.mode)-h(S[D].lastCount,z.mode),S[D].lastCount+=z.length):(S[D]&&(S[D].lastCount=z.length),F[D][B]=h(z.length,z.mode)+4+t.getCharCountIndicator(z.mode,C))}}w=T}for(let k=0;k<w.length;k++)F[w[k]].end=0;return{map:F,table:S}}function b(v,C){let S;const F=t.getBestModeForData(v);if(S=t.from(C,F),S!==t.BYTE&&S.bit<F.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(S)+`.
 Suggested mode is: `+t.toString(F));switch(S===t.KANJI&&!l.isKanjiModeEnabled()&&(S=t.BYTE),S){case t.NUMERIC:return new r(v);case t.ALPHANUMERIC:return new o(v);case t.KANJI:return new a(v);case t.BYTE:return new i(v)}}e.fromArray=function(C){return C.reduce(function(S,F){return typeof F=="string"?S.push(b(F,null)):F.data&&S.push(b(F.data,F.mode)),S},[])},e.fromString=function(C,S){const F=p(C,l.isKanjiModeEnabled()),w=m(F),k=y(w,S),E=c.find_path(k.map,"start","end"),T=[];for(let _=1;_<E.length-1;_++)T.push(k.table[E[_]].node);return e.fromArray(x(T))},e.rawSplit=function(C){return e.fromArray(p(C,l.isKanjiModeEnabled()))}})(KC)),KC}var TD;function Rje(){if(TD)return IC;TD=1;const e=$d(),t=B_(),r=hje(),o=gje(),i=xje(),a=mje(),s=yje(),l=Pq(),c=jje(),d=Sje(),f=wje(),p=Nd(),h=_je();function x(k,E){const T=k.size,_=a.getPositions(E);for(let z=0;z<_.length;z++){const B=_[z][0],P=_[z][1];for(let D=-1;D<=7;D++)if(!(B+D<=-1||T<=B+D))for(let I=-1;I<=7;I++)P+I<=-1||T<=P+I||(D>=0&&D<=6&&(I===0||I===6)||I>=0&&I<=6&&(D===0||D===6)||D>=2&&D<=4&&I>=2&&I<=4?k.set(B+D,P+I,!0,!0):k.set(B+D,P+I,!1,!0))}}function m(k){const E=k.size;for(let T=8;T<E-8;T++){const _=T%2===0;k.set(T,6,_,!0),k.set(6,T,_,!0)}}function y(k,E){const T=i.getPositions(E);for(let _=0;_<T.length;_++){const z=T[_][0],B=T[_][1];for(let P=-2;P<=2;P++)for(let D=-2;D<=2;D++)P===-2||P===2||D===-2||D===2||P===0&&D===0?k.set(z+P,B+D,!0,!0):k.set(z+P,B+D,!1,!0)}}function b(k,E){const T=k.size,_=d.getEncodedBits(E);let z,B,P;for(let D=0;D<18;D++)z=Math.floor(D/3),B=D%3+T-8-3,P=(_>>D&1)===1,k.set(z,B,P,!0),k.set(B,z,P,!0)}function v(k,E,T){const _=k.size,z=f.getEncodedBits(E,T);let B,P;for(B=0;B<15;B++)P=(z>>B&1)===1,B<6?k.set(B,8,P,!0):B<8?k.set(B+1,8,P,!0):k.set(_-15+B,8,P,!0),B<8?k.set(8,_-B-1,P,!0):B<9?k.set(8,15-B-1+1,P,!0):k.set(8,15-B-1,P,!0);k.set(_-8,8,1,!0)}function C(k,E){const T=k.size;let _=-1,z=T-1,B=7,P=0;for(let D=T-1;D>0;D-=2)for(D===6&&D--;;){for(let I=0;I<2;I++)if(!k.isReserved(z,D-I)){let N=!1;P<E.length&&(N=(E[P]>>>B&1)===1),k.set(z,D-I,N),B--,B===-1&&(P++,B=7)}if(z+=_,z<0||T<=z){z-=_,_=-_;break}}}function S(k,E,T){const _=new r;T.forEach(function(I){_.put(I.mode.bit,4),_.put(I.getLength(),p.getCharCountIndicator(I.mode,k)),I.write(_)});const z=e.getSymbolTotalCodewords(k),B=l.getTotalCodewordsCount(k,E),P=(z-B)*8;for(_.getLengthInBits()+4<=P&&_.put(0,4);_.getLengthInBits()%8!==0;)_.putBit(0);const D=(P-_.getLengthInBits())/8;for(let I=0;I<D;I++)_.put(I%2?17:236,8);return F(_,k,E)}function F(k,E,T){const _=e.getSymbolTotalCodewords(E),z=l.getTotalCodewordsCount(E,T),B=_-z,P=l.getBlocksCount(E,T),D=_%P,I=P-D,N=Math.floor(_/P),M=Math.floor(B/P),V=M+1,L=N-M,W=new c(L);let G=0;const U=new Array(P),H=new Array(P);let K=0;const ne=new Uint8Array(k.buffer);for(let ae=0;ae<P;ae++){const ye=ae<I?M:V;U[ae]=ne.slice(G,G+ye),H[ae]=W.encode(U[ae]),G+=ye,K=Math.max(K,ye)}const Q=new Uint8Array(_);let pe=0,X,se;for(X=0;X<K;X++)for(se=0;se<P;se++)X<U[se].length&&(Q[pe++]=U[se][X]);for(X=0;X<L;X++)for(se=0;se<P;se++)Q[pe++]=H[se][X];return Q}function w(k,E,T,_){let z;if(Array.isArray(k))z=h.fromArray(k);else if(typeof k=="string"){let N=E;if(!N){const M=h.rawSplit(k);N=d.getBestVersionForData(M,T)}z=h.fromString(k,N||40)}else throw new Error("Invalid data");const B=d.getBestVersionForData(z,T);if(!B)throw new Error("The amount of data is too big to be stored in a QR Code");if(!E)E=B;else if(E<B)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+B+`.
`);const P=S(E,T,z),D=e.getSymbolSize(E),I=new o(D);return x(I,E),m(I),y(I,E),v(I,T,0),E>=7&&b(I,E),C(I,P),isNaN(_)&&(_=s.getBestMask(I,v.bind(null,I,T))),s.applyMask(_,I),v(I,T,_),{modules:I,version:E,errorCorrectionLevel:T,maskPattern:_,segments:z}}return IC.create=function(E,T){if(typeof E>"u"||E==="")throw new Error("No input text");let _=t.M,z,B;return typeof T<"u"&&(_=t.from(T.errorCorrectionLevel,t.M),z=d.from(T.version),B=s.from(T.maskPattern),T.toSJISFunc&&e.setToSJISFunction(T.toSJISFunc)),w(E,z,_,B)},IC}var ek={},tk={},PD;function Iq(){return PD||(PD=1,(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(a){return[a,a]}))),o.length===6&&o.push("F","F");const i=parseInt(o.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const i=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,a=o.width&&o.width>=21?o.width:void 0,s=o.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,i){return i.width&&i.width>=o+i.margin*2?i.width/(o+i.margin*2):i.scale},e.getImageWidth=function(o,i){const a=e.getScale(o,i);return Math.floor((o+i.margin*2)*a)},e.qrToImageData=function(o,i,a){const s=i.modules.size,l=i.modules.data,c=e.getScale(s,a),d=Math.floor((s+a.margin*2)*c),f=a.margin*c,p=[a.color.light,a.color.dark];for(let h=0;h<d;h++)for(let x=0;x<d;x++){let m=(h*d+x)*4,y=a.color.light;if(h>=f&&x>=f&&h<d-f&&x<d-f){const b=Math.floor((h-f)/c),v=Math.floor((x-f)/c);y=p[l[b*s+v]?1:0]}o[m++]=y.r,o[m++]=y.g,o[m++]=y.b,o[m]=y.a}}})(tk)),tk}var zD;function Tje(){return zD||(zD=1,(function(e){const t=Iq();function r(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,s,l){let c=l,d=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(d=o()),c=t.getOptions(c);const f=t.getImageWidth(a.modules.size,c),p=d.getContext("2d"),h=p.createImageData(f,f);return t.qrToImageData(h.data,a,c),r(p,d,f),p.putImageData(h,0,0),d},e.renderToDataURL=function(a,s,l){let c=l;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const d=e.render(a,s,c),f=c.type||"image/png",p=c.rendererOpts||{};return d.toDataURL(f,p.quality)}})(ek)),ek}var rk={},BD;function Pje(){if(BD)return rk;BD=1;const e=Iq();function t(i,a){const s=i.a/255,l=a+'="'+i.hex+'"';return s<1?l+" "+a+'-opacity="'+s.toFixed(2).slice(1)+'"':l}function r(i,a,s){let l=i+a;return typeof s<"u"&&(l+=" "+s),l}function o(i,a,s){let l="",c=0,d=!1,f=0;for(let p=0;p<i.length;p++){const h=Math.floor(p%a),x=Math.floor(p/a);!h&&!d&&(d=!0),i[p]?(f++,p>0&&h>0&&i[p-1]||(l+=d?r("M",h+s,.5+x+s):r("m",c,0),c=0,d=!1),h+1<a&&i[p+1]||(l+=r("h",f),f=0)):c++}return l}return rk.render=function(a,s,l){const c=e.getOptions(s),d=a.modules.size,f=a.modules.data,p=d+c.margin*2,h=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",x="<path "+t(c.color.dark,"stroke")+' d="'+o(f,d,c.margin)+'"/>',m='viewBox="0 0 '+p+" "+p+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+m+' shape-rendering="crispEdges">'+h+x+`</svg>
`;return typeof l=="function"&&l(null,b),b},rk}var ID;function zje(){if(ID)return gu;ID=1;const e=fje(),t=Rje(),r=Tje(),o=Pje();function i(a,s,l,c,d){const f=[].slice.call(arguments,1),p=f.length,h=typeof f[p-1]=="function";if(!h&&!e())throw new Error("Callback required as last argument");if(h){if(p<2)throw new Error("Too few arguments provided");p===2?(d=l,l=s,s=c=void 0):p===3&&(s.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=l,l=s,s=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(l=s,s=c=void 0):p===2&&!s.getContext&&(c=l,l=s,s=void 0),new Promise(function(x,m){try{const y=t.create(l,c);x(a(y,s,c))}catch(y){m(y)}})}try{const x=t.create(l,c);d(null,a(x,s,c))}catch(x){d(x)}}return gu.create=t.create,gu.toCanvas=i.bind(null,r.render),gu.toDataURL=i.bind(null,r.renderToDataURL),gu.toString=i.bind(null,function(a,s,l){return o.render(a,l)}),gu}var Bje=zje();const I_=nr(Bje);function ov({value:e,options:t={},className:r,style:o,onGenerated:i}){const{size:a=200,darkColor:s="#000000",lightColor:l="#FFFFFF",errorCorrection:c="M",margin:d=2}=t,[f,p]=A.useState(""),[h,x]=A.useState(!1);return A.useEffect(()=>{e&&(x(!1),I_.toDataURL(e,{width:a,margin:d,errorCorrectionLevel:c,color:{dark:s,light:l}}).then(m=>{p(m),i==null||i(m)}).catch(()=>x(!0)))},[e,a,s,l,c,d]),h?n.jsx("div",{style:{width:a,height:a,display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #E5E7EB",borderRadius:"8px",color:"#9CA3AF",fontSize:"12px",...o},children:"Error"}):f?n.jsx("img",{src:f,alt:`QR: ${e}`,width:a,height:a,className:r,style:{display:"block",...o}}):n.jsx("div",{style:{width:a,height:a,backgroundColor:"#F3F4F6",borderRadius:"8px",...o}})}async function Ije(e,t={}){const{size:r=200,darkColor:o="#000000",lightColor:i="#FFFFFF",errorCorrection:a="M",margin:s=2}=t;return I_.toDataURL(e,{width:r,margin:s,errorCorrectionLevel:a,color:{dark:o,light:i}})}async function Oje(e,t={}){const{size:r=200,darkColor:o="#000000",lightColor:i="#FFFFFF",errorCorrection:a="M",margin:s=2}=t;return I_.toString(e,{type:"svg",width:r,margin:s,errorCorrectionLevel:a,color:{dark:o,light:i}})}async function Dje(e,t="qrcode",r={}){const o=await Ije(e,{...r,size:r.size??600}),i=document.createElement("a");i.href=o,i.download=`${t}.png`,i.click()}async function Mje(e,t="qrcode",r={}){const o=await Oje(e,r),i=new Blob([o],{type:"image/svg+xml"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=`${t}.svg`,s.click(),URL.revokeObjectURL(a)}function $je(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Nje=e=>{switch(e){case"success":return Vje;case"info":return qje;case"warning":return Uje;case"error":return Hje;default:return null}},Lje=Array(12).fill(0),Wje=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},Lje.map((r,o)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),Vje=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Uje=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qje=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Hje=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Gje=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kje=()=>{const[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let t5=1;class Yje{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:o,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:t5++,s=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:o}),{...c,...t,id:a,dismissible:l,title:o}):c):this.addToast({title:o,...i,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=o!==void 0,s;const l=i.then(async d=>{if(s=["resolve",d],Y.isValidElement(d))a=!1,this.create({id:o,type:"default",message:d});else if(Jje(d)&&!d.ok){a=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,m=typeof p=="object"&&!Y.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:h,...m})}else if(d instanceof Error){a=!1;const p=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description,m=typeof p=="object"&&!Y.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:h,...m})}else if(r.success!==void 0){a=!1;const p=typeof r.success=="function"?await r.success(d):r.success,h=typeof r.description=="function"?await r.description(d):r.description,m=typeof p=="object"&&!Y.isValidElement(p)?p:{message:p};this.create({id:o,type:"success",description:h,...m})}}).catch(async d=>{if(s=["reject",d],r.error!==void 0){a=!1;const f=typeof r.error=="function"?await r.error(d):r.error,p=typeof r.description=="function"?await r.description(d):r.description,x=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:o,type:"error",description:p,...x})}}).finally(()=>{a&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,f)=>l.then(()=>s[0]==="reject"?f(s[1]):d(s[1])).catch(f));return typeof o!="string"&&typeof o!="number"?{unwrap:c}:Object.assign(o,{unwrap:c})},this.custom=(t,r)=>{const o=(r==null?void 0:r.id)||t5++;return this.create({jsx:t(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const $o=new Yje,Xje=(e,t)=>{const r=(t==null?void 0:t.id)||t5++;return $o.addToast({title:e,...t,id:r}),r},Jje=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Qje=Xje,Zje=()=>$o.toasts,e2e=()=>$o.getActiveToasts(),ke=Object.assign(Qje,{success:$o.success,info:$o.info,warning:$o.warning,error:$o.error,custom:$o.custom,message:$o.message,promise:$o.promise,dismiss:$o.dismiss,loading:$o.loading},{getHistory:Zje,getToasts:e2e});$je("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function g0(e){return e.label!==void 0}const t2e=3,r2e="24px",n2e="16px",OD=4e3,o2e=356,i2e=14,a2e=45,s2e=200;function Ha(...e){return e.filter(Boolean).join(" ")}function l2e(e){const[t,r]=e.split("-"),o=[];return t&&o.push(t),r&&o.push(r),o}const c2e=e=>{var t,r,o,i,a,s,l,c,d;const{invert:f,toast:p,unstyled:h,interacting:x,setHeights:m,visibleToasts:y,heights:b,index:v,toasts:C,expanded:S,removeToast:F,defaultRichColors:w,closeButton:k,style:E,cancelButtonStyle:T,actionButtonStyle:_,className:z="",descriptionClassName:B="",duration:P,position:D,gap:I,expandByDefault:N,classNames:M,icons:V,closeButtonAriaLabel:L="Close toast"}=e,[W,G]=Y.useState(null),[U,H]=Y.useState(null),[K,ne]=Y.useState(!1),[Q,pe]=Y.useState(!1),[X,se]=Y.useState(!1),[ae,ye]=Y.useState(!1),[ie,re]=Y.useState(!1),[Se,Ae]=Y.useState(0),[te,he]=Y.useState(0),Te=Y.useRef(p.duration||P||OD),rt=Y.useRef(null),it=Y.useRef(null),kt=v===0,Pt=v+1<=y,jt=p.type,zt=p.dismissible!==!1,fr=p.className||"",Bt=p.descriptionClassName||"",ar=Y.useMemo(()=>b.findIndex(Ve=>Ve.toastId===p.id)||0,[b,p.id]),Sr=Y.useMemo(()=>{var Ve;return(Ve=p.closeButton)!=null?Ve:k},[p.closeButton,k]),Lt=Y.useMemo(()=>p.duration||P||OD,[p.duration,P]),le=Y.useRef(0),be=Y.useRef(0),we=Y.useRef(0),$e=Y.useRef(null),[Be,Pe]=D.split("-"),Ne=Y.useMemo(()=>b.reduce((Ve,Kt,dt)=>dt>=ar?Ve:Ve+Kt.height,0),[b,ar]),Fe=Kje(),Je=p.invert||f,Qe=jt==="loading";be.current=Y.useMemo(()=>ar*I+Ne,[ar,Ne]),Y.useEffect(()=>{Te.current=Lt},[Lt]),Y.useEffect(()=>{ne(!0)},[]),Y.useEffect(()=>{const Ve=it.current;if(Ve){const Kt=Ve.getBoundingClientRect().height;return he(Kt),m(dt=>[{toastId:p.id,height:Kt,position:p.position},...dt]),()=>m(dt=>dt.filter(sr=>sr.toastId!==p.id))}},[m,p.id]),Y.useLayoutEffect(()=>{if(!K)return;const Ve=it.current,Kt=Ve.style.height;Ve.style.height="auto";const dt=Ve.getBoundingClientRect().height;Ve.style.height=Kt,he(dt),m(sr=>sr.find(qt=>qt.toastId===p.id)?sr.map(qt=>qt.toastId===p.id?{...qt,height:dt}:qt):[{toastId:p.id,height:dt,position:p.position},...sr])},[K,p.title,p.description,m,p.id]);const J=Y.useCallback(()=>{pe(!0),Ae(be.current),m(Ve=>Ve.filter(Kt=>Kt.toastId!==p.id)),setTimeout(()=>{F(p)},s2e)},[p,F,m,be]);Y.useEffect(()=>{if(p.promise&&jt==="loading"||p.duration===1/0||p.type==="loading")return;let Ve;return S||x||Fe?(()=>{if(we.current<le.current){const sr=new Date().getTime()-le.current;Te.current=Te.current-sr}we.current=new Date().getTime()})():(()=>{Te.current!==1/0&&(le.current=new Date().getTime(),Ve=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),J()},Te.current))})(),()=>clearTimeout(Ve)},[S,x,p,jt,Fe,J]),Y.useEffect(()=>{p.delete&&J()},[J,p.delete]);function je(){var Ve;if(V!=null&&V.loading){var Kt;return Y.createElement("div",{className:Ha(M==null?void 0:M.loader,p==null||(Kt=p.classNames)==null?void 0:Kt.loader,"sonner-loader"),"data-visible":jt==="loading"},V.loading)}return Y.createElement(Wje,{className:Ha(M==null?void 0:M.loader,p==null||(Ve=p.classNames)==null?void 0:Ve.loader),visible:jt==="loading"})}const Ie=p.icon||(V==null?void 0:V[jt])||Nje(jt);var We,Wt;return Y.createElement("li",{tabIndex:0,ref:it,className:Ha(z,fr,M==null?void 0:M.toast,p==null||(t=p.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[jt],p==null||(r=p.classNames)==null?void 0:r[jt]),"data-sonner-toast":"","data-rich-colors":(We=p.richColors)!=null?We:w,"data-styled":!(p.jsx||p.unstyled||h),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":ie,"data-removed":Q,"data-visible":Pt,"data-y-position":Be,"data-x-position":Pe,"data-index":v,"data-front":kt,"data-swiping":X,"data-dismissible":zt,"data-type":jt,"data-invert":Je,"data-swipe-out":ae,"data-swipe-direction":U,"data-expanded":!!(S||N&&K),style:{"--index":v,"--toasts-before":v,"--z-index":C.length-v,"--offset":`${Q?Se:be.current}px`,"--initial-height":N?"auto":`${te}px`,...E,...p.style},onDragEnd:()=>{se(!1),G(null),$e.current=null},onPointerDown:Ve=>{Qe||!zt||(rt.current=new Date,Ae(be.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(se(!0),$e.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,Kt,dt;if(ae||!zt)return;$e.current=null;const sr=Number(((Ve=it.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ut=Number(((Kt=it.current)==null?void 0:Kt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qt=new Date().getTime()-((dt=rt.current)==null?void 0:dt.getTime()),mr=W==="x"?sr:ut,$n=Math.abs(mr)/qt;if(Math.abs(mr)>=a2e||$n>.11){Ae(be.current),p.onDismiss==null||p.onDismiss.call(p,p),H(W==="x"?sr>0?"right":"left":ut>0?"down":"up"),J(),ye(!0);return}else{var ee,ue;(ee=it.current)==null||ee.style.setProperty("--swipe-amount-x","0px"),(ue=it.current)==null||ue.style.setProperty("--swipe-amount-y","0px")}re(!1),se(!1),G(null)},onPointerMove:Ve=>{var Kt,dt,sr;if(!$e.current||!zt||((Kt=window.getSelection())==null?void 0:Kt.toString().length)>0)return;const qt=Ve.clientY-$e.current.y,mr=Ve.clientX-$e.current.x;var $n;const ee=($n=e.swipeDirections)!=null?$n:l2e(D);!W&&(Math.abs(mr)>1||Math.abs(qt)>1)&&G(Math.abs(mr)>Math.abs(qt)?"x":"y");let ue={x:0,y:0};const xe=Ce=>1/(1.5+Math.abs(Ce)/20);if(W==="y"){if(ee.includes("top")||ee.includes("bottom"))if(ee.includes("top")&&qt<0||ee.includes("bottom")&&qt>0)ue.y=qt;else{const Ce=qt*xe(qt);ue.y=Math.abs(Ce)<Math.abs(qt)?Ce:qt}}else if(W==="x"&&(ee.includes("left")||ee.includes("right")))if(ee.includes("left")&&mr<0||ee.includes("right")&&mr>0)ue.x=mr;else{const Ce=mr*xe(mr);ue.x=Math.abs(Ce)<Math.abs(mr)?Ce:mr}(Math.abs(ue.x)>0||Math.abs(ue.y)>0)&&re(!0),(dt=it.current)==null||dt.style.setProperty("--swipe-amount-x",`${ue.x}px`),(sr=it.current)==null||sr.style.setProperty("--swipe-amount-y",`${ue.y}px`)}},Sr&&!p.jsx&&jt!=="loading"?Y.createElement("button",{"aria-label":L,"data-disabled":Qe,"data-close-button":!0,onClick:Qe||!zt?()=>{}:()=>{J(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ha(M==null?void 0:M.closeButton,p==null||(o=p.classNames)==null?void 0:o.closeButton)},(Wt=V==null?void 0:V.close)!=null?Wt:Gje):null,(jt||p.icon||p.promise)&&p.icon!==null&&((V==null?void 0:V[jt])!==null||p.icon)?Y.createElement("div",{"data-icon":"",className:Ha(M==null?void 0:M.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||je():null,p.type!=="loading"?Ie:null):null,Y.createElement("div",{"data-content":"",className:Ha(M==null?void 0:M.content,p==null||(a=p.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:Ha(M==null?void 0:M.title,p==null||(s=p.classNames)==null?void 0:s.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?Y.createElement("div",{"data-description":"",className:Ha(B,Bt,M==null?void 0:M.description,p==null||(l=p.classNames)==null?void 0:l.description)},typeof p.description=="function"?p.description():p.description):null),Y.isValidElement(p.cancel)?p.cancel:p.cancel&&g0(p.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:Ve=>{g0(p.cancel)&&zt&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ve),J())},className:Ha(M==null?void 0:M.cancelButton,p==null||(c=p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,Y.isValidElement(p.action)?p.action:p.action&&g0(p.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||_,onClick:Ve=>{g0(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ve),!Ve.defaultPrevented&&J())},className:Ha(M==null?void 0:M.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function DD(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function d2e(e,t){const r={};return[e,t].forEach((o,i)=>{const a=i===1,s=a?"--mobile-offset":"--offset",l=a?n2e:r2e;function c(d){["top","right","bottom","left"].forEach(f=>{r[`${s}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof o=="number"||typeof o=="string"?c(o):typeof o=="object"?["top","right","bottom","left"].forEach(d=>{o[d]===void 0?r[`${s}-${d}`]=l:r[`${s}-${d}`]=typeof o[d]=="number"?`${o[d]}px`:o[d]}):c(l)}),r}const u2e=Y.forwardRef(function(t,r){const{invert:o,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:d,mobileOffset:f,theme:p="light",richColors:h,duration:x,style:m,visibleToasts:y=t2e,toastOptions:b,dir:v=DD(),gap:C=i2e,icons:S,containerAriaLabel:F="Notifications"}=t,[w,k]=Y.useState([]),E=Y.useMemo(()=>Array.from(new Set([i].concat(w.filter(U=>U.position).map(U=>U.position)))),[w,i]),[T,_]=Y.useState([]),[z,B]=Y.useState(!1),[P,D]=Y.useState(!1),[I,N]=Y.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=Y.useRef(null),V=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=Y.useRef(null),W=Y.useRef(!1),G=Y.useCallback(U=>{k(H=>{var K;return(K=H.find(ne=>ne.id===U.id))!=null&&K.delete||$o.dismiss(U.id),H.filter(({id:ne})=>ne!==U.id)})},[]);return Y.useEffect(()=>$o.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{k(H=>H.map(K=>K.id===U.id?{...K,delete:!0}:K))});return}setTimeout(()=>{gme.flushSync(()=>{k(H=>{const K=H.findIndex(ne=>ne.id===U.id);return K!==-1?[...H.slice(0,K),{...H[K],...U},...H.slice(K+1)]:[U,...H]})})})}),[w]),Y.useEffect(()=>{if(p!=="system"){N(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?N("dark"):N("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:H})=>{N(H?"dark":"light")})}catch{U.addListener(({matches:K})=>{try{N(K?"dark":"light")}catch(ne){console.error(ne)}})}},[p]),Y.useEffect(()=>{w.length<=1&&B(!1)},[w]),Y.useEffect(()=>{const U=H=>{var K;if(a.every(pe=>H[pe]||H.code===pe)){var Q;B(!0),(Q=M.current)==null||Q.focus()}H.code==="Escape"&&(document.activeElement===M.current||(K=M.current)!=null&&K.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[a]),Y.useEffect(()=>{if(M.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[M.current]),Y.createElement("section",{ref:r,"aria-label":`${F} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((U,H)=>{var K;const[ne,Q]=U.split("-");return w.length?Y.createElement("ol",{key:U,dir:v==="auto"?DD():v,tabIndex:-1,ref:M,className:c,"data-sonner-toaster":!0,"data-sonner-theme":I,"data-y-position":ne,"data-lifted":z&&w.length>1&&!s,"data-x-position":Q,style:{"--front-toast-height":`${((K=T[0])==null?void 0:K.height)||0}px`,"--width":`${o2e}px`,"--gap":`${C}px`,...m,...d2e(d,f)},onBlur:pe=>{W.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=pe.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{P||B(!1)},onDragEnd:()=>B(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},w.filter(pe=>!pe.position&&H===0||pe.position===U).map((pe,X)=>{var se,ae;return Y.createElement(c2e,{key:pe.id,icons:S,index:X,toast:pe,defaultRichColors:h,duration:(se=b==null?void 0:b.duration)!=null?se:x,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:o,visibleToasts:y,closeButton:(ae=b==null?void 0:b.closeButton)!=null?ae:l,interacting:P,position:U,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:G,toasts:w.filter(ye=>ye.position==pe.position),heights:T.filter(ye=>ye.position==pe.position),setHeights:_,expandByDefault:s,gap:C,expanded:z,swipeDirections:t.swipeDirections})})):null}))}),eo="#FF6835",MD=[{id:"L",label:"L  Baja (7%)",desc:"Ms compacto"},{id:"M",label:"M  Media (15%)",desc:"Recomendado"},{id:"Q",label:"Q  Alta (25%)",desc:"Ms robusto"},{id:"H",label:"H  Mxima (30%)",desc:"Logos encima"}],p2e=[{label:"Negro clsico",dark:"#000000",light:"#FFFFFF"},{label:"Charlie Naranja",dark:"#FF6835",light:"#FFFFFF"},{label:"Dark mode",dark:"#FFFFFF",light:"#1F2937"},{label:"Verde natural",dark:"#065F46",light:"#ECFDF5"},{label:"Azul corporativo",dark:"#1E40AF",light:"#EFF6FF"},{label:"Dorado premium",dark:"#92400E",light:"#FFFBEB"}],f2e=[128,180,256,400,512,600],h2e=[{label:"URL Web",value:"https://charlie.market"},{label:"WhatsApp",value:"https://wa.me/59899123456?text=Hola"},{label:"Email",value:"mailto:hola@charlie.market"},{label:"Texto libre",value:"Gracias por tu compra  Charlie Marketplace"},{label:"vCard",value:`BEGIN:VCARD
VERSION:3.0
FN:Charlie Market
TEL:+59899000000
END:VCARD`},{label:"WiFi",value:"WIFI:T:WPA;S:MiRed;P:contrasea;;"}];function g2e({onNavigate:e}){var b;const[t,r]=A.useState("https://charlie.market"),[o,i]=A.useState({size:256,darkColor:"#000000",lightColor:"#FFFFFF",errorCorrection:"M",margin:2}),[a,s]=A.useState(""),[l,c]=A.useState(!1),[d,f]=A.useState("contenido"),p=(v,C)=>i(S=>({...S,[v]:C})),h=A.useCallback(async()=>{a&&(await navigator.clipboard.writeText(a),c(!0),ke.success("Data URL copiado al portapapeles"),setTimeout(()=>c(!1),2e3))},[a]),x=A.useCallback(()=>{navigator.clipboard.writeText(t),ke.success("Contenido copiado")},[t]),m=()=>{if(!t)return;const v=t.replace(/[^a-zA-Z0-9]/g,"_").slice(0,30)||"qrcode";Dje(t,`charlie_qr_${v}`,{...o,size:Math.max(o.size??256,600)}),ke.success("Descargando PNG alta resolucin...")},y=()=>{if(!t)return;const v=t.replace(/[^a-zA-Z0-9]/g,"_").slice(0,30)||"qrcode";Mje(t,`charlie_qr_${v}`,o),ke.success("Descargando SVG vectorial...")};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Ro,title:"Generador de QR",subtitle:"Genera cdigos QR internamente  sin APIs externas, sin lmites",actions:e?[{label:" Herramientas",onClick:()=>e("herramientas")}]:[]}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA",padding:"28px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 360px",gap:"24px",maxWidth:"1100px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsx("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB"},children:[{id:"contenido",icon:jb,label:"Contenido"},{id:"diseno",icon:bne,label:"Diseo"},{id:"avanzado",icon:di,label:"Avanzado"}].map(v=>{const C=d===v.id;return n.jsxs("button",{onClick:()=>f(v.id),style:{flex:1,padding:"14px 8px",border:"none",borderBottom:`3px solid ${C?eo:"transparent"}`,backgroundColor:C?"#FFF8F5":"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"7px",fontSize:"13px",fontWeight:C?700:500,color:C?eo:"#555"},children:[n.jsx(v.icon,{size:14}),v.label]},v.id)})}),n.jsxs("div",{style:{padding:"24px"},children:[d==="contenido"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:"Contenido del QR"}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("textarea",{value:t,onChange:v=>r(v.target.value),placeholder:"URL, texto, vCard, WiFi, email...",rows:4,style:{width:"100%",padding:"12px 40px 12px 14px",border:`1.5px solid ${t?eo:"#E5E7EB"}`,borderRadius:"12px",fontSize:"14px",color:"#111",resize:"vertical",outline:"none",fontFamily:"monospace",lineHeight:"1.5",boxSizing:"border-box",transition:"border-color 0.15s"}}),t&&n.jsx("button",{onClick:x,title:"Copiar contenido",style:{position:"absolute",top:"10px",right:"10px",padding:"4px",border:"none",background:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(ho,{size:15})})]}),n.jsxs("div",{style:{fontSize:"12px",color:"#9CA3AF",marginTop:"4px",textAlign:"right"},children:[t.length," caracteres"]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"10px"},children:"Ejemplos rpidos"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:h2e.map(v=>n.jsx("button",{onClick:()=>r(v.value),style:{padding:"6px 12px",border:"1.5px solid #E5E7EB",borderRadius:"8px",backgroundColor:t===v.value?"#FFF4EC":"#F9FAFB",color:t===v.value?eo:"#555",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.15s",borderColor:t===v.value?eo:"#E5E7EB"},children:v.label},v.label))})]})]}),d==="diseno"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"10px"},children:"Presets de color"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:p2e.map(v=>{const C=o.darkColor===v.dark&&o.lightColor===v.light;return n.jsxs("button",{onClick:()=>{p("darkColor",v.dark),p("lightColor",v.light)},style:{padding:"10px",border:`2px solid ${C?eo:"#E5E7EB"}`,borderRadius:"10px",backgroundColor:C?"#FFF4EC":"#FAFAFA",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.15s"},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"6px",border:"1px solid #E5E7EB",background:`linear-gradient(135deg, ${v.dark} 50%, ${v.light} 50%)`,flexShrink:0}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:C?700:500,color:C?eo:"#555",textAlign:"left",lineHeight:1.2},children:v.label})]},v.label)})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[n.jsx($D,{label:"Color oscuro",value:o.darkColor||"#000000",onChange:v=>p("darkColor",v)}),n.jsx($D,{label:"Color fondo",value:o.lightColor||"#FFFFFF",onChange:v=>p("lightColor",v)})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:["Tamao preview: ",o.size,"px"]}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:f2e.map(v=>n.jsx("button",{onClick:()=>p("size",v),style:{padding:"6px 14px",border:`1.5px solid ${o.size===v?eo:"#E5E7EB"}`,borderRadius:"8px",backgroundColor:o.size===v?"#FFF4EC":"#FAFAFA",color:o.size===v?eo:"#555",cursor:"pointer",fontSize:"13px",fontWeight:o.size===v?700:500},children:v},v))})]})]}),d==="avanzado"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:"Nivel de correccin de errores"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:MD.map(v=>{const C=o.errorCorrection===v.id;return n.jsxs("button",{onClick:()=>p("errorCorrection",v.id),style:{padding:"12px 14px",border:`1.5px solid ${C?eo:"#E5E7EB"}`,borderRadius:"10px",backgroundColor:C?"#FFF4EC":"#FAFAFA",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.15s"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:C?700:500,color:C?eo:"#374151"},children:v.label}),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:v.desc})]},v.id)})}),n.jsxs("div",{style:{marginTop:"10px",padding:"10px 14px",backgroundColor:"#EFF6FF",borderRadius:"8px",border:"1px solid #BFDBFE",fontSize:"12px",color:"#2563EB"},children:[" Us ",n.jsx("strong",{children:"H (Mxima)"})," si vas a superponer el logo de la empresa sobre el QR"]})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:["Margen: ",o.margin," mdulos"]}),n.jsx("input",{type:"range",min:0,max:6,value:o.margin??2,onChange:v=>p("margin",Number(v.target.value)),style:{width:"100%",accentColor:eo}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#9CA3AF"},children:[n.jsx("span",{children:"Sin margen"}),n.jsx("span",{children:"Margen mximo"})]})]})]})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"16px"},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"12px"},children:"Generado con"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[{label:"Motor",value:"qrcode@1.5 (local)"},{label:"APIs externas",value:"Ninguna "},{label:"Correccin",value:`${o.errorCorrection}  ${(b=MD.find(v=>v.id===o.errorCorrection))==null?void 0:b.desc}`},{label:"Tamao",value:`${o.size}px preview  600px export`}].map(v=>n.jsxs("div",{style:{padding:"8px 12px",backgroundColor:"#F9FAFB",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",marginBottom:"2px"},children:v.label}),n.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#374151"},children:v.value})]},v.label))})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",alignSelf:"flex-start"},children:"Vista previa"}),n.jsx("div",{style:{padding:"16px",backgroundColor:o.lightColor||"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"center"},children:t?n.jsx(ov,{value:t,options:{...o,size:Math.min(o.size??256,280)},onGenerated:s}):n.jsxs("div",{style:{width:200,height:200,display:"flex",alignItems:"center",justifyContent:"center",color:"#E5E7EB",flexDirection:"column",gap:"8px"},children:[n.jsx(Ro,{size:48,strokeWidth:1}),n.jsx("span",{style:{fontSize:"12px"},children:"Ingres un valor"})]})}),t&&n.jsxs("div",{style:{fontSize:"12px",color:"#9CA3AF"},children:["Preview ",Math.min(o.size??256,280),"px  Export 600px"]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",padding:"20px",display:"flex",flexDirection:"column",gap:"10px"},children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"4px"},children:"Descargar"}),n.jsxs("button",{onClick:m,disabled:!t,style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",border:"none",borderRadius:"10px",backgroundColor:t?eo:"#E5E7EB",color:t?"#fff":"#9CA3AF",cursor:t?"pointer":"default",fontSize:"14px",fontWeight:700,width:"100%",justifyContent:"center",transition:"all 0.15s"},children:[n.jsx(Ht,{size:16})," Descargar PNG (alta res.)"]}),n.jsxs("button",{onClick:y,disabled:!t,style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",border:`1.5px solid ${t?eo:"#E5E7EB"}`,borderRadius:"10px",backgroundColor:"#fff",color:t?eo:"#9CA3AF",cursor:t?"pointer":"default",fontSize:"14px",fontWeight:700,width:"100%",justifyContent:"center",transition:"all 0.15s"},children:[n.jsx(Ht,{size:16})," Descargar SVG (vectorial)"]}),n.jsx("button",{onClick:h,disabled:!a,style:{display:"flex",alignItems:"center",gap:"10px",padding:"11px 16px",border:"1.5px solid #E5E7EB",borderRadius:"10px",backgroundColor:"#F9FAFB",color:l?"#059669":"#555",cursor:a?"pointer":"default",fontSize:"13px",fontWeight:600,width:"100%",justifyContent:"center",transition:"all 0.15s"},children:l?n.jsxs(n.Fragment,{children:[n.jsx(ft,{size:15})," Copiado"]}):n.jsxs(n.Fragment,{children:[n.jsx(ho,{size:15})," Copiar como Data URL"]})})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#FFF8F5",borderRadius:"12px",border:"1px solid #FDDCCC"},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:eo,marginBottom:"6px"},children:" Integrado en Etiqueta Emotiva"}),n.jsx("div",{style:{fontSize:"12px",color:"#92400E",lineHeight:"1.5"},children:"Los QR de las etiquetas se generan con este mismo motor interno. Sin llamadas externas, sin lmites de uso."})]})]})]})})]})}function $D({label:e,value:t,onChange:r}){return n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:e}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",border:"1.5px solid #E5E7EB",borderRadius:"10px",backgroundColor:"#FAFAFA"},children:[n.jsx("input",{type:"color",value:t,onChange:o=>r(o.target.value),style:{width:"32px",height:"32px",border:"none",borderRadius:"6px",cursor:"pointer",padding:"0",backgroundColor:"transparent"}}),n.jsx("span",{style:{fontSize:"13px",fontFamily:"monospace",color:"#374151",fontWeight:600},children:t.toUpperCase()})]})]})}function x2e({onNavigate:e}){const t=i=>()=>e(i),r=[{id:"pos",icon:Sd,onClick:t("pos"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Ventas  Caja",label:"Punto de Venta (POS)",description:"Terminal de caja estilo supermercado. Bsqueda de productos, carrito, descuentos, mtodos de pago y ticket imprimible.",stats:[{icon:Sd,value:"",label:"Ventas hoy"},{icon:yn,value:"",label:"Total hoy"},{icon:Oh,value:"",label:"Ticket prom."}]},{id:"erp-inventario",icon:Rt,onClick:t("erp-inventario"),gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"#F59E0B",badge:"Catlogo",label:"Catlogo de Artculos",description:"Gestin de productos, stock, lotes, variantes y movimientos de inventario en tiempo real.",stats:[{icon:Rt,value:"",label:"Productos"},{icon:Ys,value:"",label:"Sin stock"},{icon:br,value:"",label:"Categoras"}]},{id:"departamentos",icon:ng,onClick:t("departamentos"),gradient:"linear-gradient(135deg, #14B8A6 0%, #0F766E 100%)",color:"#14B8A6",badge:"Estructura",label:"Departamentos y Categoras",description:"rbol jerrquico de departamentos, categoras y subcategoras con iconos y SEO integrado.",stats:[{icon:ng,value:"",label:"Deptos"},{icon:Ys,value:"",label:"Categoras"},{icon:ft,value:"",label:"Activos"}]},{id:"clientes",icon:cs,onClick:t("clientes"),gradient:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"#3B82F6",badge:"Clientes",label:"Clientes",description:"Compradores con historial de pedidos, saldo, etiquetas y segmentacin por comportamiento.",stats:[{icon:Et,value:"",label:"Total"},{icon:Xt,value:"",label:"Activos"},{icon:cs,value:"",label:"Nuevos"}]},{id:"personas",icon:So,onClick:t("personas"),gradient:"linear-gradient(135deg, #6366F1 0%, #4338CA 100%)",color:"#6366F1",badge:"Base de datos",label:"Personas",description:"Base de personas naturales del sistema. Perfiles unificados con roles y vinculaciones.",stats:[{icon:So,value:"",label:"Registradas"},{icon:ft,value:"",label:"Activas"},{icon:Et,value:"",label:"Con roles"}]},{id:"organizaciones",icon:Oi,onClick:t("organizaciones"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Empresas",label:"Organizaciones",description:"Empresas, cooperativas y entidades registradas con jerarqua, contactos y documentos.",stats:[{icon:Oi,value:"",label:"Registradas"},{icon:ft,value:"",label:"Activas"},{icon:Et,value:"",label:"Contactos"}]},{id:"erp-facturacion",icon:Oh,onClick:t("erp-facturacion"),gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#10B981",badge:"Finanzas",label:"Facturacin",description:"Emisin de facturas, comprobantes y cobros. Historial completo con estado de pago.",stats:[{icon:Oh,value:"",label:"Emitidas"},{icon:Ct,value:"",label:"Pendientes"},{icon:yn,value:"",label:"Cobradas"}]},{id:"erp-compras",icon:kF,onClick:t("erp-compras"),gradient:"linear-gradient(135deg, #F97316 0%, #C2410C 100%)",color:"#F97316",badge:"Compras  Proveedores",label:"Compras",description:"rdenes de compra, gestin de proveedores, recepcin de mercadera y control de costos.",stats:[{icon:kF,value:"",label:"OC activas"},{icon:Jt,value:"",label:"Pendientes"},{icon:Et,value:"",label:"Proveedores"}]},{id:"erp-crm",icon:Et,onClick:t("erp-crm"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:"CRM",label:"CRM",description:"Contactos, pipeline de ventas Kanban y actividades del equipo con vista por etapa.",stats:[{icon:Et,value:"8",label:"Contactos"},{icon:Xt,value:"$1M",label:"Pipeline"},{icon:ft,value:"2",label:"Cerrados"}]},{id:"erp-rrhh",icon:By,onClick:t("erp-rrhh"),gradient:"linear-gradient(135deg, #EC4899 0%, #BE185D 100%)",color:"#EC4899",badge:"RRHH",label:"Recursos Humanos",description:"Empleados, nmina, asistencia y gestin de personal con legajos y documentos.",stats:[{icon:By,value:"",label:"Empleados"},{icon:ft,value:"",label:"Activos"},{icon:Ct,value:"",label:"Ausencias"}]},{id:"proyectos",icon:FF,onClick:t("proyectos"),gradient:"linear-gradient(135deg, #0EA5E9 0%, #0369A1 100%)",color:"#0EA5E9",badge:"Proyectos  Kanban",label:"Proyectos",description:"Tablero Kanban, tareas, asignaciones y seguimiento de proyectos internos y externos.",stats:[{icon:FF,value:"",label:"Proyectos"},{icon:Ct,value:"",label:"En curso"},{icon:ft,value:"",label:"Completados"}]}],o=[{icon:rl,label:"ERP Central",desc:"Sistema empresarial integrado completo"},{icon:Wi,label:"Contabilidad",desc:"Plan de cuentas, asientos y balances"}];return n.jsx(vc,{hubIcon:hr,title:"Gestin",subtitle:"ERP  Base de Personas  Organizaciones  CRM  RRHH  Proyectos",sections:[{cards:r}],comingSoon:o})}const kr="#FF6835",ND="rgba(255,104,53,0.10)",m2e=[{id:"all",label:"Todos",emoji:""},{id:"alimentos",label:"Alimentos",emoji:""},{id:"bebidas",label:"Bebidas",emoji:""},{id:"limpieza",label:"Limpieza",emoji:""},{id:"higiene",label:"Higiene",emoji:""},{id:"frescos",label:"Frescos",emoji:""},{id:"lacteos",label:"Lcteos",emoji:""},{id:"panaderia",label:"Panadera",emoji:""}],y2e=[{id:"p1",code:"7890001",name:"Arroz Largo Fino 1kg",category:"alimentos",price:89,unit:"kg",tax:10,emoji:"",stock:48},{id:"p2",code:"7890002",name:"Aceite Girasol 900ml",category:"alimentos",price:125,unit:"u",tax:10,emoji:"",stock:32},{id:"p3",code:"7890003",name:"Fideos Spaghetti 500g",category:"alimentos",price:62,unit:"u",tax:10,emoji:"",stock:60},{id:"p4",code:"7890004",name:"Harina 000 1kg",category:"alimentos",price:55,unit:"u",tax:10,emoji:"",stock:25},{id:"p5",code:"7890005",name:"Azcar Blanca 1kg",category:"alimentos",price:70,unit:"u",tax:10,emoji:"",stock:40},{id:"p6",code:"7890006",name:"Coca Cola 2.25L",category:"bebidas",price:135,unit:"u",tax:22,emoji:"",stock:55},{id:"p7",code:"7890007",name:"Agua Mineral 500ml",category:"bebidas",price:38,unit:"u",tax:22,emoji:"",stock:120},{id:"p8",code:"7890008",name:"Jugo Naranja 1L",category:"bebidas",price:95,unit:"u",tax:22,emoji:"",stock:30},{id:"p9",code:"7890009",name:"Cerveza Lata 473ml",category:"bebidas",price:88,unit:"u",tax:22,emoji:"",stock:80},{id:"p10",code:"7890010",name:"Detergente Limn 750ml",category:"limpieza",price:98,unit:"u",tax:22,emoji:"",stock:22},{id:"p11",code:"7890011",name:"Lavandina 1L",category:"limpieza",price:45,unit:"u",tax:22,emoji:"",stock:35},{id:"p12",code:"7890012",name:"Jabn en Polvo 800g",category:"limpieza",price:215,unit:"u",tax:22,emoji:"",stock:18},{id:"p13",code:"7890013",name:"Shampoo 400ml",category:"higiene",price:185,unit:"u",tax:22,emoji:"",stock:12},{id:"p14",code:"7890014",name:"Papel Higinico x4",category:"higiene",price:120,unit:"u",tax:22,emoji:"",stock:50},{id:"p15",code:"7890015",name:"Desodorante Roll-On",category:"higiene",price:145,unit:"u",tax:22,emoji:"",stock:20},{id:"p16",code:"7890016",name:"Pollo Entero kg",category:"frescos",price:195,unit:"kg",tax:10,emoji:"",stock:15},{id:"p17",code:"7890017",name:"Carne Picada kg",category:"frescos",price:380,unit:"kg",tax:10,emoji:"",stock:8},{id:"p18",code:"7890018",name:"Milanesa de Ternera kg",category:"frescos",price:450,unit:"kg",tax:10,emoji:"",stock:6},{id:"p19",code:"7890019",name:"Leche Entera 1L",category:"lacteos",price:72,unit:"u",tax:0,emoji:"",stock:90},{id:"p20",code:"7890020",name:"Yogur Natural 190g",category:"lacteos",price:58,unit:"u",tax:0,emoji:"",stock:45},{id:"p21",code:"7890021",name:"Queso Dambo kg",category:"lacteos",price:520,unit:"kg",tax:0,emoji:"",stock:5},{id:"p22",code:"7890022",name:"Manteca 200g",category:"lacteos",price:110,unit:"u",tax:0,emoji:"",stock:28},{id:"p23",code:"7890023",name:"Pan Lactal 500g",category:"panaderia",price:95,unit:"u",tax:0,emoji:"",stock:20},{id:"p24",code:"7890024",name:"Medialunas x6",category:"panaderia",price:85,unit:"u",tax:0,emoji:"",stock:15}],LD=[{id:"efectivo",label:"Efectivo",icon:h8,color:"#10B981"},{id:"tarjeta",label:"Tarjeta",icon:mn,color:"#3B82F6"},{id:"qr",label:"QR / Transfer",icon:Ro,color:"#8B5CF6"},{id:"cuenta",label:"Cuenta Cte.",icon:qee,color:kr}],bo=e=>e.toLocaleString("es-UY",{minimumFractionDigits:2,maximumFractionDigits:2});function xu({label:e,onPress:t,color:r,flex:o,fontSize:i}){const[a,s]=A.useState(!1);return n.jsx("button",{onPointerDown:()=>s(!0),onPointerUp:()=>{s(!1),t()},onPointerLeave:()=>s(!1),style:{flex:o??1,padding:"14px 4px",border:"1px solid #E5E7EB",borderRadius:10,backgroundColor:a?"#F3F4F6":"#FFFFFF",color:r??"#111827",fontSize:i??"1.1rem",fontWeight:"700",cursor:"pointer",transition:"background 0.08s",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:e})}function b2e({onNavigate:e}){const[t,r]=A.useState("pos"),[o,i]=A.useState(""),[a,s]=A.useState("all"),[l,c]=A.useState([]),[d,f]=A.useState(null),[p,h]=A.useState(0),[x,m]=A.useState("efectivo"),[y,b]=A.useState(""),[v,C]=A.useState(""),[S,F]=A.useState("qty"),[w,k]=A.useState(new Date),[E,T]=A.useState([]),[_,z]=A.useState(0),[B,P]=A.useState(1001),[D,I]=A.useState(""),[N,M]=A.useState(!1),V=A.useRef(null);A.useEffect(()=>{const ie=setInterval(()=>k(new Date),1e3);return()=>clearInterval(ie)},[]);const L=y2e.filter(ie=>{const re=a==="all"||ie.category===a,Se=o.toLowerCase(),Ae=!Se||ie.name.toLowerCase().includes(Se)||ie.code.includes(Se);return re&&Ae}),W=l.reduce((ie,re)=>{const Se=re.product.price*re.qty;return ie+Se*(1-re.discount/100)},0),G=W*(p/100),H=W-G,K=x==="efectivo"?Math.max(0,parseFloat(y||"0")-H):0,ne=ie=>{c(re=>re.find(Ae=>Ae.product.id===ie.id)?re.map(Ae=>Ae.product.id===ie.id?{...Ae,qty:Ae.qty+1}:Ae):[...re,{product:ie,qty:1,discount:0}]),f(ie.id),C(""),F("qty")},Q=ie=>{if(S==="cash"){b(re=>ie==="."&&re.includes(".")?re:ie===""?re.slice(0,-1):ie==="C"?"":re+ie);return}d&&C(re=>ie===""?re.slice(0,-1):ie==="C"?"":ie==="."&&re.includes(".")?re:re+ie)},pe=()=>{if(!d||!v)return;const ie=parseFloat(v);isNaN(ie)||ie<=0||(c(re=>re.map(Se=>Se.product.id!==d?Se:S==="qty"?{...Se,qty:ie}:S==="discount"?{...Se,discount:Math.min(ie,100)}:Se)),C(""))},X=ie=>{c(re=>re.filter(Se=>Se.product.id!==ie)),d===ie&&f(null)},se=()=>{l.length!==0&&(T([...l]),z(H),r("receipt"))},ae=()=>{c([]),f(null),h(0),b(""),C(""),P(ie=>ie+1),I(""),r("pos")},ye=l.find(ie=>ie.product.id===d);if(t==="receipt"){const ie=LD.find(re=>re.id===x);return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#F8F9FA",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"18px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF",display:"flex",alignItems:"center",gap:16},children:[n.jsx("div",{style:{width:40,height:40,borderRadius:10,background:`linear-gradient(135deg, ${kr} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(tR,{size:20,color:"#fff",strokeWidth:2.5})}),n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"1.2rem",fontWeight:"800",color:"#1A1A2E"},children:"Venta Completada "}),n.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"#6C757D"},children:["Ticket #",B,"  ",w.toLocaleString("es-UY")]})]}),n.jsx("div",{style:{marginLeft:"auto"},children:n.jsxs("button",{onClick:ae,style:{padding:"10px 22px",borderRadius:10,border:"none",background:`linear-gradient(135deg, ${kr} 0%, #ff8c42 100%)`,color:"#fff",fontWeight:"800",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:8},children:[n.jsx(Nt,{size:16})," Nueva Venta"]})})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"32px",display:"flex",justifyContent:"center"},children:n.jsxs("div",{style:{width:420,backgroundColor:"#fff",borderRadius:16,border:"1px solid #E9ECEF",padding:"32px",boxShadow:"0 8px 32px rgba(0,0,0,0.08)"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:24,paddingBottom:20,borderBottom:"1px dashed #D1D5DB"},children:[n.jsx("div",{style:{width:52,height:52,borderRadius:12,background:`linear-gradient(135deg, ${kr} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 10px"},children:n.jsx(tR,{size:24,color:"#fff"})}),n.jsx("p",{style:{margin:0,fontWeight:"800",fontSize:"1.1rem",color:"#111"},children:"CHARLIE MARKETPLACE"}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.75rem",color:"#9CA3AF"},children:"Punto de Venta  Caja #1"}),n.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.78rem",color:"#6B7280"},children:w.toLocaleString("es-UY",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.78rem",fontWeight:"700",color:"#111"},children:["TICKET #",B]}),D&&n.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.75rem",color:"#6B7280"},children:["Cliente: ",D]})]}),n.jsx("div",{style:{marginBottom:20},children:E.map((re,Se)=>{const Ae=re.product.price*re.qty*(1-re.discount/100);return n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid #F3F4F6",alignItems:"flex-start",gap:8},children:[n.jsxs("div",{style:{flex:1},children:[n.jsxs("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600",color:"#111"},children:[re.product.emoji," ",re.product.name]}),n.jsxs("p",{style:{margin:"1px 0 0",fontSize:"0.7rem",color:"#9CA3AF"},children:[re.qty," ",re.product.unit,"  $",bo(re.product.price),re.discount>0&&` (${re.discount}%)`]})]}),n.jsxs("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:"700",color:"#111",whiteSpace:"nowrap"},children:["$",bo(Ae)]})]},Se)})}),n.jsxs("div",{style:{borderTop:"1px dashed #D1D5DB",paddingTop:16,marginBottom:20},children:[p>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[n.jsxs("span",{style:{fontSize:"0.8rem",color:"#6B7280"},children:["Descuento general (",p,"%)"]}),n.jsxs("span",{style:{fontSize:"0.8rem",color:"#EF4444",fontWeight:"700"},children:["$",bo(W*p/100)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{style:{fontSize:"1rem",fontWeight:"800",color:"#111"},children:"TOTAL"}),n.jsxs("span",{style:{fontSize:"1.3rem",fontWeight:"900",color:kr},children:["$",bo(_)]})]})]}),n.jsxs("div",{style:{backgroundColor:`${ie.color}10`,borderRadius:10,border:`1px solid ${ie.color}30`,padding:"12px 16px",marginBottom:20},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx(ie.icon,{size:16,color:ie.color}),n.jsx("span",{style:{fontWeight:"700",color:ie.color,fontSize:"0.85rem"},children:ie.label})]}),x==="efectivo"&&parseFloat(y)>0&&n.jsx("div",{style:{marginTop:8},children:n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280"},children:["Recibido: $",bo(parseFloat(y)),"  Vuelto: ",n.jsxs("strong",{children:["$",bo(K)]})]})})]}),n.jsxs("div",{style:{textAlign:"center",paddingTop:16,borderTop:"1px dashed #D1D5DB"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#9CA3AF"},children:"Gracias por su compra!"}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.68rem",color:"#D1D5DB"},children:"www.charliemarketplace.com"})]}),n.jsxs("button",{onClick:()=>window.print(),style:{marginTop:20,width:"100%",padding:"11px",border:"1.5px solid #E5E7EB",borderRadius:10,backgroundColor:"#F9FAFB",color:"#374151",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:7},children:[n.jsx(Mi,{size:15})," Imprimir Ticket"]})]})})]})}return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#F0F2F5",overflow:"hidden",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[n.jsxs("div",{style:{height:56,backgroundColor:"#1A1A2E",display:"flex",alignItems:"center",padding:"0 20px",gap:16,flexShrink:0},children:[n.jsxs("button",{onClick:()=>e("gestion"),style:{background:"none",border:"none",cursor:"pointer",color:"rgba(255,255,255,0.5)",display:"flex",alignItems:"center",gap:5,fontSize:"0.78rem",fontWeight:"600",padding:"4px 8px",borderRadius:6},onMouseEnter:ie=>ie.currentTarget.style.color="#fff",onMouseLeave:ie=>ie.currentTarget.style.color="rgba(255,255,255,0.5)",children:[n.jsx(f8,{size:14})," Gestin"]}),n.jsx("div",{style:{width:1,height:24,backgroundColor:"rgba(255,255,255,0.12)"}}),n.jsx("div",{style:{width:30,height:30,borderRadius:8,background:`linear-gradient(135deg, ${kr} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Sd,{size:15,color:"#fff",strokeWidth:2.5})}),n.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"0.95rem"},children:"POS Terminal"}),n.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"700",padding:"2px 8px",borderRadius:6,backgroundColor:ND,color:kr,border:`1px solid ${kr}40`},children:"Caja #1"}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:16},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:"rgba(255,255,255,0.7)",fontSize:"0.78rem"},children:[n.jsx(So,{size:13}),n.jsx("span",{children:"Operador"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:"rgba(255,255,255,0.7)",fontSize:"0.78rem"},children:[n.jsx(Ct,{size:13}),n.jsx("span",{children:w.toLocaleTimeString("es-UY",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),n.jsx("div",{style:{padding:"4px 10px",borderRadius:6,fontSize:"0.72rem",fontWeight:"700",backgroundColor:"#10B98120",color:"#10B981",border:"1px solid #10B98140"},children:" EN LNEA"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",gap:0},children:[n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F0F2F5",borderRight:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{padding:"14px 16px 10px",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,backgroundColor:"#F3F4F6",borderRadius:12,padding:"10px 14px",border:"1.5px solid transparent"},onFocus:()=>{},children:[n.jsx(tr,{size:16,color:"#9CA3AF"}),n.jsx("input",{ref:V,value:o,onChange:ie=>i(ie.target.value),placeholder:"Buscar producto o cdigo de barras",style:{flex:1,border:"none",background:"none",outline:"none",fontSize:"0.88rem",color:"#111827"}}),o&&n.jsx("button",{onClick:()=>i(""),style:{background:"none",border:"none",cursor:"pointer",display:"flex"},children:n.jsx(Ut,{size:14,color:"#9CA3AF"})}),n.jsx("div",{style:{width:1,height:18,backgroundColor:"#D1D5DB"}}),n.jsx(Sd,{size:16,color:kr,style:{cursor:"pointer"},title:"Escanear cdigo"})]})}),n.jsx("div",{style:{display:"flex",gap:8,padding:"10px 16px",overflowX:"auto",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF",flexShrink:0},children:m2e.map(ie=>n.jsxs("button",{onClick:()=>s(ie.id),style:{display:"flex",alignItems:"center",gap:5,padding:"6px 14px",borderRadius:20,border:"none",backgroundColor:a===ie.id?kr:"#F3F4F6",color:a===ie.id?"#fff":"#374151",fontWeight:"700",fontSize:"0.78rem",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.12s",flexShrink:0},children:[n.jsx("span",{children:ie.emoji})," ",ie.label]},ie.id))}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"14px 16px"},children:L.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#9CA3AF"},children:[n.jsx(Rt,{size:40,style:{marginBottom:12,opacity:.3}}),n.jsx("p",{style:{margin:0,fontWeight:"700"},children:"Sin resultados"})]}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:10},children:L.map(ie=>{const re=l.find(Se=>Se.product.id===ie.id);return n.jsxs("button",{onClick:()=>ne(ie),style:{backgroundColor:"#fff",border:re?`2px solid ${kr}`:"1.5px solid #E5E7EB",borderRadius:12,padding:"12px 10px",cursor:"pointer",textAlign:"left",transition:"all 0.12s",boxShadow:re?`0 0 0 3px ${kr}20`:"0 1px 4px rgba(0,0,0,0.05)",position:"relative"},onMouseEnter:Se=>{re||(Se.currentTarget.style.borderColor="#D1D5DB"),Se.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:Se=>{re||(Se.currentTarget.style.borderColor="#E5E7EB"),Se.currentTarget.style.transform="translateY(0)"},children:[re&&n.jsx("div",{style:{position:"absolute",top:6,right:6,width:20,height:20,borderRadius:"50%",backgroundColor:kr,color:"#fff",fontSize:"0.65rem",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center"},children:re.qty}),n.jsx("div",{style:{fontSize:"1.8rem",marginBottom:6},children:ie.emoji}),n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.75rem",fontWeight:"700",color:"#111827",lineHeight:1.3},children:ie.name}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF",marginBottom:6},children:ie.code}),n.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:"900",color:kr},children:["$",bo(ie.price),n.jsxs("span",{style:{fontSize:"0.62rem",fontWeight:"500",color:"#9CA3AF",marginLeft:3},children:["/",ie.unit]})]}),ie.stock<=10&&n.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.62rem",color:"#F59E0B",fontWeight:"700"},children:[" Stock: ",ie.stock]})]},ie.id)})})})]}),n.jsxs("div",{style:{width:420,display:"flex",flexDirection:"column",backgroundColor:"#fff",overflow:"hidden",flexShrink:0},children:[n.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #E9ECEF",display:"flex",alignItems:"center",gap:10},children:[n.jsx(ir,{size:18,color:kr}),n.jsxs("span",{style:{fontWeight:"800",color:"#111827",flex:1},children:["Ticket #",B]}),n.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF",fontWeight:"600"},children:[l.length," ",l.length===1?"tem":"tems"]}),l.length>0&&n.jsx("button",{onClick:()=>{c([]),f(null)},style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444",display:"flex",padding:4},title:"Vaciar carrito",children:n.jsx(xr,{size:15})})]}),n.jsx("div",{style:{borderBottom:"1px solid #E9ECEF"},children:N?n.jsxs("div",{style:{padding:"8px 12px",display:"flex",gap:8,alignItems:"center"},children:[n.jsx(So,{size:14,color:"#9CA3AF"}),n.jsx("input",{value:D,onChange:ie=>I(ie.target.value),placeholder:"Nombre del cliente",autoFocus:!0,style:{flex:1,border:"none",outline:"none",fontSize:"0.82rem",color:"#111827"}}),n.jsx("button",{onClick:()=>M(!1),style:{background:"none",border:"none",cursor:"pointer",display:"flex"},children:n.jsx(rn,{size:14,color:kr})})]}):n.jsxs("button",{onClick:()=>M(!0),style:{width:"100%",padding:"8px 12px",display:"flex",alignItems:"center",gap:8,border:"none",background:"none",cursor:"pointer",color:D?"#111827":"#9CA3AF",fontSize:"0.78rem",fontWeight:D?"700":"500",textAlign:"left"},children:[n.jsx(So,{size:13,color:D?kr:"#9CA3AF"}),D||"Cliente annimo  Toca para asignar",n.jsx(Yn,{size:12,style:{marginLeft:"auto",color:"#9CA3AF"}})]})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#FAFAFA"},children:l.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#D1D5DB"},children:[n.jsx(ir,{size:36,style:{opacity:.3,marginBottom:10}}),n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600"},children:"Carrito vaco"}),n.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.72rem"},children:"Seleccion productos"})]}):n.jsx("div",{style:{padding:"8px 0"},children:l.map(ie=>{const re=ie.product.price*ie.qty*(1-ie.discount/100),Se=d===ie.product.id;return n.jsx("div",{onClick:()=>{f(ie.product.id),C(""),F("qty")},style:{padding:"10px 14px",backgroundColor:Se?`${kr}08`:"transparent",borderLeft:Se?`3px solid ${kr}`:"3px solid transparent",cursor:"pointer",transition:"all 0.1s",borderBottom:"1px solid #F3F4F6"},children:n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[n.jsx("span",{style:{fontSize:"1.3rem",lineHeight:1},children:ie.product.emoji}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"700",color:"#111827",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:ie.product.name}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),c(te=>te.map(he=>he.product.id===ie.product.id?{...he,qty:Math.max(.5,he.qty-1)}:he))},style:{width:22,height:22,borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(bb,{size:11,color:"#374151"})}),n.jsx("span",{style:{fontSize:"0.82rem",fontWeight:"800",minWidth:28,textAlign:"center",color:"#111"},children:ie.qty}),n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),c(te=>te.map(he=>he.product.id===ie.product.id?{...he,qty:he.qty+1}:he))},style:{width:22,height:22,borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Nt,{size:11,color:"#374151"})}),n.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:[" $",bo(ie.product.price)]}),ie.discount>0&&n.jsxs("span",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#EF4444",backgroundColor:"#FEF2F2",padding:"1px 5px",borderRadius:4},children:["",ie.discount,"%"]})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:6},children:[n.jsxs("span",{style:{fontSize:"0.92rem",fontWeight:"900",color:"#111"},children:["$",bo(re)]}),n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),X(ie.product.id)},style:{background:"none",border:"none",cursor:"pointer",display:"flex",color:"#EF4444",padding:0,opacity:.6},children:n.jsx(Ut,{size:13})})]})]})},ie.product.id)})})}),n.jsxs("div",{style:{padding:"10px 12px",borderTop:"1px solid #E9ECEF",backgroundColor:"#F9FAFB"},children:[n.jsx("div",{style:{display:"flex",gap:6,marginBottom:8},children:["qty","discount","cash"].map(ie=>{const re={qty:n.jsx(Ys,{size:11}),discount:n.jsx(Py,{size:11}),cash:n.jsx(h8,{size:11})},Se={qty:"Cantidad",discount:"Desc. tem",cash:"Efectivo"};return n.jsxs("button",{onClick:()=>{F(ie),C("")},style:{flex:1,padding:"5px 4px",borderRadius:7,border:S===ie?`1.5px solid ${kr}`:"1.5px solid #E5E7EB",backgroundColor:S===ie?ND:"#fff",color:S===ie?kr:"#6B7280",fontWeight:"700",fontSize:"0.65rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:3},children:[re[ie]," ",Se[ie]]},ie)})}),n.jsxs("div",{style:{backgroundColor:"#1A1A2E",borderRadius:8,padding:"8px 14px",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("span",{style:{fontSize:"0.68rem",color:"rgba(255,255,255,0.4)",fontWeight:"600"},children:[S==="qty"?"CANT.":S==="discount"?"DESC. %":"EFECTIVO $",S!=="cash"&&ye?`  ${ye.product.name.slice(0,20)}`:""]}),n.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"900",color:"#fff",letterSpacing:"0.05em"},children:S==="cash"?y||"0.00":v||(S==="qty"?(ye==null?void 0:ye.qty)??"":(ye==null?void 0:ye.discount)??"0")})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6},children:[["7","8","9","4","5","6","1","2","3"].map(ie=>n.jsx(xu,{label:ie,onPress:()=>Q(ie)},ie)),n.jsx(xu,{label:".",onPress:()=>Q("."),color:"#9CA3AF"}),n.jsx(xu,{label:"0",onPress:()=>Q("0")}),n.jsx(xu,{label:"",onPress:()=>Q(""),color:"#EF4444"}),n.jsx(xu,{label:"C",onPress:()=>Q("C"),color:"#9CA3AF"}),n.jsx(xu,{label:"",onPress:pe,color:kr,flex:2,fontSize:"1rem"})]})]}),n.jsxs("div",{style:{padding:"12px 16px",borderTop:"2px solid #E9ECEF",backgroundColor:"#fff"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:"Subtotal"}),n.jsxs("span",{style:{fontSize:"0.88rem",fontWeight:"700",color:"#111"},children:["$",bo(W)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:"Desc. general"}),n.jsx("div",{style:{display:"flex",gap:4},children:[0,5,10,15,20].map(ie=>n.jsxs("button",{onClick:()=>h(ie),style:{padding:"2px 6px",borderRadius:5,border:"none",backgroundColor:p===ie?kr:"#F3F4F6",color:p===ie?"#fff":"#6B7280",fontSize:"0.65rem",fontWeight:"700",cursor:"pointer"},children:[ie,"%"]},ie))})]}),p>0&&n.jsxs("span",{style:{fontSize:"0.82rem",fontWeight:"700",color:"#EF4444"},children:["$",bo(G)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:8,borderTop:"2px solid #E9ECEF"},children:[n.jsx("span",{style:{fontSize:"1.05rem",fontWeight:"800",color:"#111"},children:"TOTAL"}),n.jsxs("span",{style:{fontSize:"1.6rem",fontWeight:"900",color:kr},children:["$",bo(H)]})]})]}),n.jsxs("div",{style:{padding:"10px 12px",borderTop:"1px solid #E9ECEF",backgroundColor:"#F9FAFB"},children:[n.jsx("div",{style:{display:"flex",gap:6},children:LD.map(ie=>n.jsxs("button",{onClick:()=>m(ie.id),style:{flex:1,padding:"8px 4px",borderRadius:9,border:x===ie.id?`2px solid ${ie.color}`:"1.5px solid #E5E7EB",backgroundColor:x===ie.id?`${ie.color}12`:"#fff",color:x===ie.id?ie.color:"#9CA3AF",cursor:"pointer",transition:"all 0.12s",display:"flex",flexDirection:"column",alignItems:"center",gap:3},children:[n.jsx(ie.icon,{size:16}),n.jsx("span",{style:{fontSize:"0.58rem",fontWeight:"700",lineHeight:1},children:ie.label})]},ie.id))}),x==="efectivo"&&n.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280",whiteSpace:"nowrap"},children:"Recibido $"}),n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",border:"1.5px solid #E5E7EB",borderRadius:8,padding:"5px 10px",display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{style:{fontSize:"0.88rem",fontWeight:"700",color:"#111"},children:y||""}),y&&parseFloat(y)>H&&n.jsxs("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#10B981"},children:["Vuelto: $",bo(K)]})]}),n.jsx("button",{onClick:()=>{F("cash"),b(bo(H).replace(",","").replace(".",""))},style:{padding:"5px 8px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#fff",fontSize:"0.65rem",fontWeight:"700",color:"#374151",cursor:"pointer"},children:"Exacto"})]})]}),n.jsx("div",{style:{padding:"12px 14px",borderTop:"2px solid #E9ECEF"},children:n.jsxs("button",{onClick:se,disabled:l.length===0,style:{width:"100%",padding:"16px",borderRadius:14,border:"none",background:l.length>0?`linear-gradient(135deg, ${kr} 0%, #ff8c42 100%)`:"#E5E7EB",color:l.length>0?"#fff":"#9CA3AF",fontSize:"1.05rem",fontWeight:"900",cursor:l.length>0?"pointer":"not-allowed",letterSpacing:"0.03em",transition:"all 0.15s",display:"flex",alignItems:"center",justifyContent:"center",gap:10,boxShadow:l.length>0?`0 4px 20px ${kr}50`:"none"},onMouseEnter:ie=>{l.length>0&&(ie.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:ie=>{ie.currentTarget.style.transform="translateY(0)"},children:[n.jsx(xte,{size:20}),"COBRAR $",bo(H),n.jsx(Xr,{size:18})]})})]})]})]})}function v2e({onNavigate:e}){const t=i=>()=>e(i),r=[{id:"diseno",icon:ns,onClick:t("diseno"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"UI  Visual",label:"Diseo & Pruebas",description:"Espacio de diseo y pruebas visuales. Mdulos, departamentos, artculos y herramientas en vista previa.",stats:[{icon:ac,value:"4",label:"Vistas"},{icon:ns,value:"5",label:"Paleta"},{icon:yr,value:"",label:"Previews"}]},{id:"metodos-pago",icon:mn,onClick:t("metodos-pago"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:"Pagos  Cobros",label:"Mtodos de Pago",description:"Configuracin de pasarelas, transferencias y formas de cobro habilitadas para el checkout.",stats:[{icon:mn,value:"",label:"Mtodos"},{icon:pt,value:"",label:"Activos"},{icon:Xt,value:"",label:"Cobros/da"}]},{id:"metodos-envio",icon:At,onClick:t("metodos-envio"),gradient:"linear-gradient(135deg, #EC4899 0%, #BE185D 100%)",color:"#EC4899",badge:"Envo  Zonas",label:"Mtodos de Envo",description:"Configuracin de zonas, tarifas y opciones de entrega habilitadas para los pedidos.",stats:[{icon:At,value:"",label:"Mtodos"},{icon:pt,value:"",label:"Activos"},{icon:Nr,value:"",label:"Zonas"}]},{id:"integraciones",icon:va,onClick:t("integraciones"),gradient:"linear-gradient(135deg, #14B8A6 0%, #0F766E 100%)",color:"#14B8A6",badge:"Conectores",label:"Integraciones",description:"RRSS, Mercado Libre, pagos, logstica y ms. 65 proveedores disponibles en 6 mdulos.",stats:[{icon:va,value:"6",label:"Mdulos"},{icon:pt,value:"1",label:"Conectadas"},{icon:Nr,value:"65",label:"Disponibles"}]},{id:"checklist",icon:_a,onClick:t("checklist"),gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"#F59E0B",badge:"Roadmap  Progreso",label:"Checklist & Roadmap",description:"Estado de todos los mdulos y progreso de Charlie. Cola de ejecucin y auditora del manifest.",stats:[{icon:_a,value:"",label:"Mdulos"},{icon:Xt,value:"",label:"Progreso"},{icon:Ct,value:"",label:"Pendientes"}]},{id:"auth-registro",icon:ig,onClick:t("auth-registro"),gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#10B981",badge:"Auth  Supabase",label:"Registro y Login",description:"Mdulo de autenticacin completo: Login, registro, recuperacin, OAuth (Google, Meta, GitHub). Vista previa + test en vivo.",stats:[{icon:Et,value:"",label:"Usuarios"},{icon:Nr,value:"4",label:"Providers"},{icon:pt,value:"JWT",label:"Tokens"}]},{id:"dashboard-admin",icon:xx,onClick:t("dashboard-admin"),gradient:"linear-gradient(135deg, #FF6835 0%, #ff8c42 100%)",color:"#FF6835",badge:"Admin  Sistema",label:"Dashboard de Admin",description:"Panel de administracin: usuarios por rol, estado de servicios, alertas del sistema y actividad de administracin.",stats:[{icon:Nr,value:"5",label:"Roles"},{icon:Ao,value:"6",label:"Servicios"},{icon:Et,value:"153",label:"Usuarios"}]},{id:"dashboard-usuario",icon:Z7,onClick:t("dashboard-usuario"),gradient:"linear-gradient(135deg, #7C3AED 0%, #5B21B6 100%)",color:"#7C3AED",badge:"Roles  Personalizado",label:"Dashboard de Usuario",description:"Vista personalizada segn el rol del usuario: KPIs, mdulos accesibles, actividad reciente. Simulador de 5 roles.",stats:[{icon:Z7,value:"5",label:"Roles"},{icon:yr,value:"",label:"Mdulos/rol"},{icon:Ao,value:"Live",label:"Simulador"}]},{id:"config-vistas",icon:cc,onClick:t("config-vistas"),gradient:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"#3B82F6",badge:"Permisos  Granular",label:"Config. de Vistas por Rol",description:"Define qu puede ver y hacer cada rol. Toggles granulares por mdulo y sub-accin. Pasarelas, integraciones y ms.",stats:[{icon:Et,value:"5",label:"Roles"},{icon:cc,value:"7",label:"Grupos"},{icon:Nr,value:"40+",label:"Permisos"}]},{id:"documentacion",icon:Wi,onClick:t("documentacion"),gradient:"linear-gradient(135deg, #6B7280 0%, #374151 100%)",color:"#6B7280",badge:"Docs  Versiones",label:"Documentacin",description:"Manual de usuario y documentacin tcnica editable. Control de versiones, historial de cambios. Nivel 1 de auto-actualizacin.",stats:[{icon:Wi,value:"5",label:"Sec. usuario"},{icon:br,value:"4",label:"Sec. tcnica"},{icon:Ct,value:"v1.5",label:"Versin"}]}],o=[{icon:xb,label:"Module Marketplace",desc:"Mdulos enterprise portables"},{icon:Ao,label:"Diagnstico Backend",desc:"Estado de servicios backend"},{icon:yn,label:"Gen. Presupuestos",desc:"Presupuestos para clientes"},{icon:Nr,label:"Auditora Sistema",desc:"Evaluacin de funcionalidades"},{icon:br,label:"Analticas",desc:"Reportes y mtricas avanzadas"}];return n.jsx(vc,{hubIcon:si,title:"Sistema",subtitle:"Configuracin  Integraciones  Diseo  Auditora  Roadmap  Documentacin",sections:[{cards:r}],comingSoon:o})}const j2e={lavender:"#EEF2FF",green:"#F0FDF4",pink:"#FFF0F5",orange:"#FFF4EC",blue:"#EFF6FF",yellow:"#FEFCE8",teal:"#F0FDFA",purple:"#FAF5FF",rose:"#FFF1F2"};function S2e({icon:e,label:t,description:r,color:o,onClick:i}){const[a,s]=A.useState(!1);return n.jsxs("button",{onClick:i,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{backgroundColor:j2e[o],border:"none",borderRadius:"16px",padding:"24px",cursor:i?"pointer":"default",textAlign:"left",display:"flex",flexDirection:"column",gap:"14px",transition:"all 0.15s ease",transform:a&&i?"translateY(-3px)":"none",boxShadow:a&&i?"0 8px 24px rgba(0,0,0,0.10)":"0 2px 8px rgba(0,0,0,0.04)",width:"100%"},children:[n.jsx(e,{size:28,color:"#1F2937",strokeWidth:1.5}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:t}),n.jsx("p",{style:{margin:"6px 0 0",color:"#6B7280",fontSize:"0.78rem",lineHeight:"1.45"},children:r})]})]})}function Oq({cards:e,columns:t=3}){return n.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,gap:"16px"},children:e.map(r=>n.jsx(S2e,{...r},r.id))})}const w2e=[{id:"ec",icon:ir,label:"eCommerce",description:"Tienda online, pedidos y catlogo",color:"blue"},{id:"mkt",icon:In,label:"Marketing",description:"Campaas, CRM y fidelizacin",color:"green"},{id:"ges",icon:hr,label:"Gestin",description:"ERP, POS, Inventario y Ventas",color:"lavender"},{id:"sis",icon:ac,label:"Sistema",description:"Configuracin, auditora y usuarios",color:"teal"},{id:"docs",icon:Wi,label:"Documentacin",description:"Manuales, guas y base de conocimiento",color:"yellow"},{id:"mkt2",icon:ja,label:"Mdulo Marketplace",description:"Vendedores externos y comisiones",color:"pink"}],E2e=[{id:"editor",icon:ns,label:"Editor de Imgenes",description:"Editor profesional con 50+ herramientas e IA",color:"orange"},{id:"docgen",icon:fn,label:"Generador de Documentos",description:"Crea facturas, contratos y ms con IA",color:"blue"},{id:"qrgen",icon:Ro,label:"Generacin del QR",description:"Cdigos QR dinmicos y personalizados",color:"green"},{id:"ocr",icon:Sd,label:"OCR",description:"Extrae texto de imgenes y documentos",color:"lavender"},{id:"presu",icon:yn,label:"Generador de Presupuestos",description:"Presupuestos profesionales para clientes",color:"teal"},{id:"rueda",icon:Fa,label:"Rueda de Sorteos",description:"Sorteos y campaas interactivas",color:"purple"},{id:"print",icon:Mi,label:"Impresin",description:"Trabajos de impresin y etiquetas",color:"yellow"},{id:"bib",icon:Wi,label:"Biblioteca / Documentacin",description:"Manuales, guas y documentacin tcnica",color:"rose"}],C2e=[{id:1,nombre:"Ventas",jefe:"Carlos Ruiz",empleados:12,presupuesto:"$48,000",estado:"Activo",icon:""},{id:2,nombre:"Marketing",jefe:"Ana Garca",empleados:8,presupuesto:"$32,000",estado:"Activo",icon:""},{id:3,nombre:"Logstica",jefe:"Pedro Martnez",empleados:15,presupuesto:"$55,000",estado:"Activo",icon:""},{id:4,nombre:"Soporte Tcnico",jefe:"Laura Snchez",empleados:6,presupuesto:"$24,000",estado:"Activo",icon:""},{id:5,nombre:"Finanzas",jefe:"Miguel Torres",empleados:5,presupuesto:"$28,000",estado:"Activo",icon:""},{id:6,nombre:"RRHH",jefe:"Sofa Lpez",empleados:4,presupuesto:"$18,000",estado:"Activo",icon:""},{id:7,nombre:"Desarrollo",jefe:"Javier Morales",empleados:10,presupuesto:"$72,000",estado:"Activo",icon:""},{id:8,nombre:"Almacn",jefe:"Roberto Daz",empleados:9,presupuesto:"$21,000",estado:"Inactivo",icon:""}],k2e=[{id:1,nombre:'Laptop Pro 15"',sku:"LAP-001",cat:"Electrnica",precio:1299,stock:45,estado:"Activo",icon:""},{id:2,nombre:"Mouse Inalmbrico",sku:"MOU-012",cat:"Accesorios",precio:39.99,stock:120,estado:"Activo",icon:""},{id:3,nombre:"Teclado Mecnico RGB",sku:"TEC-023",cat:"Accesorios",precio:89.99,stock:67,estado:"Activo",icon:""},{id:4,nombre:'Monitor 27" 4K',sku:"MON-034",cat:"Electrnica",precio:549,stock:23,estado:"Activo",icon:""},{id:5,nombre:"Auriculares Bluetooth",sku:"AUR-045",cat:"Audio",precio:129,stock:88,estado:"Activo",icon:""},{id:6,nombre:"Cmara Web HD",sku:"CAM-056",cat:"Electrnica",precio:79.99,stock:4,estado:"Crtico",icon:""},{id:7,nombre:"SSD 1TB NVMe",sku:"SSD-067",cat:"Almacenaje",precio:119,stock:56,estado:"Activo",icon:""},{id:8,nombre:"Hub USB-C 7 en 1",sku:"HUB-078",cat:"Accesorios",precio:49.99,stock:0,estado:"Sin Stock",icon:""},{id:9,nombre:"Silla Ergonmica",sku:"SIL-089",cat:"Mobiliario",precio:349,stock:12,estado:"Activo",icon:""},{id:10,nombre:"Impresora Lser",sku:"IMP-090",cat:"Perifricos",precio:229,stock:18,estado:"Activo",icon:""},{id:11,nombre:'Tablet 10"',sku:"TAB-101",cat:"Electrnica",precio:399,stock:34,estado:"Activo",icon:""},{id:12,nombre:"Router WiFi 6",sku:"ROU-112",cat:"Redes",precio:159,stock:29,estado:"Activo",icon:""}],xy="#FF6835";function F2e({onNavigate:e}){const[t,r]=A.useState("1"),o=[{id:"1",label:"Mdulos"},{id:"2",label:"Departamentos"},{id:"3",label:"Artculos"},{id:"4",label:"Herramientas"}],i=n.jsxs("span",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[n.jsx("span",{children:"Diseo"}),["1","2","3","4"].map(a=>n.jsxs("span",{style:{color:a===t?"#FFFFFF":"rgba(255,255,255,0.55)",fontWeight:a===t?"900":"400",fontSize:a===t?"1.5rem":"1.25rem",cursor:"pointer"},onClick:()=>r(a),children:["#",a]},a))]});return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ns,title:i,subtitle:"Espacio de diseo y pruebas visuales",actions:[{label:"Volver",onClick:()=>e("sistema")},{label:"Tienda",primary:!0}]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:`3px solid ${xy}`,padding:"0 32px",display:"flex",gap:"4px",flexShrink:0},children:o.map(a=>n.jsxs("button",{onClick:()=>r(a.id),style:{padding:"14px 20px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:t===a.id?xy:"#6B7280",fontWeight:t===a.id?"700":"500",fontSize:"0.875rem",borderBottom:t===a.id?`3px solid ${xy}`:"3px solid transparent",marginBottom:"-3px",transition:"all 0.15s ease"},children:["#",a.id,"  ",a.label]},a.id))}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px 32px",backgroundColor:"#F8F9FA"},children:[t==="1"&&n.jsx(A2e,{}),t==="2"&&n.jsx(_2e,{}),t==="3"&&n.jsx(R2e,{}),t==="4"&&n.jsx(T2e,{})]})]})}function A2e(){return n.jsxs("div",{children:[n.jsx("p",{style:{color:"#6B7280",fontSize:"0.875rem",margin:"0 0 20px"},children:"Vista #1  Acceso rpido a los 6 mdulos principales del sistema"}),n.jsx(Oq,{cards:w2e,columns:3}),n.jsx("h3",{style:{margin:"32px 0 16px",fontSize:"1rem",fontWeight:"700",color:"#111827"},children:"Especificaciones de Diseo"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:"16px"},children:[{title:"Logo",specs:[["Ancho","210px"],["Alto","100px"],["Margen","10px"],["Radius","14px"]]},{title:"Sidebar",specs:[["Ancho","210px"],["Left","10px"],["Gap Logo","10px"],["Padding","16px"]]},{title:"Header",specs:[["Alto","100px"],["Left","10px"],["Right","10px"],["Top","10px"]]},{title:"Grid",specs:[["Columnas","3"],["Filas","4"],["Total","12"],["Gap","6px"]]},{title:"Paleta",specs:[["Naranja","#FF6835"],["Celeste","#00A8E8"],["Verde","#A8E6CF"],["Gris","#F3F4F6"]],palette:!0}].map(e=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"6px",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:""}),n.jsx("span",{style:{fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:e.title})]}),e.specs.map(([t,r])=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[n.jsx("span",{style:{color:"#6B7280",fontSize:"0.78rem"},children:t}),e.palette?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",backgroundColor:r,border:"1px solid #E5E7EB"}}),n.jsx("span",{style:{color:"#374151",fontSize:"0.78rem",fontFamily:"monospace"},children:r})]}):n.jsx("span",{style:{color:"#374151",fontSize:"0.78rem",fontWeight:"600"},children:r})]},t))]},e.title))})]})}function _2e(){return n.jsxs("div",{children:[n.jsx("p",{style:{color:"#6B7280",fontSize:"0.875rem",margin:"0 0 20px"},children:"Vista #2  Departamentos en vista de tarjetas"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:"16px"},children:C2e.map(e=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"16px",border:"1px solid #E5E7EB",padding:"22px",cursor:"pointer",transition:"box-shadow 0.15s ease"},onMouseEnter:t=>t.currentTarget.style.boxShadow="0 6px 20px rgba(0,0,0,0.08)",onMouseLeave:t=>t.currentTarget.style.boxShadow="none",children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"14px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},children:e.icon}),n.jsx("span",{style:{padding:"4px 10px",borderRadius:"8px",fontSize:"0.72rem",fontWeight:"700",backgroundColor:e.estado==="Activo"?"#D1FAE5":"#FEE2E2",color:e.estado==="Activo"?"#065F46":"#991B1B"},children:e.estado})]}),n.jsx("p",{style:{margin:"0 0 4px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:e.nombre}),n.jsxs("p",{style:{margin:"0 0 14px",color:"#6B7280",fontSize:"0.78rem"},children:["Jefe: ",e.jefe]}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,color:"#9CA3AF",fontSize:"0.68rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Empleados"}),n.jsx("p",{style:{margin:0,color:"#111827",fontWeight:"700",fontSize:"0.95rem"},children:e.empleados})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,color:"#9CA3AF",fontSize:"0.68rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Presupuesto"}),n.jsx("p",{style:{margin:0,color:xy,fontWeight:"700",fontSize:"0.95rem"},children:e.presupuesto})]})]})]},e.id))})]})}function R2e(){const[e,t]=A.useState(""),r=k2e.filter(i=>i.nombre.toLowerCase().includes(e.toLowerCase())||i.sku.toLowerCase().includes(e.toLowerCase())),o=i=>i==="Sin Stock"?{bg:"#FEE2E2",text:"#991B1B"}:i==="Crtico"?{bg:"#FEF3C7",text:"#92400E"}:{bg:"#D1FAE5",text:"#065F46"};return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("p",{style:{color:"#6B7280",fontSize:"0.875rem",margin:0},children:"Vista #3  Artculos en vista de lista"}),n.jsx("div",{style:{flex:1}}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"0.85rem"},children:""}),n.jsx("input",{type:"text",placeholder:"Buscar artculo...",value:e,onChange:i=>t(i.target.value),style:{padding:"9px 14px 9px 36px",borderRadius:"10px",border:"1px solid #E5E7EB",fontSize:"0.8rem",outline:"none",width:"240px",backgroundColor:"#FFFFFF"}})]})]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["Artculo","SKU","Categora","Precio","Stock","Estado",""].map(i=>n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"0.7rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:i},i))})}),n.jsx("tbody",{children:r.map((i,a)=>{const s=o(i.estado);return n.jsxs("tr",{style:{borderBottom:a<r.length-1?"1px solid #F3F4F6":"none",backgroundColor:a%2===0?"#FFFFFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("span",{style:{fontSize:"1.05rem"},children:i.icon}),n.jsx("span",{style:{fontWeight:"600",color:"#111827",fontSize:"0.85rem"},children:i.nombre})]})}),n.jsx("td",{style:{padding:"12px 16px",color:"#6B7280",fontSize:"0.75rem",fontFamily:"monospace"},children:i.sku}),n.jsx("td",{style:{padding:"12px 16px",color:"#374151",fontSize:"0.8rem"},children:i.cat}),n.jsxs("td",{style:{padding:"12px 16px",color:"#111827",fontSize:"0.85rem",fontWeight:"700"},children:["$",i.precio.toFixed(2)]}),n.jsx("td",{style:{padding:"12px 16px",color:"#374151",fontSize:"0.8rem"},children:i.stock>0?`${i.stock} uds`:""}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsx("span",{style:{padding:"4px 10px",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"700",backgroundColor:s.bg,color:s.text},children:i.estado})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsx("div",{style:{display:"flex",gap:"5px"},children:["",""].map((l,c)=>n.jsx("button",{style:{padding:"5px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#FFFFFF",cursor:"pointer",fontSize:"0.72rem"},children:l},c))})})]},i.id)})})]})})]})}function T2e(){return n.jsxs("div",{children:[n.jsx("p",{style:{color:"#6B7280",fontSize:"0.875rem",margin:"0 0 20px"},children:"Vista #4  Suite de herramientas con IA integrada"}),n.jsx(Oq,{cards:E2e,columns:2})]})}const O_=A.createContext({});function D_(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const Dq=typeof window<"u",Mq=Dq?A.useLayoutEffect:A.useEffect,iv=A.createContext(null);function M_(e,t){e.indexOf(t)===-1&&e.push(t)}function D1(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const fs=(e,t,r)=>r>t?t:r<e?e:r;let $_=()=>{};const al={},$q=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Nq(e){return typeof e=="object"&&e!==null}const Lq=e=>/^0[^.\s]+$/u.test(e);function Wq(e){let t;return()=>(t===void 0&&(t=e()),t)}const $i=e=>e,P2e=(e,t)=>r=>t(e(r)),Ax=(...e)=>e.reduce(P2e),Vg=(e,t,r)=>{const o=t-e;return o===0?1:(r-e)/o};class N_{constructor(){this.subscriptions=[]}add(t){return M_(this.subscriptions,t),()=>D1(this.subscriptions,t)}notify(t,r,o){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,o);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wa=e=>e*1e3,Ii=e=>e/1e3;function Vq(e,t){return t?e*(1e3/t):0}const Uq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,z2e=1e-7,B2e=12;function I2e(e,t,r,o,i){let a,s,l=0;do s=t+(r-t)/2,a=Uq(s,o,i)-e,a>0?r=s:t=s;while(Math.abs(a)>z2e&&++l<B2e);return s}function _x(e,t,r,o){if(e===t&&r===o)return $i;const i=a=>I2e(a,0,1,e,r);return a=>a===0||a===1?a:Uq(i(a),t,o)}const qq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hq=e=>t=>1-e(1-t),Gq=_x(.33,1.53,.69,.99),L_=Hq(Gq),Kq=qq(L_),Yq=e=>(e*=2)<1?.5*L_(e):.5*(2-Math.pow(2,-10*(e-1))),W_=e=>1-Math.sin(Math.acos(e)),Xq=Hq(W_),Jq=qq(W_),O2e=_x(.42,0,1,1),D2e=_x(0,0,.58,1),Qq=_x(.42,0,.58,1),M2e=e=>Array.isArray(e)&&typeof e[0]!="number",Zq=e=>Array.isArray(e)&&typeof e[0]=="number",$2e={linear:$i,easeIn:O2e,easeInOut:Qq,easeOut:D2e,circIn:W_,circInOut:Jq,circOut:Xq,backIn:L_,backInOut:Kq,backOut:Gq,anticipate:Yq},N2e=e=>typeof e=="string",WD=e=>{if(Zq(e)){$_(e.length===4);const[t,r,o,i]=e;return _x(t,r,o,i)}else if(N2e(e))return $2e[e];return e},x0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function L2e(e,t){let r=new Set,o=new Set,i=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){s.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,p=!1,h=!1)=>{const m=h&&i?r:o;return p&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{o.delete(f),s.delete(f)},process:f=>{if(l=f,i){a=!0;return}i=!0,[r,o]=[o,r],r.forEach(c),r.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const W2e=40;function eH(e,t){let r=!1,o=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=x0.reduce((S,F)=>(S[F]=L2e(a),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:h,render:x,postRender:m}=s,y=()=>{const S=al.useManualTiming?i.timestamp:performance.now();r=!1,al.useManualTiming||(i.delta=o?1e3/60:Math.max(Math.min(S-i.timestamp,W2e),1)),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),h.process(i),x.process(i),m.process(i),i.isProcessing=!1,r&&t&&(o=!1,e(y))},b=()=>{r=!0,o=!0,i.isProcessing||e(y)};return{schedule:x0.reduce((S,F)=>{const w=s[F];return S[F]=(k,E=!1,T=!1)=>(r||b(),w.schedule(k,E,T)),S},{}),cancel:S=>{for(let F=0;F<x0.length;F++)s[x0[F]].cancel(S)},state:i,steps:s}}const{schedule:Tr,cancel:pc,state:Kn,steps:nk}=eH(typeof requestAnimationFrame<"u"?requestAnimationFrame:$i,!0);let my;function V2e(){my=void 0}const ko={now:()=>(my===void 0&&ko.set(Kn.isProcessing||al.useManualTiming?Kn.timestamp:performance.now()),my),set:e=>{my=e,queueMicrotask(V2e)}},tH=e=>t=>typeof t=="string"&&t.startsWith(e),rH=tH("--"),U2e=tH("var(--"),V_=e=>U2e(e)?q2e.test(e.split("/*")[0].trim()):!1,q2e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function VD(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const sf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ug={...sf,transform:e=>fs(0,1,e)},m0={...sf,default:1},Uh=e=>Math.round(e*1e5)/1e5,U_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H2e(e){return e==null}const G2e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,q_=(e,t)=>r=>!!(typeof r=="string"&&G2e.test(r)&&r.startsWith(e)||t&&!H2e(r)&&Object.prototype.hasOwnProperty.call(r,t)),nH=(e,t,r)=>o=>{if(typeof o!="string")return o;const[i,a,s,l]=o.match(U_);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},K2e=e=>fs(0,255,e),ok={...sf,transform:e=>Math.round(K2e(e))},dd={test:q_("rgb","red"),parse:nH("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:o=1})=>"rgba("+ok.transform(e)+", "+ok.transform(t)+", "+ok.transform(r)+", "+Uh(Ug.transform(o))+")"};function Y2e(e){let t="",r="",o="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),o=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),o=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,o+=o,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:i?parseInt(i,16)/255:1}}const r5={test:q_("#"),parse:Y2e,transform:dd.transform},Rx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vl=Rx("deg"),ss=Rx("%"),tt=Rx("px"),X2e=Rx("vh"),J2e=Rx("vw"),UD={...ss,parse:e=>ss.parse(e)/100,transform:e=>ss.transform(e*100)},Ku={test:q_("hsl","hue"),parse:nH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:o=1})=>"hsla("+Math.round(e)+", "+ss.transform(Uh(t))+", "+ss.transform(Uh(r))+", "+Uh(Ug.transform(o))+")"},pn={test:e=>dd.test(e)||r5.test(e)||Ku.test(e),parse:e=>dd.test(e)?dd.parse(e):Ku.test(e)?Ku.parse(e):r5.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?dd.transform(e):Ku.transform(e),getAnimatableNone:e=>{const t=pn.parse(e);return t.alpha=0,pn.transform(t)}},Q2e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z2e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(U_))==null?void 0:t.length)||0)+(((r=e.match(Q2e))==null?void 0:r.length)||0)>0}const oH="number",iH="color",eSe="var",tSe="var(",qD="${}",rSe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qg(e){const t=e.toString(),r=[],o={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(rSe,c=>(pn.test(c)?(o.color.push(a),i.push(iH),r.push(pn.parse(c))):c.startsWith(tSe)?(o.var.push(a),i.push(eSe),r.push(c)):(o.number.push(a),i.push(oH),r.push(parseFloat(c))),++a,qD)).split(qD);return{values:r,split:l,indexes:o,types:i}}function aH(e){return qg(e).values}function sH(e){const{split:t,types:r}=qg(e),o=t.length;return i=>{let a="";for(let s=0;s<o;s++)if(a+=t[s],i[s]!==void 0){const l=r[s];l===oH?a+=Uh(i[s]):l===iH?a+=pn.transform(i[s]):a+=i[s]}return a}}const nSe=e=>typeof e=="number"?0:pn.test(e)?pn.getAnimatableNone(e):e;function oSe(e){const t=aH(e);return sH(e)(t.map(nSe))}const Ea={test:Z2e,parse:aH,createTransformer:sH,getAnimatableNone:oSe};function ik(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function iSe({hue:e,saturation:t,lightness:r,alpha:o}){e/=360,t/=100,r/=100;let i=0,a=0,s=0;if(!t)i=a=s=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=ik(c,l,e+1/3),a=ik(c,l,e),s=ik(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:o}}function M1(e,t){return r=>r>0?t:e}const Yr=(e,t,r)=>e+(t-e)*r,ak=(e,t,r)=>{const o=e*e,i=r*(t*t-o)+o;return i<0?0:Math.sqrt(i)},aSe=[r5,dd,Ku],sSe=e=>aSe.find(t=>t.test(e));function HD(e){const t=sSe(e);if(!t)return!1;let r=t.parse(e);return t===Ku&&(r=iSe(r)),r}const GD=(e,t)=>{const r=HD(e),o=HD(t);if(!r||!o)return M1(e,t);const i={...r};return a=>(i.red=ak(r.red,o.red,a),i.green=ak(r.green,o.green,a),i.blue=ak(r.blue,o.blue,a),i.alpha=Yr(r.alpha,o.alpha,a),dd.transform(i))},n5=new Set(["none","hidden"]);function lSe(e,t){return n5.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function cSe(e,t){return r=>Yr(e,t,r)}function H_(e){return typeof e=="number"?cSe:typeof e=="string"?V_(e)?M1:pn.test(e)?GD:pSe:Array.isArray(e)?lH:typeof e=="object"?pn.test(e)?GD:dSe:M1}function lH(e,t){const r=[...e],o=r.length,i=e.map((a,s)=>H_(a)(a,t[s]));return a=>{for(let s=0;s<o;s++)r[s]=i[s](a);return r}}function dSe(e,t){const r={...e,...t},o={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(o[i]=H_(e[i])(e[i],t[i]));return i=>{for(const a in o)r[a]=o[a](i);return r}}function uSe(e,t){const r=[],o={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][o[a]],l=e.values[s]??0;r[i]=l,o[a]++}return r}const pSe=(e,t)=>{const r=Ea.createTransformer(t),o=qg(e),i=qg(t);return o.indexes.var.length===i.indexes.var.length&&o.indexes.color.length===i.indexes.color.length&&o.indexes.number.length>=i.indexes.number.length?n5.has(e)&&!i.values.length||n5.has(t)&&!o.values.length?lSe(e,t):Ax(lH(uSe(o,i),i.values),r):M1(e,t)};function cH(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Yr(e,t,r):H_(e)(e,t)}const fSe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Tr.update(t,r),stop:()=>pc(t),now:()=>Kn.isProcessing?Kn.timestamp:ko.now()}},dH=(e,t,r=10)=>{let o="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)o+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},$1=2e4;function G_(e){let t=0;const r=50;let o=e.next(t);for(;!o.done&&t<$1;)t+=r,o=e.next(t);return t>=$1?1/0:t}function hSe(e,t=100,r){const o=r({...e,keyframes:[0,t]}),i=Math.min(G_(o),$1);return{type:"keyframes",ease:a=>o.next(i*a).value/t,duration:Ii(i)}}const gSe=5;function uH(e,t,r){const o=Math.max(t-gSe,0);return Vq(r-e(o),t-o)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sk=.001;function xSe({duration:e=en.duration,bounce:t=en.bounce,velocity:r=en.velocity,mass:o=en.mass}){let i,a,s=1-t;s=fs(en.minDamping,en.maxDamping,s),e=fs(en.minDuration,en.maxDuration,Ii(e)),s<1?(i=d=>{const f=d*s,p=f*e,h=f-r,x=o5(d,s),m=Math.exp(-p);return sk-h/x*m},a=d=>{const p=d*s*e,h=p*r+r,x=Math.pow(s,2)*Math.pow(d,2)*e,m=Math.exp(-p),y=o5(Math.pow(d,2),s);return(-i(d)+sk>0?-1:1)*((h-x)*m)/y}):(i=d=>{const f=Math.exp(-d*e),p=(d-r)*e+1;return-sk+f*p},a=d=>{const f=Math.exp(-d*e),p=(r-d)*(e*e);return f*p});const l=5/e,c=ySe(i,a,l);if(e=wa(e),isNaN(c))return{stiffness:en.stiffness,damping:en.damping,duration:e};{const d=Math.pow(c,2)*o;return{stiffness:d,damping:s*2*Math.sqrt(o*d),duration:e}}}const mSe=12;function ySe(e,t,r){let o=r;for(let i=1;i<mSe;i++)o=o-e(o)/t(o);return o}function o5(e,t){return e*Math.sqrt(1-t*t)}const bSe=["duration","bounce"],vSe=["stiffness","damping","mass"];function KD(e,t){return t.some(r=>e[r]!==void 0)}function jSe(e){let t={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...e};if(!KD(e,vSe)&&KD(e,bSe))if(t.velocity=0,e.visualDuration){const r=e.visualDuration,o=2*Math.PI/(r*1.2),i=o*o,a=2*fs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:en.mass,stiffness:i,damping:a}}else{const r=xSe({...e,velocity:0});t={...t,...r,mass:en.mass},t.isResolvedFromDuration=!0}return t}function N1(e=en.visualDuration,t=en.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:f,duration:p,velocity:h,isResolvedFromDuration:x}=jSe({...r,velocity:-Ii(r.velocity||0)}),m=h||0,y=d/(2*Math.sqrt(c*f)),b=s-a,v=Ii(Math.sqrt(c/f)),C=Math.abs(b)<5;o||(o=C?en.restSpeed.granular:en.restSpeed.default),i||(i=C?en.restDelta.granular:en.restDelta.default);let S;if(y<1){const w=o5(v,y);S=k=>{const E=Math.exp(-y*v*k);return s-E*((m+y*v*b)/w*Math.sin(w*k)+b*Math.cos(w*k))}}else if(y===1)S=w=>s-Math.exp(-v*w)*(b+(m+v*b)*w);else{const w=v*Math.sqrt(y*y-1);S=k=>{const E=Math.exp(-y*v*k),T=Math.min(w*k,300);return s-E*((m+y*v*b)*Math.sinh(T)+w*b*Math.cosh(T))/w}}const F={calculatedDuration:x&&p||null,next:w=>{const k=S(w);if(x)l.done=w>=p;else{let E=w===0?m:0;y<1&&(E=w===0?wa(m):uH(S,w,k));const T=Math.abs(E)<=o,_=Math.abs(s-k)<=i;l.done=T&&_}return l.value=l.done?s:k,l},toString:()=>{const w=Math.min(G_(F),$1),k=dH(E=>F.next(w*E).value,w,30);return w+"ms "+k},toTransition:()=>{}};return F}N1.applyToOptions=e=>{const t=hSe(e,100,N1);return e.ease=t.ease,e.duration=wa(t.duration),e.type="keyframes",e};function i5({keyframes:e,velocity:t=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:d=.5,restSpeed:f}){const p=e[0],h={done:!1,value:p},x=T=>l!==void 0&&T<l||c!==void 0&&T>c,m=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let y=r*t;const b=p+y,v=s===void 0?b:s(b);v!==b&&(y=v-p);const C=T=>-y*Math.exp(-T/o),S=T=>v+C(T),F=T=>{const _=C(T),z=S(T);h.done=Math.abs(_)<=d,h.value=h.done?v:z};let w,k;const E=T=>{x(h.value)&&(w=T,k=N1({keyframes:[h.value,m(h.value)],velocity:uH(S,T,h.value),damping:i,stiffness:a,restDelta:d,restSpeed:f}))};return E(0),{calculatedDuration:null,next:T=>{let _=!1;return!k&&w===void 0&&(_=!0,F(T),E(T)),w!==void 0&&T>=w?k.next(T-w):(!_&&F(T),h)}}}function SSe(e,t,r){const o=[],i=r||al.mix||cH,a=e.length-1;for(let s=0;s<a;s++){let l=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||$i:t;l=Ax(c,l)}o.push(l)}return o}function wSe(e,t,{clamp:r=!0,ease:o,mixer:i}={}){const a=e.length;if($_(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=SSe(t,o,i),c=l.length,d=f=>{if(s&&f<e[0])return t[0];let p=0;if(c>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const h=Vg(e[p],e[p+1],f);return l[p](h)};return r?f=>d(fs(e[0],e[a-1],f)):d}function ESe(e,t){const r=e[e.length-1];for(let o=1;o<=t;o++){const i=Vg(0,t,o);e.push(Yr(r,1,i))}}function CSe(e){const t=[0];return ESe(t,e.length-1),t}function kSe(e,t){return e.map(r=>r*t)}function FSe(e,t){return e.map(()=>t||Qq).splice(0,e.length-1)}function qh({duration:e=300,keyframes:t,times:r,ease:o="easeInOut"}){const i=M2e(o)?o.map(WD):WD(o),a={done:!1,value:t[0]},s=kSe(r&&r.length===t.length?r:CSe(t),e),l=wSe(s,t,{ease:Array.isArray(i)?i:FSe(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const ASe=e=>e!==null;function K_(e,{repeat:t,repeatType:r="loop"},o,i=1){const a=e.filter(ASe),l=i<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||o===void 0?a[l]:o}const _Se={decay:i5,inertia:i5,tween:qh,keyframes:qh,spring:N1};function pH(e){typeof e.type=="string"&&(e.type=_Se[e.type])}class Y_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const RSe=e=>e/100;class X_ extends Y_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ko.now()&&this.tick(ko.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(o=this.options).onStop)==null||i.call(o))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;pH(t);const{type:r=qh,repeat:o=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:l}=t;const c=r||qh;c!==qh&&typeof l[0]!="number"&&(this.mixKeyframes=Ax(RSe,cH(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=G_(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(o+1)-i,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:o,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return o.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:h,repeatDelay:x,type:m,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,F=o;if(p){const T=Math.min(this.currentTime,i)/l;let _=Math.floor(T),z=T%1;!z&&T>=1&&(z=1),z===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(h==="reverse"?(z=1-z,x&&(z-=x/l)):h==="mirror"&&(F=s)),S=fs(0,1,z)*l}const w=C?{done:!1,value:f[0]}:F.next(S);a&&(w.value=a(w.value));let{done:k}=w;!C&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&m!==i5&&(w.value=K_(f,this.options,b,this.speed)),y&&y(w.value),E&&this.finish(),w}then(t,r){return this.finished.then(t,r)}get duration(){return Ii(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ii(t)}get time(){return Ii(this.currentTime)}set time(t){var r;t=wa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ko.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ii(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=fSe,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ko.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function TSe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ud=e=>e*180/Math.PI,a5=e=>{const t=ud(Math.atan2(e[1],e[0]));return s5(t)},PSe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:a5,rotateZ:a5,skewX:e=>ud(Math.atan(e[1])),skewY:e=>ud(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},s5=e=>(e=e%360,e<0&&(e+=360),e),YD=a5,XD=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),JD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zSe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XD,scaleY:JD,scale:e=>(XD(e)+JD(e))/2,rotateX:e=>s5(ud(Math.atan2(e[6],e[5]))),rotateY:e=>s5(ud(Math.atan2(-e[2],e[0]))),rotateZ:YD,rotate:YD,skewX:e=>ud(Math.atan(e[4])),skewY:e=>ud(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function l5(e){return e.includes("scale")?1:0}function c5(e,t){if(!e||e==="none")return l5(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,i;if(r)o=zSe,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=PSe,i=l}if(!i)return l5(t);const a=o[t],s=i[1].split(",").map(ISe);return typeof a=="function"?a(s):s[a]}const BSe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return c5(r,t)};function ISe(e){return parseFloat(e.trim())}const lf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cf=new Set(lf),QD=e=>e===sf||e===tt,OSe=new Set(["x","y","z"]),DSe=lf.filter(e=>!OSe.has(e));function MSe(e){const t=[];return DSe.forEach(r=>{const o=e.getValue(r);o!==void 0&&(t.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),t}const ic={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>c5(t,"x"),y:(e,{transform:t})=>c5(t,"y")};ic.translateX=ic.x;ic.translateY=ic.y;const md=new Set;let d5=!1,u5=!1,p5=!1;function fH(){if(u5){const e=Array.from(md).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),r=new Map;t.forEach(o=>{const i=MSe(o);i.length&&(r.set(o,i),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const i=r.get(o);i&&i.forEach(([a,s])=>{var l;(l=o.getValue(a))==null||l.set(s)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}u5=!1,d5=!1,md.forEach(e=>e.complete(p5)),md.clear()}function hH(){md.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(u5=!0)})}function $Se(){p5=!0,hH(),fH(),p5=!1}class J_{constructor(t,r,o,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=o,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(md.add(this),d5||(d5=!0,Tr.read(hH),Tr.resolveKeyframes(fH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:o,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(o&&r){const l=o.readValue(r,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}TSe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),md.delete(this)}cancel(){this.state==="scheduled"&&(md.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NSe=e=>e.startsWith("--");function LSe(e,t,r){NSe(t)?e.style.setProperty(t,r):e.style[t]=r}const WSe={};function gH(e,t){const r=Wq(e);return()=>WSe[t]??r()}const VSe=gH(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),xH=gH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rh=([e,t,r,o])=>`cubic-bezier(${e}, ${t}, ${r}, ${o})`,ZD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rh([0,.65,.55,1]),circOut:Rh([.55,0,1,.45]),backIn:Rh([.31,.01,.66,-.59]),backOut:Rh([.33,1.53,.69,.99])};function mH(e,t){if(e)return typeof e=="function"?xH()?dH(e,t):"ease-out":Zq(e)?Rh(e):Array.isArray(e)?e.map(r=>mH(r,t)||ZD.easeOut):ZD[e]}function USe(e,t,r,{delay:o=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[t]:r};c&&(f.offset=c);const p=mH(l,i);Array.isArray(p)&&(f.easing=p);const h={delay:o,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(f,h)}function yH(e){return typeof e=="function"&&"applyToOptions"in e}function qSe({type:e,...t}){return yH(e)&&xH()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bH extends Y_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:o,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,$_(typeof t.type!="string");const d=qSe(t);this.animation=USe(r,o,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=K_(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):LSe(r,o,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,o,i;const t=(r=this.options)==null?void 0:r.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(o=this.animation).commitStyles)==null||i.call(o))}get duration(){var r,o;const t=((o=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:o.call(r).duration)||0;return Ii(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ii(t)}get time(){return Ii(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=wa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&VSe()?(this.animation.timeline=t,$i):r(this)}}const vH={anticipate:Yq,backInOut:Kq,circInOut:Jq};function HSe(e){return e in vH}function GSe(e){typeof e.ease=="string"&&HSe(e.ease)&&(e.ease=vH[e.ease])}const lk=10;class KSe extends bH{constructor(t){GSe(t),pH(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:o,onComplete:i,element:a,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new X_({...s,autoplay:!1}),c=Math.max(lk,ko.now()-this.startTime),d=fs(0,lk,c-lk);r.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const eM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ea.test(e)||e==="0")&&!e.startsWith("url("));function YSe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function XSe(e,t,r,o){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=eM(i,t),l=eM(a,t);return!s||!l?!1:YSe(e)||(r==="spring"||yH(r))&&o}function f5(e){e.duration=0,e.type="keyframes"}const JSe=new Set(["opacity","clipPath","filter","transform"]),QSe=Wq(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZSe(e){var f;const{motionValue:t,name:r,repeatDelay:o,repeatType:i,damping:a,type:s}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return QSe()&&r&&JSe.has(r)&&(r!=="transform"||!d)&&!c&&!o&&i!=="mirror"&&a!==0&&s!=="inertia"}const ewe=40;class twe extends Y_{constructor({autoplay:t=!0,delay:r=0,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:d,element:f,...p}){var m;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ko.now();const h={autoplay:t,delay:r,type:o,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:d,element:f,...p},x=(f==null?void 0:f.KeyframeResolver)||J_;this.keyframeResolver=new x(l,(y,b,v)=>this.onKeyframesResolved(y,b,h,!v),c,d,f),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,o,i){var b,v;this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:c,isHandoff:d,onUpdate:f}=o;this.resolvedAt=ko.now(),XSe(t,a,s,l)||((al.instantAnimations||!c)&&(f==null||f(K_(t,o,r))),t[0]=t[t.length-1],f5(o),o.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ewe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...o,keyframes:t},x=!d&&ZSe(h),m=(v=(b=h.motionValue)==null?void 0:b.owner)==null?void 0:v.current,y=x?new KSe({...h,element:m}):new X_(h);y.finished.then(()=>{this.notifyFinished()}).catch($i),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),$Se()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function jH(e,t,r,o=0,i=1){const a=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),s=e.size,l=(s-1)*o;return typeof r=="function"?r(a,s):i===1?a*o:l-a*o}const rwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nwe(e){const t=rwe.exec(e);if(!t)return[,];const[,r,o,i]=t;return[`--${r??o}`,i]}function SH(e,t,r=1){const[o,i]=nwe(e);if(!o)return;const a=window.getComputedStyle(t).getPropertyValue(o);if(a){const s=a.trim();return $q(s)?parseFloat(s):s}return V_(i)?SH(i,t,r+1):i}const owe={type:"spring",stiffness:500,damping:25,restSpeed:10},iwe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),awe={type:"keyframes",duration:.8},swe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lwe=(e,{keyframes:t})=>t.length>2?awe:cf.has(e)?e.startsWith("scale")?iwe(t[1]):owe:swe,cwe=e=>e!==null;function dwe(e,{repeat:t,repeatType:r="loop"},o){const i=e.filter(cwe),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[a]}function wH(e,t){if(e!=null&&e.inherit&&t){const{inherit:r,...o}=e;return{...t,...o}}return e}function Q_(e,t){const r=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return r!==e?wH(r,e):r}function uwe({when:e,delay:t,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const Z_=(e,t,r,o={},i,a)=>s=>{const l=Q_(o,e)||{},c=l.delay||o.delay||0;let{elapsed:d=0}=o;d=d-wa(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};uwe(l)||Object.assign(f,lwe(e,f)),f.duration&&(f.duration=wa(f.duration)),f.repeatDelay&&(f.repeatDelay=wa(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f5(f),f.delay===0&&(p=!0)),(al.instantAnimations||al.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(p=!0,f5(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!a&&t.get()!==void 0){const h=dwe(f.keyframes,l);if(h!==void 0){Tr.update(()=>{f.onUpdate(h),f.onComplete()});return}}return l.isSync?new X_(f):new twe(f)};function tM(e){const t=[{},{}];return e==null||e.values.forEach((r,o)=>{t[0][o]=r.get(),t[1][o]=r.getVelocity()}),t}function e6(e,t,r,o){if(typeof t=="function"){const[i,a]=tM(o);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=tM(o);t=t(r!==void 0?r:e.custom,i,a)}return t}function dp(e,t,r){const o=e.getProps();return e6(o,t,r!==void 0?r:o.custom,e)}const EH=new Set(["width","height","top","left","right","bottom",...lf]),rM=30,pwe=e=>!isNaN(parseFloat(e));class fwe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var a;const i=ko.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ko.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pwe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new N_);const o=this.events[t].add(r);return t==="change"?()=>{o(),Tr.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ko.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>rM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,rM);return Vq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $p(e,t){return new fwe(e,t)}const h5=e=>Array.isArray(e);function hwe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,$p(r))}function gwe(e){return h5(e)?e[e.length-1]||0:e}function xwe(e,t){const r=dp(e,t);let{transitionEnd:o={},transition:i={},...a}=r||{};a={...a,...o};for(const s in a){const l=gwe(a[s]);hwe(e,s,l)}}const po=e=>!!(e&&e.getVelocity);function mwe(e){return!!(po(e)&&e.add)}function g5(e,t){const r=e.getValue("willChange");if(mwe(r))return r.add(t);if(!r&&al.WillChange){const o=new al.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function t6(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const ywe="framerAppearId",CH="data-"+t6(ywe);function kH(e){return e.props[CH]}function bwe({protectedKeys:e,needsAnimating:t},r){const o=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,o}function FH(e,t,{delay:r=0,transitionOverride:o,type:i}={}){let{transition:a,transitionEnd:s,...l}=t;const c=e.getDefaultTransition();a=a?wH(a,c):c;const d=a==null?void 0:a.reduceMotion;o&&(a=o);const f=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const x=e.getValue(h,e.latestValues[h]??null),m=l[h];if(m===void 0||p&&bwe(p,h))continue;const y={delay:r,...Q_(a||{},h)},b=x.get();if(b!==void 0&&!x.isAnimating&&!Array.isArray(m)&&m===b&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const F=kH(e);if(F){const w=window.MotionHandoffAnimation(F,h,Tr);w!==null&&(y.startTime=w,v=!0)}}g5(e,h);const C=d??e.shouldReduceMotion;x.start(Z_(h,x,m,C&&EH.has(h)?{type:!1}:y,e,v));const S=x.animation;S&&f.push(S)}if(s){const h=()=>Tr.update(()=>{s&&xwe(e,s)});f.length?Promise.all(f).then(h):h()}return f}function x5(e,t,r={}){var c;const o=dp(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(i=r.transitionOverride);const a=o?()=>Promise.all(FH(e,o,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:h}=i;return vwe(e,t,d,f,p,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[a,s]:[s,a];return d().then(()=>f())}else return Promise.all([a(),s(r.delay)])}function vwe(e,t,r=0,o=0,i=0,a=1,s){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(x5(c,t,{...s,delay:r+(typeof o=="function"?0:o)+jH(e.variantChildren,c,o,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function jwe(e,t,r={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const i=t.map(a=>x5(e,a,r));o=Promise.all(i)}else if(typeof t=="string")o=x5(e,t,r);else{const i=typeof t=="function"?dp(e,t,r.custom):t;o=Promise.all(FH(e,i,r))}return o.then(()=>{e.notify("AnimationComplete",t)})}const Swe={test:e=>e==="auto",parse:e=>e},AH=e=>t=>t.test(e),_H=[sf,tt,ss,Vl,J2e,X2e,Swe],nM=e=>_H.find(AH(e));function wwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Lq(e):!0}const Ewe=new Set(["brightness","contrast","saturate","opacity"]);function Cwe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=r.match(U_)||[];if(!o)return e;const i=r.replace(o,"");let a=Ewe.has(t)?1:0;return o!==r&&(a*=100),t+"("+a+i+")"}const kwe=/\b([a-z-]*)\(.*?\)/gu,m5={...Ea,getAnimatableNone:e=>{const t=e.match(kwe);return t?t.map(Cwe).join(" "):e}},y5={...Ea,getAnimatableNone:e=>{const t=Ea.parse(e);return Ea.createTransformer(e)(t.map(o=>typeof o=="number"?0:typeof o=="object"?{...o,alpha:1}:o))}},oM={...sf,transform:Math.round},Fwe={rotate:Vl,rotateX:Vl,rotateY:Vl,rotateZ:Vl,scale:m0,scaleX:m0,scaleY:m0,scaleZ:m0,skew:Vl,skewX:Vl,skewY:Vl,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:Ug,originX:UD,originY:UD,originZ:tt},r6={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,inset:tt,insetBlock:tt,insetBlockStart:tt,insetBlockEnd:tt,insetInline:tt,insetInlineStart:tt,insetInlineEnd:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,paddingBlock:tt,paddingBlockStart:tt,paddingBlockEnd:tt,paddingInline:tt,paddingInlineStart:tt,paddingInlineEnd:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,marginBlock:tt,marginBlockStart:tt,marginBlockEnd:tt,marginInline:tt,marginInlineStart:tt,marginInlineEnd:tt,fontSize:tt,backgroundPositionX:tt,backgroundPositionY:tt,...Fwe,zIndex:oM,fillOpacity:Ug,strokeOpacity:Ug,numOctaves:oM},Awe={...r6,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:m5,WebkitFilter:m5,mask:y5,WebkitMask:y5},RH=e=>Awe[e],_we=new Set([m5,y5]);function TH(e,t){let r=RH(e);return _we.has(r)||(r=Ea),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Rwe=new Set(["auto","none","0"]);function Twe(e,t,r){let o=0,i;for(;o<e.length&&!i;){const a=e[o];typeof a=="string"&&!Rwe.has(a)&&qg(a).values.length&&(i=e[o]),o++}if(i&&r)for(const a of t)e[a]=TH(r,i)}class Pwe extends J_{constructor(t,r,o,i,a){super(t,r,o,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),V_(p))){const h=SH(p,r.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!EH.has(o)||t.length!==2)return;const[i,a]=t,s=nM(i),l=nM(a),c=VD(i),d=VD(a);if(c!==d&&ic[o]){this.needsMeasurement=!0;return}if(s!==l)if(QD(s)&&QD(l))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else ic[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,o=[];for(let i=0;i<t.length;i++)(t[i]===null||wwe(t[i]))&&o.push(i);o.length&&Twe(t,o,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ic[o](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(o,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=o.length-1,s=o[a];o[a]=ic[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const zwe=new Set(["opacity","clipPath","filter","transform"]);function PH(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const i=(r==null?void 0:r[e])??o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(o=>o!=null)}const zH=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function b5(e){return Nq(e)&&"offsetHeight"in e}const{schedule:n6}=eH(queueMicrotask,!1),ca={x:!1,y:!1};function BH(){return ca.x||ca.y}function Bwe(e){return e==="x"||e==="y"?ca[e]?null:(ca[e]=!0,()=>{ca[e]=!1}):ca.x||ca.y?null:(ca.x=ca.y=!0,()=>{ca.x=ca.y=!1})}function IH(e,t){const r=PH(e),o=new AbortController,i={passive:!0,...t,signal:o.signal};return[r,i,()=>o.abort()]}function Iwe(e){return!(e.pointerType==="touch"||BH())}function Owe(e,t,r={}){const[o,i,a]=IH(e,r);return o.forEach(s=>{let l=!1,c=!1,d;const f=()=>{s.removeEventListener("pointerleave",m)},p=b=>{d&&(d(b),d=void 0),f()},h=b=>{l=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),c&&(c=!1,p(b))},x=()=>{l=!0,window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",h,i)},m=b=>{if(b.pointerType!=="touch"){if(l){c=!0;return}p(b)}},y=b=>{if(!Iwe(b))return;c=!1;const v=t(s,b);typeof v=="function"&&(d=v,s.addEventListener("pointerleave",m,i))};s.addEventListener("pointerenter",y,i),s.addEventListener("pointerdown",x,i)}),a}const OH=(e,t)=>t?e===t?!0:OH(e,t.parentElement):!1,o6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Dwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Mwe(e){return Dwe.has(e.tagName)||e.isContentEditable===!0}const $we=new Set(["INPUT","SELECT","TEXTAREA"]);function Nwe(e){return $we.has(e.tagName)||e.isContentEditable===!0}const yy=new WeakSet;function iM(e){return t=>{t.key==="Enter"&&e(t)}}function ck(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Lwe=(e,t)=>{const r=e.currentTarget;if(!r)return;const o=iM(()=>{if(yy.has(r))return;ck(r,"down");const i=iM(()=>{ck(r,"up")}),a=()=>ck(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",o,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),t)};function aM(e){return o6(e)&&!BH()}const sM=new WeakSet;function Wwe(e,t,r={}){const[o,i,a]=IH(e,r),s=l=>{const c=l.currentTarget;if(!aM(l)||sM.has(l))return;yy.add(c),r.stopPropagation&&sM.add(l);const d=t(c,l),f=(x,m)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",h),yy.has(c)&&yy.delete(c),aM(x)&&typeof d=="function"&&d(x,{success:m})},p=x=>{f(x,c===window||c===document||r.useGlobalTarget||OH(c,x.target))},h=x=>{f(x,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",h,i)};return o.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),b5(l)&&(l.addEventListener("focus",d=>Lwe(d,i)),!Mwe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function i6(e){return Nq(e)&&"ownerSVGElement"in e}const by=new WeakMap;let Ul;const DH=(e,t,r)=>(o,i)=>i&&i[0]?i[0][e+"Size"]:i6(o)&&"getBBox"in o?o.getBBox()[t]:o[r],Vwe=DH("inline","width","offsetWidth"),Uwe=DH("block","height","offsetHeight");function qwe({target:e,borderBoxSize:t}){var r;(r=by.get(e))==null||r.forEach(o=>{o(e,{get width(){return Vwe(e,t)},get height(){return Uwe(e,t)}})})}function Hwe(e){e.forEach(qwe)}function Gwe(){typeof ResizeObserver>"u"||(Ul=new ResizeObserver(Hwe))}function Kwe(e,t){Ul||Gwe();const r=PH(e);return r.forEach(o=>{let i=by.get(o);i||(i=new Set,by.set(o,i)),i.add(t),Ul==null||Ul.observe(o)}),()=>{r.forEach(o=>{const i=by.get(o);i==null||i.delete(t),i!=null&&i.size||Ul==null||Ul.unobserve(o)})}}const vy=new Set;let Yu;function Ywe(){Yu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};vy.forEach(t=>t(e))},window.addEventListener("resize",Yu)}function Xwe(e){return vy.add(e),Yu||Ywe(),()=>{vy.delete(e),!vy.size&&typeof Yu=="function"&&(window.removeEventListener("resize",Yu),Yu=void 0)}}function lM(e,t){return typeof e=="function"?Xwe(e):Kwe(e,t)}function Jwe(e){return i6(e)&&e.tagName==="svg"}const Qwe=[..._H,pn,Ea],Zwe=e=>Qwe.find(AH(e)),cM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xu=()=>({x:cM(),y:cM()}),dM=()=>({min:0,max:0}),kn=()=>({x:dM(),y:dM()}),eEe=new WeakMap;function av(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hg(e){return typeof e=="string"||Array.isArray(e)}const a6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s6=["initial",...a6];function sv(e){return av(e.animate)||s6.some(t=>Hg(e[t]))}function MH(e){return!!(sv(e)||e.variants)}function tEe(e,t,r){for(const o in t){const i=t[o],a=r[o];if(po(i))e.addValue(o,i);else if(po(a))e.addValue(o,$p(i,{owner:e}));else if(a!==i)if(e.hasValue(o)){const s=e.getValue(o);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(o);e.addValue(o,$p(s!==void 0?s:i,{owner:e}))}}for(const o in r)t[o]===void 0&&e.removeValue(o);return t}const v5={current:null},$H={current:!1},rEe=typeof window<"u";function nEe(){if($H.current=!0,!!rEe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>v5.current=e.matches;e.addEventListener("change",t),t()}else v5.current=!1}const uM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let L1={};function NH(e){L1=e}function oEe(){return L1}class iEe{scrapeMotionValuesFromProps(t,r,o){return{}}constructor({parent:t,props:r,presenceContext:o,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:s,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=J_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ko.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Tr.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=sv(r),this.isVariantNode=MH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in h){const m=h[x];d[x]!==void 0&&po(m)&&m.set(d[x])}}mount(t){var r,o;if(this.hasBeenMounted)for(const i in this.initialValues)(r=this.values.get(i))==null||r.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,eEe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($H.current||nEe(),this.shouldReduceMotion=v5.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(o=this.parent)==null||o.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),pc(this.notifyUpdate),pc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const o=this.features[r];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),r.accelerate&&zwe.has(t)&&this.current instanceof HTMLElement){const{factory:s,keyframes:l,times:c,ease:d,duration:f}=r.accelerate,p=new bH({element:this.current,name:t,keyframes:l,times:c,ease:d,duration:wa(f)}),h=s(p);this.valueSubscriptions.set(t,()=>{h(),p.cancel()});return}const o=cf.has(t);o&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Tr.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in L1){const r=L1[t];if(!r)continue;const{isEnabled:o,Feature:i}=r;if(!this.features[t]&&i&&o(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<uM.length;o++){const i=uM[o];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=tEe(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const o=this.values.get(t);r!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&r!==void 0&&(o=$p(r===null?void 0:r,{owner:this}),this.addValue(t,o)),o}readValue(t,r){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&($q(o)||Lq(o))?o=parseFloat(o):!Zwe(o)&&Ea.test(r)&&(o=TH(t,r)),this.setBaseTarget(t,po(o)?o.get():o)),po(o)?o.get():o}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const s=e6(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);s&&(o=s[t])}if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!po(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new N_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){n6.render(this.render)}}class LH extends iEe{constructor(){super(...arguments),this.KeyframeResolver=Pwe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const o=t.style;return o?o[r]:void 0}removeValueFromRenderState(t,{vars:r,style:o}){delete r[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;po(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class jc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function WH({top:e,left:t,right:r,bottom:o}){return{x:{min:t,max:r},y:{min:e,max:o}}}function aEe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sEe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function dk(e){return e===void 0||e===1}function j5({scale:e,scaleX:t,scaleY:r}){return!dk(e)||!dk(t)||!dk(r)}function Xc(e){return j5(e)||VH(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function VH(e){return pM(e.x)||pM(e.y)}function pM(e){return e&&e!=="0%"}function W1(e,t,r){const o=e-r,i=t*o;return r+i}function fM(e,t,r,o,i){return i!==void 0&&(e=W1(e,i,o)),W1(e,r,o)+t}function S5(e,t=0,r=1,o,i){e.min=fM(e.min,t,r,o,i),e.max=fM(e.max,t,r,o,i)}function UH(e,{x:t,y:r}){S5(e.x,t.translate,t.scale,t.originPoint),S5(e.y,r.translate,r.scale,r.originPoint)}const hM=.999999999999,gM=1.0000000000001;function lEe(e,t,r,o=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,s;for(let l=0;l<i;l++){a=r[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(o&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,UH(e,s)),o&&Xc(a.latestValues)&&Qu(e,a.latestValues))}t.x<gM&&t.x>hM&&(t.x=1),t.y<gM&&t.y>hM&&(t.y=1)}function Ju(e,t){e.min=e.min+t,e.max=e.max+t}function xM(e,t,r,o,i=.5){const a=Yr(e.min,e.max,i);S5(e,t,r,a,o)}function Qu(e,t){xM(e.x,t.x,t.scaleX,t.scale,t.originX),xM(e.y,t.y,t.scaleY,t.scale,t.originY)}function qH(e,t){return WH(sEe(e.getBoundingClientRect(),t))}function cEe(e,t,r){const o=qH(e,r),{scroll:i}=t;return i&&(Ju(o.x,i.offset.x),Ju(o.y,i.offset.y)),o}const dEe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uEe=lf.length;function pEe(e,t,r){let o="",i=!0;for(let a=0;a<uEe;a++){const s=lf[a],l=e[s];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(s.startsWith("scale")?1:0);else{const d=parseFloat(l);c=s.startsWith("scale")?d===1:d===0}if(!c||r){const d=zH(l,r6[s]);if(!c){i=!1;const f=dEe[s]||s;o+=`${f}(${d}) `}r&&(t[s]=d)}}return o=o.trim(),r?o=r(t,i?"":o):i&&(o="none"),o}function l6(e,t,r){const{style:o,vars:i,transformOrigin:a}=e;let s=!1,l=!1;for(const c in t){const d=t[c];if(cf.has(c)){s=!0;continue}else if(rH(c)){i[c]=d;continue}else{const f=zH(d,r6[c]);c.startsWith("origin")?(l=!0,a[c]=f):o[c]=f}}if(t.transform||(s||r?o.transform=pEe(t,e.transform,r):o.transform&&(o.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=a;o.transformOrigin=`${c} ${d} ${f}`}}function HH(e,{style:t,vars:r},o,i){const a=e.style;let s;for(s in t)a[s]=t[s];i==null||i.applyProjectionStyles(a,o);for(s in r)a.setProperty(s,r[s])}function mM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ah={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(tt.test(e))e=parseFloat(e);else return e;const r=mM(e,t.target.x),o=mM(e,t.target.y);return`${r}% ${o}%`}},fEe={correct:(e,{treeScale:t,projectionDelta:r})=>{const o=e,i=Ea.parse(e);if(i.length>5)return o;const a=Ea.createTransformer(e),s=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+s]/=l,i[1+s]/=c;const d=Yr(l,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),a(i)}},w5={borderRadius:{...ah,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ah,borderTopRightRadius:ah,borderBottomLeftRadius:ah,borderBottomRightRadius:ah,boxShadow:fEe};function GH(e,{layout:t,layoutId:r}){return cf.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!w5[e]||e==="opacity")}function c6(e,t,r){var s;const o=e.style,i=t==null?void 0:t.style,a={};if(!o)return a;for(const l in o)(po(o[l])||i&&po(i[l])||GH(l,e)||((s=r==null?void 0:r.getValue(l))==null?void 0:s.liveStyle)!==void 0)&&(a[l]=o[l]);return a}function hEe(e){return window.getComputedStyle(e)}class gEe extends LH{constructor(){super(...arguments),this.type="html",this.renderInstance=HH}readValueFromInstance(t,r){var o;if(cf.has(r))return(o=this.projection)!=null&&o.isProjecting?l5(r):BSe(t,r);{const i=hEe(t),a=(rH(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return qH(t,r)}build(t,r,o){l6(t,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,r,o){return c6(t,r,o)}}const xEe={offset:"stroke-dashoffset",array:"stroke-dasharray"},mEe={offset:"strokeDashoffset",array:"strokeDasharray"};function yEe(e,t,r=1,o=0,i=!0){e.pathLength=1;const a=i?xEe:mEe;e[a.offset]=`${-o}`,e[a.array]=`${t} ${r}`}const bEe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function KH(e,{attrX:t,attrY:r,attrScale:o,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...l},c,d,f){if(l6(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:h}=e;p.transform&&(h.transform=p.transform,delete p.transform),(h.transform||p.transformOrigin)&&(h.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),h.transform&&(h.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox);for(const x of bEe)p[x]!==void 0&&(h[x]=p[x],delete p[x]);t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),o!==void 0&&(p.scale=o),i!==void 0&&yEe(p,i,a,s,!1)}const YH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),XH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vEe(e,t,r,o){HH(e,t,void 0,o);for(const i in t.attrs)e.setAttribute(YH.has(i)?i:t6(i),t.attrs[i])}function JH(e,t,r){const o=c6(e,t,r);for(const i in e)if(po(e[i])||po(t[i])){const a=lf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;o[a]=e[i]}return o}class jEe extends LH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(cf.has(r)){const o=RH(r);return o&&o.default||0}return r=YH.has(r)?r:t6(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,o){return JH(t,r,o)}build(t,r,o){KH(t,r,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,r,o,i){vEe(t,r,o,i)}mount(t){this.isSVGTag=XH(t.tagName),super.mount(t)}}const SEe=s6.length;function QH(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?QH(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<SEe;r++){const o=s6[r],i=e.props[o];(Hg(i)||i===!1)&&(t[o]=i)}return t}function ZH(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let o=0;o<r;o++)if(t[o]!==e[o])return!1;return!0}const wEe=[...a6].reverse(),EEe=a6.length;function CEe(e){return t=>Promise.all(t.map(({animation:r,options:o})=>jwe(e,r,o)))}function kEe(e){let t=CEe(e),r=yM(),o=!0;const i=c=>(d,f)=>{var h;const p=dp(e,f,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(p){const{transition:x,transitionEnd:m,...y}=p;d={...d,...y,...m}}return d};function a(c){t=c(e)}function s(c){const{props:d}=e,f=QH(e.parent)||{},p=[],h=new Set;let x={},m=1/0;for(let b=0;b<EEe;b++){const v=wEe[b],C=r[v],S=d[v]!==void 0?d[v]:f[v],F=Hg(S),w=v===c?C.isActive:null;w===!1&&(m=b);let k=S===f[v]&&S!==d[v]&&F;if(k&&o&&e.manuallyAnimateOnMount&&(k=!1),C.protectedKeys={...x},!C.isActive&&w===null||!S&&!C.prevProp||av(S)||typeof S=="boolean")continue;if(v==="exit"&&C.isActive&&w!==!0){C.prevResolvedValues&&(x={...x,...C.prevResolvedValues});continue}const E=FEe(C.prevProp,S);let T=E||v===c&&C.isActive&&!k&&F||b>m&&F,_=!1;const z=Array.isArray(S)?S:[S];let B=z.reduce(i(v),{});w===!1&&(B={});const{prevResolvedValues:P={}}=C,D={...P,...B},I=V=>{T=!0,h.has(V)&&(_=!0,h.delete(V)),C.needsAnimating[V]=!0;const L=e.getValue(V);L&&(L.liveStyle=!1)};for(const V in D){const L=B[V],W=P[V];if(x.hasOwnProperty(V))continue;let G=!1;h5(L)&&h5(W)?G=!ZH(L,W):G=L!==W,G?L!=null?I(V):h.add(V):L!==void 0&&h.has(V)?I(V):C.protectedKeys[V]=!0}C.prevProp=S,C.prevResolvedValues=B,C.isActive&&(x={...x,...B}),o&&e.blockInitialAnimation&&(T=!1);const N=k&&E;T&&(!N||_)&&p.push(...z.map(V=>{const L={type:v};if(typeof V=="string"&&o&&!N&&e.manuallyAnimateOnMount&&e.parent){const{parent:W}=e,G=dp(W,V);if(W.enteringChildren&&G){const{delayChildren:U}=G.transition||{};L.delay=jH(W.enteringChildren,e,U)}}return{animation:V,options:L}}))}if(h.size){const b={};if(typeof d.initial!="boolean"){const v=dp(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(b.transition=v.transition)}h.forEach(v=>{const C=e.getBaseTarget(v),S=e.getValue(v);S&&(S.liveStyle=!0),b[v]=C??null}),p.push({animation:b})}let y=!!p.length;return o&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),o=!1,y?t(p):Promise.resolve()}function l(c,d){var p;if(r[c].isActive===d)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(h=>{var x;return(x=h.animationState)==null?void 0:x.setActive(c,d)}),r[c].isActive=d;const f=s(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=yM()}}}function FEe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZH(t,e):!1}function Mc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yM(){return{animate:Mc(!0),whileInView:Mc(),whileHover:Mc(),whileTap:Mc(),whileDrag:Mc(),whileFocus:Mc(),exit:Mc()}}function bM(e,t){e.min=t.min,e.max=t.max}function ea(e,t){bM(e.x,t.x),bM(e.y,t.y)}function vM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const eG=1e-4,AEe=1-eG,_Ee=1+eG,tG=.01,REe=0-tG,TEe=0+tG;function Fo(e){return e.max-e.min}function PEe(e,t,r){return Math.abs(e-t)<=r}function jM(e,t,r,o=.5){e.origin=o,e.originPoint=Yr(t.min,t.max,e.origin),e.scale=Fo(r)/Fo(t),e.translate=Yr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=AEe&&e.scale<=_Ee||isNaN(e.scale))&&(e.scale=1),(e.translate>=REe&&e.translate<=TEe||isNaN(e.translate))&&(e.translate=0)}function Hh(e,t,r,o){jM(e.x,t.x,r.x,o?o.originX:void 0),jM(e.y,t.y,r.y,o?o.originY:void 0)}function SM(e,t,r){e.min=r.min+t.min,e.max=e.min+Fo(t)}function zEe(e,t,r){SM(e.x,t.x,r.x),SM(e.y,t.y,r.y)}function wM(e,t,r){e.min=t.min-r.min,e.max=e.min+Fo(t)}function V1(e,t,r){wM(e.x,t.x,r.x),wM(e.y,t.y,r.y)}function EM(e,t,r,o,i){return e-=t,e=W1(e,1/r,o),i!==void 0&&(e=W1(e,1/i,o)),e}function BEe(e,t=0,r=1,o=.5,i,a=e,s=e){if(ss.test(t)&&(t=parseFloat(t),t=Yr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=Yr(a.min,a.max,o);e===a&&(l-=t),e.min=EM(e.min,t,r,l,i),e.max=EM(e.max,t,r,l,i)}function CM(e,t,[r,o,i],a,s){BEe(e,t[r],t[o],t[i],t.scale,a,s)}const IEe=["x","scaleX","originX"],OEe=["y","scaleY","originY"];function kM(e,t,r,o){CM(e.x,t,IEe,r?r.x:void 0,o?o.x:void 0),CM(e.y,t,OEe,r?r.y:void 0,o?o.y:void 0)}function FM(e){return e.translate===0&&e.scale===1}function rG(e){return FM(e.x)&&FM(e.y)}function AM(e,t){return e.min===t.min&&e.max===t.max}function DEe(e,t){return AM(e.x,t.x)&&AM(e.y,t.y)}function _M(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nG(e,t){return _M(e.x,t.x)&&_M(e.y,t.y)}function RM(e){return Fo(e.x)/Fo(e.y)}function TM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ja(e){return[e("x"),e("y")]}function MEe(e,t,r){let o="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((i||a||s)&&(o=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:h,skewX:x,skewY:m}=r;d&&(o=`perspective(${d}px) ${o}`),f&&(o+=`rotate(${f}deg) `),p&&(o+=`rotateX(${p}deg) `),h&&(o+=`rotateY(${h}deg) `),x&&(o+=`skewX(${x}deg) `),m&&(o+=`skewY(${m}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(o+=`scale(${l}, ${c})`),o||"none"}const oG=["TopLeft","TopRight","BottomLeft","BottomRight"],$Ee=oG.length,PM=e=>typeof e=="string"?parseFloat(e):e,zM=e=>typeof e=="number"||tt.test(e);function NEe(e,t,r,o,i,a){i?(e.opacity=Yr(0,r.opacity??1,LEe(o)),e.opacityExit=Yr(t.opacity??1,0,WEe(o))):a&&(e.opacity=Yr(t.opacity??1,r.opacity??1,o));for(let s=0;s<$Ee;s++){const l=`border${oG[s]}Radius`;let c=BM(t,l),d=BM(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||zM(c)===zM(d)?(e[l]=Math.max(Yr(PM(c),PM(d),o),0),(ss.test(d)||ss.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Yr(t.rotate||0,r.rotate||0,o))}function BM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LEe=iG(0,.5,Xq),WEe=iG(.5,.95,$i);function iG(e,t,r){return o=>o<e?0:o>t?1:r(Vg(e,t,o))}function VEe(e,t,r){const o=po(e)?e:$p(e);return o.start(Z_("",o,t,r)),o.animation}function Gg(e,t,r,o={passive:!0}){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r)}const UEe=(e,t)=>e.depth-t.depth;class qEe{constructor(){this.children=[],this.isDirty=!1}add(t){M_(this.children,t),this.isDirty=!0}remove(t){D1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UEe),this.isDirty=!1,this.children.forEach(t)}}function HEe(e,t){const r=ko.now(),o=({timestamp:i})=>{const a=i-r;a>=t&&(pc(o),e(a-t))};return Tr.setup(o,!0),()=>pc(o)}function jy(e){return po(e)?e.get():e}class GEe{constructor(){this.members=[]}add(t){M_(this.members,t);for(let r=this.members.length-1;r>=0;r--){const o=this.members[r];if(o===t||o===this.lead||o===this.prevLead)continue;const i=o.instance;i&&i.isConnected===!1&&o.isPresent!==!1&&!o.snapshot&&D1(this.members,o)}t.scheduleRender()}remove(t){if(D1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let o;for(let i=r;i>=0;i--){const a=this.members[i],s=a.instance;if(a.isPresent!==!1&&(!s||s.isConnected!==!1)){o=a;break}}return o?(this.promote(o),!0):!1}promote(t,r){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender();const i=o.options.layoutDependency,a=t.options.layoutDependency;if(!(i!==void 0&&a!==void 0&&i===a)){const c=o.instance;c&&c.isConnected===!1&&!o.snapshot||(t.resumeFrom=o,r&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:o}=t;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Sy={hasAnimatedSinceResize:!0,hasEverUpdated:!1},uk=["","X","Y","Z"],KEe=1e3;let YEe=0;function pk(e,t,r,o){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),o&&(o[e]=0))}function aG(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=kH(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Tr,!(i||a))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&aG(o)}function sG({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}){return class{constructor(s={},l=t==null?void 0:t()){this.id=YEe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QEe),this.nodes.forEach(rCe),this.nodes.forEach(nCe),this.nodes.forEach(ZEe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qEe)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new N_),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=i6(s)&&!Jwe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let f,p=0;const h=()=>this.root.updateBlockedByResize=!1;Tr.read(()=>{p=window.innerWidth}),e(s,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,f&&f(),f=HEe(h,250),Sy.hasAnimatedSinceResize&&(Sy.hasAnimatedSinceResize=!1,this.nodes.forEach(DM)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||lCe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=d.getProps(),v=!this.targetLayout||!nG(this.targetLayout,x),C=!p&&h;if(this.options.layoutRoot||this.resumeFrom||C||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Q_(m,"layout"),onPlay:y,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,C)}else p||DM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oCe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tCe),this.nodes.forEach(XEe),this.nodes.forEach(JEe)):this.nodes.forEach(OM),this.clearAllSnapshots();const l=ko.now();Kn.delta=fs(0,1e3/60,l-Kn.timestamp),Kn.timestamp=l,Kn.isProcessing=!0,nk.update.process(Kn),nk.preRender.process(Kn),nk.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eCe),this.sharedNodes.forEach(iCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fo(this.snapshot.measuredBox.x)&&!Fo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const c=o(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!rG(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&this.instance&&(l||Xc(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),cCe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:s}=this.options;if(!s)return kn();const l=s.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(dCe))){const{scroll:f}=this.root;f&&(Ju(l.x,f.offset.x),Ju(l.y,f.offset.y))}return l}removeElementScroll(s){var c;const l=kn();if(ea(l,s),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:h}=f;f!==this.root&&p&&h.layoutScroll&&(p.wasRoot&&ea(l,s),Ju(l.x,p.offset.x),Ju(l.y,p.offset.y))}return l}applyTransform(s,l=!1){const c=kn();ea(c,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Qu(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Xc(f.latestValues)&&Qu(c,f.latestValues)}return Xc(this.latestValues)&&Qu(c,this.latestValues),c}removeTransform(s){const l=kn();ea(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Xc(d.latestValues))continue;j5(d.latestValues)&&d.updateSnapshot();const f=kn(),p=d.measurePageBox();ea(f,p),kM(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Xc(this.latestValues)&&kM(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=Kn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zEe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ea(this.target,this.layout.layoutBox),UH(this.target,this.targetDelta)):ea(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||j5(this.parent.latestValues)||VH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,l,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),V1(this.relativeTargetOrigin,l,c),ea(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ea(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;lEe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=kn());const{target:x}=s;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vM(this.prevProjectionDelta.x,this.projectionDelta.x),vM(this.prevProjectionDelta.y,this.projectionDelta.y)),Hh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!TM(this.projectionDelta.x,this.prevProjectionDelta.x)||!TM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xu(),this.projectionDelta=Xu(),this.projectionDeltaWithTransform=Xu()}setAnimationOrigin(s,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Xu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=kn(),x=c?c.source:void 0,m=this.layout?this.layout.source:void 0,y=x!==m,b=this.getStack(),v=!b||b.members.length<=1,C=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(sCe));this.animationProgress=0;let S;this.mixTargetDelta=F=>{const w=F/1e3;MM(p.x,s.x,w),MM(p.y,s.y,w),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(V1(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aCe(this.relativeTarget,this.relativeTargetOrigin,h,w),S&&DEe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=kn()),ea(S,this.relativeTarget)),y&&(this.animationValues=f,NEe(f,d,this.latestValues,w,C,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(pc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tr.update(()=>{Sy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$p(0)),this.motionValue.jump(0,!1),this.currentAnimation=VEe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),s.onUpdate&&s.onUpdate(f)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KEe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=s;if(!(!l||!c||!d)){if(this!==s&&this.layout&&d&&lG(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||kn();const p=Fo(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const h=Fo(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}ea(l,c),Qu(l,f),Hh(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new GEe),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&pk("z",s,d,this.animationValues);for(let f=0;f<uk.length;f++)pk(`rotate${uk[f]}`,s,d,this.animationValues),pk(`skew${uk[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=jy(l==null?void 0:l.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=jy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Xc(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=MEe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),s.transform=p;const{x:h,y:x}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,d.animationValues?s.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in w5){if(f[m]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:v}=w5[m],C=p==="none"?f[m]:y(f[m],d);if(b){const S=b.length;for(let F=0;F<S;F++)s[b[F]]=C}else v?this.options.visualElement.renderState.vars[m]=C:s[m]=C}this.options.layoutId&&(s.pointerEvents=d===this?jy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(IM),this.root.sharedNodes.clear()}}}function XEe(e){e.updateLayout()}function JEe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:i}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?Ja(p=>{const h=s?t.measuredBox[p]:t.layoutBox[p],x=Fo(h);h.min=o[p].min,h.max=h.min+x}):lG(a,t.layoutBox,o)&&Ja(p=>{const h=s?t.measuredBox[p]:t.layoutBox[p],x=Fo(o[p]);h.max=h.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+x)});const l=Xu();Hh(l,o,t.layoutBox);const c=Xu();s?Hh(c,e.applyTransform(i,!0),t.measuredBox):Hh(c,o,t.layoutBox);const d=!rG(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:h,layout:x}=p;if(h&&x){const m=kn();V1(m,t.layoutBox,h.layoutBox);const y=kn();V1(y,o,x.layoutBox),nG(m,y)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function QEe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZEe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eCe(e){e.clearSnapshot()}function IM(e){e.clearMeasurements()}function OM(e){e.isLayoutDirty=!1}function tCe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function DM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rCe(e){e.resolveTargetDelta()}function nCe(e){e.calcProjection()}function oCe(e){e.resetSkewAndRotation()}function iCe(e){e.removeLeadSnapshot()}function MM(e,t,r){e.translate=Yr(t.translate,0,r),e.scale=Yr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function $M(e,t,r,o){e.min=Yr(t.min,r.min,o),e.max=Yr(t.max,r.max,o)}function aCe(e,t,r,o){$M(e.x,t.x,r.x,o),$M(e.y,t.y,r.y,o)}function sCe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lCe={duration:.45,ease:[.4,0,.1,1]},NM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),LM=NM("applewebkit/")&&!NM("chrome/")?Math.round:$i;function WM(e){e.min=LM(e.min),e.max=LM(e.max)}function cCe(e){WM(e.x),WM(e.y)}function lG(e,t,r){return e==="position"||e==="preserve-aspect"&&!PEe(RM(t),RM(r),.2)}function dCe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const uCe=sG({attachResizeListener:(e,t)=>Gg(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),fk={current:void 0},cG=sG({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fk.current){const e=new uCe({});e.mount(window),e.setOptions({layoutScroll:!0}),fk.current=e}return fk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d6=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function VM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pCe(...e){return t=>{let r=!1;const o=e.map(i=>{const a=VM(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<o.length;i++){const a=o[i];typeof a=="function"?a():VM(e[i],null)}}}}function fCe(...e){return A.useCallback(pCe(...e),e)}class hCe extends A.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const o=r.offsetParent,i=b5(o)&&o.offsetWidth||0,a=b5(o)&&o.offsetHeight||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left,s.bottom=a-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function gCe({children:e,isPresent:t,anchorX:r,anchorY:o,root:i,pop:a}){var h;const s=A.useId(),l=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=A.useContext(d6),f=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),p=fCe(l,f);return A.useInsertionEffect(()=>{const{width:x,height:m,top:y,left:b,right:v,bottom:C}=c.current;if(t||a===!1||!l.current||!x||!m)return;const S=r==="left"?`left: ${b}`:`right: ${v}`,F=o==="bottom"?`bottom: ${C}`:`top: ${y}`;l.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const k=i??document.head;return k.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${m}px !important;
            ${S}px !important;
            ${F}px !important;
          }
        `),()=>{k.contains(w)&&k.removeChild(w)}},[t]),n.jsx(hCe,{isPresent:t,childRef:l,sizeRef:c,pop:a,children:a===!1?e:A.cloneElement(e,{ref:p})})}const xCe=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:i,presenceAffectsLayout:a,mode:s,anchorX:l,anchorY:c,root:d})=>{const f=D_(mCe),p=A.useId();let h=!0,x=A.useMemo(()=>(h=!1,{id:p,initial:t,isPresent:r,custom:i,onExitComplete:m=>{f.set(m,!0);for(const y of f.values())if(!y)return;o&&o()},register:m=>(f.set(m,!1),()=>f.delete(m))}),[r,f,o]);return a&&h&&(x={...x}),A.useMemo(()=>{f.forEach((m,y)=>f.set(y,!1))},[r]),A.useEffect(()=>{!r&&!f.size&&o&&o()},[r]),e=n.jsx(gCe,{pop:s==="popLayout",isPresent:r,anchorX:l,anchorY:c,root:d,children:e}),n.jsx(iv.Provider,{value:x,children:e})};function mCe(){return new Map}function dG(e=!0){const t=A.useContext(iv);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:i}=t,a=A.useId();A.useEffect(()=>{if(e)return i(a)},[e]);const s=A.useCallback(()=>e&&o&&o(a),[a,o,e]);return!r&&o?[!1,s]:[!0]}const y0=e=>e.key||"";function UM(e){const t=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&t.push(r)}),t}const Jc=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[f,p]=dG(s),h=A.useMemo(()=>UM(e),[e]),x=s&&!f?[]:h.map(y0),m=A.useRef(!0),y=A.useRef(h),b=D_(()=>new Map),v=A.useRef(new Set),[C,S]=A.useState(h),[F,w]=A.useState(h);Mq(()=>{m.current=!1,y.current=h;for(let T=0;T<F.length;T++){const _=y0(F[T]);x.includes(_)?(b.delete(_),v.current.delete(_)):b.get(_)!==!0&&b.set(_,!1)}},[F,x.length,x.join("-")]);const k=[];if(h!==C){let T=[...h];for(let _=0;_<F.length;_++){const z=F[_],B=y0(z);x.includes(B)||(T.splice(_,0,z),k.push(z))}return a==="wait"&&k.length&&(T=k),w(UM(T)),S(h),null}const{forceRender:E}=A.useContext(O_);return n.jsx(n.Fragment,{children:F.map(T=>{const _=y0(T),z=s&&!f?!1:h===F||x.includes(_),B=()=>{if(v.current.has(_))return;if(v.current.add(_),b.has(_))b.set(_,!0);else return;let P=!0;b.forEach(D=>{D||(P=!1)}),P&&(E==null||E(),w(y.current),s&&(p==null||p()),o&&o())};return n.jsx(xCe,{isPresent:z,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:z?void 0:B,anchorX:l,anchorY:c,children:T},_)})})},uG=A.createContext({strict:!1}),qM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let HM=!1;function yCe(){if(HM)return;const e={};for(const t in qM)e[t]={isEnabled:r=>qM[t].some(o=>!!r[o])};NH(e),HM=!0}function pG(){return yCe(),oEe()}function bCe(e){const t=pG();for(const r in e)t[r]={...t[r],...e[r]};NH(t)}const vCe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function U1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vCe.has(e)}let fG=e=>!U1(e);function jCe(e){typeof e=="function"&&(fG=t=>t.startsWith("on")?!U1(t):e(t))}try{jCe(require("@emotion/is-prop-valid").default)}catch{}function SCe(e,t,r){const o={};for(const i in e)i==="values"&&typeof e.values=="object"||(fG(i)||r===!0&&U1(i)||!t&&!U1(i)||e.draggable&&i.startsWith("onDrag"))&&(o[i]=e[i]);return o}const lv=A.createContext({});function wCe(e,t){if(sv(e)){const{initial:r,animate:o}=e;return{initial:r===!1||Hg(r)?r:void 0,animate:Hg(o)?o:void 0}}return e.inherit!==!1?t:{}}function ECe(e){const{initial:t,animate:r}=wCe(e,A.useContext(lv));return A.useMemo(()=>({initial:t,animate:r}),[GM(t),GM(r)])}function GM(e){return Array.isArray(e)?e.join(" "):e}const u6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hG(e,t,r){for(const o in t)!po(t[o])&&!GH(o,r)&&(e[o]=t[o])}function CCe({transformTemplate:e},t){return A.useMemo(()=>{const r=u6();return l6(r,t,e),Object.assign({},r.vars,r.style)},[t])}function kCe(e,t){const r=e.style||{},o={};return hG(o,r,e),Object.assign(o,CCe(e,t)),o}function FCe(e,t){const r={},o=kCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const gG=()=>({...u6(),attrs:{}});function ACe(e,t,r,o){const i=A.useMemo(()=>{const a=gG();return KH(a,t,XH(o),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};hG(a,e.style,e),i.style={...a,...i.style}}return i}const _Ce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p6(e){return typeof e!="string"||e.includes("-")?!1:!!(_Ce.indexOf(e)>-1||/[A-Z]/u.test(e))}function RCe(e,t,r,{latestValues:o},i,a=!1,s){const c=(s??p6(e)?ACe:FCe)(t,o,i,e),d=SCe(t,typeof e=="string",a),f=e!==A.Fragment?{...d,...c,ref:r}:{},{children:p}=t,h=A.useMemo(()=>po(p)?p.get():p,[p]);return A.createElement(e,{...f,children:h})}function TCe({scrapeMotionValuesFromProps:e,createRenderState:t},r,o,i){return{latestValues:PCe(r,o,i,e),renderState:t()}}function PCe(e,t,r,o){const i={},a=o(e,{});for(const h in a)i[h]=jy(a[h]);let{initial:s,animate:l}=e;const c=sv(e),d=MH(e);t&&d&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||s===!1;const p=f?l:s;if(p&&typeof p!="boolean"&&!av(p)){const h=Array.isArray(p)?p:[p];for(let x=0;x<h.length;x++){const m=e6(e,h[x]);if(m){const{transitionEnd:y,transition:b,...v}=m;for(const C in v){let S=v[C];if(Array.isArray(S)){const F=f?S.length-1:0;S=S[F]}S!==null&&(i[C]=S)}for(const C in y)i[C]=y[C]}}}return i}const xG=e=>(t,r)=>{const o=A.useContext(lv),i=A.useContext(iv),a=()=>TCe(e,t,o,i);return r?a():D_(a)},zCe=xG({scrapeMotionValuesFromProps:c6,createRenderState:u6}),BCe=xG({scrapeMotionValuesFromProps:JH,createRenderState:gG}),ICe=Symbol.for("motionComponentSymbol");function OCe(e,t,r){const o=A.useRef(r);A.useInsertionEffect(()=>{o.current=r});const i=A.useRef(null);return A.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const s=o.current;if(typeof s=="function")if(a){const c=s(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):s(a);else s&&(s.current=a)},[t])}const mG=A.createContext({});function Du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function DCe(e,t,r,o,i,a){var S,F;const{visualElement:s}=A.useContext(lv),l=A.useContext(uG),c=A.useContext(iv),d=A.useContext(d6),f=d.reducedMotion,p=d.skipAnimations,h=A.useRef(null),x=A.useRef(!1);o=o||l.renderer,!h.current&&o&&(h.current=o(e,{visualState:t,parent:s,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f,skipAnimations:p,isSVG:a}),x.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const m=h.current,y=A.useContext(mG);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&MCe(h.current,r,i,y);const b=A.useRef(!1);A.useInsertionEffect(()=>{m&&b.current&&m.update(r,c)});const v=r[CH],C=A.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,v)));return Mq(()=>{x.current=!0,m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),A.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,v)}),C.current=!1),m.enteringChildren=void 0)}),m}function MCe(e,t,r,o){const{layoutId:i,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:yG(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||l&&Du(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:o,crossfade:f,layoutScroll:c,layoutRoot:d})}function yG(e){if(e)return e.options.allowProjection!==!1?e.projection:yG(e.parent)}function hk(e,{forwardMotionProps:t=!1,type:r}={},o,i){o&&bCe(o);const a=r?r==="svg":p6(e),s=a?BCe:zCe;function l(d,f){let p;const h={...A.useContext(d6),...d,layoutId:$Ce(d)},{isStatic:x}=h,m=ECe(d),y=s(d,x);if(!x&&Dq){NCe();const b=LCe(h);p=b.MeasureLayout,m.visualElement=DCe(e,y,h,i,b.ProjectionNode,a)}return n.jsxs(lv.Provider,{value:m,children:[p&&m.visualElement?n.jsx(p,{visualElement:m.visualElement,...h}):null,RCe(e,d,OCe(y,m.visualElement,f),y,x,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=A.forwardRef(l);return c[ICe]=e,c}function $Ce({layoutId:e}){const t=A.useContext(O_).id;return t&&e!==void 0?t+"-"+e:e}function NCe(e,t){A.useContext(uG).strict}function LCe(e){const t=pG(),{drag:r,layout:o}=t;if(!r&&!o)return{};const i={...r,...o};return{MeasureLayout:r!=null&&r.isEnabled(e)||o!=null&&o.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function WCe(e,t){if(typeof Proxy>"u")return hk;const r=new Map,o=(a,s)=>hk(a,s,e,t),i=(a,s)=>o(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?o:(r.has(s)||r.set(s,hk(s,void 0,e,t)),r.get(s))})}const VCe=(e,t)=>t.isSVG??p6(e)?new jEe(t):new gEe(t,{allowProjection:e!==A.Fragment});class UCe extends jc{constructor(t){super(t),t.animationState||(t.animationState=kEe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();av(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let qCe=0;class HCe extends jc{constructor(){super(...arguments),this.id=qCe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const GCe={animation:{Feature:UCe},exit:{Feature:HCe}};function Tx(e){return{point:{x:e.pageX,y:e.pageY}}}const KCe=e=>t=>o6(t)&&e(t,Tx(t));function Gh(e,t,r,o){return Gg(e,t,KCe(r),o)}const bG=({current:e})=>e?e.ownerDocument.defaultView:null,KM=(e,t)=>Math.abs(e-t);function YCe(e,t){const r=KM(e.x,t.x),o=KM(e.y,t.y);return Math.sqrt(r**2+o**2)}const YM=new Set(["auto","scroll"]);class vG{constructor(t,r,{transformPagePoint:o,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=xk(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=YCe(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:b}=x,{timestamp:v}=Kn;this.history.push({...b,timestamp:v});const{onStart:C,onMove:S}=this.handlers;m||(C&&C(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,x)},this.handlePointerMove=(x,m)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=gk(m,this.transformPagePoint),Tr.update(this.updatePoint,!0)},this.handlePointerUp=(x,m)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=xk(x.type==="pointercancel"?this.lastMoveEventInfo:gk(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(x,C),b&&b(x,C)},!o6(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=o,this.distanceThreshold=s,this.contextWindow=i||window;const c=Tx(t),d=gk(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=Kn;this.history=[{...f,timestamp:p}];const{onSessionStart:h}=r;h&&h(t,xk(d,this.history)),this.removeListeners=Ax(Gh(this.contextWindow,"pointermove",this.handlePointerMove),Gh(this.contextWindow,"pointerup",this.handlePointerUp),Gh(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const o=getComputedStyle(r);(YM.has(o.overflowX)||YM.has(o.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const o=t===window,i=o?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-r.x,y:i.y-r.y};a.x===0&&a.y===0||(o?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),Tr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),pc(this.updatePoint)}}function gk(e,t){return t?{point:t(e.point)}:e}function XM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xk({point:e},t){return{point:e,delta:XM(e,jG(t)),offset:XM(e,XCe(t)),velocity:JCe(t,.1)}}function XCe(e){return e[0]}function jG(e){return e[e.length-1]}function JCe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,o=null;const i=jG(e);for(;r>=0&&(o=e[r],!(i.timestamp-o.timestamp>wa(t)));)r--;if(!o)return{x:0,y:0};o===e[0]&&e.length>2&&i.timestamp-o.timestamp>wa(t)*2&&(o=e[1]);const a=Ii(i.timestamp-o.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-o.x)/a,y:(i.y-o.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function QCe(e,{min:t,max:r},o){return t!==void 0&&e<t?e=o?Yr(t,e,o.min):Math.max(e,t):r!==void 0&&e>r&&(e=o?Yr(r,e,o.max):Math.min(e,r)),e}function JM(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ZCe(e,{top:t,left:r,bottom:o,right:i}){return{x:JM(e.x,r,i),y:JM(e.y,t,o)}}function QM(e,t){let r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,o]=[o,r]),{min:r,max:o}}function eke(e,t){return{x:QM(e.x,t.x),y:QM(e.y,t.y)}}function tke(e,t){let r=.5;const o=Fo(e),i=Fo(t);return i>o?r=Vg(t.min,t.max-o,e.min):o>i&&(r=Vg(e.min,e.max-i,t.min)),fs(0,1,r)}function rke(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const E5=.35;function nke(e=E5){return e===!1?e=0:e===!0&&(e=E5),{x:ZM(e,"left","right"),y:ZM(e,"top","bottom")}}function ZM(e,t,r){return{min:e$(e,t),max:e$(e,r)}}function e$(e,t){return typeof e=="number"?e:e[t]||0}const oke=new WeakMap;class ike{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:o}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{r&&this.snapToCursor(Tx(p).point),this.stopAnimation()},s=(p,h)=>{const{drag:x,dragPropagation:m,onDragStart:y}=this.getProps();if(x&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bwe(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ja(v=>{let C=this.getAxisMotionValue(v).get()||0;if(ss.test(C)){const{projection:S}=this.visualElement;if(S&&S.layout){const F=S.layout.layoutBox[v];F&&(C=Fo(F)*(parseFloat(C)/100))}}this.originPoint[v]=C}),y&&Tr.update(()=>y(p,h),!1,!0),g5(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(p,h)=>{this.latestPointerEvent=p,this.latestPanInfo=h;const{dragPropagation:x,dragDirectionLock:m,onDirectionLock:y,onDrag:b}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:v}=h;if(m&&this.currentDirection===null){this.currentDirection=ske(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),b&&Tr.update(()=>b(p,h),!1,!0)},c=(p,h)=>{this.latestPointerEvent=p,this.latestPanInfo=h,this.stop(p,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new vG(t,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:o,contextWindow:bG(this.visualElement),element:this.visualElement.current})}stop(t,r){const o=t||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!o)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Tr.postRender(()=>l(o,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,o){const{drag:i}=this.getProps();if(!o||!b0(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(s=QCe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Du(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=ZCe(o.layoutBox,t):this.constraints=!1,this.elastic=nke(r),i!==this.constraints&&!Du(t)&&o&&this.constraints&&!this.hasMutatedConstraints&&Ja(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=rke(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Du(t))return!1;const o=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=cEe(o,i.root,this.visualElement.getTransformPagePoint());let s=eke(i.layout.layoutBox,a);if(r){const l=r(aEe(s));this.hasMutatedConstraints=!!l,l&&(s=WH(l))}return s}startAnimation(t){const{drag:r,dragMomentum:o,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ja(f=>{if(!b0(f,r,this.currentDirection))return;let p=c&&c[f]||{};s&&(p={min:0,max:0});const h=i?200:1e6,x=i?40:1e7,m={type:"inertia",velocity:o?t[f]:0,bounceStiffness:h,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(f,m)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const o=this.getAxisMotionValue(t);return g5(this.visualElement,t),o.start(Z_(t,o,0,r,this.visualElement,!1))}stopAnimation(){Ja(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),i=o[r];return i||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Ja(r=>{const{drag:o}=this.getProps();if(!b0(r,o,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[r],c=a.get()||0;a.set(t[r]-Yr(s,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Du(r)||!o||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ja(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();i[s]=tke({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ja(s=>{if(!b0(s,t,null))return;const l=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];l.set(Yr(c,d,i[s]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;oke.set(this.visualElement,this);const t=this.visualElement.current,r=Gh(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps(),h=d.target,x=h!==t&&Nwe(h);f&&p&&!x&&this.start(d)});let o;const i=()=>{const{dragConstraints:d}=this.getProps();Du(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),o||(o=ake(t,d.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,s=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Tr.read(i);const l=Gg(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ja(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=d[p].translate,h.set(h.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),r(),s(),c&&c(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=E5,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:o,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function t$(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function ake(e,t,r){const o=lM(e,t$(r)),i=lM(t,t$(r));return()=>{o(),i()}}function b0(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ske(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class lke extends jc{constructor(t){super(t),this.removeGroupControls=$i,this.removeListeners=$i,this.controls=new ike(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$i}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const mk=e=>(t,r)=>{e&&Tr.update(()=>e(t,r),!1,!0)};class cke extends jc{constructor(){super(...arguments),this.removePointerDownListener=$i}onPointerDown(t){this.session=new vG(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bG(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:o,onPanEnd:i}=this.node.getProps();return{onSessionStart:mk(t),onStart:mk(r),onMove:mk(o),onEnd:(a,s)=>{delete this.session,i&&Tr.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Gh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let yk=!1;class dke extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:o,layoutId:i}=this.props,{projection:a}=t;a&&(r.group&&r.group.add(a),o&&o.register&&i&&o.register(a),yk&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Sy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:o,drag:i,isPresent:a}=this.props,{projection:s}=o;return s&&(s.isPresent=a,t.layoutDependency!==r&&s.setOptions({...s.options,layoutDependency:r}),yk=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Tr.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),n6.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:i}=t;yk=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),o&&o.deregister&&o.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SG(e){const[t,r]=dG(),o=A.useContext(O_);return n.jsx(dke,{...e,layoutGroup:o,switchLayoutGroup:A.useContext(mG),isPresent:t,safeToRemove:r})}const uke={pan:{Feature:cke},drag:{Feature:lke,ProjectionNode:cG,MeasureLayout:SG}};function r$(e,t,r){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=o[i];a&&Tr.postRender(()=>a(t,Tx(t)))}class pke extends jc{mount(){const{current:t}=this.node;t&&(this.unmount=Owe(t,(r,o)=>(r$(this.node,o,"Start"),i=>r$(this.node,i,"End"))))}unmount(){}}class fke extends jc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ax(Gg(this.node.current,"focus",()=>this.onFocus()),Gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n$(e,t,r){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=o[i];a&&Tr.postRender(()=>a(t,Tx(t)))}class hke extends jc{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:r,propagate:o}=this.node.props;this.unmount=Wwe(t,(i,a)=>(n$(this.node,a,"Start"),(s,{success:l})=>n$(this.node,s,l?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:(o==null?void 0:o.tap)===!1})}unmount(){}}const C5=new WeakMap,bk=new WeakMap,gke=e=>{const t=C5.get(e.target);t&&t(e)},xke=e=>{e.forEach(gke)};function mke({root:e,...t}){const r=e||document;bk.has(r)||bk.set(r,{});const o=bk.get(r),i=JSON.stringify(t);return o[i]||(o[i]=new IntersectionObserver(xke,{root:e,...t})),o[i]}function yke(e,t,r){const o=mke(t);return C5.set(e,r),o.observe(e),()=>{C5.delete(e),o.unobserve(e)}}const bke={some:0,all:1};class vke extends jc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:o,amount:i="some",once:a}=t,s={root:r?r.current:void 0,rootMargin:o,threshold:typeof i=="number"?i:bke[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),h=d?f:p;h&&h(c)};return yke(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(jke(t,r))&&this.startObserver()}unmount(){}}function jke({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Ske={inView:{Feature:vke},tap:{Feature:hke},focus:{Feature:fke},hover:{Feature:pke}},wke={layout:{ProjectionNode:cG,MeasureLayout:SG}},Eke={...GCe,...Ske,...uke,...wke},Hn=WCe(Eke,VCe),el=[{checklistIds:["admin-settings","admin-users"],section:"dashboard",viewFile:"DashboardView.tsx",isReal:!0,notes:"Dashboard con mtricas, charts y navegacin rpida"},{checklistIds:["admin-settings","admin-users"],section:"sistema",viewFile:"SistemaView.tsx",isReal:!0,notes:"Configuracin del sistema  hub con cards de config"},{checklistIds:["admin-users"],section:"departamentos",viewFile:"DepartamentosView.tsx",isReal:!0,notes:"Gestin de departamentos, roles y permisos"},{checklistIds:["admin-settings"],section:"checklist",viewFile:"ChecklistView.tsx",isReal:!0,notes:"Vista del checklist / roadmap con audit integrado"},{checklistIds:[],section:"diseno",viewFile:"DisenoView.tsx",isReal:!1,notes:"Hub de diseo y branding (tabs de navegacin)"},{checklistIds:["base-personas"],section:"personas",viewFile:"PersonasView.tsx",isReal:!0,hasSupabase:!0,notes:"CRUD completo de personas fsicas y jurdicas"},{checklistIds:["base-personas"],section:"organizaciones",viewFile:"OrganizacionesView.tsx",isReal:!0,hasSupabase:!0,notes:"CRUD completo de empresas y organizaciones"},{checklistIds:["base-personas"],section:"clientes",viewFile:"ClientesView.tsx",isReal:!0,hasSupabase:!0,notes:"Vista filtrada de personas/organizaciones con rol cliente"},{checklistIds:[],section:"ecommerce",viewFile:"EcommerceView.tsx",isReal:!1,notes:"Hub de navegacin eCommerce (cards a sub-mdulos)"},{checklistIds:["ecommerce-pedidos"],section:"pedidos",viewFile:"PedidosView.tsx",isReal:!0,hasSupabase:!0,notes:"CRUD de pedidos con estados, filtros y rbol madre/hijos"},{checklistIds:["ecommerce-pedidos"],section:"pagos",viewFile:"PagosView.tsx",isReal:!0,hasSupabase:!0,notes:"Transacciones y estados de pago operativos"},{checklistIds:["ecommerce-metodos-pago"],section:"metodos-pago",viewFile:"MetodosPagoView.tsx",isReal:!0,hasSupabase:!0,notes:"Configuracin de pasarelas y mtodos de pago"},{checklistIds:["ecommerce-metodos-envio"],section:"metodos-envio",viewFile:"MetodosEnvioView.tsx",isReal:!0,hasSupabase:!0,notes:"Configuracin de mtodos de envo y tarifas"},{checklistIds:["logistics-hub"],section:"logistica",viewFile:"LogisticaView.tsx",isReal:!1,notes:"Hub con diagrama de flujo logstico 7 pasos y cards a todos los sub-mdulos"},{checklistIds:["logistics-shipping"],section:"envios",viewFile:"EnviosView.tsx",isReal:!0,hasSupabase:!0,notes:"Vista rbol PedidoMadreEnvosHijos  estados  multi-tramo  panel detalle + timeline"},{checklistIds:["logistics-carriers"],section:"transportistas",viewFile:"TransportistasView.tsx",isReal:!0,hasSupabase:!1,notes:"Catlogo carriers  tramos y zonas  simulador de tarifas"},{checklistIds:["logistics-routes"],section:"rutas",viewFile:"RutasView.tsx",isReal:!0,hasSupabase:!1,notes:"Rutas standard y por proyecto  vista detalle con paradas  progreso de entrega"},{checklistIds:["logistics-fulfillment"],section:"fulfillment",viewFile:"FulfillmentView.tsx",isReal:!0,hasSupabase:!1,notes:"Wave picking  lotes  cola de rdenes  empaque  materiales de packaging"},{checklistIds:["logistics-production"],section:"produccion",viewFile:"ProduccionView.tsx",isReal:!0,hasSupabase:!1,notes:"BOM  rdenes de armado  catlogo de kits / canastas / combos / packs"},{checklistIds:["logistics-supply"],section:"abastecimiento",viewFile:"AbastecimientoView.tsx",isReal:!0,hasSupabase:!1,notes:"Alertas de stock  OC sugeridas  MRP con clculo de componentes necesarios"},{checklistIds:["logistics-map"],section:"mapa-envios",viewFile:"MapaEnviosView.tsx",isReal:!0,hasSupabase:!1,notes:"Mapa SVG de Argentina con puntos de envos activos  filtro por estado  tooltip detalle"},{checklistIds:["logistics-tracking"],section:"tracking-publico",viewFile:"TrackingPublicoView.tsx",isReal:!0,hasSupabase:!1,notes:"Bsqueda por nmero de envo  timeline de estados  link pblico para destinatarios"},{checklistIds:[],section:"marketing",viewFile:"MarketingView.tsx",isReal:!1,notes:"Hub de navegacin Marketing (cards a sub-mdulos)"},{checklistIds:["marketing-campaigns"],section:"google-ads",viewFile:"GoogleAdsView.tsx",isReal:!0,notes:"Dashboard Google Ads con charts recharts, KPIs y tabla de campaas"},{checklistIds:["marketing-email","marketing-email-bulk"],section:"mailing",viewFile:"MailingView.tsx",isReal:!0,hasSupabase:!1,notes:"UI completa (5 tabs: Campaas, Suscriptores, Segmentacin, A/B Testing, Analticas)  MOCK DATA. Resend API no conectada an."},{checklistIds:["marketing-seo"],section:"seo",viewFile:"SEOView.tsx",isReal:!0,hasSupabase:!1,notes:"Dashboard SEO  Keywords + rankings  anlisis on-page de pginas  backlinks  salud SEO  sugerencias IA"},{checklistIds:["marketing-loyalty"],section:"fidelizacion",viewFile:"FidelizacionView.tsx",isReal:!0,notes:"Programa de fidelizacin con niveles y charts"},{checklistIds:["marketing-loyalty"],section:"rueda-sorteos",viewFile:"RuedaSorteosView.tsx",isReal:!0,notes:"Rueda de sorteos interactiva con premios configurables"},{checklistIds:["rrss-centro-operativo"],section:"redes-sociales",viewFile:"RedesSocialesView.tsx",isReal:!0,notes:"Centro Operativo RRSS  mtricas, programacin de posts y anlisis de audiencia"},{checklistIds:["rrss-migracion"],section:"migracion-rrss",viewFile:"MigracionRRSSView.tsx",isReal:!0,notes:"Herramienta de migracin/rebranding Instagram + Facebook"},{checklistIds:["marketing-etiqueta-emotiva"],section:"etiqueta-emotiva",viewFile:"EtiquetaEmotivaView.tsx",isReal:!0,hasSupabase:!0,notes:"Mensajes personalizados con QR para envos  Supabase + QR real"},{checklistIds:[],section:"rrss",viewFile:"RRSSHubView.tsx",isReal:!1,notes:"Hub de navegacin RRSS  Centro Operativo + Migracin RRSS"},{checklistIds:[],section:"herramientas",viewFile:"HerramientasView.tsx",isReal:!1,notes:"Hub de navegacin  6 workspace tools + 3 herramientas rpidas"},{checklistIds:["tools-library"],section:"biblioteca",viewFile:"BibliotecaWorkspace.tsx",isReal:!0,hasSupabase:!1,notes:"Biblioteca de assets  upload drag&drop, colecciones, tags, grid/lista, export"},{checklistIds:["tools-image-editor"],section:"editor-imagenes",viewFile:"EditorImagenesWorkspace.tsx",isReal:!0,hasSupabase:!1,notes:"Editor de imgenes  filtros CSS, rotacin, flip, 8 presets, export PNG/JPG"},{checklistIds:["tools-documents"],section:"gen-documentos",viewFile:"GenDocumentosWorkspace.tsx",isReal:!0,hasSupabase:!1,notes:"Generador de documentos WYSIWYG  8 tipos de bloque, A4, export PDF"},{checklistIds:["tools-quotes"],section:"gen-presupuestos",viewFile:"GenPresupuestosWorkspace.tsx",isReal:!0,hasSupabase:!1,notes:"Generador de presupuestos  tems, IVA, descuentos, multi-moneda, export PDF"},{checklistIds:["tools-ocr"],section:"ocr",viewFile:"OCRWorkspace.tsx",isReal:!0,hasSupabase:!1,notes:"OCR con Tesseract.js  100% browser, sin API key, Espaol/Ingls/PT, export TXT"},{checklistIds:["tools-print"],section:"impresion",viewFile:"ImpresionWorkspace.tsx",isReal:!0,hasSupabase:!1,notes:"Mdulo de impresin  cola de trabajos, A4 preview, papel/orientacin/color/calidad"},{checklistIds:["tools-qr"],section:"qr-generator",viewFile:"QrGeneratorView.tsx",isReal:!0,notes:"Generador QR  sin APIs externas, genera PNG y SVG vectorial"},{checklistIds:["tools-ideas-board"],section:"ideas-board",viewFile:"IdeasBoardView.tsx",isReal:!0,hasSupabase:!0,notes:"Canvas visual de mdulos e ideas  stickers, conectores, canvases jerrquicos, lamparita en Mi Vista"},{checklistIds:[],section:"gestion",viewFile:"GestionView.tsx",isReal:!1,notes:"Hub de navegacin ERP (cards a Inventario, Facturacin, Compras, CRM, etc.)"},{checklistIds:["erp-inventory"],section:"erp-inventario",viewFile:"ERPInventarioView.tsx",isReal:!0,notes:"Inventario con tabs: Artculos, Stock, Movimientos, Alertas"},{checklistIds:["erp-invoicing"],section:"erp-facturacion",viewFile:"ERPFacturacionView.tsx",isReal:!0,notes:"Facturacin con tabs: Facturas, Tickets, Nueva factura"},{checklistIds:["erp-purchasing"],section:"erp-compras",viewFile:"ERPComprasView.tsx",isReal:!0,notes:"Compras con tabs: rdenes, Proveedores, Nueva orden"},{checklistIds:["crm-contacts","crm-opportunities","crm-activities"],section:"erp-crm",viewFile:"ERPCRMView.tsx",isReal:!0,notes:"CRM completo: Contactos, Pipeline de oportunidades, Actividades y seguimiento"},{checklistIds:["erp-accounting"],section:"erp-contabilidad",viewFile:"ERPContabilidadView.tsx",isReal:!0,notes:"Contabilidad: Plan de cuentas, Asientos, Cobrar/Pagar, Bancos"},{checklistIds:["erp-hr"],section:"erp-rrhh",viewFile:"ERPRRHHView.tsx",isReal:!0,notes:"RRHH: Empleados, Asistencia y Nmina"},{checklistIds:["projects-management","projects-tasks","projects-time"],section:"proyectos",viewFile:"ProyectosView.tsx",isReal:!0,notes:"Proyectos con Gantt simplificado y tablero Kanban"},{checklistIds:["marketplace-secondhand","marketplace-secondhand-mediacion"],section:"secondhand",viewFile:"SecondHandView.tsx",isReal:!0,notes:"Marketplace Segunda Mano: Estadsticas, Moderacin, Publicaciones y  Mediacin de disputas"},{checklistIds:["marketplace-storefront"],section:"storefront",viewFile:"StorefrontAdminView.tsx",isReal:!0,notes:"Panel de acceso rpido al storefront pblico con stats y links"},{checklistIds:["integrations-mercadolibre","integrations-mercadopago","integrations-plexo","integrations-paypal","integrations-stripe","integrations-meta","integrations-twilio"],section:"integraciones",viewFile:"IntegracionesView.tsx",isReal:!0,notes:"Hub de 5 mdulos de integracin  Uruguay first, Latam progresivo"},{checklistIds:["integrations-plexo","integrations-mercadopago","integrations-paypal","integrations-stripe"],section:"integraciones-pagos",viewFile:"IntegracionesPagosView.tsx",isReal:!0,notes:" Pasarela de pagos  Plexo, OCA, Abitab, RedPagos, MP, PayPal, Stripe"},{checklistIds:["integrations-logistics"],section:"integraciones-logistica",viewFile:"IntegracionesLogisticaView.tsx",isReal:!0,notes:" Logstica  Carriers con y sin API. URL de tracking configurable para carriers sin API"},{checklistIds:["integrations-mercadolibre"],section:"integraciones-tiendas",viewFile:"IntegracionesTiendasView.tsx",isReal:!0,notes:" Tiendas  ML, TiendaNube, WooCommerce, Shopify, VTEX, Magento"},{checklistIds:["integrations-meta"],section:"integraciones-rrss",viewFile:"IntegracionesRRSSView.tsx",isReal:!0,notes:" Redes Sociales  Meta, Instagram Shopping, WhatsApp, Facebook Shops, TikTok, Pinterest"},{checklistIds:["integrations-twilio"],section:"integraciones-servicios",viewFile:"IntegracionesServiciosView.tsx",isReal:!0,notes:" Servicios  Twilio, Resend, SendGrid, GA4, GTM, Zapier, n8n"},{checklistIds:["audit-hub"],section:"auditoria",viewFile:"AuditoriaHubView.tsx",isReal:!0,hasSupabase:!1,notes:" Hub Auditora  mtricas de estado, diagnstico rpido y acceso a todas las herramientas"},{checklistIds:["audit-health"],section:"auditoria-health",viewFile:"HealthMonitorView.tsx",isReal:!0,hasSupabase:!0,notes:" Health Monitor  verifica en tiempo real Supabase DB/Auth/Edge/KV/Storage + APIs externas"},{checklistIds:["audit-logs"],section:"auditoria-logs",viewFile:"SystemLogsView.tsx",isReal:!0,hasSupabase:!1,notes:" Logs del Sistema  registro de actividad, errores y eventos con filtros y export TXT"},{checklistIds:["audit-apis-repo"],section:"integraciones-apis",viewFile:"RepositorioAPIsView.tsx",isReal:!0,hasSupabase:!1,notes:" Repositorio centralizado  23 APIs con estado, credenciales, docs y test de conexin"}];new Set(el.filter(e=>e.isReal).flatMap(e=>e.checklistIds));const Cke=new Map(el.map(e=>[e.section,e])),o$={covered:{label:"Cubiertos",icon:ct,color:"text-green-700",bg:"bg-green-50 border-green-200"},hubs:{label:"Hubs / Placeholders",icon:b8,color:"text-blue-700",bg:"bg-blue-50 border-blue-200"},missing:{label:"Sin vista",icon:nn,color:"text-red-700",bg:"bg-red-50 border-red-200"}};function kke({modules:e,onClose:t}){const[r,o]=A.useState("missing"),[i,a]=A.useState(new Set),[s,l]=A.useState(0),[c,d]=A.useState(!1),f=y=>a(b=>{const v=new Set(b);return v.has(y)?v.delete(y):v.add(y),v}),p=()=>{d(!0),l(y=>y+1),setTimeout(()=>d(!1),600)},h=A.useMemo(()=>{const y=new Set(e.map(k=>k.id)),b=new Map;for(const k of el)if(k.isReal)for(const E of k.checklistIds){const T=b.get(E)??[];b.set(E,[...T,k])}const v=[];for(const[k,E]of b.entries()){if(!y.has(k))continue;const T=e.find(_=>_.id===k);v.push({id:k,name:T.name,hours:T.estimatedHours??0,entries:E})}v.sort((k,E)=>k.name.localeCompare(E.name));const C=el.filter(k=>k.isReal&&k.checklistIds.length===0),S=el.filter(k=>!k.isReal),F=e.filter(k=>!b.has(k.id)).map(k=>({id:k.id,name:k.name,hours:k.estimatedHours??0,category:k.category})).sort((k,E)=>k.name.localeCompare(E.name));return{covered:v,realNoIds:C,hubs:S,missing:F,orphan:[]}},[e,s]),x={covered:h.covered.length,hubs:h.hubs.length,missing:h.missing.length},m=h.missing.reduce((y,b)=>y+b.hours,0);return n.jsx(Hn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.55)",backdropFilter:"blur(4px)"},onClick:y=>{y.target===y.currentTarget&&t()},children:n.jsxs(Hn.div,{initial:{scale:.94,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.94,y:20,opacity:0},transition:{type:"spring",stiffness:320,damping:30},className:"bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden",style:{width:"780px",maxWidth:"95vw",maxHeight:"88vh"},children:[n.jsxs("div",{style:{background:"linear-gradient(135deg, #FF6835 0%, #e5532a 100%)",padding:"20px 24px"},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:p,title:"Recalcular auditora",className:"w-9 h-9 rounded-xl bg-white/20 hover:bg-white/35 active:scale-95 flex items-center justify-center transition-all cursor-pointer",children:n.jsx(_t,{size:18,className:`text-white transition-transform duration-500 ${c?"animate-spin":""}`})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-white font-bold text-lg leading-none",children:"Auditora de Mdulos"}),n.jsxs("p",{className:"text-white/75 text-xs mt-0.5",children:["Compara ",n.jsx("code",{className:"bg-white/20 px-1 rounded text-white",children:"moduleManifest.ts"})," vs"," ",n.jsx("code",{className:"bg-white/20 px-1 rounded text-white",children:"MODULES_DATA"}),"  auto-actualizado en cada render"]})]})]}),n.jsx("button",{onClick:t,className:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/35 flex items-center justify-center transition-colors",children:n.jsx(Ut,{size:16,className:"text-white"})})]}),n.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:[{label:"Cubiertos",value:h.covered.length,color:"#22c55e"},{label:"Hubs",value:h.hubs.length,color:"#60a5fa"},{label:"Sin vista",value:h.missing.length,color:"#f87171"},{label:`${m}h pendientes`,value:null,color:"rgba(255,255,255,0.5)"}].map(y=>n.jsxs("span",{className:"text-xs font-semibold px-3 py-1 rounded-full",style:{backgroundColor:"rgba(255,255,255,0.18)",color:"white",border:`1px solid ${y.color}55`},children:[y.value!==null&&n.jsx("span",{style:{color:y.color},className:"font-bold mr-1",children:y.value}),y.label]},y.label))})]}),n.jsx("div",{className:"flex border-b border-gray-200 bg-gray-50 px-4 pt-3 gap-1",children:Object.keys(o$).map(y=>{const b=o$[y],v=b.icon,C=r===y;return n.jsxs("button",{onClick:()=>o(y),className:`flex items-center gap-1.5 px-3 py-2 rounded-t-lg text-sm font-medium transition-all border-b-2 ${C?"bg-white border-[#FF6835] text-[#FF6835]":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-white/60"}`,children:[n.jsx(v,{size:14}),b.label,n.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded-full ml-0.5 ${C?"bg-[#FF6835] text-white":"bg-gray-200 text-gray-600"}`,children:x[y]})]},y)})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:n.jsx(Jc,{mode:"wait",children:n.jsxs(Hn.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},children:[r==="covered"&&n.jsxs("div",{className:"space-y-1.5",children:[h.covered.length===0&&n.jsx(i$,{label:"Ningn mdulo cubierto an."}),h.covered.map(y=>{var b;return n.jsxs("div",{className:"border border-green-200 rounded-xl overflow-hidden",children:[n.jsxs("button",{onClick:()=>f(y.id),className:"w-full flex items-center gap-3 px-4 py-3 bg-green-50 hover:bg-green-100 transition-colors text-left",children:[n.jsx(ct,{size:16,className:"text-green-600 shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-800",children:y.name}),n.jsxs("code",{className:"ml-2 text-xs text-gray-400",children:["#",y.id]})]}),n.jsxs("span",{className:"text-xs text-gray-400 shrink-0",children:[y.hours,"h"]}),i.has(y.id)?n.jsx(Yn,{size:14,className:"text-gray-400"}):n.jsx(Xr,{size:14,className:"text-gray-400"})]}),i.has(y.id)&&n.jsxs("div",{className:"px-4 py-2 bg-white border-t border-green-100 space-y-1",children:[y.entries.map(v=>n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[n.jsx(Hte,{size:12,className:"text-green-500"}),n.jsx("code",{className:"text-green-700 font-mono",children:v.viewFile}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsxs("span",{className:"text-gray-500",children:["seccin: ",n.jsx("code",{children:v.section})]}),v.hasSupabase&&n.jsxs("span",{className:"flex items-center gap-0.5 text-blue-600",children:[n.jsx(hr,{size:10})," Supabase"]})]},v.section)),((b=y.entries[0])==null?void 0:b.notes)&&n.jsx("p",{className:"text-xs text-gray-400 italic mt-1",children:y.entries[0].notes})]})]},y.id)})]}),r==="hubs"&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-xl mb-3 text-sm text-blue-700",children:[n.jsx(Xp,{size:15,className:"mt-0.5 shrink-0"}),n.jsxs("span",{children:["Estos hubs son secciones de navegacin. ",n.jsx("strong",{children:"No cuentan como completados"})," en el checklist  son el cascarn que contiene a los mdulos reales."]})]}),h.hubs.map(y=>n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-blue-50 border border-blue-100 rounded-xl",children:[n.jsx(b8,{size:15,className:"text-blue-400 shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("code",{className:"text-xs text-blue-600 font-mono",children:y.viewFile}),n.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["seccin: ",n.jsx("code",{children:y.section})]})]}),y.notes&&n.jsx("span",{className:"text-xs text-gray-400 italic truncate max-w-[220px]",children:y.notes})]},y.section))]}),r==="missing"&&n.jsxs("div",{className:"space-y-1.5",children:[h.missing.length===0&&n.jsx(i$,{label:"Todos los mdulos del checklist tienen vista asignada!",icon:""}),h.missing.length>0&&n.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-xl mb-3 text-sm text-red-700",children:[n.jsx(Wr,{size:15,className:"mt-0.5 shrink-0"}),n.jsxs("span",{children:["Estos ",n.jsxs("strong",{children:[h.missing.length," mdulos"]})," existen en el checklist pero no tienen ninguna vista real en ",n.jsx("code",{className:"bg-red-100 px-1 rounded",children:"moduleManifest.ts"}),". Son el backlog real pendiente de construir (",m,"h estimadas)."]})]}),h.missing.map(y=>n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-red-50 border border-red-100 rounded-xl",children:[n.jsx(nn,{size:15,className:"text-red-400 shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-800",children:y.name}),n.jsxs("code",{className:"ml-2 text-xs text-gray-400",children:["#",y.id]})]}),n.jsx("span",{className:"text-xs text-gray-400 shrink-0",children:y.category}),n.jsxs("span",{className:"text-xs font-semibold text-red-600 shrink-0",children:[y.hours,"h"]})]},y.id))]})]},r)})}),n.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 px-5 py-3 flex items-center justify-between",children:[n.jsxs("p",{className:"text-xs text-gray-400",children:["Para agregar un mdulo: edit ",n.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"moduleManifest.ts"}),"  el checklist se actualiza solo."]}),n.jsx("button",{onClick:t,className:"px-4 py-1.5 rounded-lg text-sm font-medium bg-gray-200 hover:bg-gray-300 text-gray-700 transition-colors",children:"Cerrar"})]})]})})}function i$({label:e,icon:t=""}){return n.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-gray-400",children:[n.jsx("span",{className:"text-3xl",children:t}),n.jsx("p",{className:"text-sm",children:e})]})}const a$=[{id:"definicion",label:"Definicin",icon:fn,color:"#2563EB",bg:"#EFF6FF",desc:"Documento de especificacin funcional, wireframes, requerimientos"},{id:"variables",label:"Variables",icon:di,color:"#7C3AED",bg:"#F5F3FF",desc:"Variables de entorno, configuracin, constantes y parmetros"},{id:"otros",label:"Otros",icon:bd,color:"#D97706",bg:"#FFFBEB",desc:"Referencias, mockups, recursos adicionales"}];function Fke(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function Ake(e){try{return new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"})}catch{return e}}function _ke({moduleId:e,moduleName:t}){const[r,o]=A.useState("definicion"),[i,a]=A.useState([]),[s,l]=A.useState(!0),[c,d]=A.useState(!1),[f,p]=A.useState(!1),[h,x]=A.useState(null),m=A.useRef(null),y=`https://${Pr}.supabase.co/functions/v1/api`,b=A.useCallback(async()=>{if(!y){l(!1);return}try{l(!0);const E=await fetch(`${y}/roadmap/files/${e}`,{headers:{Authorization:`Bearer ${jr}`}});if(!E.ok)throw new Error(await E.text());const{files:T}=await E.json();a(T??[])}catch(E){console.error("[ModuleFilesPanel] loadFiles:",E),ke.error("No se pudieron cargar los archivos")}finally{l(!1)}},[y,e]);A.useEffect(()=>{b()},[b]);const v=async E=>{if(!y){ke.error("Servidor no disponible");return}if(E.size>20*1024*1024){ke.error("El archivo no puede superar 20 MB");return}d(!0);try{const T=new FormData;T.append("file",E),T.append("moduleId",e),T.append("fileType",r);const _=await fetch(`${y}/roadmap/files/upload`,{method:"POST",headers:{Authorization:`Bearer ${jr}`},body:T});if(!_.ok)throw new Error(await _.text());ke.success(` "${E.name}" subido correctamente`),await b()}catch(T){console.error("[ModuleFilesPanel] uploadFile:",T),ke.error(`Error subiendo archivo: ${T}`)}finally{d(!1)}},C=async(E,T)=>{if(y){x(E);try{const _=await fetch(`${y}/roadmap/files/${e}/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${jr}`}});if(!_.ok)throw new Error(await _.text());ke.success(`"${T}" eliminado`),a(z=>z.filter(B=>B.id!==E))}catch(_){console.error("[ModuleFilesPanel] deleteFile:",_),ke.error(`Error eliminando archivo: ${_}`)}finally{x(null)}}},S=E=>{E.preventDefault(),p(!1);const T=E.dataTransfer.files[0];T&&v(T)},F=i.filter(E=>E.type===r),w=a$.find(E=>E.id===r),k=w.icon;return n.jsxs("div",{style:{borderTop:"1px dashed #E5E7EB",backgroundColor:"#FAFAFA",padding:"16px 20px 16px 64px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[n.jsx(Xte,{size:14,color:"#6B7280"}),n.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:"#374151"},children:["Archivos adjuntos  ",t]}),i.length>0&&n.jsxs("span",{style:{fontSize:"10px",fontWeight:700,padding:"2px 7px",borderRadius:"20px",backgroundColor:"#F3F4F6",color:"#6B7280",border:"1px solid #E5E7EB"},children:[i.length," archivo",i.length>1?"s":""]})]}),n.jsx("div",{style:{display:"flex",gap:"0",marginBottom:"14px",borderBottom:"1px solid #E5E7EB"},children:a$.map(E=>{const T=i.filter(B=>B.type===E.id).length,_=r===E.id,z=E.icon;return n.jsxs("button",{onClick:()=>o(E.id),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"12px",fontWeight:_?700:500,color:_?E.color:"#6B7280",borderBottom:_?`2px solid ${E.color}`:"2px solid transparent",whiteSpace:"nowrap",transition:"all 0.15s"},children:[n.jsx(z,{size:13}),E.label,T>0&&n.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"1px 6px",borderRadius:"20px",backgroundColor:_?E.color:"#E5E7EB",color:_?"#fff":"#6B7280",minWidth:"18px",textAlign:"center"},children:T})]},E.id)})}),n.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[n.jsxs("div",{onDragOver:E=>{E.preventDefault(),p(!0)},onDragLeave:()=>p(!1),onDrop:S,onClick:()=>{var E;return!c&&((E=m.current)==null?void 0:E.click())},style:{width:"220px",flexShrink:0,border:`2px dashed ${f?w.color:"#D1D5DB"}`,borderRadius:"12px",backgroundColor:f?w.bg:"#FFFFFF",padding:"20px 14px",textAlign:"center",cursor:c?"wait":"pointer",transition:"all 0.15s"},children:[n.jsx("input",{ref:m,type:"file",style:{display:"none"},onChange:E=>{var T;return((T=E.target.files)==null?void 0:T[0])&&v(E.target.files[0])}}),n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:w.bg,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px"},children:c?n.jsx(ur,{size:18,color:w.color,style:{animation:"spin 1s linear infinite"}}):n.jsx(_o,{size:18,color:w.color})}),n.jsx("p",{style:{margin:"0 0 4px",fontSize:"12px",fontWeight:700,color:"#374151"},children:c?"Subiendo...":"Subir archivo"}),n.jsx("p",{style:{margin:0,fontSize:"10px",color:"#9CA3AF"},children:w.desc}),n.jsx("p",{style:{margin:"8px 0 0",fontSize:"10px",color:"#D1D5DB"},children:"Mx. 20 MB"})]}),n.jsx("div",{style:{flex:1,minWidth:0},children:s?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#9CA3AF",padding:"20px 0"},children:[n.jsx(ur,{size:14,style:{animation:"spin 1s linear infinite"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Cargando archivos..."})]}):F.length===0?n.jsxs("div",{style:{padding:"24px 16px",borderRadius:"10px",border:"1px dashed #E5E7EB",backgroundColor:"#FFFFFF",textAlign:"center"},children:[n.jsx(k,{size:22,color:"#D1D5DB",style:{margin:"0 auto 8px",display:"block"}}),n.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#9CA3AF"},children:["Sin archivos de ",n.jsx("strong",{children:w.label})," todava"]})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:F.map(E=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"#FFFFFF",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:w.bg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(k,{size:14,color:w.color})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"12px",fontWeight:600,color:"#111827",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:E.name}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"10px",color:"#9CA3AF"},children:[Fke(E.size),"  ",Ake(E.uploadedAt)]})]}),n.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[E.url&&n.jsx("a",{href:E.url,target:"_blank",rel:"noreferrer",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",textDecoration:"none"},title:"Descargar",children:n.jsx(Ht,{size:12,color:"#6B7280"})}),n.jsx("button",{onClick:()=>C(E.id,E.name),disabled:h===E.id,style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",border:"1px solid #FEE2E2",backgroundColor:"#FFF5F5",cursor:"pointer"},title:"Eliminar",children:h===E.id?n.jsx(ur,{size:12,color:"#EF4444",style:{animation:"spin 1s linear infinite"}}):n.jsx(xr,{size:12,color:"#EF4444"})})]})]},E.id))})})]}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}el.map(e=>e.section);el.filter(e=>e.isReal&&e.checklistIds.length>0).reduce((e,t)=>{const r=e[t.section]??[],o=Array.from(new Set([...r,...t.checklistIds]));return{...e,[t.section]:o}},{});const wG=new Set(el.filter(e=>e.isReal).flatMap(e=>e.checklistIds)),EG=new Set(el.filter(e=>e.isReal&&e.hasSupabase===!0).flatMap(e=>e.checklistIds)),cv=`https://${Pr}.supabase.co/functions/v1/api/roadmap`,dv={"Content-Type":"application/json",Authorization:`Bearer ${jr}`,apikey:jr};async function f6(e){try{const t=await fetch(`${cv}${e}`,{headers:dv}),r=await t.json();return t.ok?{ok:!0,data:r}:{ok:!1,error:r.error||"Error en la peticin"}}catch(t){return console.error(`Roadmap API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function Px(e,t){try{const r=await fetch(`${cv}${e}`,{method:"POST",headers:dv,body:JSON.stringify(t)}),o=await r.json();return r.ok?{ok:!0,data:o}:{ok:!1,error:o.error||"Error en la peticin"}}catch(r){return console.error(`Roadmap API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function CG(e,t){try{const r=await fetch(`${cv}${e}`,{method:"PUT",headers:dv,body:JSON.stringify(t)}),o=await r.json();return r.ok?{ok:!0,data:o}:{ok:!1,error:o.error||"Error en la peticin"}}catch(r){return console.error(`Roadmap API PUT ${e}:`,r),{ok:!1,error:String(r)}}}async function kG(e){try{const t=await fetch(`${cv}${e}`,{method:"DELETE",headers:dv}),r=await t.json();return t.ok?{ok:!0}:{ok:!1,error:r.error||"Error en la peticin"}}catch(t){return console.error(`Roadmap API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function Rke(){var t;const e=await f6("/modules");return e.ok?e.data?(console.log("[roadmapApi] Mdulos recibidos:",((t=e.data.modules)==null?void 0:t.length)||0),e.data.modules||[]):(console.warn("[roadmapApi] getModules: respuesta sin data"),[]):(console.error("[roadmapApi] Error en getModules:",e.error),[])}async function Tke(e){await Px("/modules-bulk",{modules:e})}async function Pke(e,t){await Px(`/modules/${e}`,{...t,id:e})}async function zke(){await kG("/modules/reset")}async function Bke(e){const t=await f6(`/tasks/${e}`);return!t.ok||!t.data?[]:t.data.tasks||[]}async function Ike(e){const t=await Px("/tasks",e);if(!t.ok||!t.data)throw new Error(t.error||"Error creando task");return t.data.task}async function Oke(e,t){const r=await CG(`/tasks/${e}`,t);if(!r.ok||!r.data)throw new Error(r.error||"Error actualizando task");return r.data.task}async function Dke(e){const t=await kG(`/tasks/${e}`);if(!t.ok)throw new Error(t.error||"Error eliminando task")}async function Mke(e,t){const r=await Px("/audit",{moduleId:e,...t});return!r.ok||!r.data?{ok:!1,error:r.error||"Error en auditora"}:r.data}async function $ke(){const e=await f6("/ideas-promovidas");return!e.ok||!e.data?[]:e.data.ideas||[]}async function Nke(e){const t=await Px("/ideas-promovidas",e);if(!t.ok||!t.data)throw new Error(t.error||"Error promoviendo idea");return t.data.idea}async function Lke(e,t,r){const o=await CG(`/ideas-promovidas/${e}`,{estado:t,module_id:r});if(!o.ok)throw new Error(o.error||"Error resolviendo idea")}const ta={ecommerce:{label:"eCommerce / Pedidos",color:"bg-orange-500",icon:""},logistics:{label:"Logstica",color:"bg-green-600",icon:"??"},marketing:{label:"Marketing",color:"bg-pink-500",icon:""},rrss:{label:"Redes Sociales",color:"bg-rose-500",icon:""},tools:{label:"Herramientas",color:"bg-teal-500",icon:""},erp:{label:"ERP + POS",color:"bg-blue-600",icon:""},crm:{label:"CRM",color:"bg-purple-600",icon:""},projects:{label:"Proyectos",color:"bg-indigo-600",icon:""},marketplace:{label:"Marketplace",color:"bg-amber-500",icon:""},integrations:{label:"Integraciones",color:"bg-cyan-600",icon:""},audit:{label:"Auditora & Diagnstico",color:"bg-violet-600",icon:""},admin:{label:"Admin / Sistema",color:"bg-slate-600",icon:""},enterprise:{label:"Enterprise",color:"bg-red-600",icon:""},territory:{label:"Territorio",color:"bg-lime-600",icon:""},verification:{label:"Verificacin",color:"bg-yellow-600",icon:"?"},analytics:{label:"Analytics & BI",color:"bg-sky-600",icon:""},builder:{label:"Constructor",color:"bg-fuchsia-600",icon:""}},Zu={"not-started":{label:"No Iniciado",color:"text-gray-400",icon:mb,percent:0},"spec-ready":{label:"Definicin Lista",color:"text-violet-600",icon:VL,percent:15},"progress-10":{label:"En Progreso (10%)",color:"text-red-500",icon:Jt,percent:10},"progress-50":{label:"En Progreso (50%)",color:"text-yellow-500",icon:Ct,percent:50},"progress-80":{label:"En Progreso (80%)",color:"text-blue-500",icon:Xt,percent:80},"ui-only":{label:"UI Lista  Sin Backend",color:"text-blue-500",icon:ac,percent:80},completed:{label:"Completado (con DB)",color:"text-[#FF6835]",icon:ct,percent:100}},$c={critical:{label:"Crtica",color:"text-red-600 border-red-300 bg-red-50"},high:{label:"Alta",color:"text-orange-600 border-orange-300 bg-orange-50"},medium:{label:"Media",color:"text-yellow-600 border-yellow-300 bg-yellow-50"},low:{label:"Baja",color:"text-gray-500 border-gray-300 bg-gray-50"}};function v0(e,t){return e===0?"bg-gray-300":e<30?"bg-red-400":e<60?"bg-yellow-400":t==="ui-only"?"bg-blue-400":e<100?"bg-blue-500":"bg-green-500"}function ki(e){if(!e.submodules||e.submodules.length===0)return Zu[e.status].percent;const t=e.submodules.reduce((r,o)=>r+(o.estimatedHours||1),0);return Math.round(e.submodules.reduce((r,o)=>r+Zu[o.status].percent*((o.estimatedHours||1)/t),0))}function Wke(e){var r;if(!wG.has(e.id))return e;const t=EG.has(e.id)?"completed":"ui-only";return{...e,status:t,submodules:(r=e.submodules)==null?void 0:r.map(o=>({...o,status:t}))}}function Vke({hideHeader:e=!1,onNavigate:t}){const[r,o]=A.useState("list"),[i,a]=A.useState(""),[s,l]=A.useState("all"),[c,d]=A.useState("all"),[f,p]=A.useState("all"),[h,x]=A.useState(new Set),[m,y]=A.useState(new Set),[b,v]=A.useState(new Set),[C,S]=A.useState(new Set),[F,w]=A.useState({}),[k,E]=A.useState([]),[T,_]=A.useState(!1),[z,B]=A.useState([]),[P,D]=A.useState(!0),[I,N]=A.useState(!1),[M,V]=A.useState(!1),[L,W]=A.useState(!1),[G,U]=A.useState(!1),[H,K]=A.useState(!1),[ne,Q]=A.useState({current:0,total:0}),[pe,X]=A.useState(!1),se={"ecommerce-pedidos":{endpointUrl:"/api/pedidos",tableName:"pedidos"},"ecommerce-metodos-pago":{endpointUrl:"/api/metodos-pago",tableName:"metodos_pago"},"ecommerce-metodos-envio":{endpointUrl:"/api/metodos-envio",tableName:"metodos_envio"},"crm-contacts":{endpointUrl:"/api/personas",tableName:"personas"},"marketplace-productos":{endpointUrl:"/api/productos/market",tableName:"productos_market"},"marketplace-departamentos":{endpointUrl:"/api/departamentos",tableName:"departamentos"},"marketplace-carrito":{endpointUrl:"/api/carrito",tableName:"carrito"},"logistics-shipping":{endpointUrl:"/api/envios",tableName:"envios"}};A.useEffect(()=>{ie(),ae()},[]),A.useEffect(()=>{T&&ae()},[T]);const ae=async()=>{try{const le=await $ke();E(le.filter(be=>be.estado==="pendiente"))}catch(le){console.error("[ChecklistRoadmap] Error cargando ideas:",le)}},ye=async(le,be,we)=>{try{await Lke(le,be,we),await ae(),be==="convertida"&&await ie(),ke.success(`Idea ${be==="aprobada"?"aprobada":be==="rechazada"?"rechazada":"convertida a mdulo"}`)}catch{ke.error("Error resolviendo idea")}},ie=async()=>{try{D(!0);const le=await Rke();if(le&&le.length>0){const be=le.map(we=>{var Be;const $e={id:we.id,name:we.name||we.id,category:we.category||"admin",description:we.description||"",status:we.status,priority:we.priority,execOrder:we.execOrder,estimatedHours:we.estimatedHours,notas:we.notas,submodules:(Be=we.submodules)==null?void 0:Be.map(Pe=>({id:Pe.id,name:Pe.name,status:Pe.status,estimatedHours:Pe.estimatedHours}))};return Wke($e)});B(be)}else B([])}catch{B([])}finally{D(!1)}},re=async(le,be)=>{const we=z.filter(Ne=>Ne.status==="spec-ready"&&Ne.id!==le).reduce((Ne,Fe)=>Math.max(Ne,Fe.execOrder??0),0),$e=z.find(Ne=>Ne.id===le),Be=z.map(Ne=>{var Je;if(Ne.id!==le)return Ne;const Fe=(Je=Ne.submodules)==null?void 0:Je.map(Qe=>({...Qe,status:be==="completed"||be==="not-started"||be==="ui-only"||be==="spec-ready"?be:Qe.status}));return{...Ne,status:be,submodules:Fe,execOrder:be==="spec-ready"?Ne.execOrder??we+1:void 0}});let Pe=Be;if(($e==null?void 0:$e.status)==="spec-ready"&&be!=="spec-ready"){const Ne=Be.filter(Fe=>Fe.status==="spec-ready").sort((Fe,Je)=>(Fe.execOrder??0)-(Je.execOrder??0));Pe=Be.map(Fe=>{if(Fe.status!=="spec-ready")return Fe;const Je=Ne.findIndex(Qe=>Qe.id===Fe.id);return{...Fe,execOrder:Je+1}})}B(Pe),V(!0);try{const Ne=Pe.find(Fe=>Fe.id===le);if(!Ne)return;await Pke(le,{status:Ne.status,priority:Ne.priority,execOrder:Ne.execOrder,estimatedHours:Ne.estimatedHours,notas:Ne.notas}),V(!1)}catch{}},Se=(le,be)=>{const we=[...z].filter(Je=>Je.status==="spec-ready").sort((Je,Qe)=>(Je.execOrder??0)-(Qe.execOrder??0)),$e=we.findIndex(Je=>Je.id===le);if($e===-1)return;const Be=be==="up"?$e-1:$e+1;if(Be<0||Be>=we.length)return;const Pe=we[$e].execOrder??$e+1,Ne=we[Be].execOrder??Be+1,Fe=z.map(Je=>Je.id===we[$e].id?{...Je,execOrder:Ne}:Je.id===we[Be].id?{...Je,execOrder:Pe}:Je);B(Fe),V(!0)},Ae=async()=>{try{N(!0),await Tke(z.map(le=>({id:le.id,status:le.status,priority:le.priority,execOrder:le.execOrder,estimatedHours:le.estimatedHours,notas:le.notas}))),V(!1),ke.success(" Progreso guardado en el servidor")}catch{ke.warning(" Cambios guardados localmente")}finally{N(!1)}},te=async()=>{U(!0);try{Pr&&(await zke().catch(()=>{}),await ie()),V(!1)}catch(le){ke.error(`Error en resync: ${le}`)}finally{U(!1)}},he=le=>{x(be=>{const we=new Set(be);return we.has(le)?we.delete(le):we.add(le),we})},Te=le=>{y(be=>{const we=new Set(be);return we.has(le)?we.delete(le):we.add(le),we})},rt=()=>{pe?(y(new Set),X(!1)):(y(new Set(Object.keys(ta))),X(!0))},it=async le=>{if(!F[le])try{const be=await Bke(le);w(we=>({...we,[le]:be}))}catch(be){console.error("[ChecklistRoadmap] Error cargando tasks:",be)}},kt=le=>{S(be=>{const we=new Set(be);return we.has(le)?we.delete(le):(we.add(le),it(le)),we})},Pt=async(le,be,we)=>{try{const $e=await Ike({module_id:le,submodule_id:be,nombre:we,status:"todo"});w(Be=>({...Be,[le]:[...Be[le]||[],$e]})),ke.success("Task creada")}catch{ke.error("Error creando task")}},jt=async(le,be,we)=>{try{const $e=await Oke(le,we);w(Be=>({...Be,[be]:(Be[be]||[]).map(Pe=>Pe.id===le?$e:Pe)})),ke.success("Task actualizada")}catch{ke.error("Error actualizando task")}},zt=async(le,be)=>{try{await Dke(le),w(we=>({...we,[be]:(we[be]||[]).filter($e=>$e.id!==le)})),ke.success("Task eliminada")}catch{ke.error("Error eliminando task")}},fr=async()=>{K(!0),Q({current:0,total:z.length});try{const le=z.map(async(be,we)=>{Q({current:we+1,total:z.length});const $e=se[be.id]||{},Be=wG.has(be.id),Pe=EG.has(be.id),Ne=$e.endpointUrl?`https://${Pr}.supabase.co/functions/v1${$e.endpointUrl}`:void 0;await Mke(be.id,{moduleId:be.id,endpointUrl:Ne,tableName:$e.tableName,tiene_view:Be,tiene_backend:Pe})});await Promise.all(le),await ie(),ke.success(` Auditora completada  ${z.length} mdulos verificados`)}catch(le){console.error("[ChecklistRoadmap] Error en auditora:",le),ke.error(" Error durante la auditora")}finally{K(!1),Q({current:0,total:0})}},Bt=A.useMemo(()=>{const le=z.length,be=z.filter(Qe=>ki(Qe)===100).length,we=z.filter(Qe=>Qe.status==="ui-only").length,$e=z.filter(Qe=>Qe.status==="spec-ready").length,Be=z.filter(Qe=>ki(Qe)===0).length,Pe=z.filter(Qe=>{const J=ki(Qe);return J>0&&J<100}).length,Ne=z.reduce((Qe,J)=>Qe+(J.estimatedHours||0),0),Fe=z.filter(Qe=>ki(Qe)===100).reduce((Qe,J)=>Qe+(J.estimatedHours||0),0),Je=z.reduce((Qe,J)=>{const je=ki(J),Ie=(J.estimatedHours||1)/Math.max(Ne,1);return Qe+je*Ie},0);return{total:le,completed:be,uiOnly:we,specReady:$e,notStarted:Be,inProgress:Pe,completedPercent:Math.round(be/le*100),progressPercent:Math.round(Je),totalHours:Ne,completedHours:Fe,remainingHours:Ne-Fe}},[z]),ar=A.useMemo(()=>z.filter(le=>!(i&&!le.name.toLowerCase().includes(i.toLowerCase())&&!le.description.toLowerCase().includes(i.toLowerCase())||s!=="all"&&le.category!==s||c!=="all"&&le.status!==c||f!=="all"&&le.priority!==f)),[z,i,s,c,f]),Sr=A.useMemo(()=>Object.keys(ta).reduce((le,be)=>{const we=ar.filter(Je=>Je.category===be);if(we.length===0)return le;const $e=we.filter(Je=>ki(Je)===100).length,Be=we.filter(Je=>{const Qe=ki(Je);return Qe>0&&Qe<100}).length,Pe=we.reduce((Je,Qe)=>Je+(Qe.estimatedHours||1),0),Ne=Math.round(we.reduce((Je,Qe)=>{const J=ki(Qe),je=(Qe.estimatedHours||1)/Pe;return Je+J*je},0)),Fe=we.reduce((Je,Qe)=>Je+(ki(Qe)===100?0:Qe.estimatedHours||0),0);return le.push({cat:be,mods:we,areaStats:{total:we.length,completed:$e,inProgress:Be,pct:Ne,hours:Fe}}),le},[]),[ar]),Lt=A.useMemo(()=>i.trim()||s!=="all"||c!=="all"||f!=="all"?new Set(Object.keys(ta)):m,[i,s,c,f,m]);return P?n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ur,{className:"h-12 w-12 animate-spin text-[#FF6835] mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Cargando roadmap..."})]})}):n.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[n.jsx(Jc,{children:L&&n.jsx(kke,{modules:z,onClose:()=>W(!1)})}),n.jsx(Jc,{children:T&&n.jsx(Hn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>_(!1),children:n.jsxs(Hn.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:le=>le.stopPropagation(),className:"bg-card rounded-xl border border-border shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-100 flex items-center justify-center",children:n.jsx(ba,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Ideas Promovidas"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.length," idea",k.length!==1?"s":""," pendiente",k.length!==1?"s":""," de aprobacin"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:ae,className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Recargar ideas",children:n.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:n.jsx(Ut,{className:"h-5 w-5 text-muted-foreground"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:k.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ym,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),n.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"No hay ideas pendientes"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Las ideas promovidas desde Ideas Board aparecern aqu"})]}):n.jsx("div",{className:"space-y-3",children:k.map(le=>n.jsx(Hn.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-background rounded-lg border border-border p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 border border-orange-200",children:le.idea_area||"General"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(le.created_at).toLocaleDateString("es-AR")})]}),n.jsx("p",{className:"text-sm text-foreground mb-2",children:le.idea_texto}),le.notas&&n.jsxs("p",{className:"text-xs text-muted-foreground italic mb-2",children:[" ",le.notas]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("button",{onClick:()=>ye(le.id,"aprobada"),className:"p-2 hover:bg-green-50 rounded-lg transition-colors border border-green-200",title:"Aprobar idea",children:n.jsx(rn,{className:"h-4 w-4 text-green-600"})}),n.jsx("button",{onClick:()=>{const be=prompt("ID del mdulo (opcional):");be&&ye(le.id,"convertida",be)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",title:"Convertir a mdulo",children:n.jsx(ct,{className:"h-4 w-4 text-blue-600"})}),n.jsx("button",{onClick:()=>ye(le.id,"rechazada"),className:"p-2 hover:bg-red-50 rounded-lg transition-colors border border-red-200",title:"Rechazar idea",children:n.jsx(nn,{className:"h-4 w-4 text-red-600"})})]})]})},le.id))})}),n.jsx("div",{className:"p-5 border-t border-border bg-background/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Crea y promueve ideas desde ",n.jsx("strong",{children:"Ideas Board"})]}),n.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-orange-600 hover:bg-orange-50 rounded-lg border border-orange-200 transition-colors",children:[n.jsx(gn,{className:"h-3.5 w-3.5"}),"Ir a Ideas Board"]})]})})]})})}),!e&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Checklist & Roadmap"}),!M&&!I&&n.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[n.jsx(ct,{className:"h-4 w-4"})," Sincronizado"]}),n.jsxs("button",{onClick:()=>_(!T),disabled:k.length===0,className:`flex items-center gap-1.5 px-3 py-1 rounded-full border text-sm font-bold transition-colors ${k.length>0?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200 cursor-pointer":"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed opacity-60"}`,title:k.length>0?`Ver ${k.length} idea${k.length!==1?"s":""} promovida${k.length!==1?"s":""} desde Ideas Board`:"No hay ideas promovidas pendientes. Crea ideas en Ideas Board y promuvelas para verlas aqu.",children:[n.jsx(Ym,{className:"h-3.5 w-3.5"}),k.length>0?n.jsxs(n.Fragment,{children:[k.length," idea",k.length!==1?"s":""," pendiente",k.length!==1?"s":""]}):"Ideas Promovidas"]}),n.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-100 text-teal-700 border border-teal-300 text-sm font-bold hover:bg-teal-200 transition-colors",title:"Abrir Ideas Board para crear y gestionar ideas",children:[n.jsx(ba,{className:"h-3.5 w-3.5"}),"Ideas Board"]}),z.filter(le=>le.status==="spec-ready").length>0&&n.jsxs("button",{onClick:()=>o("queue"),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[n.jsx(Xm,{className:"h-3.5 w-3.5"}),z.filter(le=>le.status==="spec-ready").length," en cola"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:te,disabled:G,title:"Resincroniza estadsticas desde el manifest  corrige estados stale del backend",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:[n.jsx(_t,{className:`h-4 w-4 ${G?"animate-spin":""}`}),G?"Sincronizando...":"Resync manifest"]}),n.jsxs("button",{onClick:()=>W(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 bg-white hover:bg-orange-50 hover:border-[#FF6835]/40 text-gray-600 hover:text-[#FF6835] transition-colors text-sm font-medium",children:[n.jsx(rR,{className:"h-4 w-4"})," Auditora"]}),n.jsx("button",{onClick:fr,disabled:H,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:H?n.jsxs(n.Fragment,{children:[n.jsx(ur,{className:"h-4 w-4 animate-spin"}),"Auditando ",ne.current,"/",ne.total,"..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_t,{className:"h-4 w-4"})," Auditar mdulos"]})}),M&&n.jsx("button",{onClick:Ae,disabled:I,className:"px-4 py-2 bg-[#FF6835] text-white rounded-lg hover:bg-[#FF6835]/90 transition-colors flex items-center gap-2 disabled:opacity-50",children:I?n.jsxs(n.Fragment,{children:[n.jsx(ur,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(To,{className:"h-4 w-4"}),"Guardar"]})})]})]}),n.jsx("p",{className:"text-muted-foreground",children:"Estado completo de todos los mdulos de Charlie Marketplace Builder"})]}),e&&n.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsxs("button",{onClick:()=>_(!T),disabled:k.length===0,className:`flex items-center gap-1.5 px-3 py-1 rounded-full border text-sm font-bold transition-colors flex-shrink-0 ${k.length>0?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200 cursor-pointer":"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed opacity-60"}`,title:k.length>0?`Ver ${k.length} idea${k.length!==1?"s":""} promovida${k.length!==1?"s":""} desde Ideas Board`:"No hay ideas promovidas pendientes. Crea ideas en Ideas Board y promuvelas para verlas aqu.",children:[n.jsx(Ym,{className:"h-3.5 w-3.5"}),k.length>0?n.jsxs(n.Fragment,{children:[k.length," idea",k.length!==1?"s":""," pendiente",k.length!==1?"s":""]}):"Ideas Promovidas"]}),n.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-100 text-teal-700 border border-teal-300 text-sm font-bold hover:bg-teal-200 transition-colors flex-shrink-0",title:"Abrir Ideas Board para crear y gestionar ideas",children:[n.jsx(ba,{className:"h-3.5 w-3.5"}),"Ideas Board"]}),M&&n.jsx("button",{onClick:Ae,disabled:I,className:"px-4 py-2 bg-[#FF6835] text-white rounded-lg hover:bg-[#FF6835]/90 transition-colors flex items-center gap-2 text-sm disabled:opacity-50",children:I?n.jsxs(n.Fragment,{children:[n.jsx(ur,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(To,{className:"h-4 w-4"}),"Guardar Cambios"]})}),(()=>{const le=z.filter(be=>be.status==="spec-ready").length;return le>0?n.jsxs("button",{onClick:()=>o("queue"),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[n.jsx(Xm,{className:"h-3.5 w-3.5"}),"Tareas en cola ",le]}):null})()]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:te,disabled:G,title:"Resincroniza estadsticas desde el manifest  corrige estados stale del backend",className:`flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg border font-semibold transition-colors disabled:opacity-50 ${!M&&!I?"border-green-200 bg-green-50 hover:bg-green-100 text-green-700":M?"border-red-200 bg-red-50 hover:bg-red-100 text-red-700":"border-yellow-200 bg-yellow-50 hover:bg-yellow-100 text-yellow-700"}`,children:[n.jsx(ct,{className:`h-3.5 w-3.5 ${G?"animate-spin":""}`}),G?"Sincronizando...":"Sincronizado"]}),n.jsxs("button",{onClick:()=>W(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg border border-[#FF6835]/30 bg-orange-50 hover:bg-orange-100 text-[#FF6835] font-semibold transition-colors",children:[n.jsx(rR,{className:"h-3.5 w-3.5"})," Auditora"]}),n.jsx("button",{onClick:rt,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-card border border-border rounded-lg hover:bg-accent transition-colors text-muted-foreground",children:pe?n.jsxs(n.Fragment,{children:[n.jsx(ate,{className:"h-3.5 w-3.5"})," Colapsar"]}):n.jsxs(n.Fragment,{children:[n.jsx(lte,{className:"h-3.5 w-3.5"})," Expandir"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs(Hn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},className:"bg-card rounded-xl p-5 border border-border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Progreso Total"}),n.jsx(Xt,{className:"h-4 w-4 text-[#FF6835]"})]}),n.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[Bt.progressPercent,"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:n.jsx("div",{className:"bg-[#FF6835] h-1.5 rounded-full transition-all duration-700",style:{width:`${Bt.progressPercent}%`}})}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1.5",children:"promedio ponderado por horas"})]}),n.jsxs(Hn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.08},className:"bg-card rounded-xl p-5 border border-border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Completados"}),n.jsx(ct,{className:"h-4 w-4 text-[#FF6835]"})]}),n.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[Bt.completed,"/",Bt.total]}),n.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:[Bt.completedPercent,"% mdulos con DB"]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-orange-50 text-orange-700 border border-orange-200",children:[" ",Bt.completed," DB"]}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:[" ",Bt.uiOnly," UI"]}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-gray-100 text-gray-500 border border-gray-200",children:[" ",Bt.notStarted," pend."]})]})]}),n.jsxs(Hn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.16},className:"bg-card rounded-xl p-5 border border-border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"UI Lista / En Progreso"}),n.jsx(ac,{className:"h-4 w-4 text-blue-500"})]}),n.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:Bt.uiOnly}),n.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"vistas construidas sin backend"}),Bt.specReady>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-violet-50 text-violet-700 border border-violet-200",children:[" ",Bt.specReady," en cola"]})]}),n.jsxs(Hn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.24},className:"bg-card rounded-xl p-5 border border-border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Horas Restantes"}),n.jsx(Jt,{className:"h-4 w-4 text-[#FF6835]"})]}),n.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[Bt.remainingHours,"h"]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["de ",Bt.totalHours,"h estimadas totales"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:n.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-700",style:{width:`${Math.round(Bt.completedHours/Math.max(Bt.totalHours,1)*100)}%`}})})]})]}),n.jsx("div",{className:"bg-card rounded-xl p-4 border border-border mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(tr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx("input",{type:"text",placeholder:"Buscar mdulo...",value:i,onChange:le=>a(le.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]"})]}),n.jsxs("select",{value:s,onChange:le=>l(le.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[n.jsx("option",{value:"all",children:"Todas las reas"}),Object.entries(ta).map(([le,be])=>n.jsx("option",{value:le,children:be.label},le))]}),n.jsxs("select",{value:c,onChange:le=>d(le.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[n.jsx("option",{value:"all",children:"Todos los estados"}),Object.entries(Zu).map(([le,be])=>n.jsx("option",{value:le,children:be.label},le))]}),n.jsxs("select",{value:f,onChange:le=>p(le.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[n.jsx("option",{value:"all",children:"Todas las prioridades"}),Object.entries($c).map(([le,be])=>n.jsx("option",{value:le,children:be.label},le))]})]})}),r==="list"&&n.jsx("div",{className:"space-y-2",children:Sr.map(({cat:le,mods:be,areaStats:we},$e)=>{const Be=ta[le],Pe=Lt.has(le),Ne=we.pct===100;return n.jsxs(Hn.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:$e*.03},className:"rounded-xl border border-border overflow-hidden shadow-sm",children:[n.jsxs("button",{onClick:()=>Te(le),className:`w-full flex items-center gap-2 px-4 py-3.5 text-left transition-colors ${Pe?"bg-card":"bg-card hover:bg-accent/30"}`,children:[n.jsx("div",{className:`w-1 self-stretch rounded-full flex-shrink-0 ${Be.color}`}),n.jsx(Xr,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform duration-200 ${Pe?"rotate-90":""}`}),n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full text-white whitespace-nowrap flex-shrink-0 ${Be.color}`,children:Be.label}),Ne&&n.jsx(ct,{className:"h-4 w-4 text-[#FF6835] flex-shrink-0"})]}),n.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:we.hours>0?`${we.hours}h`:""}),n.jsx("div",{className:"w-36 flex-shrink-0",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`${v0(we.pct)} h-2 rounded-full transition-all duration-500`,style:{width:`${we.pct}%`}})})}),n.jsxs("span",{className:"w-10 text-right text-sm font-semibold text-foreground flex-shrink-0",children:[we.pct,"%"]}),n.jsxs("div",{className:"w-40 flex-shrink-0 hidden sm:flex items-center gap-2 justify-end",children:[n.jsxs("span",{className:"text-xs text-muted-foreground",children:[we.completed,"/",we.total," mods"]}),we.inProgress>0&&n.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-yellow-100 text-yellow-700 border border-yellow-200",children:[we.inProgress," activos"]})]}),n.jsx("div",{className:"w-7 flex-shrink-0"}),n.jsx("div",{className:"w-7 flex-shrink-0"})]}),n.jsx(Jc,{initial:!1,children:Pe&&n.jsx(Hn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},style:{overflow:"hidden"},children:n.jsx("div",{className:"border-t border-border divide-y divide-border/50 bg-background/40",children:be.map(Fe=>{var Je,Qe;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 hover:bg-accent/20 transition-colors",children:[n.jsx("div",{onClick:J=>J.stopPropagation(),className:"flex-shrink-0 w-44",children:n.jsx("select",{value:Fe.status,onChange:J=>re(Fe.id,J.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-[#FF6835] cursor-pointer hover:border-[#FF6835] transition-colors",children:Object.entries(Zu).map(([J,je])=>n.jsxs("option",{value:J,children:[je.label," (",je.percent,"%)"]},J))})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-foreground truncate block",children:Fe.name}),Fe.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:Fe.description})]}),n.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:(Fe.estimatedHours??0)>0?`${Fe.estimatedHours}h`:""}),n.jsx("div",{className:"w-36 flex-shrink-0",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`${v0(ki(Fe),Fe.status)} h-2 rounded-full transition-all duration-500`,style:{width:`${ki(Fe)}%`}})})}),n.jsxs("span",{className:"w-10 text-right text-xs font-bold text-foreground flex-shrink-0",children:[ki(Fe),"%"]}),n.jsxs("div",{className:"w-40 flex-shrink-0 hidden sm:flex items-center gap-1 flex-wrap",children:[n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${$c[Fe.priority].color}`,children:$c[Fe.priority].label}),Fe.status==="completed"&&n.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-green-50 border border-green-200 text-green-700 flex-shrink-0 font-semibold",children:[n.jsx(hr,{className:"h-3 w-3"})," DB"]}),Fe.status==="ui-only"&&n.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-blue-50 border border-blue-200 text-blue-600 flex-shrink-0 font-semibold",children:[n.jsx(ac,{className:"h-3 w-3"})," UI"]}),Fe.status==="spec-ready"&&n.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-violet-50 border border-violet-300 text-violet-700 flex-shrink-0 font-bold",children:[n.jsx(VL,{className:"h-3 w-3"})," #",Fe.execOrder??"?"]})]}),n.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:n.jsx("button",{onClick:J=>{J.stopPropagation(),v(je=>{const Ie=new Set(je);return Ie.has(Fe.id)?Ie.delete(Fe.id):Ie.add(Fe.id),Ie})},className:`p-1 rounded-lg transition-colors ${b.has(Fe.id)?"bg-[#FF6835]/10 text-[#FF6835]":"hover:bg-gray-100 text-gray-400 hover:text-gray-600"}`,title:"Archivos adjuntos",children:n.jsx(S8,{className:"h-4 w-4"})})}),n.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:n.jsx("button",{onClick:()=>kt(Fe.id),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:C.has(Fe.id)?"Ocultar tasks":"Ver tasks",children:C.has(Fe.id)?n.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Xm,{className:"h-4 w-4 text-muted-foreground"})})}),n.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:Fe.submodules?n.jsx("button",{onClick:()=>he(Fe.id),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:h.has(Fe.id)?"Ocultar submdulos":"Ver submdulos",children:h.has(Fe.id)?n.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})}):null})]}),n.jsx(Jc,{initial:!1,children:Fe.submodules&&h.has(Fe.id)&&n.jsx(Hn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},style:{overflow:"hidden"},children:n.jsx("div",{className:"bg-background/60 border-t border-dashed border-border/40",children:Fe.submodules.map(J=>{const je=Zu[J.status].percent,Ie=J.status==="completed",We=J.status==="ui-only",Wt=je>0&&!Ie&&!We;return n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 hover:bg-accent/10 transition-colors",children:[n.jsx("div",{className:"w-44 flex-shrink-0 flex items-center gap-2 pl-2",children:Ie?n.jsx(ct,{className:"h-5 w-5 text-[#FF6835]"}):We?n.jsx(ac,{className:"h-5 w-5 text-blue-500"}):Wt?n.jsx(Ct,{className:"h-5 w-5 text-yellow-500"}):n.jsx(mb,{className:"h-5 w-5 text-gray-300"})}),n.jsx("span",{className:`flex-1 text-xs min-w-0 truncate ${Ie?"text-[#FF6835] font-medium":We?"text-blue-600 font-medium":"text-foreground"}`,children:J.name}),n.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:(J.estimatedHours??0)>0?`${J.estimatedHours}h`:""}),n.jsx("div",{className:"w-36 flex-shrink-0",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:`${v0(je)} h-1.5 rounded-full transition-all duration-500`,style:{width:`${je}%`}})})}),n.jsx("div",{className:"w-10 flex-shrink-0"}),n.jsx("div",{className:"w-40 flex-shrink-0 hidden sm:block"}),n.jsx("div",{className:"w-7  flex-shrink-0"}),n.jsx("div",{className:"w-7  flex-shrink-0"})]},J.id)})})},`sub-${Fe.id}`)}),n.jsx(Jc,{initial:!1,children:C.has(Fe.id)&&n.jsx(Hn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},style:{overflow:"hidden"},children:n.jsxs("div",{className:"bg-background/40 border-t border-dashed border-border/30 pl-8 py-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:"Tasks"}),n.jsx("button",{onClick:()=>{const J=prompt("Nombre de la task:");J&&Pt(Fe.id,void 0,J)},className:"text-xs px-2 py-1 bg-[#FF6835]/10 text-[#FF6835] rounded hover:bg-[#FF6835]/20 transition-colors",children:"+ Agregar"})]}),(Je=F[Fe.id])!=null&&Je.length?n.jsxs("div",{className:"space-y-1",children:[(Qe=Fe.submodules)==null?void 0:Qe.map(J=>{const je=(F[Fe.id]||[]).filter(Ie=>Ie.submodule_id===J.id);return je.length===0?null:n.jsxs("div",{className:"ml-4 mb-2",children:[n.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:J.name}),je.map(Ie=>n.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-accent/10 rounded text-xs",children:[n.jsx("input",{type:"checkbox",checked:Ie.status==="done",onChange:()=>jt(Ie.id,Fe.id,{status:Ie.status==="done"?"todo":"done"}),className:"h-3 w-3"}),n.jsx("span",{className:`flex-1 ${Ie.status==="done"?"line-through text-muted-foreground":""}`,children:Ie.nombre}),Ie.blocker&&n.jsx("span",{className:"text-red-500 text-xs",children:"??"}),n.jsx("button",{onClick:()=>zt(Ie.id,Fe.id),className:"text-red-500 hover:text-red-700",children:""})]},Ie.id))]},J.id)}),(F[Fe.id]||[]).filter(J=>!J.submodule_id).map(J=>n.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-accent/10 rounded text-xs",children:[n.jsx("input",{type:"checkbox",checked:J.status==="done",onChange:()=>jt(J.id,Fe.id,{status:J.status==="done"?"todo":"done"}),className:"h-3 w-3"}),n.jsx("span",{className:`flex-1 ${J.status==="done"?"line-through text-muted-foreground":""}`,children:J.nombre}),J.blocker&&n.jsx("span",{className:"text-red-500 text-xs",children:"??"}),n.jsx("button",{onClick:()=>zt(J.id,Fe.id),className:"text-red-500 hover:text-red-700",children:""})]},J.id))]}):n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No hay tasks an"})]})},`tasks-${Fe.id}`)}),n.jsx(Jc,{initial:!1,children:b.has(Fe.id)&&n.jsx(Hn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},style:{overflow:"hidden"},children:n.jsx(_ke,{moduleId:Fe.id,moduleName:Fe.name})},`files-${Fe.id}`)})]},Fe.id)})})},"area-body")})]},le)})}),r==="kanban"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:Object.entries(Zu).map(([le,be])=>{const we=ar.filter($e=>$e.status===le);return n.jsxs("div",{className:"bg-card rounded-xl border border-border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(be.icon,{className:`h-5 w-5 ${be.color}`}),n.jsx("h3",{className:"font-semibold text-foreground text-sm",children:be.label}),n.jsx("span",{className:"ml-auto text-sm text-muted-foreground",children:we.length})]}),n.jsxs("div",{className:"space-y-2",children:[we.map($e=>n.jsxs("div",{className:"bg-background p-3 rounded-lg border border-border hover:border-[#FF6835] transition-colors",children:[n.jsx("div",{className:"font-medium text-sm text-foreground mb-1",children:$e.name}),n.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${ta[$e.category].color} text-white`,children:ta[$e.category].label}),n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border ${$c[$e.priority].color}`,children:$c[$e.priority].label})]})]},$e.id)),we.length===0&&n.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Sin mdulos"})]})]},le)})}),r==="queue"&&(()=>{const le=[...z].filter(be=>be.status==="spec-ready").sort((be,we)=>(be.execOrder??999)-(we.execOrder??999));return n.jsxs("div",{className:"space-y-4 max-w-3xl",children:[n.jsxs("div",{className:"flex items-center gap-3 p-5 bg-violet-50 border border-violet-200 rounded-xl",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center flex-shrink-0",children:n.jsx(Xm,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-base font-bold text-violet-900",children:"Cola de Ejecucin"}),n.jsxs("p",{className:"text-xs text-violet-600 mt-0.5",children:["Mdulos con definicin completa  ordenados por prioridad de implementacin. Cambi el estado de cualquier mdulo a ",n.jsx("strong",{children:'"Definicin Lista"'})," para agregarlo."]})]}),le.length>0&&n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"text-2xl font-black text-violet-700",children:le.length}),n.jsx("p",{className:"text-xs text-violet-500",children:"en cola"})]})]}),le.length===0?n.jsxs("div",{className:"bg-card rounded-xl border border-dashed border-border p-16 text-center",children:[n.jsx(Ym,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),n.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Cola vaca"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs mx-auto",children:["And a la vista ",n.jsx("strong",{children:"Lista"}),", busc un mdulo y cambi su estado a",n.jsx("span",{className:"font-semibold text-violet-600",children:' "Definicin Lista"'})," para agregarlo aqu."]})]}):n.jsxs("div",{className:"space-y-2",children:[le.map((be,we)=>n.jsx(Hn.div,{layout:!0,initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:we*.04},className:"bg-card rounded-xl border border-violet-200 hover:border-violet-400 hover:shadow-md transition-all overflow-hidden",children:n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3.5",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 text-white flex items-center justify-center font-black text-lg flex-shrink-0 shadow-sm",children:we+1}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:"font-bold text-sm text-foreground",children:be.name}),n.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full text-white flex-shrink-0 ${ta[be.category].color}`,children:[ta[be.category].icon," ",ta[be.category].label]}),n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${$c[be.priority].color}`,children:$c[be.priority].label})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:be.description})]}),n.jsxs("div",{className:"text-center flex-shrink-0 hidden md:block",children:[n.jsxs("p",{className:"text-sm font-bold text-foreground",children:[be.estimatedHours??"","h"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"estimadas"})]}),n.jsxs("div",{className:"flex flex-col gap-0.5 flex-shrink-0",children:[n.jsx("button",{onClick:()=>Se(be.id,"up"),disabled:we===0,className:"p-1.5 rounded-lg hover:bg-violet-100 text-violet-400 hover:text-violet-700 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",title:"Subir en la cola",children:n.jsx(hb,{className:"h-3.5 w-3.5"})}),n.jsx("button",{onClick:()=>Se(be.id,"down"),disabled:we===le.length-1,className:"p-1.5 rounded-lg hover:bg-violet-100 text-violet-400 hover:text-violet-700 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",title:"Bajar en la cola",children:n.jsx(u8,{className:"h-3.5 w-3.5"})})]}),n.jsxs("button",{onClick:()=>re(be.id,"progress-10"),className:"flex items-center gap-1.5 px-3 py-2 bg-[#FF6835] text-white rounded-lg text-xs font-bold hover:bg-[#FF6835]/90 transition-colors flex-shrink-0 shadow-sm",title:"Iniciar implementacin (pasa a En Progreso 10%)",children:[n.jsx(JL,{className:"h-3 w-3"})," Iniciar"]})]})},be.id)),n.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-violet-50 border border-violet-200 flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"text-sm text-violet-700 font-medium",children:[n.jsx("span",{className:"font-black",children:le.length})," mdulo",le.length!==1?"s":""," en cola","  ",n.jsxs("span",{className:"font-black",children:[le.reduce((be,we)=>be+(we.estimatedHours??0),0),"h"]})," estimadas totales"]}),n.jsx("span",{className:"text-xs text-violet-500 italic",children:' Reordenar   Iniciar cambia el estado a "En Progreso 10%"'})]})]})]})})(),r==="stats"&&n.jsx("div",{className:"space-y-4",children:Sr.map(({cat:le,mods:be,areaStats:we},$e)=>{const Be=ta[le];return n.jsxs(Hn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:$e*.05},className:"bg-card rounded-xl border border-border p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full text-white ${Be.color}`,children:Be.label}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[we.completed,"/",we.total," completados"]}),n.jsxs("span",{className:"ml-auto text-xl font-bold text-foreground",children:[we.pct,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:n.jsx("div",{className:`${v0(we.pct)} h-3 rounded-full transition-all duration-700`,style:{width:`${we.pct}%`}})}),n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[n.jsx(pt,{className:"h-3 w-3 inline mr-1"}),we.inProgress," en progreso"]}),n.jsxs("span",{children:[n.jsx(Rt,{className:"h-3 w-3 inline mr-1"}),we.hours,"h restantes"]})]})]},le)})})]})}function s$({onNavigate:e}){return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:_a,title:"Checklist & Roadmap",subtitle:"Estado completo de todos los mdulos de Charlie Marketplace Builder",actions:[{label:"Volver",onClick:()=>e("sistema")},{label:"Exportar",primary:!0}]}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsx(Vke,{hideHeader:!0,onNavigate:e})})]})}const Oa=`https://${Pr}.supabase.co/functions/v1/api/integraciones`,Da={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function Ni(e){const t=new URLSearchParams;e!=null&&e.tipo&&t.append("tipo",e.tipo),e!=null&&e.estado&&t.append("estado",e.estado);const r=t.toString()?`?${t.toString()}`:"",i=await(await fetch(`${Oa}${r}`,{headers:Da})).json();if(i.error)throw new Error(i.error);return i.data||[]}async function h6(e,t){const o=await(await fetch(`${Oa}/${e}`,{method:"PUT",headers:Da,body:JSON.stringify(t)})).json();if(o.error)throw new Error(o.error);return o.data}async function g6(e){const r=await(await fetch(`${Oa}/${e}/ping`,{method:"POST",headers:Da})).json();if(r.error)throw new Error(r.error);return r}async function x6(e,t){const r=new URLSearchParams;r.append("limit",t.toString());const o=r.toString()?`?${r.toString()}`:"",a=await(await fetch(`${Oa}/${e}/logs${o}`,{headers:Da})).json();if(a.error)throw new Error(a.error);return a.data||[]}async function Uke(e){const o=await(await fetch(`${Oa}/api-keys`,{headers:Da})).json();if(o.error)throw new Error(o.error);return o.data||[]}async function qke(e){const r=await(await fetch(`${Oa}/api-keys`,{method:"POST",headers:Da,body:JSON.stringify(e)})).json();if(r.error)throw new Error(r.error);return r.data}async function Hke(e){const r=await(await fetch(`${Oa}/api-keys/${e}`,{method:"DELETE",headers:Da})).json();if(r.error)throw new Error(r.error)}async function Gke(e){const o=await(await fetch(`${Oa}/webhooks`,{headers:Da})).json();if(o.error)throw new Error(o.error);return o.data||[]}async function Kke(e){const r=await(await fetch(`${Oa}/webhooks`,{method:"POST",headers:Da,body:JSON.stringify(e)})).json();if(r.error)throw new Error(r.error);return r.data}async function Yke(e,t){const o=await(await fetch(`${Oa}/webhooks/${e}`,{method:"PUT",headers:Da,body:JSON.stringify(t)})).json();if(o.error)throw new Error(o.error);return o.data}async function Xke(e){const r=await(await fetch(`${Oa}/webhooks/${e}`,{method:"DELETE",headers:Da})).json();if(r.error)throw new Error(r.error)}function Jke({onNavigate:e}){const t=p=>()=>e(p),[r,o]=A.useState([]),[i,a]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const h=await Ni();o(h)}catch(h){console.error("Error cargando integraciones:",h)}finally{a(!1)}})()},[]);const s=p=>r.filter(h=>h.tipo===p).length,l=p=>r.filter(h=>h.tipo===p&&h.estado==="activo").length,c=[{id:"integraciones-pagos",icon:mn,onClick:t("integraciones-pagos"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:" Uruguay   Global",label:"Pasarela de Pagos",description:"Plexo, OCA, Creditel, Abitab, RedPagos, Mercado Pago, PayPal, Stripe. Plexo recomendado para Uruguay.",stats:[{icon:mn,value:i?"...":String(s("pagos")),label:"Proveedores"},{icon:ft,value:i?"...":String(l("pagos")),label:"Conectadas"},{icon:Nr,value:"UY",label:"Foco inicial"}]},{id:"integraciones-logistica",icon:At,onClick:t("integraciones-logistica"),gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#10B981",badge:" Uruguay   Argentina",label:"Logstica",description:"Correo UY, OCA, Brixo, Mosca, PedidosYa, Fedex, DHL, Andreani y ms. Soporte sin API.",stats:[{icon:At,value:i?"...":String(s("logistica")),label:"Proveedores"},{icon:ft,value:i?"...":String(l("logistica")),label:"Conectadas"},{icon:Rt,value:"UY",label:"Foco inicial"}]},{id:"integraciones-marketplace",icon:ja,onClick:t("integraciones-marketplace"),gradient:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"#3B82F6",badge:" Uruguay   Global",label:"Marketplace",description:"Mercado Libre, MercadoPago. Sincronizacin bidireccional de productos y pedidos.",stats:[{icon:ja,value:i?"...":String(s("marketplace")),label:"Proveedores"},{icon:ft,value:i?"...":String(l("marketplace")),label:"Conectadas"},{icon:Xt,value:"2w",label:"Sincronizacin"}]},{id:"integraciones-comunicacion",icon:zy,onClick:t("integraciones-comunicacion"),gradient:"linear-gradient(135deg, #EC4899 0%, #BE185D 100%)",color:"#EC4899",badge:" Global",label:"Comunicacin",description:"WhatsApp Business, Resend, Gmail/SMTP, Meta, Twilio SMS. Envo de mensajes y notificaciones.",stats:[{icon:zy,value:i?"...":String(s("comunicacion")),label:"Proveedores"},{icon:ft,value:i?"...":String(l("comunicacion")),label:"Conectadas"},{icon:Et,value:"",label:"Audiencia"}]},{id:"integraciones-identidad",icon:Nr,onClick:t("integraciones-identidad"),gradient:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)",color:"#8B5CF6",badge:" Global",label:"Identidad",description:"MetaMap (KYC). Verificacin de identidad y cumplimiento normativo.",stats:[{icon:Nr,value:i?"...":String(s("identidad")),label:"Proveedores"},{icon:ft,value:i?"...":String(l("identidad")),label:"Conectadas"},{icon:pt,value:"",label:"Verificaciones"}]},{id:"integraciones-analytics",icon:br,onClick:t("integraciones-analytics"),gradient:"linear-gradient(135deg, #0EA5E9 0%, #0369A1 100%)",color:"#0EA5E9",badge:" Global",label:"Analytics",description:"Google Analytics y ms. Tracking de eventos y mtricas de negocio.",stats:[{icon:br,value:i?"...":String(s("analytics")),label:"Proveedores"},{icon:ft,value:i?"...":String(l("analytics")),label:"Conectadas"},{icon:Xt,value:"",label:"Eventos/da"}]},{id:"integraciones-api-keys",icon:vd,onClick:t("integraciones-api-keys"),gradient:"linear-gradient(135deg, #6366F1 0%, #4F46E5 100%)",color:"#6366F1",badge:" Global",label:"API Keys",description:"Gestion las API keys para dar acceso a terceros a tu plataforma.",stats:[{icon:vd,value:"",label:"Keys activas"},{icon:ft,value:"",label:"Permisos"},{icon:Nr,value:"",label:"Seguridad"}]},{id:"integraciones-webhooks",icon:Iy,onClick:t("integraciones-webhooks"),gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"#F59E0B",badge:" Global",label:"Webhooks",description:"Configur webhooks para recibir eventos externos y notificaciones en tiempo real.",stats:[{icon:Iy,value:"",label:"Webhooks"},{icon:ft,value:"",label:"Activos"},{icon:pt,value:"",label:"Eventos"}]}],d=[{icon:ja,label:"App Marketplace",desc:"Instalacin de apps en un clic"},{icon:pt,label:"Webhooks custom",desc:"Webhooks personalizados por evento"},{icon:Nr,label:"Sandbox testing",desc:"Entorno de pruebas por integracin"},{icon:br,label:"Health por API",desc:"Monitoreo de salud por integracin"}],f=n.jsxs("div",{style:{padding:"12px 18px",backgroundColor:"#FFF4F0",border:"1.5px solid rgba(255,104,53,0.2)",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("span",{style:{fontSize:"1.2rem"},children:""}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"700",fontSize:"0.85rem",color:"#111827"},children:"Uruguay First"}),n.jsx("span",{style:{fontSize:"0.8rem",color:"#6B7280",marginLeft:"8px"},children:"Empezamos por los proveedores del mercado uruguayo y expandimos progresivamente a Argentina, Brasil y Latam."})]})]});return n.jsx(vc,{hubIcon:va,title:"Integraciones",subtitle:"Conect tu stack  Uruguay first  Expansin Latam progresiva  65 proveedores",sections:[{cards:c}],intro:f,comingSoon:d,comingSoonText:"Marketplace de apps con instalacin en un clic, webhooks personalizados, sandbox de testing y monitoreo de salud por integracin."})}function uv({onNavigate:e,active:t}){const r=[{icon:Za,label:"Facebook",sub:"Conectado",target:"meta-business",active:t==="meta-business"},{icon:td,label:"Instagram",sub:"Conectado",target:"meta-business",active:t==="meta-business"},{icon:hd,label:"WhatsApp",sub:"Activo",target:"redes-sociales",active:t==="redes-sociales"},{icon:xx,label:"Centro Operativo",sub:"Ver todo",target:"redes-sociales",active:t==="redes-sociales"}];return n.jsxs("div",{style:{background:"linear-gradient(135deg, #5B21B6 0%, #1D4ED8 60%, #1877F2 100%)",padding:"10px 28px",display:"flex",alignItems:"center",gap:"10px",flexShrink:0,flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>e("rrss"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"8px",backgroundColor:"rgba(255,255,255,0.15)",border:"1px solid rgba(255,255,255,0.25)",color:"#fff",fontSize:"0.75rem",fontWeight:"700",cursor:"pointer",backdropFilter:"blur(6px)",flexShrink:0,transition:"background 0.15s",whiteSpace:"nowrap"},onMouseEnter:o=>o.currentTarget.style.backgroundColor="rgba(255,255,255,0.25)",onMouseLeave:o=>o.currentTarget.style.backgroundColor="rgba(255,255,255,0.15)",children:[n.jsx(sg,{size:12})," Redes Sociales"]}),n.jsx("div",{style:{width:"1px",height:"28px",backgroundColor:"rgba(255,255,255,0.2)",flexShrink:0}}),r.map((o,i)=>{const a=o.icon,s=o.active;return n.jsxs("button",{onClick:()=>o.target&&e(o.target),style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 14px",borderRadius:"8px",backgroundColor:s?"rgba(255,255,255,0.28)":"rgba(255,255,255,0.1)",border:`1px solid ${s?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.18)"}`,cursor:o.target?"pointer":"default",backdropFilter:"blur(6px)",transition:"background 0.15s"},onMouseEnter:l=>o.target&&(l.currentTarget.style.backgroundColor="rgba(255,255,255,0.22)"),onMouseLeave:l=>l.currentTarget.style.backgroundColor=s?"rgba(255,255,255,0.28)":"rgba(255,255,255,0.1)",children:[n.jsx(a,{size:13,color:"#fff"}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"rgba(255,255,255,0.65)",lineHeight:1},children:o.label}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.75rem",fontWeight:"800",color:"#fff",lineHeight:1},children:o.sub})]})]},i)})]})}const m6=`https://${Pr}.supabase.co/functions/v1/api/rrss`,y6={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function pv(e){try{return await(await fetch(`${m6}${e}`,{headers:y6})).json()}catch(t){return console.error(`RRSS API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function FG(e,t){try{return await(await fetch(`${m6}${e}`,{method:"POST",headers:y6,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`RRSS API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function Qke(e){try{return await(await fetch(`${m6}${e}`,{method:"DELETE",headers:y6})).json()}catch(t){return console.error(`RRSS API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function Zke(){const e=await pv("/status");return!e.ok||!e.data?null:e.data}async function eFe(e){const t=await pv(`/creds/${e}`);return t.ok?t.data??null:null}async function tFe(e,t){const r=await FG(`/creds/${e}`,t);return{ok:r.ok,savedAt:r.savedAt,error:r.error}}async function rFe(e){return Qke(`/creds/${e}`)}async function nFe(e){const t=await FG(`/verify/${e}`);return{ok:t.ok,data:t.data,error:t.error}}async function oFe(e){const t=new URLSearchParams;e!=null&&e.platform&&t.append("platform",e.platform),e!=null&&e.estado&&t.append("estado",e.estado);const r=t.toString()?`?${t.toString()}`:"",o=await pv(`/posts${r}`);return!o.ok||!o.data?[]:o.data}async function iFe(e,t){const r=new URLSearchParams;r.append("dias",t.toString());const o=r.toString()?`?${r.toString()}`:"",i=await pv(`/metricas${o}`);return!i.ok||!i.data?[]:i.data}const aFe="linear-gradient(135deg, #833AB4 0%, #C13584 55%, #E1306C 100%)",sFe="linear-gradient(135deg, #1877F2 0%, #0C5FCC 100%)",AG={instagram:{name:"Migracin de Instagram",subtitle:"Respalda, elimina y rebrandea tu perfil de Instagram",gradient:aFe,accent:"#E1306C",icon:n.jsx(hFe,{}),permissions:["instagram_basic","instagram_content_publish","pages_read_engagement","pages_manage_posts","pages_show_list"],credentialFields:[{key:"appId",label:"App ID",placeholder:"1234567890123456"},{key:"appSecret",label:"App Secret",placeholder:"abcdef1234567890abcdef1234567890"},{key:"token",label:"Access Token",placeholder:"EAAxxxxxxxxxxxxx"},{key:"accountId",label:"Instagram Account ID",placeholder:"1234567890123456"}]},facebook:{name:"Migracin de Facebook",subtitle:"Respalda, elimina y rebrandea tu pgina de Facebook",gradient:sFe,accent:"#1877F2",icon:n.jsx(gFe,{}),permissions:["pages_manage_posts","pages_read_engagement","pages_show_list","pages_manage_metadata","publish_to_groups"],credentialFields:[{key:"appId",label:"App ID",placeholder:"1234567890123456"},{key:"appSecret",label:"App Secret",placeholder:"abcdef1234567890abcdef1234567890"},{key:"token",label:"Page Access Token",placeholder:"EAAxxxxxxxxxxxxx"},{key:"pageId",label:"Page ID",placeholder:"1234567890123456"}],fbSpecific:!0}};function lFe({onNavigate:e}){const[t,r]=A.useState(null);return t?n.jsx(cFe,{platform:t,onBack:()=>r(null),onNavigate:e}):n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:p8,title:"Migracin de Redes Sociales",subtitle:"Respalda, elimin y rebrande tu presencia en Facebook e Instagram",actions:[{label:"Volver",onClick:()=>e("rrss")},{label:"Ver Historial",primary:!0}]}),n.jsx(uv,{onNavigate:e,active:"migracion-rrss"}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"32px 28px"},children:[n.jsx("p",{style:{color:"#888",fontSize:"14px",marginBottom:"24px"},children:"Seleccion la plataforma que quers gestionar:"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",maxWidth:"840px"},children:["instagram","facebook"].map(o=>{const i=AG[o];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[n.jsxs("div",{style:{background:i.gradient,padding:"24px",display:"flex",alignItems:"center",gap:"14px"},children:[i.icon,n.jsxs("div",{children:[n.jsx("div",{style:{color:"#fff",fontWeight:800,fontSize:"17px"},children:o==="instagram"?"Instagram":"Facebook"}),n.jsx("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px"},children:i.subtitle})]})]}),n.jsxs("div",{style:{padding:"20px"},children:[[o==="instagram"?"Respaldo de Posts, Stories y Reels":"Respaldo de Posts, Fotos, Videos y Eventos","Eliminacin masiva con confirmacin",o==="instagram"?"Actualizacin de biografa y website":"Actualizacin de pgina y fotos de portada"].map((a,s)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[n.jsx(ct,{size:14,color:"#10B981"}),n.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:a})]},s)),n.jsxs("button",{onClick:()=>r(o),style:{width:"100%",marginTop:"16px",padding:"12px",background:i.gradient,color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:"pointer",transition:"opacity 0.15s"},onMouseEnter:a=>a.currentTarget.style.opacity="0.9",onMouseLeave:a=>a.currentTarget.style.opacity="1",children:["Gestionar ",o==="instagram"?"Instagram":"Facebook"," "]})]})]},o)})}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginTop:"24px",maxWidth:"840px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"18px"},children:[n.jsx("span",{children:""}),n.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:700,color:"#111"},children:"Informacin Importante"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px"},children:[{icon:"",title:"Requisitos Previos",items:["Cuenta de Meta for Developers","Aplicacin Meta tipo Business","Access Token de larga duracin","Permisos configurados","IG debe ser cuenta Business"]},{icon:"",title:"Proceso Recomendado",items:["Configurar credenciales en Setup","Verificar conexin exitosa","Respaldar todo el contenido","Eliminar contenido (opcional)","Rebrandear pgina/perfil"]},{icon:"",title:"Advertencias",items:["La eliminacin es irreversible","Access Tokens expiran 60 das","Instagram tiene lmites de API","Siempre respaldar antes de eliminar","Algunas ops. toman tiempo"]}].map(o=>n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginBottom:"10px"},children:[n.jsx("span",{style:{fontSize:"14px"},children:o.icon}),n.jsx("span",{style:{fontWeight:700,fontSize:"13px",color:"#374151"},children:o.title})]}),n.jsx("ul",{style:{margin:0,paddingLeft:"16px",color:"#555",fontSize:"12px",lineHeight:"1.8"},children:o.items.map((i,a)=>n.jsx("li",{children:i},a))})]},o.title))})]})]})]})}function cFe({platform:e,onBack:t,onNavigate:r}){const o=AG[e],[i,a]=A.useState("config"),[s,l]=A.useState(!1),c=[{id:"config",icon:n.jsx(xFe,{}),label:"Configuracin"},{id:"backup",icon:n.jsx(Ht,{size:15}),label:"Respaldar"},{id:"delete",icon:n.jsx(xr,{size:15}),label:"Eliminar"},{id:"rebrand",icon:n.jsx(_t,{size:15}),label:"Rebrandear"}];return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:p8,title:o.name,subtitle:o.subtitle,actions:[{label:" Volver",onClick:t}]}),n.jsx(uv,{onNavigate:r,active:"migracion-rrss"}),n.jsxs("div",{style:{background:o.gradient,padding:"14px 28px",display:"flex",alignItems:"center",gap:"14px",flexShrink:0},children:[n.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"11px",backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255,255,255,0.35)"},children:o.icon}),n.jsxs("div",{children:[n.jsx("h2",{style:{color:"#fff",margin:0,fontWeight:800,fontSize:"16px",lineHeight:1.2},children:o.name}),n.jsx("p",{style:{color:"rgba(255,255,255,0.8)",margin:"2px 0 0",fontSize:"12px"},children:o.subtitle})]})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",flexShrink:0},children:c.map(d=>{const f=i===d.id;return n.jsxs("button",{onClick:()=>a(d.id),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 22px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:f?700:500,transition:"all 0.15s",background:f?o.gradient:"transparent",color:f?"#fff":"#555",borderRadius:"0",position:"relative",whiteSpace:"nowrap"},children:[d.icon,d.label,!f&&n.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"3px",backgroundColor:"transparent"}})]},d.id)})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F5F5F5"},children:[i==="config"&&n.jsx(dFe,{cfg:o,platform:e,onBack:t,onVerified:()=>l(!0)}),i==="backup"&&n.jsx(uFe,{cfg:o,verified:s}),i==="delete"&&n.jsx(pFe,{cfg:o}),i==="rebrand"&&n.jsx(fFe,{cfg:o,platform:e})]})]})}function dFe({cfg:e,platform:t,onBack:r,onVerified:o}){const[i,a]=A.useState(!1),[s,l]=A.useState({}),[c,d]=A.useState(!1),[f,p]=A.useState(!1),[h,x]=A.useState(!0),[m,y]=A.useState(null),[b,v]=A.useState(new Set),[C,S]=A.useState(null);A.useEffect(()=>{let z=!1;return x(!0),eFe(t).then(B=>{var P;z||(B&&(l({appId:B.appId??"",appSecret:B.appSecret??"",token:B.token??"",accountId:B.accountId??"",pageId:B.pageId??""}),y(B.savedAt??null),(P=B.verified)!=null&&P.verified&&(S({ok:!0,msg:`Cuenta conectada: ${B.verified.accountName} (ID: ${B.verified.accountId})`}),o())),x(!1))}),()=>{z=!0}},[t]);const w=t==="instagram"?[{n:1,label:"Crear Meta Business Account",link:"https://business.facebook.com",desc:"Asegurte de tener una cuenta de Meta Business con Instagram Business conectado"},{n:2,label:"Crear App en Meta for Developers",link:"https://developers.facebook.com",desc:"Crea una aplicacin de tipo 'Business' en developers.facebook.com"},{n:3,label:"Agregar Instagram Graph API",link:null,desc:"Agrega el producto 'Instagram Graph API' a tu app"},{n:4,label:"Obtener Instagram Account ID",link:null,desc:"Obtn el ID de tu cuenta de Instagram Business"},{n:5,label:"Generar Access Token",link:"https://developers.facebook.com/tools/explorer",desc:"Genera un Access Token de larga duracin con los permisos necesarios"},{n:6,label:"Configurar Credenciales",link:null,desc:"Ingresa las credenciales en el sistema"}]:[{n:1,label:"Crear Meta Business Account",link:"https://business.facebook.com",desc:"Asegurte de tener una cuenta de Meta Business con Pgina de Facebook"},{n:2,label:"Crear App en Meta for Developers",link:"https://developers.facebook.com",desc:"Crea una aplicacin de tipo 'Business'"},{n:3,label:"Agregar Facebook Login / Pages API",link:null,desc:"Agrega los productos necesarios para gestionar pginas"},{n:4,label:"Obtener Page ID",link:null,desc:"Obtn el ID de tu Pgina de Facebook desde Configuracin de Pgina"},{n:5,label:"Generar Page Access Token",link:"https://developers.facebook.com/tools/explorer",desc:"Genera un token con los permisos de gestin de pgina"},{n:6,label:"Configurar Credenciales",link:null,desc:"Ingresa las credenciales en el sistema"}],k=async()=>{var P,D;const z=e.credentialFields.filter(I=>{var N;return!((N=s[I.key])!=null&&N.trim())});if(z.length>0){ke.error(`Complet estos campos antes de verificar: ${z.map(I=>I.label).join(", ")}`),v(new Set(z.map(I=>I.key)));return}v(new Set),m||(ke.info("Guardando credenciales antes de verificar"),await T()),d(!0),S(null);const B=await nFe(t);if(d(!1),B.ok&&((P=B.data)!=null&&P.verified))S({ok:!0,msg:`Cuenta conectada: ${B.data.accountName} (ID: ${B.data.accountId})`}),ke.success(` Conexin verificada  ${B.data.accountName}`),o();else{const I=((D=B.data)==null?void 0:D.error)??B.error??"Error desconocido";S({ok:!1,msg:I}),ke.error(` ${I}`)}},E=(z,B)=>{navigator.clipboard.writeText(z||"Sin valor"),ke.success(`${B} copiado`)},T=async()=>{const z=e.credentialFields.filter(P=>{var D;return!((D=s[P.key])!=null&&D.trim())});if(z.length>0){ke.error(`Complet todos los campos: ${z.map(P=>P.label).join(", ")}`),v(new Set(z.map(P=>P.key)));return}p(!0);const B=await tFe(t,{appId:s.appId,appSecret:s.appSecret,token:s.token,accountId:s.accountId||void 0,pageId:s.pageId||void 0});p(!1),B.ok?(y(B.savedAt??new Date().toISOString()),S(null),ke.success(" Credenciales guardadas en la base de datos")):ke.error(` Error al guardar: ${B.error}`)},_=async()=>{if(!confirm("Seguro que quers eliminar las credenciales guardadas?"))return;const z=await rFe(t);z.ok?(l({}),y(null),S(null),ke.success("Credenciales eliminadas")):ke.error(`Error: ${z.error}`)};return h?n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"60px",gap:"12px",color:"#6B7280"},children:[n.jsx(ur,{size:22,style:{animation:"spin 1s linear infinite"}}),n.jsx("span",{style:{fontSize:"14px"},children:"Cargando credenciales desde la base de datos"}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]}):n.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:[n.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",gap:"4px",background:"none",border:"none",cursor:"pointer",color:"#555",fontSize:"14px",marginBottom:"20px",padding:"4px 0"},children:[n.jsx(rg,{size:16})," Volver"]}),n.jsxs("div",{style:{background:e.gradient,borderRadius:"16px",padding:"24px 28px",marginBottom:"24px"},children:[n.jsxs("h2",{style:{color:"#fff",margin:"0 0 6px",fontWeight:800,fontSize:"20px"},children:["Configuracin de ",e.name.replace("Migracin de ","")]}),n.jsxs("p",{style:{color:"rgba(255,255,255,0.85)",margin:0,fontSize:"14px"},children:["Sigue estos pasos para configurar la integracin con ",e.name.replace("Migracin de ","")]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 18px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Pasos de Configuracin"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:w.map(z=>n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px",padding:"14px 16px",borderRadius:"10px",border:"1px solid #F0F0F0",backgroundColor:"#FAFAFA"},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:e.gradient,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:800,fontSize:"13px",flexShrink:0},children:z.n}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"3px"},children:[n.jsx("span",{style:{fontWeight:600,fontSize:"14px",color:"#111"},children:z.label}),z.link&&n.jsxs("a",{href:z.link,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"3px",color:e.accent,fontSize:"12px",fontWeight:600,textDecoration:"none"},children:[n.jsx(gn,{size:11})," Abrir"]})]}),n.jsx("p",{style:{margin:0,fontSize:"12px",color:"#6B7280"},children:z.desc})]})]},z.n))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Permisos Requeridos"}),n.jsxs("div",{style:{backgroundColor:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:"10px",padding:"12px 16px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"7px",marginBottom:"10px"},children:[n.jsx(Wr,{size:14,color:"#D97706"}),n.jsx("span",{style:{fontSize:"13px",color:"#D97706",fontWeight:600},children:"Estos permisos deben ser aprobados en Meta for Developers"})]}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:e.permissions.map(z=>n.jsx("span",{style:{padding:"3px 10px",border:`1px solid ${e.accent}`,borderRadius:"20px",fontSize:"12px",color:e.accent,fontWeight:500,backgroundColor:"#fff"},children:z},z))})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:700,color:"#111"},children:"Credenciales"}),n.jsxs("button",{onClick:()=>a(!i),style:{display:"flex",alignItems:"center",gap:"6px",padding:"7px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"13px",fontWeight:600,color:"#333"},children:[i?n.jsx(y8,{size:14}):n.jsx(yr,{size:14}),i?"Ocultar":"Mostrar"]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"14px",marginBottom:"24px"},children:e.credentialFields.map(z=>n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:b.has(z.key)?"#DC2626":"#333",marginBottom:"6px"},children:[z.label,b.has(z.key)&&n.jsx("span",{style:{marginLeft:"6px",fontSize:"11px",fontWeight:700,color:"#DC2626"},children:" Requerido"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("input",{type:i?"text":"password",value:s[z.key]??"",onChange:B=>{l(P=>({...P,[z.key]:B.target.value})),v(P=>{const D=new Set(P);return D.delete(z.key),D})},placeholder:z.placeholder,style:{flex:1,border:`1.5px solid ${b.has(z.key)?"#DC2626":"#E0E0E0"}`,borderRadius:"10px",padding:"10px 14px",fontSize:"14px",outline:"none",backgroundColor:b.has(z.key)?"#FEF2F2":"#FAFAFA",color:"#888"},onFocus:B=>B.target.style.borderColor=b.has(z.key)?"#DC2626":e.accent,onBlur:B=>B.target.style.borderColor=b.has(z.key)?"#DC2626":"#E0E0E0"}),n.jsx("button",{onClick:()=>E(s[z.key]??"",z.label),style:{width:"40px",height:"40px",border:"1.5px solid #E0E0E0",borderRadius:"10px",backgroundColor:"#FAFAFA",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(ho,{size:14,color:"#888"})})]})]},z.key))}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[n.jsx("button",{onClick:T,disabled:f,style:{padding:"14px",background:e.gradient,color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:f?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:f?.7:1},children:f?n.jsxs(n.Fragment,{children:[n.jsx(ur,{size:15,style:{animation:"spin 1s linear infinite"}})," Guardando"]}):" Guardar Credenciales"}),n.jsx("button",{onClick:k,disabled:c,style:{padding:"14px",backgroundColor:"#fff",color:"#333",border:"1.5px solid #E0E0E0",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:c?.7:1},children:c?n.jsxs(n.Fragment,{children:[n.jsx(ur,{size:15,style:{animation:"spin 1s linear infinite"}})," Verificando"]}):" Verificar Conexin"})]}),C&&n.jsxs("div",{style:{marginTop:"12px",padding:"12px 16px",backgroundColor:C.ok?"#ECFDF5":"#FEF2F2",border:`1px solid ${C.ok?"#A7F3D0":"#FECACA"}`,borderRadius:"10px",display:"flex",alignItems:"flex-start",gap:"8px"},children:[C.ok?n.jsx(ct,{size:15,color:"#059669",style:{flexShrink:0,marginTop:"1px"}}):n.jsx(Wr,{size:15,color:"#DC2626",style:{flexShrink:0,marginTop:"1px"}}),n.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:C.ok?"#065F46":"#7F1D1D",lineHeight:1.5},children:C.msg})]}),n.jsxs("div",{style:{marginTop:"14px",padding:"12px 16px",backgroundColor:"#F0F9FF",border:"1px solid #BAE6FD",borderRadius:"10px",display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Xp,{size:13,color:"#0369A1"}),n.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#0369A1"},children:"Almacenamiento  Supabase KV"})]}),m&&n.jsx("button",{onClick:_,style:{fontSize:"11px",color:"#DC2626",background:"none",border:"none",cursor:"pointer",fontWeight:600,padding:0},children:" Eliminar credenciales"})]}),n.jsxs("span",{style:{fontSize:"12px",color:"#0369A1",lineHeight:1.5},children:["Las credenciales se guardan en la ",n.jsx("strong",{children:"base de datos Supabase"})," del proyecto (tabla KV), cifradas en trnsito via HTTPS. Persisten entre sesiones y dispositivos."]}),m&&n.jsxs("span",{style:{fontSize:"11px",color:"#0EA5E9",fontWeight:600,marginTop:"2px"},children:[" ltimo guardado: ",new Date(m).toLocaleString("es-UY",{dateStyle:"short",timeStyle:"short"})]}),!m&&n.jsx("span",{style:{fontSize:"11px",color:"#F59E0B",fontWeight:600,marginTop:"2px"},children:" Sin credenciales en la base de datos  complet los campos y guard"})]}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})]})}function uFe({cfg:e,verified:t}){var p;const[r,o]=A.useState("all"),[i,a]=A.useState(!1),[s,l]=A.useState(!1),c=e.permissions.includes("instagram_basic"),d=c?[{id:"posts",icon:n.jsx(zl,{}),label:"Posts",sub:"Fotos y videos"},{id:"stories",icon:n.jsx(zl,{}),label:"Stories",sub:"ltimas 24 horas"},{id:"reels",icon:n.jsx(zl,{}),label:"Reels",sub:"Todos los reels"},{id:"all",icon:n.jsx(zl,{}),label:"Todo",sub:"Respaldo completo"}]:[{id:"posts",icon:n.jsx(zl,{}),label:"Posts",sub:"Publicaciones"},{id:"stories",icon:n.jsx(zl,{}),label:"Fotos",sub:"lbumes de fotos"},{id:"reels",icon:n.jsx(zl,{}),label:"Videos",sub:"Videos publicados"},{id:"all",icon:n.jsx(zl,{}),label:"Todo",sub:"Respaldo completo"}],f=()=>{if(!t){ke.error("Verific la conexin primero en la pestaa Configuracin");return}a(!0),setTimeout(()=>{a(!1),l(!0),ke.success(`Respaldo de "${r}" completado`)},2200)};return n.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:[!t&&n.jsxs("div",{style:{backgroundColor:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:"12px",padding:"14px 18px",marginBottom:"20px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[n.jsx(Wr,{size:18,color:"#D97706",style:{flexShrink:0,marginTop:"1px"}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#D97706",marginBottom:"2px"},children:"Conexin no verificada"}),n.jsx("div",{style:{fontSize:"13px",color:"#92400E"},children:'Por favor verifica tu conexin en la pestaa "Configuracin" antes de respaldar.'})]})]}),s&&n.jsxs("div",{style:{backgroundColor:"#ECFDF5",border:"1px solid #A7F3D0",borderRadius:"12px",padding:"14px 18px",marginBottom:"20px",display:"flex",gap:"12px",alignItems:"center"},children:[n.jsx(ct,{size:18,color:"#059669"}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#059669"},children:"Respaldo completado"}),n.jsx("div",{style:{fontSize:"13px",color:"#065F46"},children:"Tu contenido fue respaldado y est disponible para descargar."})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Respaldar Contenido"}),n.jsxs("p",{style:{margin:"0 0 20px",fontSize:"13px",color:"#6B7280"},children:["Seleccion qu tipo de contenido deseas respaldar.",c?" Las stories solo estn disponibles por 24 horas.":""]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:d.map(h=>n.jsxs("button",{onClick:()=>o(h.id),style:{padding:"20px 12px",borderRadius:"12px",border:`2px solid ${r===h.id?"transparent":"#E5E7EB"}`,background:r===h.id?e.gradient:"#fff",cursor:"pointer",textAlign:"center",transition:"all 0.15s"},children:[n.jsx("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"center",opacity:r===h.id?1:.6},children:n.jsx(Ht,{size:22,color:r===h.id?"#fff":"#555"})}),n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:r===h.id?"#fff":"#333"},children:h.label}),n.jsx("div",{style:{fontSize:"11px",color:r===h.id?"rgba(255,255,255,0.8)":"#9CA3AF",marginTop:"3px"},children:h.sub})]},h.id))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Iniciar Respaldo"}),n.jsx("p",{style:{margin:"0 0 20px",fontSize:"13px",color:"#6B7280"},children:"El respaldo descargar tu contenido en formato JSON + imgenes ZIP. El proceso puede demorar algunos minutos segn la cantidad de publicaciones."}),n.jsxs("button",{onClick:f,disabled:i,style:{padding:"14px 32px",background:t?e.gradient:"#E5E7EB",color:t?"#fff":"#9CA3AF",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"15px",cursor:t?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px",transition:"opacity 0.15s"},children:[n.jsx(Ht,{size:17}),i?"Respaldando...":`Respaldar ${(p=d.find(h=>h.id===r))==null?void 0:p.label}`]})]})]})}function pFe({cfg:e}){const[t,r]=A.useState(""),[o,i]=A.useState(null),a=t==="ELIMINAR",s=[{id:"posts",label:"Eliminar Posts"},{id:"stories",label:"Eliminar Stories"},{id:"reels",label:"Eliminar Reels"},{id:"all",label:"Eliminar Todo"}],l=c=>{if(!a){ke.error("Escrib ELIMINAR para confirmar");return}i(c),setTimeout(()=>{var d;i(null),r(""),ke.success(`${(d=s.find(f=>f.id===c))==null?void 0:d.label} completado`)},2e3)};return n.jsx("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Eliminar Contenido"}),n.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"10px",padding:"12px 16px",marginBottom:"20px",display:"flex",gap:"10px",alignItems:"flex-start"},children:[n.jsx(Wr,{size:16,color:"#DC2626",style:{flexShrink:0,marginTop:"1px"}}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"13px",color:"#7F1D1D",fontWeight:600},children:" Esta accin es irreversible"}),n.jsx("p",{style:{margin:"3px 0 0",fontSize:"12px",color:"#991B1B"},children:"Asegurte de haber hecho un respaldo completo antes de continuar."})]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#333",marginBottom:"8px"},children:["Para confirmar, escribe ",n.jsx("strong",{children:'"ELIMINAR"'}),":"]}),n.jsx("input",{value:t,onChange:c=>r(c.target.value),placeholder:"Escribe ELIMINAR para confirmar",style:{width:"100%",border:`1.5px solid ${a?"#DC2626":"#E0E0E0"}`,borderRadius:"10px",padding:"11px 14px",fontSize:"14px",outline:"none",backgroundColor:a?"#FEF2F2":"#FAFAFA",boxSizing:"border-box"},onFocus:c=>c.target.style.borderColor="#DC2626",onBlur:c=>c.target.style.borderColor=a?"#DC2626":"#E0E0E0"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:s.map((c,d)=>n.jsxs("button",{onClick:()=>l(c.id),disabled:!!o,style:{padding:"20px 12px",borderRadius:"12px",border:`2px solid ${d===3?"transparent":"#FECACA"}`,background:d===3?a?"linear-gradient(135deg, #DC2626, #B91C1C)":"#E5E7EB":a?"#FEF2F2":"#FAFAFA",cursor:a?"pointer":"not-allowed",textAlign:"center",transition:"all 0.15s"},children:[n.jsx("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"center"},children:n.jsx(xr,{size:22,color:d===3?a?"#fff":"#9CA3AF":a?"#DC2626":"#D1D5DB"})}),n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:d===3?a?"#fff":"#9CA3AF":a?"#DC2626":"#9CA3AF"},children:o===c.id?" Eliminando...":c.label})]},c.id))})]})})}function fFe({cfg:e,platform:t}){const r=t==="instagram",[o,i]=A.useState(""),[a,s]=A.useState("https://charliemarketplace.com"),[l,c]=A.useState(!1),d=()=>{c(!0),setTimeout(()=>{c(!1),ke.success("Cambios guardados exitosamente!")},1600)};return n.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:[n.jsxs("div",{style:{backgroundColor:"#EFF6FF",border:"1px solid #BFDBFE",borderRadius:"12px",padding:"14px 18px",marginBottom:"20px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[n.jsx(Xp,{size:18,color:"#2563EB",style:{flexShrink:0,marginTop:"1px"}}),n.jsxs("div",{children:[n.jsxs("div",{style:{fontWeight:700,fontSize:"14px",color:"#1D4ED8",marginBottom:"6px"},children:["Limitaciones de la API de ",r?"Instagram":"Facebook"]}),r?n.jsxs("ul",{style:{margin:0,paddingLeft:"16px",color:"#1E40AF",fontSize:"13px",lineHeight:"1.7"},children:[n.jsxs("li",{children:["Solo se puede actualizar la ",n.jsx("strong",{children:"biografa"})," y el ",n.jsx("strong",{children:"sitio web"})]}),n.jsxs("li",{children:["El ",n.jsx("strong",{children:"username"}),", ",n.jsx("strong",{children:"nombre"})," y ",n.jsx("strong",{children:"foto de perfil"})," deben cambiarse manualmente en Instagram"]}),n.jsx("li",{children:"La configuracin de privacidad debe cambiarse en la app"})]}):n.jsxs("ul",{style:{margin:0,paddingLeft:"16px",color:"#1E40AF",fontSize:"13px",lineHeight:"1.7"},children:[n.jsxs("li",{children:["Se puede actualizar la ",n.jsx("strong",{children:"descripcin"})," y el ",n.jsx("strong",{children:"sitio web"})," de la pgina"]}),n.jsxs("li",{children:["El ",n.jsx("strong",{children:"nombre de la pgina"})," puede requerir aprobacin de Meta"]}),n.jsx("li",{children:"La foto de portada y perfil se pueden cambiar va API"})]})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Informacin del Perfil"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[[{label:r?"Username (Solo lectura - cambiar en Instagram)":"Nombre de Pgina (Solo lectura)",placeholder:r?"@charliemarketplace":"Charlie Marketplace",editable:!1},{label:r?"Nombre (Solo lectura - cambiar en Instagram)":"Username (Solo lectura)",placeholder:r?"Charlie Marketplace":"@charliemarketplace",editable:!1}].map(f=>n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#9CA3AF",marginBottom:"6px"},children:f.label}),n.jsx("input",{disabled:!0,placeholder:f.placeholder,style:{width:"100%",border:"1.5px solid #F0F0F0",borderRadius:"10px",padding:"11px 14px",fontSize:"14px",backgroundColor:"#F9F9F9",color:"#9CA3AF",boxSizing:"border-box",cursor:"not-allowed"}})]},f.label)),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:600,color:"#333",marginBottom:"6px"},children:["Biografa ",n.jsx(ct,{size:14,color:"#10B981"})]}),n.jsx("textarea",{value:o,onChange:f=>i(f.target.value.slice(0,150)),rows:4,placeholder:"Tu marketplace favorito ",style:{width:"100%",border:"1.5px solid #E0E0E0",borderRadius:"10px",padding:"11px 14px",fontSize:"14px",boxSizing:"border-box",outline:"none",resize:"vertical",fontFamily:"inherit",backgroundColor:"#FAFAFA"},onFocus:f=>f.target.style.borderColor=e.accent,onBlur:f=>f.target.style.borderColor="#E0E0E0"}),n.jsxs("div",{style:{textAlign:"right",fontSize:"12px",color:"#9CA3AF",marginTop:"4px"},children:[o.length,"/150 caracteres"]})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:600,color:"#333",marginBottom:"6px"},children:["Sitio Web ",n.jsx(ct,{size:14,color:"#10B981"})]}),n.jsx("input",{value:a,onChange:f=>s(f.target.value),placeholder:"https://charliemarketplace.com",style:{width:"100%",border:"1.5px solid #E0E0E0",borderRadius:"10px",padding:"11px 14px",fontSize:"14px",boxSizing:"border-box",outline:"none",backgroundColor:"#FAFAFA"},onFocus:f=>f.target.style.borderColor=e.accent,onBlur:f=>f.target.style.borderColor="#E0E0E0"})]}),n.jsx("button",{onClick:d,style:{padding:"14px",background:e.gradient,color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%"},children:l?" Guardando...":n.jsxs(n.Fragment,{children:[n.jsx(rn,{size:16})," Guardar Cambios"]})})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Foto de Perfil"}),r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"10px",padding:"12px 16px",marginBottom:"20px",display:"flex",gap:"10px",alignItems:"flex-start"},children:[n.jsx(Wr,{size:16,color:"#DC2626",style:{flexShrink:0,marginTop:"1px"}}),n.jsxs("p",{style:{margin:0,fontSize:"13px",color:"#7F1D1D"},children:[n.jsx("strong",{children:"Instagram NO permite"})," cambiar la foto de perfil va API. Debes hacerlo manualmente en la app de Instagram."]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"24px"},children:[n.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",cursor:"not-allowed"},children:n.jsx(_o,{size:28,color:"#D1D5DB"})}),n.jsxs("p",{style:{textAlign:"center",fontSize:"13px",color:"#9CA3AF",lineHeight:"1.6"},children:["Para cambiar tu foto de perfil, abr la app de Instagram  Perfil",n.jsx("br",{})," Editar perfil  Cambiar foto de perfil"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:"En Facebook puedes actualizar la foto de perfil y la foto de portada de tu pgina va API."}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:["Foto de Perfil","Foto de Portada"].map(f=>n.jsxs("div",{style:{border:"2px dashed #E0E0E0",borderRadius:"12px",padding:"24px",textAlign:"center",cursor:"pointer",backgroundColor:"#FAFAFA"},onMouseEnter:p=>p.currentTarget.style.borderColor=e.accent,onMouseLeave:p=>p.currentTarget.style.borderColor="#E0E0E0",onClick:()=>ke.info(`Sub ${f.toLowerCase()} aqu`),children:[n.jsx(_o,{size:24,color:"#9CA3AF",style:{margin:"0 auto 10px"}}),n.jsx("div",{style:{fontWeight:600,fontSize:"13px",color:"#333",marginBottom:"3px"},children:f}),n.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:"JPG / PNG  Max 5MB"})]},f))})]})]})]})}function hFe(){return n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"6",stroke:"white",strokeWidth:"2"}),n.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:"white",strokeWidth:"2"}),n.jsx("circle",{cx:"17.5",cy:"6.5",r:"1.2",fill:"white"})]})}function gFe(){return n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function xFe(){return n.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"3"}),n.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function zl(){return n.jsx(Ht,{size:22})}const Ho="#FF6835",l$={enviada:{label:"Enviada",bg:"#DCFCE7",color:"#15803D"},programada:{label:"Programada",bg:"#EDE9FE",color:"#7C3AED"},borrador:{label:"Borrador",bg:"#F3F4F6",color:"#374151"},pausada:{label:"Pausada",bg:"#FEF3C7",color:"#B45309"}};function mFe({onNavigate:e}){const[t,r]=A.useState("campanas"),[o,i]=A.useState(""),[a,s]=A.useState(!1),[l,c]=A.useState({name:"",subject:"",body:""}),[d,f]=A.useState([]),[p,h]=A.useState([]),[x,m]=A.useState(!0),[y,b]=A.useState(null);A.useEffect(()=>{v()},[]);const v=async()=>{m(!0),b(null);try{const[D,I]=await Promise.all([rje(),_q()]);f(D),h(I)}catch(D){b(D instanceof Error?D.message:"Error cargando datos"),console.error("Error loading mailing data:",D)}finally{m(!1)}},C=async(D="borrador")=>{if(!l.name||!l.subject){alert("Nombre y asunto son requeridos");return}try{const I=await nje({nombre:l.name,asunto:l.subject,contenido_html:l.body,estado:D});I&&(f([...d,I]),s(!1),c({name:"",subject:"",body:""}))}catch(I){alert("Error creando campaa: "+(I instanceof Error?I.message:String(I)))}},S=async D=>{if(confirm("Eliminar esta campaa?"))try{await oje(D)&&f(d.filter(N=>N.id!==D))}catch{alert("Error eliminando campaa")}},F=async D=>{if(confirm("Eliminar este suscriptor?"))try{await aje(D)&&h(p.filter(N=>N.id!==D))}catch{alert("Error eliminando suscriptor")}},w=async()=>{const D=prompt("Email del suscriptor:");if(D)try{const I=await ije({email:D,estado:"activo"});I&&h([...p,I])}catch(I){alert("Error creando suscriptor: "+(I instanceof Error?I.message:String(I)))}},k=[{id:"campanas",label:"Campaas",Icon:ka},{id:"suscriptores",label:"Suscriptores",Icon:Et},{id:"segmentacion",label:"Segmentacin",Icon:HL},{id:"abtesting",label:"A/B Testing",Icon:nR},{id:"analiticas",label:"Analticas",Icon:br}],E=d.filter(D=>D.estado==="enviada").length,T=d.filter(D=>D.estado==="programada").length,_=d.filter(D=>D.estado==="borrador").length,z=p.filter(D=>D.email.toLowerCase().includes(o.toLowerCase())||D.nombre&&D.nombre.toLowerCase().includes(o.toLowerCase())),B=D=>D.total_enviados===0?null:D.total_abiertos/D.total_enviados*100,P=D=>D.total_enviados===0?null:D.total_clicks/D.total_enviados*100;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ka,title:"Sistema de Mailing Avanzado",subtitle:"Gestin completa de campaas, segmentacin y analticas  Powered by Resend",actions:[{label:"Volver",onClick:()=>e("marketing")},{label:"+ Nueva Campaa",primary:!0,onClick:()=>s(!0)}]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsx("div",{style:{display:"flex",padding:"0 28px"},children:k.map(({id:D,label:I,Icon:N})=>n.jsxs("button",{onClick:()=>r(D),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===D?Ho:"#6B7280",fontWeight:t===D?"700":"500",fontSize:"0.875rem",borderBottom:t===D?`2px solid ${Ho}`:"2px solid transparent"},children:[n.jsx(N,{size:15}),I]},D))})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[t==="campanas"&&n.jsx(n.Fragment,{children:x?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[n.jsx(ur,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),n.jsx("p",{children:"Cargando campaas..."})]}):y?n.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B",marginBottom:"24px"},children:n.jsxs("p",{style:{margin:0,fontWeight:"700"},children:[" Error: ",y]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Total Campaas",value:d.length,color:"#111827"},{label:"Enviadas",value:E,color:"#16A34A"},{label:"Programadas",value:T,color:"#7C3AED"},{label:"Borradores",value:_,color:"#374151"}].map((D,I)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px 20px"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.78rem",color:"#6B7280"},children:D.label}),n.jsx("p",{style:{margin:0,fontSize:"1.6rem",fontWeight:"800",color:D.color},children:D.value})]},I))}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Gestin de Campaas"}),n.jsxs("button",{onClick:()=>s(!0),style:{padding:"9px 18px",backgroundColor:Ho,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Nt,{size:15})," Nueva Campaa"]})]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Nombre / Asunto","Estado","Destinatarios","Apertura","Clics","Acciones"].map(D=>n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"0.75rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:D},D))})}),n.jsx("tbody",{children:d.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,style:{padding:"40px",textAlign:"center",color:"#9CA3AF"},children:n.jsx("p",{style:{margin:0},children:"No hay campaas an"})})}):d.map((D,I)=>{const N=l$[D.estado]||l$.borrador,M=B(D),V=P(D);return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:I%2===0?"#FFFFFF":"#FAFAFA"},children:[n.jsxs("td",{style:{padding:"14px 16px"},children:[n.jsx("p",{style:{margin:0,fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:D.nombre}),n.jsx("p",{style:{margin:"2px 0 0",color:"#6B7280",fontSize:"0.75rem"},children:D.asunto||"Sin asunto"})]}),n.jsx("td",{style:{padding:"14px 16px"},children:n.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",backgroundColor:N.bg,color:N.color,fontSize:"0.75rem",fontWeight:"700"},children:N.label})}),n.jsx("td",{style:{padding:"14px 16px",color:"#374151",fontSize:"0.875rem"},children:D.total_destinatarios>0?D.total_destinatarios.toLocaleString():""}),n.jsx("td",{style:{padding:"14px 16px",color:M?"#16A34A":"#9CA3AF",fontSize:"0.875rem",fontWeight:M?"700":"400"},children:M?`${M.toFixed(1)}%`:""}),n.jsx("td",{style:{padding:"14px 16px",color:V?"#2563EB":"#9CA3AF",fontSize:"0.875rem",fontWeight:V?"700":"400"},children:V?`${V.toFixed(1)}%`:""}),n.jsx("td",{style:{padding:"14px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",padding:"4px"},children:n.jsx(yr,{size:15})}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",padding:"4px"},children:n.jsx(fo,{size:15})}),D.estado==="borrador"&&n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:Ho,padding:"4px"},children:n.jsx(Aa,{size:15})}),n.jsx("button",{onClick:()=>S(D.id),style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444",padding:"4px"},children:n.jsx(xr,{size:15})})]})})]},D.id)})})]})]})]})}),t==="suscriptores"&&n.jsx(n.Fragment,{children:x?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[n.jsx(ur,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),n.jsx("p",{children:"Cargando suscriptores..."})]}):y?n.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B",marginBottom:"20px"},children:n.jsxs("p",{style:{margin:0,fontWeight:"700"},children:[" Error: ",y]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:"800",color:"#111827"},children:"Suscriptores"}),n.jsxs("p",{style:{margin:"3px 0 0",color:"#6B7280",fontSize:"0.8rem"},children:[p.filter(D=>D.estado==="activo").length," activos  ",p.filter(D=>D.estado==="inactivo"||D.estado==="cancelado").length," inactivos"]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{style:{padding:"9px 16px",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(_o,{size:14})," Importar CSV"]}),n.jsxs("button",{style:{padding:"9px 16px",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Ht,{size:14})," Exportar"]}),n.jsxs("button",{onClick:w,style:{padding:"9px 16px",backgroundColor:Ho,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Nt,{size:14})," Agregar"]})]})]}),n.jsxs("div",{style:{position:"relative",marginBottom:"16px"},children:[n.jsx(tr,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"},size:15,color:"#9CA3AF"}),n.jsx("input",{type:"text",placeholder:"Buscar por email o nombre...",value:o,onChange:D=>i(D.target.value),style:{width:"100%",padding:"10px 12px 10px 38px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Nombre","Email","Tags","Estado","Registrado",""].map(D=>n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"0.75rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:D},D))})}),n.jsx("tbody",{children:z.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,style:{padding:"40px",textAlign:"center",color:"#9CA3AF"},children:n.jsx("p",{style:{margin:0},children:"No hay suscriptores"})})}):z.map((D,I)=>n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:I%2===0?"#FFFFFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:Ho+"22",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:Ho,fontSize:"0.8rem"},children:(D.nombre||D.email).charAt(0).toUpperCase()}),n.jsx("span",{style:{fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:D.nombre||D.email})]})}),n.jsx("td",{style:{padding:"12px 16px",color:"#374151",fontSize:"0.875rem"},children:D.email}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:D.tags&&D.tags.length>0?D.tags.map(N=>n.jsx("span",{style:{padding:"2px 8px",backgroundColor:"#F3F4F6",borderRadius:"12px",fontSize:"0.72rem",color:"#374151",fontWeight:"600"},children:N},N)):n.jsx("span",{style:{color:"#9CA3AF",fontSize:"0.72rem"},children:""})})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"0.8rem",color:D.estado==="activo"?"#16A34A":"#9CA3AF",fontWeight:"600"},children:[D.estado==="activo"?n.jsx(ct,{size:13}):n.jsx(nn,{size:13}),D.estado==="activo"?"Activo":D.estado==="cancelado"?"Cancelado":"Inactivo"]})}),n.jsx("td",{style:{padding:"12px 16px",color:"#6B7280",fontSize:"0.8rem"},children:new Date(D.created_at).toLocaleDateString("es-ES")}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:n.jsx(fo,{size:14})}),n.jsx("button",{onClick:()=>F(D.id),style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444"},children:n.jsx(xr,{size:14})})]})})]},D.id))})]})})]})}),t==="segmentacion"&&n.jsxs("div",{children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[{name:"Clientes VIP",count:312,color:"#F59E0B",desc:"Usuarios con tag VIP o +3 compras"},{name:"Electrnica",count:489,color:"#3B82F6",desc:"Interesados en categora Electrnica"},{name:"Moda",count:234,color:"#EC4899",desc:"Interesados en categora Moda"},{name:"Hogar",count:178,color:"#10B981",desc:"Interesados en categora Hogar"},{name:"Inactivos",count:97,color:"#9CA3AF",desc:"Sin actividad hace +60 das"},{name:"Nuevos",count:156,color:Ho,desc:"Registrados en los ltimos 30 das"}].map((D,I)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"18px 20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:D.name}),n.jsx("p",{style:{margin:"3px 0 0",color:"#6B7280",fontSize:"0.78rem"},children:D.desc})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("p",{style:{margin:0,fontSize:"1.4rem",fontWeight:"800",color:D.color},children:D.count}),n.jsx("p",{style:{margin:0,color:"#9CA3AF",fontSize:"0.72rem"},children:"contactos"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{style:{flex:1,padding:"7px",border:`1px solid ${D.color}`,borderRadius:"6px",backgroundColor:"transparent",color:D.color,fontSize:"0.78rem",fontWeight:"600",cursor:"pointer"},children:"Enviar campaa"}),n.jsx("button",{style:{padding:"7px 12px",border:"1px solid #E5E7EB",borderRadius:"6px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.78rem",cursor:"pointer"},children:n.jsx(fo,{size:12})})]})]},I))}),n.jsxs("button",{style:{padding:"12px 20px",border:`2px dashed ${Ho}`,borderRadius:"10px",backgroundColor:"#FFF4EC",color:Ho,fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.875rem"},children:[n.jsx(Nt,{size:16})," Crear nuevo segmento"]})]}),t==="abtesting"&&n.jsxs("div",{children:[n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:"Crear prueba A/B"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:["Variante A","Variante B"].map((D,I)=>n.jsxs("div",{style:{border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px"},children:[n.jsx("p",{style:{margin:"0 0 12px",fontWeight:"700",color:I===0?"#3B82F6":"#EC4899",fontSize:"0.85rem"},children:D}),[{label:"Asunto",ph:"Ej:  Oferta especial para vos"},{label:"Nombre del remitente",ph:"Ej: Charlie Marketplace"}].map(({label:N,ph:M})=>n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.78rem",fontWeight:"600",marginBottom:"4px"},children:N}),n.jsx("input",{type:"text",placeholder:M,style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]},N))]},I))}),n.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"16px",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.78rem",fontWeight:"600",marginBottom:"4px"},children:"% de muestra"}),n.jsx("input",{type:"number",defaultValue:20,style:{width:"100px",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.78rem",fontWeight:"600",marginBottom:"4px"},children:"Mtrica ganadora"}),n.jsxs("select",{style:{padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none"},children:[n.jsx("option",{children:"Tasa de apertura"}),n.jsx("option",{children:"Tasa de clics"}),n.jsx("option",{children:"Conversiones"})]})]}),n.jsx("button",{style:{marginTop:"18px",padding:"10px 20px",backgroundColor:Ho,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem"},children:"Iniciar prueba"})]})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"40px",textAlign:"center",color:"#9CA3AF"},children:[n.jsx(nR,{size:36,style:{margin:"0 auto 12px",opacity:.4}}),n.jsx("p",{style:{margin:0},children:"No hay pruebas A/B activas"})]})]}),t==="analiticas"&&n.jsxs("div",{children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Tasa de apertura",value:"38.4%",sub:"+2.1% vs mes ant.",color:"#16A34A"},{label:"Tasa de clics",value:"9.7%",sub:"+0.8% vs mes ant.",color:"#2563EB"},{label:"Desuscriptos",value:"0.3%",sub:"Bajo promedio",color:"#9CA3AF"},{label:"Emails entregados",value:"98.9%",sub:"Excelente",color:Ho}].map((D,I)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"18px 20px"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.78rem",color:"#6B7280"},children:D.label}),n.jsx("p",{style:{margin:"0 0 4px",fontSize:"1.6rem",fontWeight:"800",color:D.color},children:D.value}),n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:D.sub})]},I))}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:"Rendimiento por campaa"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[d.filter(D=>D.total_enviados>0).map(D=>{const I=B(D),N=P(D);return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[n.jsx("span",{style:{fontSize:"0.82rem",color:"#374151",fontWeight:"600"},children:D.nombre}),n.jsxs("span",{style:{fontSize:"0.82rem",color:"#6B7280"},children:[I?`${I.toFixed(1)}%`:""," apertura  ",N?`${N.toFixed(1)}%`:""," clics"]})]}),n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[I&&n.jsx("div",{style:{height:"8px",borderRadius:"4px",backgroundColor:"#16A34A",width:`${Math.min(I/70*100,100)}%`,transition:"width 0.5s"}}),N&&n.jsx("div",{style:{height:"8px",borderRadius:"4px",backgroundColor:"#2563EB",width:`${Math.min(N/70*100,100)}%`,transition:"width 0.5s"}})]})]},D.id)}),d.filter(D=>D.total_enviados>0).length===0&&n.jsx("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"0.8rem"},children:"No hay campaas enviadas an"})]}),n.jsx("div",{style:{display:"flex",gap:"16px",marginTop:"14px"},children:[{color:"#16A34A",label:"Apertura"},{color:"#2563EB",label:"Clics"}].map(D=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:D.color}}),n.jsx("span",{style:{fontSize:"0.75rem",color:"#6B7280"},children:D.label})]},D.label))})]})]})]})}),a&&n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>s(!1),children:n.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"16px",padding:"28px",width:"560px",maxHeight:"80vh",overflowY:"auto"},onClick:D=>D.stopPropagation(),children:[n.jsx("h2",{style:{margin:"0 0 20px",fontWeight:"800",fontSize:"1.1rem",color:"#111827"},children:" Nueva Campaa"}),[{label:"Nombre de la campaa",key:"name",ph:"Ej: Newsletter Agosto 2025"},{label:"Asunto del email",key:"subject",ph:"Ej:  Ofertas imperdibles de la semana"}].map(({label:D,key:I,ph:N})=>n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.8rem",fontWeight:"600",marginBottom:"6px"},children:D}),n.jsx("input",{type:"text",placeholder:N,value:l[I],onChange:M=>c(V=>({...V,[I]:M.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},I)),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.8rem",fontWeight:"600",marginBottom:"6px"},children:"Contenido (HTML o texto)"}),n.jsx("textarea",{rows:5,placeholder:"Escribe el contenido de tu email aqu...",value:l.body,onChange:D=>c(I=>({...I,body:D.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",resize:"vertical",boxSizing:"border-box"}})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{onClick:()=>s(!1),style:{flex:1,padding:"11px",borderRadius:"8px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",color:"#374151",fontWeight:"600",cursor:"pointer",fontSize:"0.875rem"},children:"Cancelar"}),n.jsxs("button",{onClick:()=>C("borrador"),style:{flex:1,padding:"11px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(fn,{size:15})," Guardar borrador"]}),n.jsxs("button",{onClick:()=>C("programada"),style:{flex:1,padding:"11px",backgroundColor:Ho,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(Aa,{size:15})," Programar"]})]})]})})]})}const Fi="#4285F4",vk=[{date:"1 Feb",impresiones:1280,clics:24,costo:3.2},{date:"2 Feb",impresiones:1420,clics:31,costo:4.1},{date:"3 Feb",impresiones:1780,clics:28,costo:3.75},{date:"4 Feb",impresiones:1230,clics:19,costo:2.5},{date:"5 Feb",impresiones:2340,clics:42,costo:5.6},{date:"6 Feb",impresiones:1980,clics:38,costo:5.1},{date:"7 Feb",impresiones:2560,clics:55,costo:7.3}],mu=[{id:"1",name:"Electrnica - Search",status:"active",type:"Bsqueda",budget:50,spent:32.4,impressions:8420,clicks:312,ctr:3.7,conversions:18},{id:"2",name:"Moda - Display",status:"active",type:"Display",budget:30,spent:21.8,impressions:34200,clicks:189,ctr:.55,conversions:7},{id:"3",name:"Brand Awareness",status:"paused",type:"Bsqueda",budget:20,spent:0,impressions:0,clicks:0,ctr:0,conversions:0},{id:"4",name:"Remarketing General",status:"draft",type:"Remarketing",budget:40,spent:0,impressions:0,clicks:0,ctr:0,conversions:0}],yFe={active:{label:"Activa",bg:"#DCFCE7",color:"#15803D"},paused:{label:"Pausada",bg:"#FEF3C7",color:"#B45309"},draft:{label:"Borrador",bg:"#F3F4F6",color:"#374151"}};function bFe({onNavigate:e}){const[t,r]=A.useState("campanas"),o=mu.reduce((d,f)=>d+f.spent,0),i=mu.reduce((d,f)=>d+f.impressions,0),a=mu.reduce((d,f)=>d+f.clicks,0),s=i>0?(a/i*100).toFixed(2):"0.00",l=mu.reduce((d,f)=>d+f.conversions,0),c=o>0?(l*35/o).toFixed(1):"0.0";return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Xt,title:"Google Ads Manager",subtitle:"Gestiona tus campaas publicitarias",actions:[{label:"Volver",onClick:()=>e("marketing")},{label:"+ Nueva Campaa",primary:!0}]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsx("div",{style:{display:"flex",padding:"0 28px"},children:[{id:"campanas",label:"Campaas"},{id:"analiticas",label:"Analticas"},{id:"audiencias",label:"Audiencias"}].map(d=>n.jsx("button",{onClick:()=>r(d.id),style:{padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===d.id?Fi:"#6B7280",fontWeight:t===d.id?"700":"500",fontSize:"0.875rem",borderBottom:t===d.id?`2px solid ${Fi}`:"2px solid transparent"},children:d.label},d.id))})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Gastado",value:`$${o.toFixed(2)}`,sub:"vs $0.00 mes anterior",Icon:yn,color:"#111827"},{label:"Impresiones",value:i.toLocaleString(),sub:"+FCR vs mes anterior",Icon:yr,color:"#10B981"},{label:"Clics",value:a.toLocaleString(),sub:`CTR: ${s}%`,Icon:YL,color:"#EF4444"},{label:"ROAS",value:`${c}x`,sub:"Excelente rendimiento",Icon:br,color:"#7C3AED"}].map((d,f)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"18px 20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"#6B7280"},children:d.label}),n.jsx(d.Icon,{size:16,color:d.color})]}),n.jsx("p",{style:{margin:"0 0 4px",fontSize:"1.5rem",fontWeight:"800",color:d.color},children:d.value}),n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:d.sub})]},f))}),t==="campanas"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:"Rendimiento ltimos 7 Das"}),n.jsx(os,{width:"100%",height:220,children:n.jsxs(O1,{data:vk,margin:{top:5,right:20,left:0,bottom:5},children:[n.jsx(uc,{strokeDasharray:"3 3",stroke:"#F3F4F6"}),n.jsx(Ra,{dataKey:"date",tick:{fontSize:11,fill:"#9CA3AF"}}),n.jsx(Ta,{tick:{fontSize:11,fill:"#9CA3AF"}}),n.jsx(Bn,{contentStyle:{borderRadius:"8px",border:"1px solid #E5E7EB",fontSize:"0.8rem"}}),n.jsx(sc,{wrapperStyle:{fontSize:"0.78rem"}}),n.jsx(oi,{type:"monotone",dataKey:"impresiones",stroke:Fi,strokeWidth:2,dot:!1,name:"Impresiones"}),n.jsx(oi,{type:"monotone",dataKey:"clics",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Clics"}),n.jsx(oi,{type:"monotone",dataKey:"costo",stroke:"#F59E0B",strokeWidth:2,dot:!1,name:"Costo ($)"})]})})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden",marginBottom:"24px"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Campaas Activas"}),n.jsxs("button",{style:{padding:"9px 18px",backgroundColor:Fi,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Nt,{size:15})," Crear Campaa"]})]}),mu.filter(d=>d.status!=="draft").length>0?n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Nombre","Estado","Tipo","Presupuesto","Gastado","Impresiones","Clics","CTR","Conversiones"].map(d=>n.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"},children:d},d))})}),n.jsx("tbody",{children:mu.map((d,f)=>{const p=yFe[d.status];return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:f%2===0?"#FFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"12px 14px",fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:d.name}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",backgroundColor:p.bg,color:p.color,fontSize:"0.72rem",fontWeight:"700"},children:p.label})}),n.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:d.type}),n.jsxs("td",{style:{padding:"12px 14px",color:"#374151",fontSize:"0.8rem"},children:["$",d.budget,"/da"]}),n.jsxs("td",{style:{padding:"12px 14px",color:"#374151",fontSize:"0.8rem"},children:["$",d.spent.toFixed(2)]}),n.jsx("td",{style:{padding:"12px 14px",color:"#374151",fontSize:"0.8rem"},children:d.impressions.toLocaleString()}),n.jsx("td",{style:{padding:"12px 14px",color:"#374151",fontSize:"0.8rem"},children:d.clicks}),n.jsxs("td",{style:{padding:"12px 14px",color:"#374151",fontSize:"0.8rem"},children:[d.ctr,"%"]}),n.jsx("td",{style:{padding:"12px 14px",color:"#374151",fontSize:"0.8rem"},children:d.conversions})]},d.id)})})]}):n.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"#9CA3AF"},children:[n.jsx(Xt,{size:36,style:{margin:"0 auto 12px",opacity:.3}}),n.jsx("p",{style:{margin:"0 0 14px",fontWeight:"600"},children:"No hay campaas"}),n.jsx("button",{style:{padding:"10px 22px",backgroundColor:Fi,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem"},children:"Crear Campaa"})]})]})]}),t==="analiticas"&&n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:"Rendimiento 30 das"}),n.jsx(os,{width:"100%",height:280,children:n.jsxs(O1,{data:[...vk,...vk.map(d=>({...d,date:d.date.replace("Feb","Feb+"),impresiones:d.impresiones*1.2,clics:d.clics*1.15}))],margin:{top:5,right:20,left:0,bottom:5},children:[n.jsx(uc,{strokeDasharray:"3 3",stroke:"#F3F4F6"}),n.jsx(Ra,{dataKey:"date",tick:{fontSize:10,fill:"#9CA3AF"}}),n.jsx(Ta,{tick:{fontSize:10,fill:"#9CA3AF"}}),n.jsx(Bn,{contentStyle:{borderRadius:"8px",border:"1px solid #E5E7EB",fontSize:"0.8rem"}}),n.jsx(oi,{type:"monotone",dataKey:"impresiones",stroke:Fi,strokeWidth:2,dot:!1,name:"Impresiones"}),n.jsx(oi,{type:"monotone",dataKey:"clics",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Clics"})]})})]}),t==="audiencias"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:["Visitantes del sitio (30 das)","Compradores anteriores","Interesados en electrnica","Lookalike - VIP"].map((d,f)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"18px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:d}),n.jsx("p",{style:{margin:"4px 0 0",color:"#6B7280",fontSize:"0.78rem"},children:"Lista de remarketing"})]}),n.jsx("button",{style:{padding:"7px 14px",border:`1px solid ${Fi}`,borderRadius:"7px",backgroundColor:"transparent",color:Fi,fontSize:"0.78rem",fontWeight:"600",cursor:"pointer"},children:"Usar en campaa"})]},f))}),n.jsxs("div",{style:{backgroundColor:Fi+"10",border:`1px solid ${Fi}33`,borderRadius:"12px",padding:"18px 22px",display:"flex",alignItems:"center",gap:"16px",marginTop:"24px"},children:[n.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"10px",backgroundColor:Fi,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(Xt,{size:18,color:"#FFF"})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Conecta tu cuenta de Google Ads"}),n.jsx("p",{style:{margin:"2px 0 0",color:"#6B7280",fontSize:"0.78rem"},children:"Para ver y gestionar tus campaas reales, conecta tu cuenta de Google Ads usando la API oficial."})]}),n.jsxs("button",{style:{padding:"10px 18px",backgroundColor:Fi,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:["Ir a Google Ads ",n.jsx(gn,{size:13})]})]})]})})]})}const ql="#FF6835",Bl=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F"];function vFe({prizes:e,spinning:t,onSpinEnd:r}){const[o,i]=A.useState(0),a=A.useRef(),s=A.useRef(0),l=A.useRef(0);A.useEffect(()=>{if(t){const m=Math.floor(Math.random()*e.length),y=5+Math.random()*3,b=360/e.length,v=m*b+b/2,C=o+360*y+(360-v);s.current=performance.now(),l.current=o;const S=3e3,F=w=>{const k=w-s.current,E=Math.min(k/S,1),T=1-Math.pow(1-E,3),_=l.current+(C-l.current)*T;i(_),E<1?a.current=requestAnimationFrame(F):(i(C),r(e[m]))};return a.current=requestAnimationFrame(F),()=>{a.current&&cancelAnimationFrame(a.current)}}},[t]);const c=150,d=150,f=140,p=e.length,h=m=>{const y=360/p,b=(m*y-90)*(Math.PI/180),v=((m+1)*y-90)*(Math.PI/180),C=c+f*Math.cos(b),S=d+f*Math.sin(b),F=c+f*Math.cos(v),w=d+f*Math.sin(v),k=y>180?1:0;return`M ${c},${d} L ${C},${S} A ${f},${f} 0 ${k},1 ${F},${w} Z`},x=m=>{const y=360/p*m+360/p/2-90,b=y*(Math.PI/180),v=c+f*.6*Math.cos(b),C=d+f*.6*Math.sin(b);return{x:v,y:C,angle:y}};return p===0?n.jsx("div",{style:{position:"relative",width:"300px",height:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9CA3AF"},children:n.jsx("p",{children:"No hay premios configurados"})}):n.jsxs("div",{style:{position:"relative",width:"300px",height:"300px"},children:[n.jsx("div",{style:{position:"absolute",top:"-8px",left:"50%",transform:"translateX(-50%)",zIndex:10},children:n.jsx("div",{style:{width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"20px solid #333",margin:"0 auto"}})}),n.jsxs("svg",{width:"300",height:"300",style:{transform:`rotate(${o}deg)`,transformOrigin:"50% 50%",transition:"none"},children:[e.map((m,y)=>{const{x:b,y:v,angle:C}=x(y);return n.jsxs("g",{children:[n.jsx("path",{d:h(y),fill:m.color,stroke:"#FFFFFF",strokeWidth:"2"}),n.jsx("text",{x:b,y:v,textAnchor:"middle",dominantBaseline:"middle",transform:`rotate(${C}, ${b}, ${v})`,fill:"#FFFFFF",fontSize:"11",fontWeight:"700",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)",pointerEvents:"none"},children:m.label})]},m.id)}),n.jsx("circle",{cx:c,cy:d,r:"20",fill:"#FFFFFF",stroke:"#E5E7EB",strokeWidth:"2"}),n.jsx("circle",{cx:c,cy:d,r:"8",fill:ql})]})]})}function jFe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(null),[a,s]=A.useState([]),[l,c]=A.useState(!1),[d,f]=A.useState(null),[p,h]=A.useState(!0),[x,m]=A.useState(null),[y,b]=A.useState({name:"Nueva Rueda",spinDuration:3e3,showConfetti:!0,requireEmail:!0,requireLogin:!1,notifyEmail:!0,notifyWhatsapp:!1,shareOnSocial:!0,activeOnSite:!1,maxSpinsUser:"",maxSpinsDay:""});A.useEffect(()=>{v()},[]);const v=async()=>{h(!0),m(null);try{const T=await Tq();r(T),T.length>0&&!o&&i(T[0])}catch(T){m(T instanceof Error?T.message:"Error cargando sorteos"),console.error("Error loading sorteos:",T)}finally{h(!1)}},C=async()=>{const T=prompt("Nombre del sorteo:");if(!T)return;const _=prompt("Premio:")||null;try{const z=await cje({nombre:T,premio:_,estado:"borrador"});z&&(r([...t,z]),i(z))}catch(z){alert("Error creando sorteo: "+(z instanceof Error?z.message:String(z)))}},S=async()=>{if(!(!o||l)){if(o.estado!=="activo"){alert("El sorteo debe estar activo para girar");return}f(null),c(!0)}},F=async T=>{if(c(!1),f(T),o)try{const _=await dje(o.id);_&&(await v(),alert(`Ganador: ${_.ganador.email}!`))}catch(_){alert("Error girando sorteo: "+(_ instanceof Error?_.message:String(_)))}},w=(T,_,z)=>{s(B=>B.map(P=>P.id===T?{...P,[_]:z}:P))},k=()=>{const T={id:Date.now().toString(),label:"Nuevo Premio",type:"discount_pct",value:10,probability:10,color:Bl[a.length%Bl.length],email:!0,whatsapp:!1,checkStock:!1,discountStock:!1};s(_=>[..._,T])},E=a.reduce((T,_)=>T+_.probability,0);return A.useEffect(()=>{!o&&a.length===0&&s([{id:"1",label:"10% OFF",type:"discount_pct",value:10,probability:30,color:Bl[0],email:!0,whatsapp:!0,checkStock:!0,discountStock:!1},{id:"2",label:"20% OFF",type:"discount_pct",value:20,probability:20,color:Bl[1],email:!0,whatsapp:!0,checkStock:!0,discountStock:!1},{id:"3",label:"Envo Gratis",type:"free_shipping",value:0,probability:25,color:Bl[2],email:!0,whatsapp:!1,checkStock:!1,discountStock:!1},{id:"4",label:"5% OFF",type:"discount_pct",value:5,probability:15,color:Bl[3],email:!1,whatsapp:!1,checkStock:!1,discountStock:!1},{id:"5",label:"Premio Sorpresa",type:"gift",value:0,probability:5,color:Bl[4],email:!0,whatsapp:!0,checkStock:!1,discountStock:!1},{id:"6",label:"30% OFF",type:"discount_pct",value:30,probability:5,color:Bl[5],email:!0,whatsapp:!0,checkStock:!0,discountStock:!0}])},[o]),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:_t,title:"Rueda de Sorteos Integrada",subtitle:"Sorteos interactivos para campaas y eventos",actions:[{label:"Volver",onClick:()=>e("marketing")},{label:"+ Nueva Rueda",primary:!0,onClick:C},{label:" Estadsticas"}]}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:p?n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:n.jsxs("div",{style:{textAlign:"center",color:"#6B7280"},children:[n.jsx(ur,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),n.jsx("p",{children:"Cargando sorteos..."})]})}):x?n.jsx("div",{style:{padding:"24px 28px"},children:n.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B"},children:n.jsxs("p",{style:{margin:0,fontWeight:"700"},children:[" Error: ",x]})})}):n.jsxs("div",{style:{display:"flex",height:"100%"},children:[n.jsxs("div",{style:{flex:1,padding:"24px 28px",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{margin:0,fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:(o==null?void 0:o.nombre)||y.name}),n.jsxs("p",{style:{margin:"3px 0 0",color:(o==null?void 0:o.estado)==="activo"?"#16A34A":"#9CA3AF",fontSize:"0.78rem",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("span",{style:{width:"7px",height:"7px",borderRadius:"50%",backgroundColor:(o==null?void 0:o.estado)==="activo"?"#16A34A":"#9CA3AF",display:"inline-block"}}),(o==null?void 0:o.estado)==="activo"?"Activo":(o==null?void 0:o.estado)==="finalizado"?"Finalizado":"Borrador"]})]}),n.jsxs("button",{onClick:()=>{},style:{padding:"8px 16px",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.82rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(To,{size:14})," Guardar"]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",width:"100%"},children:[n.jsx(vFe,{prizes:a,spinning:l,onSpinEnd:F}),n.jsx("button",{onClick:S,disabled:l||!o||o.estado!=="activo",style:{padding:"12px 32px",backgroundColor:ql,color:"#FFF",border:"none",borderRadius:"10px",fontWeight:"800",fontSize:"1rem",cursor:l||!o||o.estado!=="activo"?"not-allowed":"pointer",opacity:l||!o||o.estado!=="activo"?.7:1,transition:"all 0.2s"},children:l?"Girando":" Girar!"}),d&&n.jsxs("div",{style:{padding:"14px 22px",backgroundColor:d.color+"20",border:`2px solid ${d.color}`,borderRadius:"12px",textAlign:"center",animation:"fadeIn 0.4s ease"},children:[n.jsx("p",{style:{margin:"0 0 4px",fontWeight:"800",color:"#111827",fontSize:"1rem"},children:" Ganaste!"}),n.jsx("p",{style:{margin:0,color:d.color,fontWeight:"700",fontSize:"1.2rem"},children:d.label})]}),o&&n.jsxs("div",{style:{width:"100%",backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px",marginTop:"20px"},children:[n.jsx("h4",{style:{margin:"0 0 12px",fontSize:"0.9rem",fontWeight:"700",color:"#111827"},children:"Informacin del Sorteo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"0.82rem"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px",color:"#6B7280"},children:"Participantes"}),n.jsx("p",{style:{margin:0,fontWeight:"700",color:"#111827"},children:o.total_participantes})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px",color:"#6B7280"},children:"Premio"}),n.jsx("p",{style:{margin:0,fontWeight:"700",color:"#111827"},children:o.premio||""})]})]})]})]})]}),n.jsxs("div",{style:{width:"360px",borderLeft:"1px solid #E5E7EB",backgroundColor:"#FFFFFF",overflowY:"auto",padding:"20px",flexShrink:0},children:[n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{margin:"0 0 10px",fontSize:"0.85rem",fontWeight:"700",color:"#111827"},children:"Sorteos Guardados"}),t.length===0?n.jsx("div",{style:{padding:"20px",backgroundColor:"#F9FAFB",borderRadius:"8px",textAlign:"center",color:"#9CA3AF",fontSize:"0.78rem"},children:"No hay sorteos guardados"}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.map(T=>n.jsxs("div",{onClick:()=>i(T),style:{padding:"12px",backgroundColor:(o==null?void 0:o.id)===T.id?"#FFF4EC":"#F9FAFB",border:`1px solid ${(o==null?void 0:o.id)===T.id?ql:"#E5E7EB"}`,borderRadius:"8px",cursor:"pointer"},children:[n.jsx("p",{style:{margin:"0 0 4px",fontWeight:"700",color:"#111827",fontSize:"0.82rem"},children:T.nombre}),n.jsxs("p",{style:{margin:0,fontSize:"0.72rem",color:"#6B7280"},children:[T.estado,"  ",T.total_participantes," participantes"]})]},T.id))})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{margin:0,fontSize:"0.85rem",fontWeight:"700",color:"#111827"},children:"Editar Premios"}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:E===100?"#16A34A":"#EF4444"},children:["Total probabilidad: ",E,"%"]})]}),n.jsx("button",{onClick:k,style:{width:"26px",height:"26px",borderRadius:"50%",backgroundColor:ql,color:"#FFF",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Nt,{size:14})})]}),n.jsx("div",{style:{maxHeight:"320px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"10px"},children:a.map(T=>n.jsxs("div",{style:{border:"1px solid #E5E7EB",borderRadius:"8px",padding:"10px",borderLeft:`4px solid ${T.color}`},children:[n.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"8px"},children:[n.jsx("input",{value:T.label,onChange:_=>w(T.id,"label",_.target.value),style:{flex:1,padding:"6px 8px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"0.8rem",outline:"none"}}),n.jsx("input",{type:"color",value:T.color,onChange:_=>w(T.id,"color",_.target.value),style:{width:"32px",height:"32px",border:"none",borderRadius:"4px",cursor:"pointer",padding:0}}),n.jsx("button",{onClick:()=>s(_=>_.filter(z=>z.id!==T.id)),style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444",padding:"4px"},children:n.jsx(xr,{size:13})})]}),n.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"8px"},children:[n.jsxs("select",{value:T.type,onChange:_=>w(T.id,"type",_.target.value),style:{flex:1,padding:"5px 8px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"0.75rem",outline:"none"},children:[n.jsx("option",{value:"discount_pct",children:"Descuento %"}),n.jsx("option",{value:"discount_fixed",children:"Descuento $"}),n.jsx("option",{value:"free_shipping",children:"Envo Gratis"}),n.jsx("option",{value:"gift",children:"Regalo"}),n.jsx("option",{value:"no_prize",children:"Sin premio"})]}),(T.type==="discount_pct"||T.type==="discount_fixed")&&n.jsx("input",{type:"number",value:T.value,onChange:_=>w(T.id,"value",+_.target.value),style:{width:"54px",padding:"5px 8px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"0.75rem",outline:"none"}})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:["Prob: ",T.probability,"%"]}),n.jsx("input",{type:"range",min:1,max:100,value:T.probability,onChange:_=>w(T.id,"probability",+_.target.value),style:{flex:1,margin:"0 8px",accentColor:ql}})]}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"6px"},children:[{key:"email",label:" Email"},{key:"whatsapp",label:" WhatsApp"},{key:"checkStock",label:" Verificar stock"},{key:"discountStock",label:" Descontar stock"}].map(({key:_,label:z})=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.7rem",color:"#374151",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:T[_],onChange:B=>w(T.id,_,B.target.checked),style:{accentColor:ql}}),z]},_))})]},T.id))})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"12px"},children:[n.jsx(si,{size:14,color:"#6B7280"}),n.jsx("h4",{style:{margin:0,fontSize:"0.85rem",fontWeight:"700",color:"#111827"},children:"Configuracin"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#374151",fontWeight:"600",marginBottom:"4px"},children:"Nombre de la Rueda"}),n.jsx("input",{value:y.name,onChange:T=>b(_=>({..._,name:T.target.value})),style:{width:"100%",padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"0.8rem",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.75rem",color:"#374151",fontWeight:"600",marginBottom:"4px"},children:["Duracin del giro (ms): ",y.spinDuration]}),n.jsx("input",{type:"range",min:1e3,max:6e3,step:500,value:y.spinDuration,onChange:T=>b(_=>({..._,spinDuration:+T.target.value})),style:{width:"100%",accentColor:ql}})]}),[{key:"showConfetti",label:" Mostrar confetti"},{key:"requireEmail",label:" Requerir email"},{key:"requireLogin",label:" Requerir login"},{key:"notifyEmail",label:" Notificaciones por email"},{key:"notifyWhatsapp",label:" Notificaciones por WhatsApp"},{key:"shareOnSocial",label:" Compartir en redes sociales"},{key:"activeOnSite",label:" Activar en el sitio web"}].map(({key:T,label:_})=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.78rem",color:"#374151",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:y[T],onChange:z=>b(B=>({...B,[T]:z.target.checked})),style:{accentColor:ql}}),_]},T)),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[{key:"maxSpinsUser",label:"Mx giros/usuario"},{key:"maxSpinsDay",label:"Mx giros/da"}].map(({key:T,label:_})=>n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.72rem",color:"#374151",fontWeight:"600",marginBottom:"3px"},children:_}),n.jsx("input",{type:"text",placeholder:"Sin lmite",value:y[T],onChange:z=>b(B=>({...B,[T]:z.target.value})),style:{width:"100%",padding:"7px 8px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"0.75rem",outline:"none",boxSizing:"border-box"}})]},T))})]})]})]})]})})]})}const Ts="#FF6835";function SFe({onNavigate:e}){const[t,r]=A.useState({pointsPerDollar:10,dollarPerPoints:100}),[o,i]=A.useState(!1),[a,s]=A.useState("overview"),[l,c]=A.useState([]),[d,f]=A.useState([]),[p,h]=A.useState(null),[x,m]=A.useState(!0),[y,b]=A.useState(null);A.useEffect(()=>{v()},[]);const v=async()=>{m(!0),b(null);try{const[z,B]=await Promise.all([Rq(),lje()]);c(z),f(B)}catch(z){b(z instanceof Error?z.message:"Error cargando datos"),console.error("Error loading fidelizacion data:",z)}finally{m(!1)}},C=async z=>{try{const B=await sD(z);h(B)}catch{alert("Error cargando detalle del miembro")}},S=async z=>{const B=prompt("Puntos a agregar (negativo para restar):");if(!B)return;const P=prompt("Descripcin:")||"Ajuste manual";try{if(await sje(z,parseInt(B,10),P)&&(await v(),p&&p.id===z)){const I=await sD(z);h(I)}}catch{alert("Error actualizando puntos")}},F=d.map(z=>({nivel:z.nombre,count:l.filter(B=>B.nivel_id===z.id).length})),w=l.length,k=l.reduce((z,B)=>z+(B.puntos_historicos-B.puntos_actuales),0),E=l.reduce((z,B)=>z+B.puntos_actuales,0),T={Platino:"#7C3AED",Oro:"#F59E0B",Plata:"#9CA3AF",Bronce:"#D97706"},_=d.length>0?d.map(z=>({name:z.nombre,from:z.puntos_minimos,gradient:`linear-gradient(135deg, ${z.color}, ${z.color}88)`,features:z.beneficios})):[];return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:hn,title:"Programa de Fidelizacin",subtitle:"Recompensa a tus clientes ms leales",actions:[{label:"Volver",onClick:()=>e("marketing")},{label:"Configurar",primary:!0}]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsx("div",{style:{display:"flex",padding:"0 28px"},children:[{id:"overview",label:"Resumen"},{id:"members",label:"Miembros"},{id:"rewards",label:"Recompensas"}].map(z=>n.jsx("button",{onClick:()=>s(z.id),style:{padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:a===z.id?Ts:"#6B7280",fontWeight:a===z.id?"700":"500",fontSize:"0.875rem",borderBottom:a===z.id?`2px solid ${Ts}`:"2px solid transparent"},children:z.label},z.id))})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[a==="overview"&&n.jsx(n.Fragment,{children:x?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[n.jsx(ur,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),n.jsx("p",{children:"Cargando datos..."})]}):y?n.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B",marginBottom:"24px"},children:n.jsxs("p",{style:{margin:0,fontWeight:"700"},children:[" Error: ",y]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{style:{background:"linear-gradient(135deg, #EC4899, #8B5CF6)",borderRadius:"12px",padding:"20px",color:"#FFF"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[n.jsx(Et,{size:18,color:"rgba(255,255,255,0.85)"}),n.jsx("span",{style:{fontSize:"0.78rem",opacity:.85},children:"Miembros activos"})]}),n.jsx("p",{style:{margin:0,fontSize:"2rem",fontWeight:"900"},children:w.toLocaleString()})]}),[{label:"Puntos canjeados",value:k.toLocaleString(),Icon:fp,color:"#F59E0B"},{label:"Puntos activos",value:E.toLocaleString(),Icon:yn,color:"#10B981"},{label:"Niveles configurados",value:d.length.toString(),Icon:Xt,color:"#7C3AED"}].map((z,B)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[n.jsx(z.Icon,{size:18,color:z.color}),n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:z.label})]}),n.jsx("p",{style:{margin:0,fontSize:"1.7rem",fontWeight:"900",color:"#111827"},children:z.value})]},B))]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:"Configuracin de Puntos"}),n.jsx("button",{onClick:()=>i(!o),style:{background:"none",border:"none",cursor:"pointer",color:o?Ts:"#6B7280",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.78rem",fontWeight:"600"},children:o?n.jsxs(n.Fragment,{children:[n.jsx(To,{size:13})," Guardar"]}):n.jsxs(n.Fragment,{children:[n.jsx(fo,{size:13})," Editar"]})})]}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[n.jsx("label",{style:{fontSize:"0.82rem",color:"#374151",fontWeight:"600"},children:"Puntos por dlar gastado:"}),n.jsx("span",{style:{fontSize:"0.82rem",fontWeight:"700",color:"#111827"},children:t.pointsPerDollar})]}),n.jsx("input",{type:"range",min:1,max:50,value:t.pointsPerDollar,disabled:!o,onChange:z=>r(B=>({...B,pointsPerDollar:+z.target.value})),style:{width:"100%",accentColor:Ts}})]}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[n.jsx("label",{style:{fontSize:"0.82rem",color:"#374151",fontWeight:"600"},children:"Puntos por $1 de descuento:"}),n.jsx("span",{style:{fontSize:"0.82rem",fontWeight:"700",color:"#111827"},children:t.dollarPerPoints})]}),n.jsx("input",{type:"range",min:10,max:500,step:10,value:t.dollarPerPoints,disabled:!o,onChange:z=>r(B=>({...B,dollarPerPoints:+z.target.value})),style:{width:"100%",accentColor:Ts}})]}),n.jsx("div",{style:{padding:"12px 16px",backgroundColor:"#F0F9FF",borderRadius:"8px",border:"1px solid #BAE6FD"},children:n.jsxs("p",{style:{margin:0,fontSize:"0.78rem",color:"#0369A1"},children:[" ",n.jsx("strong",{children:"Ejemplo:"})," Un cliente que compra por $100 recibe ",t.pointsPerDollar*100," puntos. Al juntar ",t.dollarPerPoints," puntos podr canjearlos por $1 de descuento."]})})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:"Distribucin por Niveles"}),F.length>0?n.jsx(os,{width:"100%",height:180,children:n.jsxs(R_,{data:F,margin:{top:5,right:10,left:-20,bottom:5},children:[n.jsx(uc,{strokeDasharray:"3 3",stroke:"#F3F4F6"}),n.jsx(Ra,{dataKey:"nivel",tick:{fontSize:11,fill:"#9CA3AF"}}),n.jsx(Ta,{tick:{fontSize:11,fill:"#9CA3AF"}}),n.jsx(Bn,{contentStyle:{borderRadius:"8px",border:"1px solid #E5E7EB",fontSize:"0.78rem"}}),n.jsx(ps,{dataKey:"count",radius:[4,4,0,0],fill:"#8B5CF6",label:{position:"top",fontSize:10,fill:"#6B7280"}})]})}):n.jsx("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"0.8rem"},children:"No hay datos"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 16px",fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:"Niveles de Membresa"}),_.length>0?n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:_.map(z=>n.jsxs("div",{style:{background:z.gradient,borderRadius:"14px",padding:"20px",color:"#FFF",position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:"12px",right:"12px"},children:n.jsx(hn,{size:16,fill:"rgba(255,255,255,0.4)",stroke:"rgba(255,255,255,0.6)"})}),n.jsx("h4",{style:{margin:"0 0 4px",fontWeight:"900",fontSize:"1.05rem"},children:z.name}),n.jsxs("p",{style:{margin:"0 0 14px",fontSize:"0.75rem",opacity:.85},children:["Desde ",z.from===0?"0 puntos":`${z.from.toLocaleString()} puntos`]}),n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:z.features.map((B,P)=>n.jsxs("li",{style:{fontSize:"0.78rem",opacity:.9,marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{style:{opacity:.7},children:""})," ",B]},P))})]},z.name))}):n.jsx("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"0.8rem"},children:"No hay niveles configurados"})]})]})}),a==="members"&&n.jsx(n.Fragment,{children:x?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[n.jsx(ur,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),n.jsx("p",{children:"Cargando miembros..."})]}):y?n.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B",marginBottom:"20px"},children:n.jsxs("p",{style:{margin:0,fontWeight:"700"},children:[" Error: ",y]})}):n.jsx(n.Fragment,{children:p?n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"24px",marginBottom:"20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"800",color:"#111827"},children:p.nombre||p.email}),n.jsx("button",{onClick:()=>h(null),style:{padding:"8px 16px",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.82rem",cursor:"pointer"},children:" Volver"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.78rem",color:"#6B7280"},children:"Email"}),n.jsx("p",{style:{margin:0,fontWeight:"600",color:"#111827"},children:p.email})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.78rem",color:"#6B7280"},children:"Puntos actuales"}),n.jsx("p",{style:{margin:0,fontWeight:"800",color:Ts,fontSize:"1.2rem"},children:p.puntos_actuales.toLocaleString()})]})]}),n.jsxs("button",{onClick:()=>S(p.id),style:{padding:"10px 20px",backgroundColor:Ts,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem",marginBottom:"20px"},children:[n.jsx(Nt,{size:14,style:{display:"inline",marginRight:"6px"}})," Ajustar Puntos"]}),n.jsx("h4",{style:{margin:"0 0 12px",fontSize:"0.9rem",fontWeight:"700",color:"#111827"},children:"Historial de Movimientos"}),n.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:p.movimientos&&p.movimientos.length>0?p.movimientos.map(z=>n.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #F3F4F6",display:"flex",justifyContent:"space-between"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:z.descripcion||"Movimiento"}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:"#6B7280"},children:new Date(z.created_at).toLocaleString("es-ES")})]}),n.jsxs("span",{style:{fontWeight:"700",color:z.tipo==="suma"?"#16A34A":"#EF4444",fontSize:"0.875rem"},children:[z.tipo==="suma"?"+":"-",z.puntos]})]},z.id)):n.jsx("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"0.8rem",padding:"20px"},children:"No hay movimientos"})})]}):n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Miembros del Programa"}),n.jsxs("span",{style:{fontSize:"0.8rem",color:"#6B7280"},children:[l.length," miembros"]})]}),l.length===0?n.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#9CA3AF"},children:n.jsx("p",{style:{margin:0},children:"No hay miembros an"})}):n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Miembro","Email","Nivel","Puntos","Acciones"].map(z=>n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:z},z))})}),n.jsx("tbody",{children:l.map((z,B)=>{var I;const P=((I=z.nivel)==null?void 0:I.nombre)||"Sin nivel",D=T[P]||"#6B7280";return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:B%2===0?"#FFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:`linear-gradient(135deg, ${D}, ${D}88)`,display:"flex",alignItems:"center",justifyContent:"center",color:"#FFF",fontWeight:"700",fontSize:"0.8rem"},children:(z.nombre||z.email).charAt(0).toUpperCase()}),n.jsx("span",{style:{fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:z.nombre||z.email})]})}),n.jsx("td",{style:{padding:"12px 16px",color:"#6B7280",fontSize:"0.8rem"},children:z.email}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("span",{style:{padding:"3px 10px",borderRadius:"20px",backgroundColor:D+"20",color:D,fontSize:"0.75rem",fontWeight:"700"},children:[" ",P]})}),n.jsxs("td",{style:{padding:"12px 16px",fontWeight:"700",color:Ts,fontSize:"0.875rem"},children:[z.puntos_actuales.toLocaleString()," pts"]}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsx("button",{onClick:()=>C(z.id),style:{padding:"6px 12px",backgroundColor:Ts,color:"#FFF",border:"none",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"600",cursor:"pointer"},children:"Ver"})})]},z.id)})})]})]})})}),a==="rewards"&&n.jsx("div",{children:n.jsx("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"0.8rem",padding:"40px"},children:"Las recompensas se configuran desde el sistema de puntos. Prximamente: catlogo de recompensas."})})]})})]})}const Gl="#FF6835",c$={facebook:"#1877F2",instagram:"#E1306C",whatsapp:"#25D366"};function wFe({onNavigate:e}){var z,B,P,D,I,N,M,V,L,W,G,U,H;const[t,r]=A.useState("panel"),[o,i]=A.useState("publicaciones"),[a]=A.useState({year:2026,month:2}),[s,l]=A.useState([]),[c,d]=A.useState([]),[f,p]=A.useState(!0),[h,x]=A.useState(null);A.useEffect(()=>{m()},[]);const m=async()=>{p(!0),x(null);try{const[K,ne]=await Promise.all([iFe(void 0,7),oFe({estado:"publicado"})]);l(K),d(ne)}catch(K){x(K instanceof Error?K.message:"Error cargando datos"),console.error("Error loading RRSS data:",K)}finally{p(!1)}},y=K=>s.filter(ne=>ne.platform===K).sort((ne,Q)=>new Date(Q.fecha).getTime()-new Date(ne.fecha).getTime())[0]||null,b=K=>K>=1e3?`${(K/1e3).toFixed(1)}K`:K.toString(),v=s.reduce((K,ne)=>{const Q=new Date(ne.fecha),pe=`${Q.getDate()} ${Q.toLocaleDateString("es-ES",{month:"short"})}`;return K[pe]||(K[pe]={day:pe,facebook:0,instagram:0,whatsapp:0}),K[pe][ne.platform]=ne.alcance,K},{}),C=Object.values(v).sort((K,ne)=>K.day.localeCompare(ne.day)),S=s.reduce((K,ne)=>(K[ne.platform]=(K[ne.platform]||0)+ne.engagement,K),{}),F=Object.values(S).reduce((K,ne)=>K+ne,0),w=Object.entries(S).map(([K,ne])=>({name:K.charAt(0).toUpperCase()+K.slice(1),value:F>0?Math.round(ne/F*100):0,color:c$[K]||"#6B7280"})),k={};c.filter(K=>K.estado==="programado"&&K.programado_para).forEach(K=>{var pe;const Q=new Date(K.programado_para).getDate();k[Q]||(k[Q]=[]),k[Q].push({label:((pe=K.contenido)==null?void 0:pe.slice(0,30))||"Post programado",color:c$[K.platform]||"#6B7280"})});const E=[{id:"panel",label:" Panel Unificado"},{id:"facebook",label:" Facebook"},{id:"instagram",label:" Instagram"},{id:"whatsapp",label:" WhatsApp"},{id:"calendario",label:" Calendario"}],T=({value:K,label:ne,highlight:Q})=>n.jsxs("div",{style:{padding:"14px 20px",borderRadius:"8px",border:Q?`1.5px solid ${Gl}33`:"1px solid #E5E7EB",backgroundColor:Q?`${Gl}08`:"#FFFFFF",minWidth:"110px"},children:[n.jsx("p",{style:{margin:0,fontSize:"1.3rem",fontWeight:"900",color:Q?Gl:"#111827"},children:K}),n.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.72rem",color:"#6B7280"},children:ne})]}),_=({icon:K,label:ne,desc:Q,color:pe})=>n.jsxs("div",{style:{flex:1,border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px",textAlign:"center",cursor:"pointer",transition:"border-color 0.15s",backgroundColor:"#FFFFFF"},onMouseEnter:X=>X.currentTarget.style.borderColor=pe,onMouseLeave:X=>X.currentTarget.style.borderColor="#E5E7EB",children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:pe+"18",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 10px"},children:n.jsx(K,{size:18,color:pe})}),n.jsx("p",{style:{margin:"0 0 3px",fontWeight:"700",color:"#111827",fontSize:"0.85rem"},children:ne}),n.jsx("p",{style:{margin:0,color:"#6B7280",fontSize:"0.72rem"},children:Q})]});return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:sg,title:"Redes Sociales",subtitle:"Gestin y administracin",actions:[{label:" Volver",onClick:()=>e("rrss")},{label:"Volver a la tienda"}]}),n.jsx(uv,{onNavigate:e,active:"redes-sociales"}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsxs("div",{style:{padding:"16px 28px 0"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsx(sg,{size:16,color:Gl}),n.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:"800",color:"#111827"},children:"Centro Operativo de Redes Sociales"})]}),n.jsx("p",{style:{margin:"0 0 12px",color:"#6B7280",fontSize:"0.78rem"},children:"Meta Business Suite  Gestin unificada de Facebook, Instagram y WhatsApp"}),n.jsx("div",{style:{display:"flex",gap:"0"},children:E.map(K=>n.jsx("button",{onClick:()=>r(K.id),style:{padding:"10px 16px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===K.id?Gl:"#6B7280",fontWeight:t===K.id?"700":"500",fontSize:"0.82rem",borderBottom:t===K.id?`2px solid ${Gl}`:"2px solid transparent",whiteSpace:"nowrap"},children:K.label},K.id))})]})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"20px 28px",maxWidth:"1200px"},children:[t==="panel"&&n.jsx(n.Fragment,{children:f?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[n.jsx(ur,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),n.jsx("p",{children:"Cargando datos..."})]}):h?n.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B"},children:n.jsxs("p",{style:{margin:0,fontWeight:"700"},children:[" Error: ",h]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{platform:"Facebook",color:"#1877F2",bg:"#EFF6FF",stats:[{v:b(((z=y("facebook"))==null?void 0:z.seguidores)||0),l:"Seguidores"},{v:b(((B=y("facebook"))==null?void 0:B.alcance)||0),l:"Alcance hoy"},{v:c.filter(K=>K.platform==="facebook").length.toString(),l:"Posts"}]},{platform:"Instagram",color:"#E1306C",bg:"#FFF0F6",stats:[{v:b(((P=y("instagram"))==null?void 0:P.seguidores)||0),l:"Seguidores"},{v:`${((D=y("instagram"))==null?void 0:D.engagement.toFixed(1))||0}%`,l:"Engagement"},{v:c.filter(K=>K.platform==="instagram").length.toString(),l:"Posts"}]},{platform:"WhatsApp",color:"#25D366",bg:"#F0FFF4",stats:[{v:b(((I=y("whatsapp"))==null?void 0:I.seguidores)||0),l:"Contactos"},{v:c.filter(K=>K.platform==="whatsapp").length.toString(),l:"Posts"},{v:`${((N=y("whatsapp"))==null?void 0:N.engagement.toFixed(1))||0}%`,l:"Engagement"}]},{platform:"Programadas",color:"#8B5CF6",bg:"#F5F3FF",stats:[{v:c.filter(K=>K.estado==="programado").length.toString(),l:"Posts programados"},{v:c.filter(K=>K.estado==="borrador").length.toString(),l:"Pendientes"},{v:c.filter(K=>{if(!K.programado_para)return!1;const ne=new Date(K.programado_para),Q=new Date;return Q.setDate(Q.getDate()+7),ne<=Q}).length.toString(),l:"Esta semana"}]}].map((K,ne)=>n.jsxs("div",{style:{backgroundColor:K.bg,borderRadius:"12px",border:`1px solid ${K.color}22`,padding:"16px 18px"},children:[n.jsx("p",{style:{margin:"0 0 10px",fontWeight:"700",color:K.color,fontSize:"0.85rem"},children:K.platform}),K.stats.map((Q,pe)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[n.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:Q.l}),n.jsx("span",{style:{fontSize:"0.88rem",fontWeight:"800",color:"#111827"},children:Q.v})]},pe))]},ne))}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px",marginBottom:"24px"},children:[n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontWeight:"700",color:"#111827",fontSize:"0.88rem"},children:"Resumen Mtricas  7 das"}),n.jsx(os,{width:"100%",height:180,children:n.jsxs(O1,{data:C,margin:{top:5,right:10,left:-20,bottom:5},children:[n.jsx(uc,{strokeDasharray:"3 3",stroke:"#F3F4F6"}),n.jsx(Ra,{dataKey:"day",tick:{fontSize:10,fill:"#9CA3AF"}}),n.jsx(Ta,{tick:{fontSize:10,fill:"#9CA3AF"}}),n.jsx(Bn,{contentStyle:{borderRadius:"8px",fontSize:"0.75rem"}}),n.jsx(oi,{type:"monotone",dataKey:"facebook",stroke:"#1877F2",strokeWidth:2,dot:!1,name:"Facebook"}),n.jsx(oi,{type:"monotone",dataKey:"instagram",stroke:"#E1306C",strokeWidth:2,dot:!1,name:"Instagram"}),n.jsx(oi,{type:"monotone",dataKey:"whatsapp",stroke:"#25D366",strokeWidth:2,dot:!1,name:"WhatsApp"})]})})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontWeight:"700",color:"#111827",fontSize:"0.88rem"},children:"Distribucin Engagement"}),n.jsx(os,{width:"100%",height:180,children:n.jsxs(T_,{children:[n.jsx(Ia,{data:w,cx:"50%",cy:"50%",outerRadius:65,dataKey:"value",label:({name:K,value:ne})=>`${ne}%`,labelLine:!1,fontSize:10,children:w.map((K,ne)=>n.jsx(tf,{fill:K.color},ne))}),n.jsx(sc,{wrapperStyle:{fontSize:"0.72rem"}})]})})]})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px 20px",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:"0 0 12px",fontWeight:"700",color:"#111827",fontSize:"0.88rem"},children:"Publicaciones en Meta Business"}),c.slice(0,5).length===0?n.jsx("p",{style:{color:"#9CA3AF",fontSize:"0.8rem",textAlign:"center",padding:"20px"},children:"No hay publicaciones an"}):c.slice(0,5).map((K,ne)=>{const Q=K.publicado_en?new Date(K.publicado_en):new Date(K.created_at),pe=K.platform==="facebook"?"":K.platform==="instagram"?"":"";return n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:ne<c.slice(0,5).length-1?"1px solid #F3F4F6":"none"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("span",{style:{fontSize:"1.1rem"},children:pe}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"0.82rem",color:"#111827",fontWeight:"600"},children:K.contenido||"Sin contenido"}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:"#9CA3AF"},children:[K.platform,"  ",Q.toLocaleDateString("es-ES",{day:"numeric",month:"short"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"14px",fontSize:"0.75rem",color:"#6B7280"},children:[n.jsxs("span",{children:[" ",K.likes]}),n.jsxs("span",{children:[" ",b(K.alcance)]})]})]},ne)})]}),n.jsxs("div",{style:{backgroundColor:"#FFFBEB",borderRadius:"10px",border:"1px solid #FDE68A",padding:"14px 18px"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontWeight:"700",color:"#92400E",fontSize:"0.85rem"},children:" Tareas Pendientes"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"16px",color:"#78350F",fontSize:"0.78rem",lineHeight:"1.8"},children:[c.filter(K=>K.estado==="borrador").length>0&&n.jsxs("li",{children:[c.filter(K=>K.estado==="borrador").length," publicacin(es) en borrador"]}),c.filter(K=>K.estado==="programado").length>0&&n.jsxs("li",{children:[c.filter(K=>K.estado==="programado").length," publicacin(es) programada(s)"]}),s.length===0&&n.jsx("li",{children:"No hay mtricas registradas. Configura las credenciales para comenzar a medir."})]})]})]})}),t==="facebook"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsx(T,{value:b(((M=y("facebook"))==null?void 0:M.seguidores)||0),label:"Seguidores",highlight:!0}),n.jsx(T,{value:c.filter(K=>K.platform==="facebook").reduce((K,ne)=>K+ne.likes,0).toString(),label:"Total Likes"}),n.jsx(T,{value:b(((V=y("facebook"))==null?void 0:V.alcance)||0),label:"Alcance"}),n.jsx(T,{value:c.filter(K=>K.platform==="facebook"&&K.estado==="programado").length.toString(),label:"Programadas"}),n.jsx(T,{value:c.filter(K=>K.platform==="facebook"&&K.estado==="borrador").length.toString(),label:"Borradores"})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[["publicaciones","mensajes"].map(K=>n.jsxs("button",{onClick:()=>i(K),style:{padding:"8px 18px",borderRadius:"8px",border:"1px solid #E5E7EB",backgroundColor:o===K?"#1877F2":"#FFFFFF",color:o===K?"#FFF":"#374151",fontWeight:"600",cursor:"pointer",fontSize:"0.82rem",textTransform:"capitalize",display:"flex",alignItems:"center",gap:"6px"},children:[K==="publicaciones"?n.jsx(Ks,{size:13}):n.jsx(hd,{size:13}),K.charAt(0).toUpperCase()+K.slice(1)]},K)),n.jsxs("button",{style:{marginLeft:"auto",padding:"8px 18px",backgroundColor:"#1877F2",color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.82rem",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Nt,{size:14})," Nueva Publicacin"]})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"40px",textAlign:"center",color:"#9CA3AF"},children:[n.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"#1877F222",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:n.jsx(Ks,{size:22,color:"#1877F2"})}),n.jsx("p",{style:{margin:0,fontWeight:"600",color:"#374151"},children:"No hay publicaciones"}),n.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.8rem"},children:"Crea tu primera publicacin para comenzar"})]})]}),t==="instagram"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},children:[n.jsx(T,{value:b(((L=y("instagram"))==null?void 0:L.seguidores)||0),label:"Seguidores",highlight:!0}),n.jsx(T,{value:`${((W=y("instagram"))==null?void 0:W.engagement.toFixed(1))||0}%`,label:"Engagement"}),n.jsx(T,{value:c.filter(K=>K.platform==="instagram").reduce((K,ne)=>K+ne.comentarios,0).toString(),label:"Comentarios"}),n.jsx(T,{value:c.filter(K=>K.platform==="instagram").length.toString(),label:"Posts"})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"40px",textAlign:"center"},children:[n.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"50%",background:"linear-gradient(135deg, #405DE6, #E1306C, #FD1D1D)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:n.jsx("span",{style:{fontSize:"1.6rem"},children:""})}),n.jsx("h3",{style:{margin:"0 0 8px",fontWeight:"800",color:"#111827",fontSize:"1.1rem"},children:"Instagram Management"}),n.jsx("p",{style:{margin:"0 0 24px",color:"#6B7280",fontSize:"0.8rem",maxWidth:"380px",marginLeft:"auto",marginRight:"auto",lineHeight:"1.5"},children:"Gestin completa de Instagram incluyendo feed, stories, reels, mensajes directos y shopping tag"}),n.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[{icon:Ks,label:"Feed & Stories",desc:"Publicar y programar contenido",color:"#E1306C"},{icon:hd,label:"Mensajes Directos",desc:"Gestionar DMs y respuestas",color:"#405DE6"},{icon:cs,label:"Instagram Shopping",desc:"Etiquetar productos y ventas",color:"#25D366"}].map((K,ne)=>n.jsx(_,{...K},ne))})]})]}),t==="whatsapp"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},children:[n.jsx(T,{value:b(((G=y("whatsapp"))==null?void 0:G.seguidores)||0),label:"Contactos",highlight:!0}),n.jsx(T,{value:c.filter(K=>K.platform==="whatsapp").length.toString(),label:"Posts"}),n.jsx(T,{value:`${((U=y("whatsapp"))==null?void 0:U.engagement.toFixed(1))||0}%`,label:"Engagement"}),n.jsx(T,{value:b(((H=y("whatsapp"))==null?void 0:H.alcance)||0),label:"Alcance"})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"40px",textAlign:"center"},children:[n.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundColor:"#25D36622",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:n.jsx(hd,{size:30,color:"#25D366"})}),n.jsx("h3",{style:{margin:"0 0 8px",fontWeight:"800",color:"#111827",fontSize:"1.1rem"},children:"WhatsApp Business API"}),n.jsx("p",{style:{margin:"0 0 24px",color:"#6B7280",fontSize:"0.8rem",maxWidth:"380px",marginLeft:"auto",marginRight:"auto",lineHeight:"1.5"},children:"Gestin profesional de WhatsApp Business con mensajera masiva, chatbot y catlogo de productos"}),n.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[{icon:Aa,label:"Mensajera",desc:"Chats y broadcasts",color:"#25D366"},{icon:cs,label:"Catlogo",desc:"Productos y ventas",color:"#128C7E"},{icon:pt,label:"Automatizacin",desc:"Respuestas automticas",color:"#FF6835"}].map((K,ne)=>n.jsx(_,{...K},ne))})]})]}),t==="calendario"&&n.jsx(EFe,{events:k})]})})]})}function EFe({events:e}){const t=Array.from({length:28},(a,s)=>s+1),r=0,o=19,i=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"];return n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px 24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0,fontWeight:"800",color:"#111827",fontSize:"1rem"},children:"Calendario de Contenido"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("button",{style:{background:"none",border:"1px solid #E5E7EB",borderRadius:"6px",cursor:"pointer",padding:"5px 8px"},children:n.jsx(rg,{size:14})}),n.jsx("span",{style:{fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Febrero 2026"}),n.jsx("button",{style:{background:"none",border:"1px solid #E5E7EB",borderRadius:"6px",cursor:"pointer",padding:"5px 8px"},children:n.jsx(Xr,{size:14})})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",marginBottom:"2px"},children:i.map(a=>n.jsx("div",{style:{textAlign:"center",padding:"8px",color:"#6B7280",fontSize:"0.75rem",fontWeight:"700"},children:a},a))}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",backgroundColor:"#F3F4F6"},children:[Array.from({length:r}).map((a,s)=>n.jsx("div",{style:{backgroundColor:"#FAFAFA",minHeight:"80px",padding:"6px"}},`e${s}`)),t.map(a=>{const s=a===o,l=e[a]||[];return n.jsxs("div",{style:{backgroundColor:s?"#FFF4EC":"#FFFFFF",minHeight:"80px",padding:"6px",borderLeft:s?`2px solid ${Gl}`:"1px solid transparent"},children:[n.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"22px",height:"22px",borderRadius:"50%",backgroundColor:s?Gl:"transparent",color:s?"#FFF":"#374151",fontSize:"0.78rem",fontWeight:s?"700":"400",marginBottom:"4px"},children:a}),l.map((c,d)=>n.jsx("div",{style:{padding:"2px 5px",borderRadius:"3px",backgroundColor:c.color+"20",borderLeft:`2px solid ${c.color}`,marginBottom:"2px",fontSize:"0.65rem",color:c.color,fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:c.label},d))]},a)})]}),n.jsx("div",{style:{display:"flex",gap:"16px",marginTop:"14px",flexWrap:"wrap"},children:[{color:"#1877F2",label:"Facebook"},{color:"#E1306C",label:"Instagram"},{color:"#25D366",label:"WhatsApp"}].map(a=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"2px",backgroundColor:a.color}}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:a.label})]},a.label))})]})}const j0="#FF6835",d$="#1877F2",jk="#E1306C",CFe="#25D366";function S0({icon:e,platform:t,status:r,statusColor:o,onClick:i}){return n.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"10px",flex:1,padding:"12px 16px",borderRadius:"10px",backgroundColor:"rgba(255,255,255,0.12)",border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(8px)",cursor:i?"pointer":"default",transition:"background 0.15s",textAlign:"left"},onMouseEnter:a=>i&&(a.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)"),onMouseLeave:a=>i&&(a.currentTarget.style.backgroundColor="rgba(255,255,255,0.12)"),children:[n.jsx(e,{size:16,color:"#fff"}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"rgba(255,255,255,0.7)",lineHeight:1},children:t}),n.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.82rem",fontWeight:"800",color:"#fff",lineHeight:1},children:r})]})]})}function kFe({icon:e,iconBg:t,iconColor:r,title:o,description:i,badge:a,badgeColor:s,badgeBg:l,features:c,statusLabel:d,statusColor:f,statusBg:p,onClick:h}){return n.jsxs("div",{onClick:h,style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden",cursor:"pointer",transition:"all 0.18s",display:"flex",flexDirection:"column"},onMouseEnter:x=>{x.currentTarget.style.boxShadow="0 8px 32px rgba(0,0,0,0.1)",x.currentTarget.style.transform="translateY(-3px)"},onMouseLeave:x=>{x.currentTarget.style.boxShadow="none",x.currentTarget.style.transform="none"},children:[n.jsx("div",{style:{height:"3px",backgroundColor:r}}),n.jsxs("div",{style:{padding:"20px 20px 0",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[n.jsx("div",{style:{width:44,height:44,borderRadius:"12px",backgroundColor:t,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(e,{size:22,color:r})}),n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"800",color:s,backgroundColor:l,padding:"3px 8px",borderRadius:"5px",textTransform:"uppercase",letterSpacing:"0.04em"},children:a})]}),n.jsxs("div",{style:{padding:"14px 20px 0"},children:[n.jsx("h3",{style:{margin:"0 0 5px",fontSize:"1rem",fontWeight:"900",color:"#111827"},children:o}),n.jsx("p",{style:{margin:"0 0 14px",fontSize:"0.77rem",color:"#6B7280",lineHeight:1.5},children:i}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:"18px"},children:c.map(x=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"7px"},children:[n.jsx(ft,{size:13,color:"#10B981"}),n.jsx("span",{style:{fontSize:"0.77rem",color:"#374151"},children:x})]},x))})]}),n.jsx("div",{style:{marginTop:"auto",padding:"14px 20px",borderTop:"1px solid #F3F4F6"},children:n.jsxs("div",{style:{width:"100%",padding:"9px",borderRadius:"8px",backgroundColor:p,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(ft,{size:14,color:f}),n.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"700",color:f},children:d})]})})]})}function FFe({icon:e,iconBg:t,iconColor:r,title:o,description:i,statusLabel:a,statusColor:s,statusBg:l,onClick:c}){return n.jsxs("div",{onClick:c,style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"18px",cursor:c?"pointer":"default",transition:"all 0.15s"},onMouseEnter:d=>c&&(d.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)"),onMouseLeave:d=>c&&(d.currentTarget.style.boxShadow="none"),children:[n.jsx("div",{style:{width:38,height:38,borderRadius:"10px",backgroundColor:t,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:n.jsx(e,{size:18,color:r})}),n.jsx("p",{style:{margin:"0 0 3px",fontSize:"0.88rem",fontWeight:"800",color:"#111827"},children:o}),n.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.72rem",color:"#6B7280",lineHeight:1.4},children:i}),n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:s,backgroundColor:l,padding:"3px 9px",borderRadius:"5px"},children:a})]})}function AFe({onNavigate:e}){const[t,r]=A.useState(null),[o,i]=A.useState(!0);A.useEffect(()=>{let p=!1;return i(!0),Zke().then(h=>{p||(r(h),i(!1))}),()=>{p=!0}},[]);function a(p){return p?p.status==="connected"?{status:` ${p.accountName??"Conectado"}`,dot:"#4ADE80"}:p.status==="pending"?{status:"Sin verificar",dot:"#FCD34D"}:p.status==="coming_soon"?{status:"Prximamente",dot:"#94A3B8"}:{status:"Sin credenciales",dot:"#F87171"}:{status:"Cargando",dot:"rgba(255,255,255,0.5)"}}const s=a(t==null?void 0:t.instagram),l=a(t==null?void 0:t.facebook),c=[{icon:br,iconBg:`${j0}15`,iconColor:j0,title:"Dashboard Unificado",description:"Monitoreo en tiempo real de todas tus redes sociales",badge:"Ms usado",badgeColor:"#D97706",badgeBg:"#FEF3C7",features:["Monitor de tokens en vivo","Estadsticas centralizadas","Renovacin automtica","Verificacin de permisos"],statusLabel:"Activo",statusColor:"#059669",statusBg:"#D1FAE5",onClick:()=>e("meta-business")},{icon:p8,iconBg:"#EFF6FF",iconColor:d$,title:"Migracin RRSS",description:"Backup, eliminacin y rebranding completo",badge:"Crtico",badgeColor:"#EF4444",badgeBg:"#FEE2E2",features:["Backup completo de contenido","Eliminacin masiva segura","Rebranding automtico","Export de datos"],statusLabel:"Activo",statusColor:"#059669",statusBg:"#D1FAE5",onClick:()=>e("migracion-rrss")},{icon:sg,iconBg:`${jk}18`,iconColor:jk,title:"Centro Operativo",description:"Gestin unificada de Facebook, Instagram y WhatsApp",badge:"Nuevo",badgeColor:"#2563EB",badgeBg:"#DBEAFE",features:["Panel unificado de gestin","Calendario de contenido","Gestin por plataforma","Vista consolidada"],statusLabel:"Activo",statusColor:"#059669",statusBg:"#D1FAE5",onClick:()=>e("redes-sociales")}],d=[{icon:pt,iconBg:"#E0F2FE",iconColor:"#0284C7",title:"Publicador Unificado",description:"Public en Instagram y Facebook simultneamente",statusLabel:" Prximamente",statusColor:"#D97706",statusBg:"#FEF9C3"},{icon:br,iconBg:"#FEF3C7",iconColor:"#D97706",title:"Analytics",description:"Estadsticas avanzadas y reportes",statusLabel:" Prximamente",statusColor:"#D97706",statusBg:"#FEF9C3"},{icon:gs,iconBg:"#FDF2F8",iconColor:"#C026D3",title:"Calendario Social",description:"Planificacin y programacin de contenido",statusLabel:" En Centro Operativo",statusColor:"#7C3AED",statusBg:"#F5F3FF",onClick:()=>e("redes-sociales")},{icon:Wi,iconBg:"#E0F2FE",iconColor:"#0284C7",title:"Documentacin",description:"Guas completas y tutoriales",statusLabel:" Disponible",statusColor:"#059669",statusBg:"#D1FAE5",onClick:()=>e("documentacion")}],f=[{icon:RF,color:j0,title:"Primeros Pasos",items:["Configura tus credenciales de Meta API","Verifica las conexiones en Dashboard","Explor el Centro Operativo","Hac un backup de seguridad"],links:!1},{icon:hn,color:"#F59E0B",title:"Funciones Destacadas",items:["Backup automtico antes de cambios","Monitoreo de tokens 24/7","Vista unificada multi-plataforma","Documentacin integrada"],links:!1},{icon:yte,color:"#3B82F6",title:"Necesitas ayuda?",items:["Revis la documentacin integrada","Consult el troubleshooting","Verific el estado en Dashboard","Contact soporte tcnico"],links:!0}];return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:sg,title:"Redes Sociales",subtitle:"Gestin y administracin",actions:[{label:" Volver",onClick:()=>e("marketing")},{label:"Volver a la tienda"}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[n.jsxs("div",{style:{background:"linear-gradient(135deg, #5B21B6 0%, #1D4ED8 60%, #1877F2 100%)",padding:"16px 32px"},children:[n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[n.jsx(S0,{icon:Za,platform:"Facebook",status:o?"":l.status,statusColor:d$,onClick:()=>e("migracion-rrss")}),n.jsx(S0,{icon:td,platform:"Instagram",status:o?"":s.status,statusColor:jk,onClick:()=>e("migracion-rrss")}),n.jsx(S0,{icon:hd,platform:"WhatsApp",status:"Prximamente",statusColor:CFe}),n.jsx(S0,{icon:un,platform:"Herramientas",status:"6 disponibles",statusColor:"#fff"})]}),!o&&t&&(t.instagram.status!=="connected"||t.facebook.status!=="connected")&&n.jsxs("div",{style:{marginTop:"10px",display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"rgba(251,191,36,0.15)",borderRadius:"8px",border:"1px solid rgba(251,191,36,0.3)"},children:[n.jsx(Jt,{size:14,color:"#FCD34D"}),n.jsxs("span",{style:{fontSize:"12px",color:"#FCD34D",fontWeight:600},children:["Credenciales pendientes  configur tu API en"," ",n.jsx("button",{onClick:()=>e("migracion-rrss"),style:{background:"none",border:"none",color:"#FCD34D",fontWeight:800,cursor:"pointer",textDecoration:"underline",padding:0,fontSize:"12px"},children:"Migracin RRSS  Configuracin"})]})]})]}),n.jsxs("div",{style:{padding:"32px 32px 48px",maxWidth:"1200px"},children:[n.jsxs("div",{style:{marginBottom:"36px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"18px"},children:[n.jsx(pt,{size:18,color:j0}),n.jsx("h3",{style:{margin:0,fontSize:"1.05rem",fontWeight:"900",color:"#111827"},children:"Herramientas Principales"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"18px"},children:c.map(p=>n.jsx(kFe,{...p},p.title))})]}),n.jsxs("div",{style:{marginBottom:"36px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"18px"},children:[n.jsx(si,{size:18,color:"#6B7280"}),n.jsx("h3",{style:{margin:0,fontSize:"1.05rem",fontWeight:"900",color:"#111827"},children:"Herramientas Adicionales"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px"},children:d.map(p=>n.jsx(FFe,{...p},p.title))})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"18px"},children:[n.jsx(Wi,{size:18,color:"#2563EB"}),n.jsx("h3",{style:{margin:0,fontSize:"1.05rem",fontWeight:"900",color:"#111827"},children:"Gua Rpida"})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"16px"},children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"32px"},children:f.map(p=>n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[n.jsx(p.icon,{size:16,color:p.color}),n.jsx("p",{style:{margin:0,fontSize:"0.88rem",fontWeight:"800",color:"#111827"},children:p.title})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:p.items.map(h=>n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:p.links?"#2563EB":"#6B7280",cursor:p.links?"pointer":"default",textDecoration:p.links?"underline":"none",lineHeight:1.4},children:p.links?` ${h}`:`${h}`},h))})]},p.title))})}),n.jsxs("div",{style:{background:"linear-gradient(135deg, #5B21B6 0%, #1D4ED8 100%)",borderRadius:"14px",padding:"22px 28px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px",fontSize:"1rem",fontWeight:"900",color:"#fff"},children:"Listo para comenzar?"}),n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"rgba(255,255,255,0.75)"},children:"Empez monitoreando el estado de tus conexiones en el Dashboard Unificado"})]}),n.jsxs("button",{onClick:()=>e("meta-business"),style:{padding:"12px 24px",backgroundColor:"#fff",color:"#5B21B6",border:"none",borderRadius:"10px",fontSize:"0.88rem",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap",flexShrink:0,marginLeft:"24px",transition:"opacity 0.15s"},onMouseEnter:p=>p.currentTarget.style.opacity="0.9",onMouseLeave:p=>p.currentTarget.style.opacity="1",children:["Ir al Dashboard ",n.jsx(Xr,{size:15})]})]})]})]})]})]})}const b6=`https://${Pr}.supabase.co/functions/v1/api/departamentos`,v6={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function _Fe(){const t=await(await fetch(`${b6}`,{headers:v6})).json();if(t.error)throw new Error(t.error);return t.data||[]}async function RFe(e){const r=await(await fetch(`${b6}`,{method:"POST",headers:v6,body:JSON.stringify(e)})).json();if(r.error)throw new Error(r.error);return r.data}async function u$(e,t){const o=await(await fetch(`${b6}/${e}`,{method:"PUT",headers:v6,body:JSON.stringify(t)})).json();if(o.error)throw new Error(o.error);return o.data}const Kg=`https://${Pr}.supabase.co/functions/v1/api/categorias`,fv={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function TFe(e){const t=new URLSearchParams;e!=null&&e.departamento_id&&t.append("departamento_id",e.departamento_id),(e==null?void 0:e.activo)!==void 0&&t.append("activo",String(e.activo));const r=t.toString()?`${Kg}?${t}`:Kg,i=await(await fetch(r,{headers:fv})).json();if(i.error)throw new Error(i.error);return i.data||[]}async function PFe(e){const r=await(await fetch(`${Kg}`,{method:"POST",headers:fv,body:JSON.stringify(e)})).json();if(r.error)throw new Error(r.error);return r.data}async function zFe(e,t){const o=await(await fetch(`${Kg}/${e}`,{method:"PUT",headers:fv,body:JSON.stringify(t)})).json();if(o.error)throw new Error(o.error);return o.data}async function BFe(e){const r=await(await fetch(`${Kg}/${e}`,{method:"DELETE",headers:fv})).json();if(r.error)throw new Error(r.error)}const _G=`https://${Pr}.supabase.co/functions/v1/api/subcategorias`,RG={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function IFe(e){const r=await(await fetch(`${_G}`,{method:"POST",headers:RG,body:JSON.stringify(e)})).json();if(r.error)throw new Error(r.error);return r.data}async function OFe(e,t){const o=await(await fetch(`${_G}/${e}`,{method:"PUT",headers:RG,body:JSON.stringify(t)})).json();if(o.error)throw new Error(o.error);return o.data}const jo="#FF6835";function DFe({dept:e,onClose:t,onSave:r}){const[o,i]=A.useState((e==null?void 0:e.nombre)??""),[a,s]=A.useState((e==null?void 0:e.icono)??""),[l,c]=A.useState((e==null?void 0:e.color)??"#FF6835"),[d,f]=A.useState(String((e==null?void 0:e.orden)??"")),[p,h]=A.useState((e==null?void 0:e.activo)??!0),[x,m]=A.useState((e==null?void 0:e.moneda)??"UYU"),[y,b]=A.useState((e==null?void 0:e.edad_minima)??"Todas"),[v,C]=A.useState((e==null?void 0:e.alcance)??"Local"),[S,F]=A.useState(!1),w=async()=>{if(o.trim()){F(!0);try{await r({nombre:o.trim(),icono:a.trim()||void 0,color:l||void 0,orden:d?parseInt(d):void 0,activo:p,moneda:x,edad_minima:y,alcance:v}),t()}finally{F(!1)}}};return n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.45)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"14px",padding:"28px",width:"420px",boxShadow:"0 20px 60px rgba(0,0,0,0.2)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0,fontWeight:"800",color:"#111827"},children:e?"Editar Departamento":"Nuevo Departamento"}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:18})})]}),[{label:"Nombre *",value:o,onChange:i,placeholder:"Ej: Tecnologa"},{label:"Icono (emoji)",value:a,onChange:s,placeholder:"Ej: "},{label:"Orden",value:d,onChange:f,placeholder:"Ej: 3",type:"number"}].map(k=>n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:k.label}),n.jsx("input",{type:k.type??"text",value:k.value,onChange:E=>k.onChange(E.target.value),placeholder:k.placeholder,style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},k.label)),n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:"Color"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("input",{type:"color",value:l,onChange:k=>c(k.target.value),style:{width:"48px",height:"36px",border:"1px solid #E5E7EB",borderRadius:"6px",cursor:"pointer",padding:"2px"}}),n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:l})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"14px",fontSize:"0.875rem",color:"#374151"},children:[n.jsx("input",{type:"checkbox",checked:p,onChange:k=>h(k.target.checked),style:{accentColor:jo}}),"Activo (visible en la tienda)"]}),n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:"Moneda"}),n.jsxs("select",{value:x,onChange:k=>m(k.target.value),style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"},children:[n.jsx("option",{value:"UYU",children:"UYU"}),n.jsx("option",{value:"USD",children:"USD"}),n.jsx("option",{value:"EUR",children:"EUR"})]})]}),n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:"Edad Mnima"}),n.jsxs("select",{value:y,onChange:k=>b(k.target.value),style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"},children:[n.jsx("option",{value:"Todas",children:"Todas"}),n.jsx("option",{value:"+18",children:"+18"})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:"Alcance"}),n.jsxs("select",{value:v,onChange:k=>C(k.target.value),style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"},children:[n.jsx("option",{value:"Local",children:"Local"}),n.jsx("option",{value:"Nacional",children:"Nacional"}),n.jsx("option",{value:"Internacional",children:"Internacional"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[n.jsx("button",{onClick:t,style:{padding:"9px 18px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem"},children:"Cancelar"}),n.jsxs("button",{onClick:w,disabled:S||!o.trim(),style:{padding:"9px 20px",backgroundColor:jo,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:S?"not-allowed":"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"6px",opacity:S?.7:1},children:[S?n.jsx(ur,{size:14,className:"animate-spin"}):n.jsx(rn,{size:14}),e?"Guardar cambios":"Crear departamento"]})]})]})})}function MFe({categoria:e,departamentoId:t,onClose:r,onSave:o}){const[i,a]=A.useState((e==null?void 0:e.nombre)??""),[s,l]=A.useState((e==null?void 0:e.icono)??""),[c,d]=A.useState((e==null?void 0:e.color)??"#FF6835"),[f,p]=A.useState(String((e==null?void 0:e.orden)??"")),[h,x]=A.useState((e==null?void 0:e.activo)??!0),[m,y]=A.useState(!1),b=async()=>{if(i.trim()){y(!0);try{await o({departamento_id:t,nombre:i.trim(),icono:s.trim()||void 0,color:c||void 0,orden:f?parseInt(f):void 0,activo:h}),r()}finally{y(!1)}}};return n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.45)",zIndex:1001,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"14px",padding:"28px",width:"420px",boxShadow:"0 20px 60px rgba(0,0,0,0.2)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0,fontWeight:"800",color:"#111827"},children:e?"Editar Categora":"Nueva Categora"}),n.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:18})})]}),[{label:"Nombre *",value:i,onChange:a,placeholder:"Ej: Electrnica"},{label:"Icono (emoji)",value:s,onChange:l,placeholder:"Ej: "},{label:"Orden",value:f,onChange:p,placeholder:"Ej: 1",type:"number"}].map(v=>n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:v.label}),n.jsx("input",{type:v.type??"text",value:v.value,onChange:C=>v.onChange(C.target.value),placeholder:v.placeholder,style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},v.label)),n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:"Color"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("input",{type:"color",value:c,onChange:v=>d(v.target.value),style:{width:"48px",height:"36px",border:"1px solid #E5E7EB",borderRadius:"6px",cursor:"pointer",padding:"2px"}}),n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:c})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"20px",fontSize:"0.875rem",color:"#374151"},children:[n.jsx("input",{type:"checkbox",checked:h,onChange:v=>x(v.target.checked),style:{accentColor:jo}}),"Activo"]}),n.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[n.jsx("button",{onClick:r,style:{padding:"9px 18px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem"},children:"Cancelar"}),n.jsxs("button",{onClick:b,disabled:m||!i.trim(),style:{padding:"9px 20px",backgroundColor:jo,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:m?"not-allowed":"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"6px",opacity:m?.7:1},children:[m?n.jsx(ur,{size:14,className:"animate-spin"}):n.jsx(rn,{size:14}),e?"Guardar":"Crear"]})]})]})})}function $Fe({subcategoria:e,categoriaId:t,onClose:r,onSave:o}){const[i,a]=A.useState((e==null?void 0:e.nombre)??""),[s,l]=A.useState(String((e==null?void 0:e.orden)??"")),[c,d]=A.useState((e==null?void 0:e.activo)??!0),[f,p]=A.useState(!1),h=async()=>{if(i.trim()){p(!0);try{await o({categoria_id:t,nombre:i.trim(),orden:s?parseInt(s):void 0,activo:c}),r()}finally{p(!1)}}};return n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.45)",zIndex:1001,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"14px",padding:"28px",width:"420px",boxShadow:"0 20px 60px rgba(0,0,0,0.2)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0,fontWeight:"800",color:"#111827"},children:e?"Editar Subcategora":"Nueva Subcategora"}),n.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:18})})]}),[{label:"Nombre *",value:i,onChange:a,placeholder:"Ej: Smartphones"},{label:"Orden",value:s,onChange:l,placeholder:"Ej: 1",type:"number"}].map(x=>n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"700",color:"#374151",marginBottom:"5px"},children:x.label}),n.jsx("input",{type:x.type??"text",value:x.value,onChange:m=>x.onChange(m.target.value),placeholder:x.placeholder,style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},x.label)),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"20px",fontSize:"0.875rem",color:"#374151"},children:[n.jsx("input",{type:"checkbox",checked:c,onChange:x=>d(x.target.checked),style:{accentColor:jo}}),"Activo"]}),n.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[n.jsx("button",{onClick:r,style:{padding:"9px 18px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem"},children:"Cancelar"}),n.jsxs("button",{onClick:h,disabled:f||!i.trim(),style:{padding:"9px 20px",backgroundColor:jo,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:f?"not-allowed":"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"6px",opacity:f?.7:1},children:[f?n.jsx(ur,{size:14,className:"animate-spin"}):n.jsx(rn,{size:14}),e?"Guardar":"Crear"]})]})]})})}function NFe({dept:e,index:t,isExpanded:r,viewMode:o,onToggleExpand:i,onEdit:a,onToggleActivo:s,onLoadCategorias:l,onSaveCategoria:c,onSaveSubcategoria:d,onDeleteCategoria:f}){const p=o==="admin",[h,x]=A.useState([]),[m,y]=A.useState(!1),[b,v]=A.useState(new Set),[C,S]=A.useState(!1),[F,w]=A.useState(!1),[k,E]=A.useState(null),[T,_]=A.useState(null),[z,B]=A.useState(""),[P,D]=A.useState(null);A.useEffect(()=>{r&&h.length===0&&I()},[r]);const I=async()=>{y(!0);try{const W=await l(e.id);x(W)}catch(W){console.error("Error cargando categoras:",W)}finally{y(!1)}},N=W=>{const G=new Set(b);G.has(W)?G.delete(W):G.add(W),v(G)},M=async W=>{k?await zFe(k.id,W):await c(W),await I(),S(!1),E(null)},V=async W=>{if(f&&confirm("Ests seguro de que quers eliminar esta categora? Esto tambin eliminar todas sus subcategoras.")){D(W);try{await f(W),await I()}catch(G){console.error("Error eliminando categora:",G),alert("Error al eliminar la categora")}finally{D(null)}}},L=async W=>{T?await OFe(T.id,W):await d(W),await I(),w(!1),_(null),B("")};return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid #F3F4F6",backgroundColor:t%2===0?"#FFFFFF":"#FAFAFA",transition:"background-color 0.1s"},onMouseEnter:W=>W.currentTarget.style.backgroundColor="#FFF4EC",onMouseLeave:W=>W.currentTarget.style.backgroundColor=t%2===0?"#FFFFFF":"#FAFAFA",children:[n.jsx("button",{onClick:()=>i(e.id),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"2px 6px",marginRight:"4px",flexShrink:0},children:r?n.jsx(Yn,{size:15}):n.jsx(Xr,{size:15})}),n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",backgroundColor:e.color?`${e.color}22`:"#F3F4F6",border:e.color?`1px solid ${e.color}44`:"none",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",flexShrink:0,marginRight:"12px"},children:e.icono||""}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:e.nombre}),!e.activo&&n.jsx("span",{style:{padding:"1px 7px",borderRadius:"12px",backgroundColor:"#F3F4F6",color:"#6B7280",fontSize:"0.65rem",fontWeight:"700"},children:"Inactivo"})]}),e.color&&n.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:[e.color," ",e.orden!==void 0?` orden ${e.orden}`:""]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",flexShrink:0},children:[p&&n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",fontSize:"0.72rem",color:"#6B7280"},children:[n.jsx("input",{type:"checkbox",checked:e.activo,onChange:W=>s(e.id,W.target.checked),style:{accentColor:jo}}),"Visible"]}),n.jsx("button",{onClick:()=>a(e),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"3px"},children:n.jsx(fo,{size:14})})]})]}),r&&n.jsxs("div",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #F3F4F6",padding:"12px 16px 12px 60px"},children:[C&&n.jsx(MFe,{categoria:k,departamentoId:e.id,onClose:()=>{S(!1),E(null)},onSave:M}),F&&n.jsx($Fe,{subcategoria:T,categoriaId:z,onClose:()=>{w(!1),_(null),B("")},onSave:L}),n.jsxs("div",{style:{marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.72rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Categoras"}),p&&n.jsxs("button",{onClick:()=>{E(null),S(!0)},style:{padding:"4px 10px",backgroundColor:jo,color:"#FFF",border:"none",borderRadius:"6px",fontWeight:"600",fontSize:"0.72rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Nt,{size:12})," Agregar categora"]})]}),m?n.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[n.jsx(ur,{size:14,style:{animation:"spin 1s linear infinite"}}),n.jsx("span",{style:{fontSize:"0.75rem"},children:"Cargando categoras..."})]}):h.length===0?n.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#9CA3AF",fontSize:"0.75rem"},children:["No hay categoras. ",p&&"Agreg la primera."]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:h.map(W=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"8px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"8px 12px",gap:"8px"},children:[n.jsx("button",{onClick:()=>N(W.id),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"2px",flexShrink:0},children:b.has(W.id)?n.jsx(Yn,{size:12}):n.jsx(Xr,{size:12})}),n.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"6px",backgroundColor:W.color?`${W.color}22`:"#F3F4F6",border:W.color?`1px solid ${W.color}44`:"none",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.9rem",flexShrink:0},children:W.icono||""}),n.jsx("span",{style:{flex:1,fontWeight:"600",color:"#111827",fontSize:"0.8rem"},children:W.nombre}),!W.activo&&n.jsx("span",{style:{padding:"1px 6px",borderRadius:"10px",backgroundColor:"#F3F4F6",color:"#6B7280",fontSize:"0.65rem",fontWeight:"700"},children:"Inactivo"}),p&&n.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[n.jsx("button",{onClick:()=>{E(W),S(!0)},style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"2px"},children:n.jsx(fo,{size:12})}),f&&n.jsx("button",{onClick:()=>V(W.id),disabled:P===W.id,style:{background:"none",border:"none",cursor:P===W.id?"not-allowed":"pointer",color:P===W.id?"#D1D5DB":"#EF4444",padding:"2px",opacity:P===W.id?.5:1},children:P===W.id?n.jsx(ur,{size:12,style:{animation:"spin 1s linear infinite"}}):n.jsx(xr,{size:12})}),n.jsx("button",{onClick:()=>{B(W.id),_(null),w(!0)},style:{padding:"2px 6px",backgroundColor:"#F0F9FF",color:"#0284C7",border:"none",borderRadius:"4px",fontWeight:"600",fontSize:"0.65rem",cursor:"pointer"},children:"+ Sub"})]})]}),b.has(W.id)&&W.subcategorias&&W.subcategorias.length>0&&n.jsxs("div",{style:{padding:"8px 12px 8px 44px",backgroundColor:"#FAFAFA",borderTop:"1px solid #F3F4F6"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.65rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase"},children:"Subcategoras"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:W.subcategorias.map(G=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 8px",backgroundColor:"#FFFFFF",borderRadius:"4px",border:"1px solid #E5E7EB"},children:[n.jsx("span",{style:{flex:1,fontSize:"0.75rem",color:"#374151"},children:G.nombre}),!G.activo&&n.jsx("span",{style:{padding:"1px 5px",borderRadius:"8px",backgroundColor:"#F3F4F6",color:"#6B7280",fontSize:"0.6rem",fontWeight:"700"},children:"Inactivo"}),p&&n.jsx("button",{onClick:()=>{_(G),B(W.id),w(!0)},style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"2px"},children:n.jsx(fo,{size:10})})]},G.id))})]})]},W.id))})]})]})}function LFe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(null),[l,c]=A.useState(new Set),[d,f]=A.useState(""),[p,h]=A.useState("admin"),[x,m]=A.useState("new"),[y,b]=A.useState(!1),v=A.useCallback(async()=>{i(!0),s(null);try{const T=await _Fe();r(T)}catch(T){s(T.message??"Error cargando departamentos")}finally{i(!1)}},[]);A.useEffect(()=>{v()},[v]);const C=T=>{const _=new Set(l);_.has(T)?_.delete(T):_.add(T),c(_)},S=async(T,_)=>{r(z=>z.map(B=>B.id===T?{...B,activo:_}:B));try{await u$(T,{activo:_})}catch{r(z=>z.map(B=>B.id===T?{...B,activo:!_}:B))}},F=async T=>{x&&x!=="new"&&x.id?await u$(x.id,T):await RFe({nombre:T.nombre,...T}),await v()},w=()=>{const T=JSON.stringify(t,null,2),_=new Blob([T],{type:"application/json"}),z=URL.createObjectURL(_),B=document.createElement("a");B.href=z,B.download="departamentos.json",B.click(),URL.revokeObjectURL(z)},k=p==="admin",E=t.filter(T=>T.nombre.toLowerCase().includes(d.toLowerCase()));return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[y&&n.jsx(DFe,{dept:x==="new"?null:x,onClose:()=>b(!1),onSave:F}),n.jsx(Ze,{icon:ng,title:"Departamentos y Categoras",subtitle:"Gestin de departamentos, categoras y subcategoras",actions:[{label:" Volver",onClick:()=>e("gestion")}]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",padding:"0 28px",display:"flex",alignItems:"center",flexShrink:0},children:[[{key:"admin",icon:TF,label:"Vista Administrador",desc:"Acceso completo a todos los controles"},{key:"operador",icon:Woe,label:"Vista Operador",desc:"Sin visibilidad, moneda ni edad"}].map(T=>n.jsxs("button",{onClick:()=>h(T.key),style:{display:"flex",alignItems:"center",gap:"8px",padding:"14px 20px",border:"none",borderBottom:p===T.key?`3px solid ${jo}`:"3px solid transparent",backgroundColor:"transparent",cursor:"pointer",color:p===T.key?jo:"#6B7280",fontWeight:p===T.key?"700":"500",fontSize:"0.85rem",transition:"all 0.15s",whiteSpace:"nowrap"},children:[n.jsx(T.icon,{size:15}),T.label,n.jsx("span",{style:{marginLeft:"4px",padding:"2px 8px",borderRadius:"20px",backgroundColor:p===T.key?"#FFF4EC":"#F3F4F6",color:p===T.key?jo:"#9CA3AF",fontSize:"0.68rem",fontWeight:"600"},children:T.desc})]},T.key)),!k&&n.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"6px",padding:"6px 14px",backgroundColor:"#FEF3C7",borderRadius:"20px",border:"1px solid #FDE68A"},children:[n.jsx(Wr,{size:13,color:"#D97706"}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#92400E"},children:"Visibilidad  Moneda  Alcance  Edad  deshabilitados"})]})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",padding:"12px 28px",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"2px"},children:[n.jsx("span",{style:{fontSize:"1.1rem"},children:""}),n.jsx("h2",{style:{margin:0,fontWeight:"800",color:"#111827",fontSize:"1rem"},children:k?"Gestin Completa de Departamentos":"Departamentos  Vista Restringida"}),n.jsx("span",{style:{padding:"2px 10px",borderRadius:"20px",backgroundColor:k?"#F0FFF4":"#FEF3C7",color:k?"#16A34A":"#D97706",fontSize:"0.72rem",fontWeight:"700",border:`1px solid ${k?"#BBF7D0":"#FDE68A"}`},children:k?" Modo API":" Acceso Limitado"})]}),n.jsx("p",{style:{margin:0,color:"#6B7280",fontSize:"0.75rem"},children:k?"Datos en tiempo real desde Supabase  Cambios se guardan automticamente":"Solo pods editar sincronizacin ML  Visibilidad, moneda, alcance y edad son de gestin exclusiva del Admin"})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"20px 28px",maxWidth:"1200px"},children:[a&&n.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"10px",padding:"12px 16px",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx(Wr,{size:16,color:"#DC2626"}),n.jsx("span",{style:{fontWeight:"600",color:"#DC2626",fontSize:"0.85rem"},children:a})]}),n.jsx("button",{onClick:v,style:{padding:"6px 14px",backgroundColor:"#DC2626",color:"#FFF",border:"none",borderRadius:"7px",fontWeight:"700",cursor:"pointer",fontSize:"0.78rem"},children:"Reintentar"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"20px"},children:[{value:o?"":t.length,label:"Departamentos",color:jo},{value:o?"":t.filter(T=>T.activo).length,label:"Activos",color:"#10B981"},{value:o?"":t.filter(T=>!T.activo).length,label:"Inactivos",color:"#6B7280"}].map((T,_)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"8px",border:`1px solid ${T.color}22`,padding:"12px 16px"},children:[n.jsx("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"900",color:T.color},children:T.value}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:"#6B7280"},children:T.label})]},_))}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px",alignItems:"center"},children:[n.jsx("div",{style:{position:"relative",flex:1,maxWidth:"320px"},children:n.jsx("input",{type:"text",placeholder:"Buscar departamento...",value:d,onChange:T=>f(T.target.value),style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})}),n.jsx("div",{style:{flex:1}}),k&&n.jsxs("button",{onClick:()=>{m("new"),b(!0)},style:{padding:"9px 16px",backgroundColor:jo,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Nt,{size:14})," Nuevo"]}),n.jsxs("button",{onClick:w,style:{padding:"9px 16px",backgroundColor:"#3B82F6",color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Ht,{size:14})," Exportar"]}),n.jsxs("button",{onClick:v,style:{padding:"9px 16px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",color:"#374151",borderRadius:"8px",fontWeight:"600",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(_t,{size:14})," Recargar"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"6px 16px 6px 64px",marginBottom:"4px",gap:"14px"},children:[n.jsx("span",{style:{flex:1,fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Departamento"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",flexShrink:0,fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em"},children:[k&&n.jsx("span",{style:{minWidth:"48px",textAlign:"center"},children:"Visible"}),n.jsx("span",{style:{minWidth:"24px"}})]})]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:o?n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[n.jsx(ur,{size:18,style:{animation:"spin 1s linear infinite"}}),n.jsx("span",{children:"Cargando departamentos..."})]}):E.length===0?n.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#9CA3AF"},children:d?`No se encontraron departamentos para "${d}"`:"No hay departamentos. Cre el primero."}):E.map((T,_)=>n.jsx(NFe,{dept:T,index:_,isExpanded:l.has(T.id),viewMode:p,onToggleExpand:C,onEdit:z=>{m(z),b(!0)},onToggleActivo:S,onLoadCategorias:async z=>await TFe({departamento_id:z}),onSaveCategoria:async z=>{await PFe(z)},onSaveSubcategoria:async z=>{await IFe(z)},onDeleteCategoria:k?async z=>{await BFe(z)}:void 0},T.id))}),k&&!o&&n.jsx("button",{onClick:()=>{m("new"),b(!0)},style:{marginTop:"14px",padding:"12px 20px",border:`2px dashed ${jo}`,borderRadius:"10px",backgroundColor:"#FFF4EC",color:jo,fontWeight:"700",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"8px"},children:" + Nuevo Departamento"})]})})]})}const io="#7C3AED",TG="#FF6835",Np="#16A34A",PG="#DC2626",Yg="#D97706",Il=[],sh=[],p$=[],Sk=[],k5={abierta:{label:"Abierta",bg:"#FEF3C7",color:Yg,Icon:Wr},"en-mediacion":{label:"En mediacin",bg:"#EDE9FE",color:io,Icon:E8},resuelta:{label:"Resuelta",bg:"#DCFCE7",color:Np,Icon:ap},cerrada:{label:"Cerrada",bg:"#F3F4F6",color:"#6B7280",Icon:ML}},Kh={alta:{label:"Alta",color:PG},media:{label:"Media",color:Yg},baja:{label:"Baja",color:Np}};function WFe({listing:e}){return n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #FDE68A",padding:"16px 20px",display:"flex",alignItems:"center",gap:"16px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"10px",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.6rem",flexShrink:0},children:e.image}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:"0 0 3px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:e.title}),n.jsxs("p",{style:{margin:0,color:"#6B7280",fontSize:"0.78rem"},children:[e.category,"  ",e.seller,"  $",e.price]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[n.jsxs("button",{style:{padding:"8px 16px",backgroundColor:"#DCFCE7",color:"#15803D",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.82rem",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(ct,{size:13})," Aprobar"]}),n.jsxs("button",{style:{padding:"8px 16px",backgroundColor:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.82rem",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(nn,{size:13})," Rechazar"]}),n.jsx("button",{style:{padding:"8px 12px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.82rem"},children:n.jsx(yr,{size:14})})]})]})}function VFe({dispute:e,onClose:t}){const[r,o]=A.useState(""),[i,a]=A.useState(e.messages),[s,l]=A.useState(e.status),c=k5[s],d=()=>{r.trim()&&(a(p=>[...p,{id:"m"+Date.now(),from:"admin",name:"Admin",time:"Ahora",text:r.trim()}]),o(""))},f={buyer:{bg:"#EFF6FF",align:"flex-start",nameColor:"#2563EB"},seller:{bg:"#FFF7ED",align:"flex-end",nameColor:TG},admin:{bg:"#F5F3FF",align:"flex-start",nameColor:io}};return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #F3F4F6",display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"12px",flexShrink:0},children:[n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[n.jsx("span",{style:{fontSize:"1.3rem"},children:e.itemEmoji}),n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.9rem"},children:e.id}),n.jsxs("span",{style:{padding:"2px 10px",borderRadius:"20px",backgroundColor:c.bg,color:c.color,fontSize:"0.72rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(c.Icon,{size:10})," ",c.label]}),n.jsx("span",{style:{padding:"2px 8px",borderRadius:"20px",backgroundColor:Kh[e.priority].color+"18",color:Kh[e.priority].color,fontSize:"0.68rem",fontWeight:"700"},children:Kh[e.priority].label})]}),n.jsxs("p",{style:{margin:"0 0 4px",fontWeight:"600",color:"#374151",fontSize:"0.82rem"},children:[e.itemTitle,"  $",e.itemPrice]}),n.jsxs("p",{style:{margin:0,color:"#6B7280",fontSize:"0.75rem"},children:[" Comprador: ",n.jsx("b",{children:e.buyer}),"   Vendedor: ",n.jsx("b",{children:e.seller})]}),n.jsxs("p",{style:{margin:"4px 0 0",color:"#9CA3AF",fontSize:"0.72rem"},children:["Motivo: ",e.reason]})]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"4px",flexShrink:0},children:n.jsx(Ut,{size:18})})]}),n.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid #F3F4F6",display:"flex",gap:"8px",flexShrink:0,flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>l("en-mediacion"),disabled:s==="en-mediacion",style:{padding:"7px 14px",backgroundColor:s==="en-mediacion"?io:"#EDE9FE",color:s==="en-mediacion"?"#fff":io,border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"5px",opacity:s==="en-mediacion"?.7:1},children:[n.jsx(E8,{size:12})," Iniciar mediacin"]}),n.jsxs("button",{onClick:()=>l("resuelta"),disabled:s==="resuelta"||s==="cerrada",style:{padding:"7px 14px",backgroundColor:s==="resuelta"?Np:"#DCFCE7",color:s==="resuelta"?"#fff":Np,border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"5px",opacity:s==="resuelta"||s==="cerrada"?.6:1},children:[n.jsx(ap,{size:12})," Marcar resuelta"]}),n.jsxs("button",{onClick:()=>l("cerrada"),disabled:s==="cerrada",style:{padding:"7px 14px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"5px",opacity:s==="cerrada"?.6:1},children:[n.jsx(ML,{size:12})," Cerrar disputa"]}),n.jsxs("button",{onClick:()=>l("abierta"),style:{padding:"7px 14px",backgroundColor:"#FEF3C7",color:Yg,border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(Fa,{size:12})," Reabrir"]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"16px 20px",display:"flex",flexDirection:"column",gap:"12px"},children:i.map(p=>{const h=f[p.from];return n.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:h.align},children:n.jsxs("div",{style:{maxWidth:"85%"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px",justifyContent:h.align},children:[n.jsxs("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:h.nameColor},children:[p.from==="admin"?" ":p.from==="buyer"?" ":" ",p.name]}),n.jsx("span",{style:{fontSize:"0.65rem",color:"#9CA3AF"},children:p.time})]}),n.jsx("div",{style:{backgroundColor:h.bg,borderRadius:"12px",padding:"10px 14px",fontSize:"0.82rem",color:"#374151",lineHeight:1.5},children:p.text})]})},p.id)})}),n.jsxs("div",{style:{padding:"12px 20px",borderTop:"1px solid #F3F4F6",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-end"},children:[n.jsx("textarea",{value:r,onChange:p=>o(p.target.value),placeholder:"Escrib un mensaje como mediador...",rows:2,style:{flex:1,padding:"10px 14px",border:"1px solid #E5E7EB",borderRadius:"10px",fontSize:"0.82rem",resize:"none",outline:"none",fontFamily:"inherit"},onKeyDown:p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),d())}}),n.jsxs("button",{onClick:d,disabled:!r.trim(),style:{padding:"10px 16px",backgroundColor:r.trim()?io:"#E5E7EB",color:r.trim()?"#fff":"#9CA3AF",border:"none",borderRadius:"10px",cursor:r.trim()?"pointer":"default",fontWeight:"700",transition:"all 0.15s",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap",fontSize:"0.82rem"},children:[n.jsx(Aa,{size:13})," Enviar"]})]}),n.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.68rem",color:"#9CA3AF"},children:" Este mensaje ser visible para comprador y vendedor como intervencin del mediador"})]})]})}function UFe({onNavigate:e}){const[t,r]=A.useState("estadisticas"),[o,i]=A.useState("all"),[a,s]=A.useState(""),[l,c]=A.useState(!0),[d,f]=A.useState("all"),[p,h]=A.useState(""),[x,m]=A.useState(null),y=Il.filter(_=>_.status==="pending").length,b=Il.filter(_=>_.status==="approved").length,v=Il.filter(_=>_.status==="rejected").length,C=Il.filter(_=>!(o!=="all"&&_.status!==o||a&&!_.title.toLowerCase().includes(a.toLowerCase())&&!_.seller.toLowerCase().includes(a.toLowerCase()))),S=sh.filter(_=>!(d!=="all"&&_.status!==d||p&&!_.itemTitle.toLowerCase().includes(p.toLowerCase())&&!_.buyer.toLowerCase().includes(p.toLowerCase())&&!_.seller.toLowerCase().includes(p.toLowerCase()))),F=sh.filter(_=>_.status==="abierta").length,w=sh.filter(_=>_.status==="en-mediacion").length,k=sh.filter(_=>_.status==="resuelta").length,E={pending:{label:"Pendiente",bg:"#FEF3C7",color:"#B45309",Icon:Ct},approved:{label:"Aprobada",bg:"#DCFCE7",color:"#15803D",Icon:ct},rejected:{label:"Rechazada",bg:"#FEE2E2",color:"#DC2626",Icon:nn}},T=[{id:"estadisticas",label:" Estadsticas"},{id:"moderacion",label:" Moderacin"},{id:"publicaciones",label:" Publicaciones"},{id:"mediacion",label:" Mediacin"}];return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:RefreshCw,title:"Second Hand",subtitle:"Marketplace de artculos usados  Moderacin, estadsticas y mediacin de disputas",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:"Exportar Datos"}]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsx("div",{style:{display:"flex",padding:"0 28px"},children:T.map(_=>n.jsxs("button",{onClick:()=>{r(_.id),m(null)},style:{padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===_.id?io:"#6B7280",fontWeight:t===_.id?"700":"500",fontSize:"0.875rem",borderBottom:t===_.id?`2px solid ${io}`:"2px solid transparent",position:"relative"},children:[_.label,_.id==="mediacion"&&F+w>0&&n.jsx("span",{style:{position:"absolute",top:"10px",right:"4px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:PG,color:"#fff",fontSize:"0.6rem",fontWeight:"900",display:"flex",alignItems:"center",justifyContent:"center"},children:F+w})]},_.id))})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[t==="estadisticas"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Total Publicaciones",value:Il.length.toString(),Icon:Rt,color:io,sub:"Cargando..."},{label:"Pendientes",value:y.toString(),Icon:Ct,color:Yg,sub:"Requieren revisin"},{label:"Aprobadas",value:b.toString(),Icon:ct,color:Np,sub:Il.length>0?`${Math.round(b/Il.length*100)}% del total`:"0%"},{label:"Vendedores Activos",value:"0",Icon:Et,color:"#3B82F6",sub:"Endpoint pendiente"}].map((_,z)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:`1px solid ${_.color}22`,borderRadius:"12px",padding:"18px 20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:_.label}),n.jsx(_.Icon,{size:16,color:_.color})]}),n.jsx("p",{style:{margin:"0 0 4px",fontSize:"1.7rem",fontWeight:"900",color:_.color},children:_.value}),n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:_.sub})]},z))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Valor Total Publicado",value:"$0",Icon:yn,color:"#10B981",note:"Endpoint pendiente"},{label:"Precio Promedio",value:"$0",Icon:Xt,color:TG,note:"Endpoint pendiente"},{label:"Tasa de Aprobacin",value:"0%",Icon:hn,color:io,note:"Endpoint pendiente"}].map((_,z)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"18px 20px",display:"flex",alignItems:"center",gap:"14px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:_.color+"18",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(_.Icon,{size:20,color:_.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.75rem",color:"#6B7280"},children:_.label}),n.jsx("p",{style:{margin:"0 0 2px",fontSize:"1.4rem",fontWeight:"900",color:_.color},children:_.value}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"#9CA3AF"},children:_.note})]})]},z))}),p$.length>0&&Sk.length>0?n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px"},children:[n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Publicaciones por Mes"}),n.jsx(os,{width:"100%",height:200,children:n.jsxs(R_,{data:p$,margin:{top:5,right:10,left:-20,bottom:5},children:[n.jsx(uc,{strokeDasharray:"3 3",stroke:"#F3F4F6"}),n.jsx(Ra,{dataKey:"mes",tick:{fontSize:11,fill:"#9CA3AF"}}),n.jsx(Ta,{tick:{fontSize:11,fill:"#9CA3AF"}}),n.jsx(Bn,{contentStyle:{borderRadius:"8px",fontSize:"0.75rem"}}),n.jsx(ps,{dataKey:"aprobadas",fill:"#10B981",radius:[3,3,0,0],name:"Aprobadas"}),n.jsx(ps,{dataKey:"rechazadas",fill:"#EF4444",radius:[3,3,0,0],name:"Rechazadas"})]})})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Por Categora"}),n.jsx(os,{width:"100%",height:200,children:n.jsxs(T_,{children:[n.jsx(Ia,{data:Sk,cx:"50%",cy:"45%",outerRadius:70,dataKey:"value",label:({value:_})=>`${_}%`,labelLine:!1,fontSize:9,children:Sk.map((_,z)=>n.jsx(tf,{fill:_.color},z))}),n.jsx(Bn,{contentStyle:{borderRadius:"8px",fontSize:"0.75rem"}})]})})]})]}):n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"40px",textAlign:"center",color:"#9CA3AF"},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:" Grficos disponibles cuando haya datos  endpoint /api/estadisticas/secondhand pendiente"})})]}),t==="moderacion"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:"linear-gradient(135deg, #6D28D9, #7C3AED, #4F46E5)",borderRadius:"12px",padding:"20px 24px",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("span",{style:{fontSize:"1.5rem"},children:""}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:0,color:"#FFFFFF",fontWeight:"800",fontSize:"1rem"},children:"Panel de Moderacin"}),n.jsx("p",{style:{margin:"2px 0 0",color:"rgba(255,255,255,0.8)",fontSize:"0.78rem"},children:"Revisa y aprueba publicaciones de Second Hand"})]})]}),n.jsx("button",{onClick:()=>c(!l),style:{padding:"8px 18px",backgroundColor:"rgba(255,255,255,0.2)",color:"#FFF",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"0.82rem"},children:l?"Cerrar":"Abrir"})]}),l&&(y===0?n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"60px",textAlign:"center"},children:[n.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#DCFCE7",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:n.jsx(ct,{size:32,color:"#16A34A"})}),n.jsx("h3",{style:{margin:"0 0 6px",fontWeight:"800",color:"#111827",fontSize:"1rem"},children:"Todo revisado!"}),n.jsx("p",{style:{margin:0,color:"#6B7280",fontSize:"0.82rem"},children:"No hay publicaciones pendientes de aprobacin"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Il.filter(_=>_.status==="pending").map(_=>n.jsx(WFe,{listing:_},_.id))}))]}),t==="publicaciones"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px",flexWrap:"wrap"},children:[n.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"320px"},children:[n.jsx(tr,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},size:14,color:"#9CA3AF"}),n.jsx("input",{type:"text",placeholder:"Buscar publicacin o vendedor...",value:a,onChange:_=>s(_.target.value),style:{width:"100%",padding:"9px 12px 9px 32px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]}),["all","pending","approved","rejected"].map(_=>n.jsx("button",{onClick:()=>i(_),style:{padding:"8px 14px",borderRadius:"8px",border:`1px solid ${o===_?io:"#E5E7EB"}`,backgroundColor:o===_?io:"#FFF",color:o===_?"#FFF":"#374151",fontWeight:o===_?"700":"500",cursor:"pointer",fontSize:"0.78rem"},children:_==="all"?"Todos":_==="pending"?`Pendientes (${y})`:_==="approved"?`Aprobadas (${b})`:`Rechazadas (${v})`},_))]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Artculo","Categora","Precio","Vendedor","Estado","Fecha","Acciones"].map(_=>n.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:_},_))})}),n.jsx("tbody",{children:C.map((_,z)=>{const B=E[_.status];return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:z%2===0?"#FFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("span",{style:{fontSize:"1.3rem"},children:_.image}),n.jsx("span",{style:{fontWeight:"600",color:"#111827",fontSize:"0.82rem",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.title})]})}),n.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:_.category}),n.jsxs("td",{style:{padding:"12px 14px",fontWeight:"700",color:"#111827",fontSize:"0.875rem"},children:["$",_.price]}),n.jsx("td",{style:{padding:"12px 14px",color:"#374151",fontSize:"0.8rem"},children:_.seller}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("span",{style:{padding:"3px 10px",borderRadius:"20px",backgroundColor:B.bg,color:B.color,fontSize:"0.72rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px",width:"fit-content"},children:[n.jsx(B.Icon,{size:11})," ",B.label]})}),n.jsx("td",{style:{padding:"12px 14px",color:"#9CA3AF",fontSize:"0.78rem"},children:_.createdAt}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:n.jsx(yr,{size:14})}),_.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{style:{padding:"3px 8px",backgroundColor:"#DCFCE7",color:"#15803D",border:"none",borderRadius:"5px",fontSize:"0.7rem",fontWeight:"700",cursor:"pointer"},children:" Aprobar"}),n.jsx("button",{style:{padding:"3px 8px",backgroundColor:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"5px",fontSize:"0.7rem",fontWeight:"700",cursor:"pointer"},children:" Rechazar"})]})]})})]},_.id)})})]})})]}),t==="mediacion"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px",marginBottom:"20px"},children:[{label:"Total disputas",value:sh.length,color:"#374151",bg:"#F9FAFB",Icon:dc},{label:"Abiertas",value:F,color:Yg,bg:"#FFFBEB",Icon:Wr},{label:"En mediacin",value:w,color:io,bg:"#F5F3FF",Icon:E8},{label:"Resueltas",value:k,color:Np,bg:"#F0FDF4",Icon:ap}].map((_,z)=>n.jsxs("div",{style:{backgroundColor:_.bg,border:`1px solid ${_.color}22`,borderRadius:"12px",padding:"16px 18px",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"10px",backgroundColor:_.color+"18",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(_.Icon,{size:18,color:_.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#6B7280"},children:_.label}),n.jsx("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"900",color:_.color},children:_.value})]})]},z))}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:x?"380px 1fr":"1fr",gap:"16px",alignItems:"start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",flexWrap:"wrap"},children:n.jsxs("div",{style:{position:"relative",flex:1},children:[n.jsx(tr,{style:{position:"absolute",left:"9px",top:"50%",transform:"translateY(-50%)"},size:13,color:"#9CA3AF"}),n.jsx("input",{type:"text",placeholder:"Buscar disputa...",value:p,onChange:_=>h(_.target.value),style:{width:"100%",padding:"8px 10px 8px 28px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.78rem",outline:"none",boxSizing:"border-box"}})]})}),n.jsx("div",{style:{display:"flex",gap:"6px",marginBottom:"12px",flexWrap:"wrap"},children:["all","abierta","en-mediacion","resuelta","cerrada"].map(_=>{var z;return n.jsx("button",{onClick:()=>f(_),style:{padding:"5px 11px",borderRadius:"20px",border:`1px solid ${d===_?io:"#E5E7EB"}`,backgroundColor:d===_?io:"#FFF",color:d===_?"#FFF":"#374151",fontWeight:d===_?"700":"400",cursor:"pointer",fontSize:"0.72rem"},children:_==="all"?"Todas":((z=k5[_])==null?void 0:z.label)??_},_)})}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[S.length===0&&n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"48px",textAlign:"center",color:"#9CA3AF",fontSize:"0.82rem"},children:"No hay disputas con ese filtro"}),S.map(_=>{const z=k5[_.status],B=(x==null?void 0:x.id)===_.id;return n.jsxs("div",{onClick:()=>m(B?null:_),style:{backgroundColor:B?"#F5F3FF":"#FFFFFF",border:`1px solid ${B?io:"#E5E7EB"}`,borderRadius:"12px",padding:"14px 16px",cursor:"pointer",transition:"all 0.15s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"1.2rem"},children:_.itemEmoji}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"700",fontSize:"0.82rem",color:"#111827"},children:_.id}),n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280"},children:_.itemTitle})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[n.jsxs("span",{style:{padding:"2px 8px",borderRadius:"20px",backgroundColor:z.bg,color:z.color,fontSize:"0.65rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(z.Icon,{size:9})," ",z.label]}),n.jsxs("span",{style:{fontSize:"0.65rem",color:Kh[_.priority].color,fontWeight:"700"},children:[" ",Kh[_.priority].label]})]})]}),n.jsxs("p",{style:{margin:"0 0 4px",fontSize:"0.72rem",color:"#374151"},children:[" ",_.buyer,"   ",_.seller]}),n.jsxs("p",{style:{margin:"0 0 4px",fontSize:"0.72rem",color:"#6B7280",fontStyle:"italic"},children:['"',_.reason,'"']}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{style:{fontSize:"0.65rem",color:"#9CA3AF"},children:[_.openedAt,"  ",_.messages.length," mensajes"]}),n.jsx(Xr,{size:12,color:B?io:"#9CA3AF"})]})]},_.id)})]})]}),x&&n.jsx("div",{style:{position:"sticky",top:"0",height:"calc(100vh - 260px)",minHeight:"500px"},children:n.jsx(VFe,{dispute:x,onClose:()=>m(null)})})]})]})]})})]})}const Sn="#FF6835",qFe=[{title:"Nike Air Max 270 React",description:"El Nike Air Max 270 React combina la unidad Air ms grande de Nike hasta la fecha con la espuma React para una experiencia de amortiguacin sin igual. Ideal para uso diario y actividades deportivas.",category:"Moda y Accesorios",brand:"Nike",emoji:"",attrs:{Modelo:"Air Max 270 React",Material:"Cuero sinttico / mesh",Suela:"Caucho",Cierre:"Cordones",Temporada:"Todo el ao",Gnero:"Unisex","Pas de origen":"Vietnam"}},{title:"Nike Air Force 1 Blancas",description:"Las icnicas zapatillas Nike Air Force 1 en color blanco puro. Diseo atemporal con suela de goma y forro de tela.",category:"Moda y Accesorios",brand:"Nike",emoji:"",attrs:{Modelo:"Air Force 1 Low",Material:"Cuero genuino",Suela:"Goma",Cierre:"Cordones",Gnero:"Unisex"}},{title:"iPhone 14 Pro 128GB Deep Purple",description:"iPhone 14 Pro con chip A16 Bionic, Dynamic Island, cmara principal de 48 MP y pantalla Super Retina XDR ProMotion 120Hz.",category:"Tecnologa",brand:"Apple",emoji:"",attrs:{Almacenamiento:"128 GB",Color:"Deep Purple",SO:"iOS 16",Conectividad:"5G",Cmara:"48 MP triple",Batera:"3200 mAh",Pantalla:'6.1" OLED'}},{title:"iPhone 14 128GB Midnight",description:"iPhone 14 con chip A15 Bionic, cmara dual de 12 MP y pantalla Super Retina XDR.",category:"Tecnologa",brand:"Apple",emoji:"",attrs:{Almacenamiento:"128 GB",Color:"Midnight",SO:"iOS 16",Conectividad:"5G",Cmara:"12 MP dual",Batera:"3279 mAh"}},{title:"Samsung Galaxy S23 Ultra 256GB",description:"Galaxy S23 Ultra con S Pen integrado, cmara de 200 MP y batera de 5000 mAh.",category:"Tecnologa",brand:"Samsung",emoji:"",attrs:{Almacenamiento:"256 GB",Color:"Phantom Black",SO:"Android 13",Cmara:"200 MP",Batera:"5000 mAh",Pantalla:'6.8" Dynamic AMOLED'}},{title:"Aceite de Oliva Extravirgen 5lt Colinas de Garzn",description:"Aceite de oliva extravirgen premium, primera prensada en fro. Notas frutales y bajo nivel de acidez.",category:"Alimentos y Bebidas",brand:"Colinas de Garzn",emoji:"",attrs:{"Formato de venta":"Unidad",Peso:"5 kg","Tipo de aceite":"Extra virgen Blend",Envase:"Botella vidrio",Volumen:"5 L"}},{title:"Silla Ergonmica Mesh XT Pro",description:"Silla de oficina ergonmica con respaldo de malla transpirable, soporte lumbar ajustable y reposabrazos 4D.",category:"Hogar y Decoracin",brand:"OfficePro",emoji:"",attrs:{"Material tapizado":"Mesh / Tela","Peso mximo":"120 kg","Altura ajustable":"S",Color:"Negro"}},{title:"Cafetera Nespresso Essenza Mini",description:"La cafetera Nespresso ms compacta. Compatible con cpsulas OriginalLine, calienta en 25 segundos.",category:"Electrodomsticos",brand:"Nespresso",emoji:"",attrs:{Presin:"19 bares",Depsito:"0.6 L",Potencia:"1310 W"}},{title:"Pelota de Ftbol Nike Premier League",description:"Baln oficial Nike Premier League con tecnologa de vuelo consistente y cubierta texturizada.",category:"Deportes y Fitness",brand:"Nike",emoji:"",attrs:{Talla:"5",Material:"PU sinttico",Uso:"Partido oficial"}},{title:"Cafetera De Longhi Dedica Style",description:"Cafetera espresso De Longhi con bomba de 15 bares, vaporizador de leche y diseo compacto.",category:"Electrodomsticos",brand:"De Longhi",emoji:"",attrs:{Presin:"15 bares",Depsito:"1.3 L",Potencia:"1300 W"}}],HFe={synced:{label:"Sincronizado",color:"#15803D",bg:"#DCFCE7",Icon:ct},pending:{label:"Pendiente",color:"#B45309",bg:"#FEF3C7",Icon:Ct},error:{label:"Error",color:"#DC2626",bg:"#FEE2E2",Icon:Jt},disabled:{label:"Desactivado",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ut}},GFe=["Alimentos y Bebidas","Higiene y Cuidado Personal","Tecnologa","Moda y Accesorios","Hogar y Decoracin","Herramientas y Mejoras","Electrodomsticos","Indumentaria","Bebs y Nios","Deportes y Fitness","Automotriz","Oficina y Librera","Mascotas","Juguetera","Salud y Bienestar","Limpieza del Hogar","Msica e Instrumentos","Pelculas, Series y Entretenimiento","Contenido Adulto"];function KFe({product:e,onClose:t,onSave:r}){const o=!(e!=null&&e.name),[i,a]=A.useState(0),[s,l]=A.useState([!1,!1,!1]),[c,d]=A.useState([]),[f,p]=A.useState(!1),[h,x]=A.useState(null),[m,y]=A.useState(""),b=A.useRef(null),v=A.useRef(null),C=A.useRef(null),[S,F]=A.useState({name:"",description:"",price:"",category:"",images:[],videos:[],sku:"",barcode:"",brand:"",stock:"0",minStock:"0",weight:"",dimH:"",dimW:"",dimL:"",tags:[],discount:"",serialNumber:"",cost:"",supplier:"",taxRate:"22",warranty:"12 meses",origin:"",material:"",color:"",size:"",seoTitle:"",seoDesc:"",sync:{store:!0,ml:!1,instagram:!1,whatsapp:!1},syncStatus:{store:"pending",ml:"disabled",instagram:"disabled",whatsapp:"disabled"},mlAttributes:{},...e}),w=(I,N)=>F(M=>({...M,[I]:N}));A.useEffect(()=>{const I=N=>{C.current&&!C.current.contains(N.target)&&p(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const k=I=>{if(w("name",I),I.length<2){d([]),p(!1);return}const N=qFe.filter(M=>M.title.toLowerCase().includes(I.toLowerCase())||M.brand.toLowerCase().includes(I.toLowerCase())||M.category.toLowerCase().includes(I.toLowerCase()));d(N),p(N.length>0)},E=I=>{F(N=>({...N,name:I.title,description:I.description,category:I.category,brand:I.brand,mlAttributes:I.attrs})),x(I.title),p(!1),d([])},T=(I,N)=>{const M=Array.from(I.target.files||[]).map(L=>({id:Math.random().toString(36).slice(2),name:L.name,url:URL.createObjectURL(L),type:N,size:`${(L.size/1024).toFixed(0)} KB`,file:L})),V=N==="image"?"images":"videos";w(V,[...S[V],...M]),I.target.value=""},_=(I,N)=>{const M=N==="image"?"images":"videos";w(M,S[M].filter(V=>V.id!==I))},z=()=>{const I=m.trim();I&&!S.tags.includes(I)&&(w("tags",[...S.tags,I]),y(""))},B=()=>{const I=[...s];I[i]=!0,l(I),a(N=>Math.min(N+1,2))},P=I=>{w("syncStatus",{...S.syncStatus,[I]:"pending"}),setTimeout(()=>w("syncStatus",{...S.syncStatus,[I]:Math.random()>.2?"synced":"error"}),1400)},D=[{label:"Bsica",sub:"Informacin esencial",icon:""},{label:"Intermedia",sub:"Inventario y logstica",icon:""},{label:"Avanzada",sub:"SEO y sincronizacin",icon:""}];return n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},onClick:t,children:n.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"16px",width:"100%",maxWidth:"840px",maxHeight:"92vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 60px rgba(0,0,0,0.25)"},onClick:I=>I.stopPropagation(),children:[n.jsxs("div",{style:{padding:"22px 28px 0",borderBottom:"1px solid #F3F4F6",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:"0 0 2px",fontWeight:"900",fontSize:"1.1rem",color:"#111827"},children:o?"+ Nuevo Artculo":`Editar: ${S.name||"Artculo"}`}),n.jsx("p",{style:{margin:0,color:"#9CA3AF",fontSize:"0.75rem"},children:"Complet los 3 pasos  Los campos con * son obligatorios"})]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:20})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px",marginBottom:"-1px"},children:D.map((I,N)=>{const M=i===N,V=s[N];return n.jsxs("button",{onClick:()=>a(N),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 14px",border:`1.5px solid ${M?Sn:V?"#16A34A":"#E5E7EB"}`,borderBottom:M?"1.5px solid #FFF":`1.5px solid ${V?"#16A34A":"#E5E7EB"}`,borderRadius:"9px 9px 0 0",backgroundColor:M?"#FFF":V?"#F0FFF4":"#F9FAFB",cursor:"pointer",textAlign:"left"},children:[n.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"7px",backgroundColor:M?Sn:V?"#16A34A":"#E5E7EB",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:V&&!M?n.jsx(ct,{size:14,color:"#FFF"}):n.jsx("span",{style:{fontSize:"0.9rem"},children:I.icon})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"700",fontSize:"0.82rem",color:M?Sn:V?"#16A34A":"#374151"},children:I.label}),n.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"#9CA3AF"},children:I.sub})]})]},N)})})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"22px 28px"},children:[i===0&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs(Cr,{label:"Nombre del Artculo *",children:[n.jsxs("div",{ref:C,style:{position:"relative"},children:[n.jsx("input",{type:"text",placeholder:"Escrib el nombre para buscar y autocompletar datos",value:S.name,onChange:I=>k(I.target.value),onFocus:()=>c.length>0&&p(!0),style:{...$r,paddingRight:"90px"}}),n.jsxs("span",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"3px",fontSize:"0.65rem",color:"#9CA3AF",pointerEvents:"none"},children:[n.jsx(ns,{size:10,color:Sn})," ML autocomplete"]}),f&&c.length>0&&n.jsxs("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,backgroundColor:"#FFF",border:"1px solid #E5E7EB",borderRadius:"10px",boxShadow:"0 12px 32px rgba(0,0,0,0.14)",zIndex:200,maxHeight:"260px",overflowY:"auto"},children:[n.jsxs("div",{style:{padding:"8px 12px 4px",borderBottom:"1px solid #F3F4F6",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(ns,{size:11,color:Sn}),n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#374151"},children:"Resultados  seleccion para autocompletar"})]}),c.map((I,N)=>n.jsxs("button",{onClick:()=>E(I),style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",border:"none",background:"transparent",cursor:"pointer",textAlign:"left",borderBottom:N<c.length-1?"1px solid #F9FAFB":"none"},onMouseEnter:M=>M.currentTarget.style.backgroundColor="#FFF4EC",onMouseLeave:M=>M.currentTarget.style.backgroundColor="transparent",children:[n.jsx("span",{style:{fontSize:"1.3rem",flexShrink:0},children:I.emoji}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:"0 0 1px",fontWeight:"700",color:"#111827",fontSize:"0.82rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.title}),n.jsxs("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF"},children:[I.brand,"  ",I.category,"  ",n.jsxs("span",{style:{color:"#10B981"},children:[Object.keys(I.attrs).length," atributos ML"]})]})]}),n.jsx("span",{style:{padding:"2px 8px",backgroundColor:`${Sn}18`,color:Sn,borderRadius:"5px",fontSize:"0.65rem",fontWeight:"800",flexShrink:0},children:"Usar"})]},N))]})]}),h&&n.jsxs("div",{style:{marginTop:"6px",display:"flex",alignItems:"center",gap:"6px",padding:"5px 10px",backgroundColor:"#F0FFF4",border:"1px solid #BBF7D0",borderRadius:"6px",fontSize:"0.72rem",color:"#15803D"},children:[n.jsx(ct,{size:12})," Datos importados: ",n.jsx("strong",{children:h}),n.jsx("button",{onClick:()=>{x(null),w("mlAttributes",{})},style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:0},children:""})]})]}),n.jsx(Cr,{label:"Descripcin *",children:n.jsx("textarea",{rows:5,placeholder:"Descripcin detallada del artculo",value:S.description,onChange:I=>w("description",I.target.value),style:{...$r,resize:"vertical"}})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px"},children:[n.jsx(Cr,{label:"Precio *",children:n.jsxs("div",{style:{position:"relative"},children:[n.jsx("span",{style:{position:"absolute",left:"11px",top:"50%",transform:"translateY(-50%)",color:"#6B7280",fontWeight:"700",fontSize:"0.875rem"},children:"$"}),n.jsx("input",{type:"number",step:"0.01",value:S.price,onChange:I=>w("price",I.target.value),style:{...$r,paddingLeft:"24px"}})]})}),n.jsx(Cr,{label:"Categora *",children:n.jsxs("select",{value:S.category,onChange:I=>w("category",I.target.value),style:{...$r,backgroundColor:"#FFF"},children:[n.jsx("option",{value:"",children:"Seleccionar categora"}),GFe.map(I=>n.jsx("option",{value:I,children:I},I))]})})]}),n.jsxs(Cr,{label:"Imgenes *  mn. 1 foto",children:[n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[S.images.map((I,N)=>n.jsxs("div",{style:{position:"relative",width:"88px",height:"88px",borderRadius:"8px",overflow:"hidden",border:N===0?`2px solid ${Sn}`:"1px solid #E5E7EB"},children:[n.jsx("img",{src:I.url,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}),N===0&&n.jsx("span",{style:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:`${Sn}CC`,color:"#FFF",fontSize:"0.58rem",fontWeight:"700",textAlign:"center",padding:"2px"},children:"Principal"}),n.jsx("button",{onClick:()=>_(I.id,"image"),style:{position:"absolute",top:"3px",right:"3px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.65)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ut,{size:9,color:"#FFF"})})]},I.id)),n.jsxs("button",{onClick:()=>{var I;return(I=b.current)==null?void 0:I.click()},style:{width:"88px",height:"88px",borderRadius:"8px",border:`2px dashed ${Sn}`,backgroundColor:"#FFF4EC",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"5px",color:Sn},children:[n.jsx(_o,{size:18}),n.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"700",textAlign:"center",lineHeight:1.3},children:"+ Foto"})]}),n.jsx("input",{ref:b,type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:I=>T(I,"image")})]}),n.jsx("p",{style:{margin:"5px 0 0",fontSize:"0.7rem",color:"#9CA3AF"},children:"La primera imagen es la foto principal."})]}),n.jsx(Cr,{label:"Videos del producto (opcional)",children:n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[S.videos.map(I=>n.jsxs("div",{style:{position:"relative",width:"120px",height:"70px",borderRadius:"8px",border:"1px solid #E5E7EB",backgroundColor:"#F3F4F6",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"3px"},children:[n.jsx(iR,{size:18,color:"#6B7280"}),n.jsx("span",{style:{fontSize:"0.6rem",color:"#6B7280",maxWidth:"110px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0 4px"},children:I.name}),n.jsx("button",{onClick:()=>_(I.id,"video"),style:{position:"absolute",top:"3px",right:"3px",width:"15px",height:"15px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.5)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ut,{size:8,color:"#FFF"})})]},I.id)),n.jsxs("button",{onClick:()=>{var I;return(I=v.current)==null?void 0:I.click()},style:{width:"120px",height:"70px",borderRadius:"8px",border:"2px dashed #9CA3AF",backgroundColor:"#F9FAFB",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",color:"#6B7280"},children:[n.jsx(iR,{size:15}),n.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"600"},children:"+ Video"})]}),n.jsx("input",{ref:v,type:"file",accept:"video/*",multiple:!0,style:{display:"none"},onChange:I=>T(I,"video")})]})}),Object.keys(S.mlAttributes).length>0&&n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"0 0 8px",fontWeight:"700",color:"#374151",fontSize:"0.82rem",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(ns,{size:13,color:Sn})," Atributos importados de ML"]}),n.jsx("div",{style:{border:"1px solid #E5E7EB",borderRadius:"8px",overflow:"hidden"},children:Object.entries(S.mlAttributes).map(([I,N],M,V)=>n.jsxs("div",{style:{display:"flex",borderBottom:M<V.length-1?"1px solid #F3F4F6":"none",backgroundColor:M%2===0?"#FAFAFA":"#FFF"},children:[n.jsx("span",{style:{padding:"8px 12px",fontSize:"0.78rem",color:"#374151",fontWeight:"600",width:"42%",borderRight:"1px solid #F3F4F6"},children:I}),n.jsx("span",{style:{padding:"8px 12px",fontSize:"0.78rem",color:"#6B7280",flex:1},children:N})]},I))})]})]}),i===1&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[n.jsx(Cr,{label:"SKU",children:n.jsx("input",{type:"text",placeholder:"ELE-001",value:S.sku,onChange:I=>w("sku",I.target.value),style:$r})}),n.jsx(Cr,{label:"Cdigo de Barras",children:n.jsx("input",{type:"text",placeholder:"7501234567890",value:S.barcode,onChange:I=>w("barcode",I.target.value),style:$r})}),n.jsx(Cr,{label:"Marca",children:n.jsx("input",{type:"text",placeholder:"Nike, Apple",value:S.brand,onChange:I=>w("brand",I.target.value),style:$r})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[n.jsx(Cr,{label:"Stock Disponible",children:n.jsx("input",{type:"number",value:S.stock,onChange:I=>w("stock",I.target.value),style:$r})}),n.jsx(Cr,{label:"Stock Mnimo",children:n.jsx("input",{type:"number",value:S.minStock,onChange:I=>w("minStock",I.target.value),style:$r})}),n.jsx(Cr,{label:"Peso (kg)",children:n.jsx("input",{type:"number",step:"0.01",value:S.weight,onChange:I=>w("weight",I.target.value),style:$r})})]}),n.jsx(Cr,{label:"Dimensiones (cm)  Alto  Ancho  Largo",children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:["dimH","dimW","dimL"].map((I,N)=>n.jsx("input",{type:"number",placeholder:["Alto","Ancho","Largo"][N],value:S[I],onChange:M=>w(I,M.target.value),style:$r},I))})}),n.jsx(Cr,{label:"Nmero de Serie",children:n.jsx("input",{type:"text",placeholder:"SN-XXXXXXXXXX",value:S.serialNumber,onChange:I=>w("serialNumber",I.target.value),style:$r})}),n.jsxs(Cr,{label:"Etiquetas (Enter para agregar)",children:[n.jsx("div",{style:{display:"flex",gap:"6px",marginBottom:"6px",flexWrap:"wrap"},children:S.tags.map(I=>n.jsxs("span",{style:{padding:"3px 9px",backgroundColor:`${Sn}18`,border:`1px solid ${Sn}33`,color:Sn,borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"3px"},children:[I,n.jsx("button",{onClick:()=>w("tags",S.tags.filter(N=>N!==I)),style:{background:"none",border:"none",cursor:"pointer",color:Sn,padding:0,lineHeight:1},children:""})]},I))}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("input",{type:"text",placeholder:"Nueva etiqueta",value:m,onChange:I=>y(I.target.value),onKeyDown:I=>I.key==="Enter"&&z(),style:{...$r,flex:1}}),n.jsxs("button",{onClick:z,style:{padding:"9px 14px",backgroundColor:Sn,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Nt,{size:13}),"Agregar"]})]})]}),n.jsx(Cr,{label:"Descuento (%)",children:n.jsx("input",{type:"number",min:"0",max:"100",value:S.discount,onChange:I=>w("discount",I.target.value),style:{...$r,maxWidth:"180px"}})})]}),i===2&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"18px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[n.jsx(Cr,{label:"Costo",children:n.jsx("input",{type:"number",step:"0.01",value:S.cost,onChange:I=>w("cost",I.target.value),style:$r})}),n.jsx(Cr,{label:"Proveedor",children:n.jsx("input",{type:"text",value:S.supplier,onChange:I=>w("supplier",I.target.value),style:$r})}),n.jsx(Cr,{label:"Tasa Impuesto (%)",children:n.jsx("input",{type:"number",value:S.taxRate,onChange:I=>w("taxRate",I.target.value),style:$r})}),n.jsx(Cr,{label:"Garanta",children:n.jsx("input",{type:"text",placeholder:"12 meses",value:S.warranty,onChange:I=>w("warranty",I.target.value),style:$r})}),n.jsx(Cr,{label:"Pas de Origen",children:n.jsx("input",{type:"text",value:S.origin,onChange:I=>w("origin",I.target.value),style:$r})}),n.jsx(Cr,{label:"Material",children:n.jsx("input",{type:"text",value:S.material,onChange:I=>w("material",I.target.value),style:$r})}),n.jsx(Cr,{label:"Color",children:n.jsx("input",{type:"text",value:S.color,onChange:I=>w("color",I.target.value),style:$r})}),n.jsx(Cr,{label:"Talle / Tamao",children:n.jsx("input",{type:"text",placeholder:"S, M, L, XL",value:S.size,onChange:I=>w("size",I.target.value),style:$r})})]}),n.jsxs("div",{style:{borderRadius:"10px",border:"1px solid #E5E7EB",padding:"16px",backgroundColor:"#FAFAFA"},children:[n.jsxs("p",{style:{margin:"0 0 12px",fontWeight:"700",fontSize:"0.85rem",color:"#374151",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(Kr,{size:14})," SEO"]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[n.jsxs(Cr,{label:"Ttulo SEO",children:[n.jsx("input",{type:"text",value:S.seoTitle,onChange:I=>w("seoTitle",I.target.value),style:$r}),n.jsxs("span",{style:{fontSize:"0.68rem",color:S.seoTitle.length>60?"#DC2626":"#9CA3AF",marginTop:"2px",display:"block"},children:[S.seoTitle.length,"/60"]})]}),n.jsxs(Cr,{label:"Descripcin SEO",children:[n.jsx("textarea",{rows:2,value:S.seoDesc,onChange:I=>w("seoDesc",I.target.value),style:{...$r,resize:"vertical"}}),n.jsxs("span",{style:{fontSize:"0.68rem",color:S.seoDesc.length>160?"#DC2626":"#9CA3AF",marginTop:"2px",display:"block"},children:[S.seoDesc.length,"/160"]})]})]})]}),n.jsxs("div",{style:{borderRadius:"10px",border:"1px solid #E5E7EB",padding:"16px",backgroundColor:"#FAFAFA"},children:[n.jsxs("p",{style:{margin:"0 0 12px",fontWeight:"700",fontSize:"0.85rem",color:"#374151",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(_t,{size:14})," Sincronizacin por artculo"]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[{k:"store",label:"Tienda propia",sub:"Charlie Marketplace",Icon:cs,color:Sn},{k:"ml",label:"Mercado Libre",sub:"Publicacin en ML",Icon:pt,color:"#E8A600"},{k:"instagram",label:"Instagram Shopping",sub:"Catlogo IG",Icon:Ks,color:"#E1306C"},{k:"whatsapp",label:"WhatsApp Catalog",sub:"Catlogo WA Biz",Icon:hd,color:"#25D366"}].map(({k:I,label:N,sub:M,Icon:V,color:L})=>{const W=S.sync[I],G=HFe[W?S.syncStatus[I]:"disabled"];return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",backgroundColor:"#FFF",borderRadius:"9px",border:`1px solid ${W?L+"33":"#E5E7EB"}`},children:[n.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"8px",backgroundColor:L+"18",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(V,{size:16,color:L})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.82rem"},children:N}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"#9CA3AF"},children:M})]}),W&&n.jsxs("span",{style:{padding:"2px 7px",borderRadius:"20px",backgroundColor:G.bg,color:G.color,fontSize:"0.67rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(G.Icon,{size:9})," ",G.label]}),W&&S.syncStatus[I]!=="synced"&&n.jsxs("button",{onClick:()=>P(I),style:{padding:"4px 8px",backgroundColor:L+"18",color:L,border:`1px solid ${L}33`,borderRadius:"6px",fontWeight:"700",cursor:"pointer",fontSize:"0.68rem",display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(_t,{size:9})," Sync"]}),n.jsx("div",{onClick:()=>{const U={...S.sync,[I]:!W},H={...S.syncStatus,[I]:W?"disabled":"pending"};F(K=>({...K,sync:U,syncStatus:H}))},style:{width:"36px",height:"20px",borderRadius:"10px",backgroundColor:W?L:"#D1D5DB",cursor:"pointer",position:"relative",flexShrink:0},children:n.jsx("div",{style:{position:"absolute",top:"2px",left:W?"18px":"2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#FFF",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",transition:"left 0.18s"}})})]},I)})})]})]})]}),n.jsxs("div",{style:{padding:"14px 28px",borderTop:"1px solid #F3F4F6",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0,backgroundColor:"#FAFAFA",borderRadius:"0 0 16px 16px"},children:[n.jsxs("button",{onClick:()=>i>0?a(I=>I-1):t(),style:{padding:"9px 18px",border:"1px solid #E5E7EB",borderRadius:"9px",backgroundColor:"#FFF",color:"#374151",fontWeight:"600",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(rg,{size:14})," ",i===0?"Cancelar":"Anterior"]}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#9CA3AF"},children:["Paso ",i+1," de 3"]}),i<2?n.jsxs("button",{onClick:B,style:{padding:"9px 22px",backgroundColor:Sn,color:"#FFF",border:"none",borderRadius:"9px",fontWeight:"800",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"5px"},children:["Siguiente ",n.jsx(Xr,{size:14})]}):n.jsxs("button",{onClick:()=>r(S),style:{padding:"9px 22px",backgroundColor:"#16A34A",color:"#FFF",border:"none",borderRadius:"9px",fontWeight:"800",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(ct,{size:14})," Guardar Artculo"]})]})]})})}function Cr({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:e}),t]})}const $r={width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box",color:"#111827",backgroundColor:"#FFFFFF"},w0="#FF6835",E0=`https://${za}.supabase.co/functions/v1/api`,f$=`https://${za}.supabase.co/storage/v1`,C0={"Content-Type":"application/json",Authorization:`Bearer ${Ca}`};function YFe(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9\-_]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase().slice(0,60)}async function h$(e,t){const r=(e.name.split(".").pop()??"jpg").replace(/[^a-z0-9]/gi,"").toLowerCase(),o=`${Date.now()}-${YFe(t)}.${r}`,i=await fetch(`${f$}/object/productos/${o}`,{method:"POST",headers:{Authorization:`Bearer ${Ca}`,"Content-Type":e.type},body:e});if(!i.ok){const a=await i.json();throw new Error(`Error subiendo archivo: ${a.message??i.status}`)}return`${f$}/object/public/productos/${o}`}function XFe({onNavigate:e}){const[t,r]=A.useState("articulos"),[o,i]=A.useState(""),[a,s]=A.useState("all"),[l,c]=A.useState(!1),[d,f]=A.useState(null),[p,h]=A.useState([]),[x,m]=A.useState(!0),[y,b]=A.useState(!1),[v,C]=A.useState(null),[S,F]=A.useState(null),w=A.useCallback(async()=>{m(!0),C(null);try{const P=await fetch(`${E0}/productos/market`,{headers:C0});if(!P.ok)throw new Error(`Error HTTP: ${P.status} ${P.statusText}`);const D=await P.json();if(D.error)throw new Error(D.error);const I=D.data??[];h(I)}catch(P){console.error("Error al cargar productos:",P),C(P.message??"Error al cargar productos"),h([])}finally{m(!1)}},[]);A.useEffect(()=>{w()},[w]);const k=P=>{F(P),setTimeout(()=>F(null),3e3)},E=async P=>{var D;b(!0),C(null);try{const I=await Promise.all((P.images??[]).map(V=>V.file?h$(V.file,P.name):V.url.startsWith("blob:")?Promise.reject(new Error("Imagen sin archivo")):Promise.resolve(V.url))),N=await Promise.all((P.videos??[]).map(V=>V.file?h$(V.file,P.name):V.url.startsWith("blob:")?Promise.reject(new Error("Video sin archivo")):Promise.resolve(V.url))),M={nombre:P.name,descripcion:P.description||null,precio_1:parseFloat(P.price)||0,precio_original:P.discount?parseFloat(P.price):null,departamento:P.category||null,imagen_principal:I[0]??null,imagenes:I.length>0?I:null,videos:N.length>0?N.map(V=>({url:V})):null,estado:"activo",badge:((D=P.tags)==null?void 0:D[0])??null,sku:P.sku||null,codigo_barras:P.barcode||null,marca:P.brand||null,costo:parseFloat(P.cost)||null,proveedor:P.supplier||null,impuesto:parseFloat(P.taxRate)||null,garantia:P.warranty||null,peso:parseFloat(P.weight)||null,alto:parseFloat(P.dimH)||null,ancho:parseFloat(P.dimW)||null,largo:parseFloat(P.dimL)||null,numero_serie:P.serialNumber||null,seo_titulo:P.seoTitle||null,seo_descripcion:P.seoDesc||null,atributos:Object.keys(P.mlAttributes||{}).length>0?P.mlAttributes:null};if(d!=null&&d.id){const L=await(await fetch(`${E0}/productos/market/${d.id}`,{method:"PUT",headers:C0,body:JSON.stringify(M)})).json();if(L.error)throw new Error(L.error);k("Producto actualizado correctamente")}else{const L=await(await fetch(`${E0}/productos/market`,{method:"POST",headers:C0,body:JSON.stringify(M)})).json();if(L.error)throw new Error(L.error);k("Producto creado correctamente")}c(!1),f(null),await w()}catch(I){C(I.message??"Error al guardar producto")}finally{b(!1)}},T=async(P,D)=>{if(window.confirm(`Eliminar "${D}"?`))try{const N=await(await fetch(`${E0}/productos/market/${P}`,{method:"DELETE",headers:C0})).json();if(N.error)throw new Error(N.error);k("Producto eliminado"),await w()}catch(I){C(I.message??"Error al eliminar")}},_=["all",...Array.from(new Set(p.map(P=>P.departamento||P.departamento_id).filter(Boolean)))],z=p.filter(P=>{var D;return!(a!=="all"&&(P.departamento||P.departamento_id)!==a||o&&!((D=P.nombre)!=null&&D.toLowerCase().includes(o.toLowerCase())))}),B=p.filter(P=>P.estado!=="activo");return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Rt,title:"Catlogo de Artculos",subtitle:"Gestin de productos del marketplace",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:"+ Nuevo Artculo",primary:!0,onClick:()=>{f(null),c(!0)}}]}),v&&n.jsxs("div",{style:{backgroundColor:"#FEE2E2",color:"#DC2626",padding:"10px 24px",fontSize:"0.85rem",fontWeight:"600",borderBottom:"1px solid #FECACA"},children:[" ",v]}),S&&n.jsxs("div",{style:{backgroundColor:"#DCFCE7",color:"#15803D",padding:"10px 24px",fontSize:"0.85rem",fontWeight:"600",borderBottom:"1px solid #BBF7D0"},children:[" ",S]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsxs("div",{style:{display:"flex",padding:"0 28px",alignItems:"center"},children:[[{id:"articulos",label:" Artculos"},{id:"alertas",label:` Inactivos (${B.length})`}].map(P=>n.jsx("button",{onClick:()=>r(P.id),style:{padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===P.id?w0:"#6B7280",fontWeight:t===P.id?"700":"500",fontSize:"0.875rem",borderBottom:t===P.id?`2px solid ${w0}`:"2px solid transparent"},children:P.label},P.id)),n.jsx("div",{style:{flex:1}}),n.jsx("button",{onClick:w,style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"8px"},title:"Recargar",children:n.jsx(_t,{size:15})})]})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1300px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Total Artculos",value:p.length.toString(),Icon:Rt,color:"#111827"},{label:"Activos",value:p.filter(P=>P.estado==="activo").length.toString(),Icon:br,color:"#16A34A"},{label:"Inactivos",value:B.length.toString(),Icon:Wr,color:"#DC2626"}].map((P,D)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:`1px solid ${P.color}22`,borderRadius:"10px",padding:"16px 20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:P.label}),n.jsx(P.Icon,{size:15,color:P.color})]}),n.jsx("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"900",color:P.color},children:P.value})]},D))}),t==="articulos"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px",flexWrap:"wrap"},children:[n.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"300px"},children:[n.jsx(tr,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},size:14,color:"#9CA3AF"}),n.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:o,onChange:P=>i(P.target.value),style:{width:"100%",padding:"9px 12px 9px 32px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]}),n.jsx("select",{value:a,onChange:P=>s(P.target.value),style:{padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",backgroundColor:"#FFF"},children:_.map(P=>n.jsx("option",{value:P,children:P==="all"?"Todas las categoras":P},P))})]}),x?n.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#9CA3AF"},children:[n.jsx(_t,{size:24,style:{animation:"spin 1s linear infinite"}}),n.jsx("p",{style:{marginTop:"12px"},children:"Cargando productos..."})]}):p.length===0?n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"60px",textAlign:"center",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 12px"},children:""}),n.jsx("p",{style:{margin:"0 0 16px",fontWeight:"600",color:"#374151"},children:"No hay productos todava"}),n.jsx("button",{onClick:()=>{f(null),c(!0)},style:{padding:"10px 20px",backgroundColor:w0,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer"},children:"+ Cargar primer producto"})]}):z.length===0?n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"60px",textAlign:"center",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 12px"},children:""}),n.jsx("p",{style:{margin:"0 0 8px",fontWeight:"600",color:"#374151"},children:"No se encontraron productos"}),n.jsx("p",{style:{margin:"0 0 16px",fontSize:"0.875rem",color:"#6B7280"},children:o||a!=="all"?"Intenta ajustar los filtros de bsqueda o categora":"Hay productos pero no coinciden con los filtros aplicados"}),(o||a!=="all")&&n.jsx("button",{onClick:()=>{i(""),s("all")},style:{padding:"10px 20px",backgroundColor:"#6B7280",color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer"},children:"Limpiar filtros"})]}):n.jsx("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Imagen","Nombre","Categora","Precio","Estado",""].map(P=>n.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"},children:P},P))})}),n.jsx("tbody",{children:z.map((P,D)=>{var I;return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:D%2===0?"#FFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"10px 14px"},children:P.imagen_principal?n.jsx("img",{src:P.imagen_principal,alt:P.nombre,style:{width:40,height:40,objectFit:"cover",borderRadius:"6px",border:"1px solid #E5E7EB"}}):n.jsx("div",{style:{width:40,height:40,borderRadius:"6px",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Rt,{size:16,color:"#D1D5DB"})})}),n.jsxs("td",{style:{padding:"12px 14px"},children:[n.jsx("span",{style:{fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:P.nombre}),P.descripcion&&n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:"#9CA3AF",maxWidth:"240px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.descripcion})]}),n.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:P.departamento??""}),n.jsxs("td",{style:{padding:"12px 14px",fontWeight:"700",color:"#111827",fontSize:"0.875rem"},children:["$",(I=P.precio)==null?void 0:I.toFixed(2)]}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.72rem",fontWeight:"700",backgroundColor:P.estado==="activo"?"#DCFCE7":"#F3F4F6",color:P.estado==="activo"?"#15803D":"#6B7280"},children:P.estado==="activo"?"Activo":"Inactivo"})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",gap:"5px"},children:[n.jsx("button",{onClick:()=>{f(P),c(!0)},style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},title:"Editar",children:n.jsx(fo,{size:13})}),n.jsx("button",{onClick:()=>T(P.id,P.nombre),style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444"},title:"Eliminar",children:n.jsx(xr,{size:13})})]})})]},P.id)})})]})})]}),t==="alertas"&&n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:B.length===0?n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"50px",textAlign:"center",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 12px"},children:""}),n.jsx("p",{style:{margin:0,fontWeight:"600"},children:"Todos los productos estn activos"})]}):B.map(P=>n.jsxs("div",{style:{backgroundColor:"#FFFBEB",border:"1px solid #FDE68A",borderRadius:"10px",padding:"14px 18px",display:"flex",alignItems:"center",gap:"14px"},children:[n.jsx(Wr,{size:20,color:"#D97706"}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0 0 2px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:P.nombre}),n.jsxs("p",{style:{margin:0,color:"#6B7280",fontSize:"0.78rem"},children:["Estado: ",n.jsx("strong",{style:{color:"#D97706"},children:P.estado})]})]}),n.jsx("button",{onClick:()=>{f(P),c(!0)},style:{padding:"8px 16px",backgroundColor:w0,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.78rem"},children:"Editar"})]},P.id))})]})}),l&&n.jsx(KFe,{product:d?{name:d.nombre,description:d.descripcion??"",price:String(d.precio),category:d.departamento??"",images:d.imagen_principal?[{id:"1",name:"imagen",url:d.imagen_principal,type:"image",size:""}]:[],videos:[],sku:"",barcode:"",brand:"",stock:"",minStock:"",weight:"",dimH:"",dimW:"",dimL:"",tags:d.badge?[d.badge]:[],discount:"",serialNumber:"",cost:"",supplier:"",taxRate:"",warranty:"",origin:"",material:"",color:"",size:"",seoTitle:"",seoDesc:"",sync:{store:!0,ml:!1,instagram:!1,whatsapp:!1},syncStatus:{store:"pending",ml:"disabled",instagram:"disabled",whatsapp:"disabled"},mlAttributes:{}}:null,onClose:()=>{c(!1),f(null)},onSave:E}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const Ai="#FF6835",lh=[{id:"1",number:"FAC-2026-0001",date:"2026-02-19",dueDate:"2026-03-05",customer:"Ana Garca",customerDoc:"CI: 1.234.567-8",items:[{description:"iPhone 14 128GB",qty:1,price:899.99}],status:"paid",type:"factura",paymentMethod:"Tarjeta"},{id:"2",number:"FAC-2026-0002",date:"2026-02-18",dueDate:"2026-03-04",customer:"Carlos Martn",customerDoc:"CI: 2.345.678-9",items:[{description:"AirPods Pro",qty:2,price:249.99},{description:"Cargador 65W",qty:1,price:35}],status:"pending",type:"factura",paymentMethod:"Efectivo"},{id:"3",number:"TKT-2026-0045",date:"2026-02-19",dueDate:"2026-02-19",customer:"Consumidor Final",customerDoc:"",items:[{description:"Caf Molido 500g",qty:3,price:8.5}],status:"paid",type:"ticket",paymentMethod:"Efectivo"},{id:"4",number:"FAC-2026-0003",date:"2026-02-15",dueDate:"2026-02-25",customer:"Mara Lpez",customerDoc:"CI: 3.456.789-0",items:[{description:"Silla Ergonmica",qty:1,price:349}],status:"overdue",type:"factura",paymentMethod:"Transferencia"},{id:"5",number:"TKT-2026-0046",date:"2026-02-19",dueDate:"2026-02-19",customer:"Consumidor Final",customerDoc:"",items:[{description:"Pelota Nike",qty:1,price:45},{description:"Caf Molido",qty:2,price:8.5}],status:"paid",type:"ticket",paymentMethod:"Tarjeta"}],JFe={paid:{label:"Pagada",bg:"#DCFCE7",color:"#15803D",Icon:ct},pending:{label:"Pendiente",bg:"#FEF3C7",color:"#B45309",Icon:Ct},overdue:{label:"Vencida",bg:"#FEE2E2",color:"#DC2626",Icon:Jt},cancelled:{label:"Anulada",bg:"#F3F4F6",color:"#6B7280",Icon:Ut}},wk=.22;function QFe({onNavigate:e}){const[t,r]=A.useState("facturas"),[o,i]=A.useState(""),[a,s]=A.useState(null),[l,c]=A.useState({type:"factura",customer:"",customerDoc:"",paymentMethod:"Efectivo",items:[{description:"",qty:1,price:0}]}),d=lh.filter(b=>b.status==="paid").reduce((b,v)=>b+v.items.reduce((C,S)=>C+S.qty*S.price,0),0),f=lh.filter(b=>b.status==="pending"),p=lh.filter(b=>b.status==="overdue"),h=lh.filter(b=>!(t==="tickets"&&b.type!=="ticket"||t==="facturas"&&b.type==="ticket"||o&&!b.customer.toLowerCase().includes(o.toLowerCase())&&!b.number.toLowerCase().includes(o.toLowerCase()))),x=l.items.reduce((b,v)=>b+v.qty*v.price,0),m=x*wk,y=x+m;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Oh,title:"Facturacin",subtitle:"Emisin de facturas, tickets y notas de crdito  ERP",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:"+ Nueva Factura",primary:!0,onClick:()=>r("nueva")}]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsx("div",{style:{display:"flex",padding:"0 28px"},children:[{id:"facturas",label:" Facturas"},{id:"tickets",label:" Tickets"},{id:"nueva",label:" Nueva Factura/Ticket"}].map(b=>n.jsx("button",{onClick:()=>r(b.id),style:{padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===b.id?Ai:"#6B7280",fontWeight:t===b.id?"700":"500",fontSize:"0.875rem",borderBottom:t===b.id?`2px solid ${Ai}`:"2px solid transparent"},children:b.label},b.id))})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Facturado (pagado)",value:`$${d.toLocaleString("es",{maximumFractionDigits:0})}`,color:"#16A34A"},{label:"Pendientes de cobro",value:`${f.length}`,color:"#D97706"},{label:"Vencidas",value:`${p.length}`,color:"#DC2626"},{label:"Total emitidas",value:lh.length.toString(),color:"#111827"}].map((b,v)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px 20px"},children:[n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.78rem",color:"#6B7280"},children:b.label}),n.jsx("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"900",color:b.color},children:b.value})]},v))}),(t==="facturas"||t==="tickets")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[n.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"320px"},children:[n.jsx(tr,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},size:14,color:"#9CA3AF"}),n.jsx("input",{type:"text",placeholder:"Buscar por cliente o nmero...",value:o,onChange:b=>i(b.target.value),style:{width:"100%",padding:"9px 12px 9px 32px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("button",{onClick:()=>r("nueva"),style:{padding:"9px 16px",backgroundColor:Ai,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(Nt,{size:14})," Nueva"]})]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Nmero","Cliente","Total","Vencimiento","Mtodo","Estado","Acciones"].map(b=>n.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:b},b))})}),n.jsx("tbody",{children:h.map((b,v)=>{const C=b.items.reduce((F,w)=>F+w.qty*w.price,0),S=JFe[b.status];return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:v%2===0?"#FFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"12px 14px",fontFamily:"monospace",fontSize:"0.78rem",color:"#6B7280"},children:b.number}),n.jsxs("td",{style:{padding:"12px 14px"},children:[n.jsx("p",{style:{margin:0,fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:b.customer}),n.jsx("p",{style:{margin:"1px 0 0",fontSize:"0.72rem",color:"#9CA3AF"},children:b.customerDoc})]}),n.jsxs("td",{style:{padding:"12px 14px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:["$",C.toFixed(2),n.jsxs("p",{style:{margin:"1px 0 0",fontSize:"0.68rem",color:"#9CA3AF"},children:["+ IVA $",(C*wk).toFixed(2)]})]}),n.jsx("td",{style:{padding:"12px 14px",color:b.status==="overdue"?"#DC2626":"#6B7280",fontSize:"0.8rem",fontWeight:b.status==="overdue"?"700":"400"},children:b.dueDate}),n.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:b.paymentMethod}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("span",{style:{padding:"3px 9px",borderRadius:"20px",backgroundColor:S.bg,color:S.color,fontSize:"0.72rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px",width:"fit-content"},children:[n.jsx(S.Icon,{size:10})," ",S.label]})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",gap:"5px"},children:[n.jsx("button",{onClick:()=>s(b),style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",padding:"3px"},children:n.jsx(yr,{size:14})}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",padding:"3px"},children:n.jsx(Mi,{size:14})}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",padding:"3px"},children:n.jsx(Ht,{size:14})})]})})]},b.id)})})]})})]}),t==="nueva"&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px"},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h4",{style:{margin:"0 0 14px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Tipo de comprobante"}),n.jsx("div",{style:{display:"flex",gap:"10px"},children:["factura","ticket"].map(b=>n.jsxs("button",{onClick:()=>c(v=>({...v,type:b})),style:{flex:1,padding:"12px",borderRadius:"10px",border:`2px solid ${l.type===b?Ai:"#E5E7EB"}`,backgroundColor:l.type===b?"#FFF4EC":"#FFF",cursor:"pointer",fontWeight:"700",color:l.type===b?Ai:"#374151",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[b==="factura"?n.jsx(fn,{size:15}):n.jsx(Oh,{size:15}),b==="factura"?"Factura":"Ticket"]},b))})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h4",{style:{margin:"0 0 14px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Cliente"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[{label:"Nombre del cliente",key:"customer",ph:l.type==="ticket"?"Consumidor Final":"Ana Garca"},{label:"CI / RUC",key:"customerDoc",ph:l.type==="ticket"?"":"CI: 1.234.567-8"}].map(({label:b,key:v,ph:C})=>n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:b}),n.jsx("input",{type:"text",placeholder:C,value:l[v],onChange:S=>c(F=>({...F,[v]:S.target.value})),style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},v))})]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"14px"},children:[n.jsx("h4",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Artculos"}),n.jsxs("button",{onClick:()=>c(b=>({...b,items:[...b.items,{description:"",qty:1,price:0}]})),style:{padding:"5px 12px",backgroundColor:Ai,color:"#FFF",border:"none",borderRadius:"7px",fontWeight:"700",cursor:"pointer",fontSize:"0.78rem",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Nt,{size:12})," Agregar"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"3fr 1fr 1fr auto",gap:"8px",marginBottom:"6px"},children:["Descripcin","Cant.","Precio",""].map(b=>n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase"},children:b},b))}),l.items.map((b,v)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"3fr 1fr 1fr auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[n.jsx("input",{type:"text",placeholder:"Descripcin del artculo",value:b.description,onChange:C=>{const S=[...l.items];S[v].description=C.target.value,c(F=>({...F,items:S}))},style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),n.jsx("input",{type:"number",value:b.qty,min:1,onChange:C=>{const S=[...l.items];S[v].qty=+C.target.value,c(F=>({...F,items:S}))},style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),n.jsx("input",{type:"number",value:b.price,step:.01,onChange:C=>{const S=[...l.items];S[v].price=+C.target.value,c(F=>({...F,items:S}))},style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),n.jsx("button",{onClick:()=>c(C=>({...C,items:C.items.filter((S,F)=>F!==v)})),style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444",padding:"4px"},children:n.jsx(Ut,{size:14})})]},v))]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h4",{style:{margin:"0 0 12px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Mtodo de pago"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["Efectivo","Tarjeta","Transferencia","Mercado Pago","Cuenta Corriente"].map(b=>n.jsx("button",{onClick:()=>c(v=>({...v,paymentMethod:b})),style:{padding:"8px 14px",borderRadius:"8px",border:`1.5px solid ${l.paymentMethod===b?Ai:"#E5E7EB"}`,backgroundColor:l.paymentMethod===b?"#FFF4EC":"#FFF",color:l.paymentMethod===b?Ai:"#374151",fontWeight:l.paymentMethod===b?"700":"500",cursor:"pointer",fontSize:"0.78rem"},children:b},b))})]})]}),n.jsx("div",{children:n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px",position:"sticky",top:"24px"},children:[n.jsx("h4",{style:{margin:"0 0 16px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Resumen"}),n.jsx("div",{style:{marginBottom:"16px"},children:l.items.filter(b=>b.description).map((b,v)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"0.82rem"},children:[n.jsxs("span",{style:{color:"#374151"},children:[b.qty,"x ",b.description||""]}),n.jsxs("span",{style:{fontWeight:"600",color:"#111827"},children:["$",(b.qty*b.price).toFixed(2)]})]},v))}),n.jsxs("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"12px"},children:[[{label:"Subtotal",value:`$${x.toFixed(2)}`},{label:"IVA (22%)",value:`$${m.toFixed(2)}`}].map(b=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",fontSize:"0.82rem",color:"#6B7280"},children:[n.jsx("span",{children:b.label}),n.jsx("span",{children:b.value})]},b.label)),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #E5E7EB"},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"1rem"},children:"TOTAL"}),n.jsxs("span",{style:{fontWeight:"900",color:Ai,fontSize:"1.1rem"},children:["$",y.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginTop:"16px",display:"flex",flexDirection:"column",gap:"8px"},children:[n.jsxs("button",{style:{padding:"12px",backgroundColor:Ai,color:"#FFF",border:"none",borderRadius:"10px",fontWeight:"800",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[n.jsx(ct,{size:16})," Emitir ",l.type==="factura"?"Factura":"Ticket"]}),n.jsxs("button",{style:{padding:"10px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"10px",fontWeight:"600",cursor:"pointer",fontSize:"0.82rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(Mi,{size:14})," Imprimir ticket"]})]})]})})]})]})}),a&&n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>s(null),children:n.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"16px",padding:"28px",width:"440px"},onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[n.jsxs("h2",{style:{margin:0,fontWeight:"800",fontSize:"1rem",color:"#111827"},children:[" ",a.number]}),n.jsx("button",{onClick:()=>s(null),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:18})})]}),n.jsxs("div",{style:{borderBottom:"2px dashed #E5E7EB",paddingBottom:"12px",marginBottom:"12px"},children:[n.jsx("p",{style:{margin:"0 0 2px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:a.customer}),n.jsxs("p",{style:{margin:0,color:"#9CA3AF",fontSize:"0.75rem"},children:[a.customerDoc,"  ",a.date]})]}),a.items.map((b,v)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",fontSize:"0.82rem"},children:[n.jsxs("span",{style:{color:"#374151"},children:[b.qty,"x ",b.description]}),n.jsxs("span",{style:{fontWeight:"600"},children:["$",(b.qty*b.price).toFixed(2)]})]},v)),n.jsx("div",{style:{borderTop:"2px dashed #E5E7EB",paddingTop:"12px",marginTop:"12px"},children:(()=>{const b=a.items.reduce((C,S)=>C+S.qty*S.price,0),v=b*wk;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.82rem",color:"#6B7280",marginBottom:"4px"},children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:["$",b.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.82rem",color:"#6B7280",marginBottom:"8px"},children:[n.jsx("span",{children:"IVA 22%"}),n.jsxs("span",{children:["$",v.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"900",color:Ai,fontSize:"1rem"},children:[n.jsx("span",{children:"TOTAL"}),n.jsxs("span",{children:["$",(b+v).toFixed(2)]})]})]})})()}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[n.jsxs("button",{style:{flex:1,padding:"10px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",fontSize:"0.82rem"},children:[n.jsx(Mi,{size:13})," Imprimir"]}),n.jsxs("button",{style:{flex:1,padding:"10px",backgroundColor:Ai,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",fontSize:"0.82rem"},children:[n.jsx(Ht,{size:13})," PDF"]})]})]})})]})}const Ol="#FF6835",Ek=[{id:"1",name:"TechDistrib SRL",contact:"Roberto Snchez",email:"ventas@techdistrib.com",phone:"+598 99 123 456",category:"Tecnologa",rating:5,lead:3,terms:"30 das",status:"active"},{id:"2",name:"ModaImport SA",contact:"Valentina Cruz",email:"compras@modaimport.com",phone:"+598 98 234 567",category:"Moda",rating:4,lead:7,terms:"Contado",status:"active"},{id:"3",name:"Alimentos del Sur",contact:"Diego Fontana",email:"pedidos@alimentossur.uy",phone:"+598 97 345 678",category:"Alimentos",rating:5,lead:1,terms:"15 das",status:"active"},{id:"4",name:"Hogar & Estilo",contact:"Patricia Mndez",email:"ventas@hogarestilo.com",phone:"+598 96 456 789",category:"Hogar",rating:3,lead:14,terms:"45 das",status:"active"},{id:"5",name:"Deportes Mayorista",contact:"Gonzalo Lima",email:"mayorista@deportes.uy",phone:"+598 95 567 890",category:"Deportes",rating:4,lead:5,terms:"30 das",status:"inactive"}],k0=[{id:"1",number:"OC-2026-001",date:"2026-02-18",expectedDate:"2026-02-21",supplier:"TechDistrib SRL",items:[{description:"iPhone 14 128GB",qty:5,cost:650},{description:"AirPods Pro",qty:3,cost:180}],status:"sent",notes:"Urgente para reponer stock"},{id:"2",number:"OC-2026-002",date:"2026-02-17",expectedDate:"2026-02-18",supplier:"Alimentos del Sur",items:[{description:"Caf Molido 500g",qty:100,cost:4.2}],status:"received",notes:""},{id:"3",number:"OC-2026-003",date:"2026-02-15",expectedDate:"2026-03-01",supplier:"ModaImport SA",items:[{description:"Campera Fleece M",qty:10,cost:90},{description:"Campera Fleece L",qty:8,cost:90}],status:"partial",notes:"Recibidos 8 de 18 items"},{id:"4",number:"OC-2026-004",date:"2026-02-19",expectedDate:"2026-02-25",supplier:"Deportes Mayorista",items:[{description:"Pelota Nike",qty:20,cost:22}],status:"draft",notes:""}],ZFe={draft:{label:"Borrador",bg:"#F3F4F6",color:"#374151",Icon:Ct},sent:{label:"Enviada",bg:"#EDE9FE",color:"#7C3AED",Icon:Xt},received:{label:"Recibida",bg:"#DCFCE7",color:"#15803D",Icon:ct},partial:{label:"Parcial",bg:"#FEF3C7",color:"#B45309",Icon:Jt},cancelled:{label:"Cancelada",bg:"#FEE2E2",color:"#DC2626",Icon:Ut}};function eAe({onNavigate:e}){const[t,r]=A.useState("ordenes"),[o,i]=A.useState(""),[a,s]=A.useState(!1),[l,c]=A.useState(null),d=k0.length,f=k0.filter(m=>m.status==="sent"||m.status==="partial").length,p=k0.filter(m=>m.status==="received").reduce((m,y)=>m+y.items.reduce((b,v)=>b+v.qty*v.cost,0),0),h=k0.filter(m=>!o||m.supplier.toLowerCase().includes(o.toLowerCase())||m.number.toLowerCase().includes(o.toLowerCase())),x=Ek.filter(m=>!o||m.name.toLowerCase().includes(o.toLowerCase())||m.category.toLowerCase().includes(o.toLowerCase()));return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:kF,title:"Compras y Proveedores",subtitle:"rdenes de compra, recepcin y gestin de proveedores  ERP",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:t==="ordenes"?"+ Nueva OC":t==="proveedores"?"+ Nuevo Proveedor":"+ Guardar OC",primary:!0,onClick:()=>t==="ordenes"?r("nueva-orden"):t==="proveedores"?(c(null),s(!0)):void 0}]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsx("div",{style:{display:"flex",padding:"0 28px"},children:[{id:"ordenes",label:" rdenes de Compra"},{id:"proveedores",label:" Proveedores"},{id:"nueva-orden",label:" Nueva OC"}].map(m=>n.jsx("button",{onClick:()=>r(m.id),style:{padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===m.id?Ol:"#6B7280",fontWeight:t===m.id?"700":"500",fontSize:"0.875rem",borderBottom:t===m.id?`2px solid ${Ol}`:"2px solid transparent"},children:m.label},m.id))})}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Total rdenes",value:d.toString(),color:"#111827"},{label:"Pendientes/Parciales",value:f.toString(),color:"#D97706"},{label:"Proveedores Activos",value:Ek.filter(m=>m.status==="active").length.toString(),color:"#16A34A"},{label:"Compras Recibidas",value:`$${p.toLocaleString("es",{maximumFractionDigits:0})}`,color:Ol}].map((m,y)=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px 20px"},children:[n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.78rem",color:"#6B7280"},children:m.label}),n.jsx("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"900",color:m.color},children:m.value})]},y))}),t==="ordenes"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[n.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"320px"},children:[n.jsx(tr,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},size:14,color:"#9CA3AF"}),n.jsx("input",{type:"text",placeholder:"Buscar por proveedor o nmero...",value:o,onChange:m=>i(m.target.value),style:{width:"100%",padding:"9px 12px 9px 32px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("button",{onClick:()=>r("nueva-orden"),style:{padding:"9px 16px",backgroundColor:Ol,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(Nt,{size:14})," Nueva OC"]})]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Nmero","Proveedor","Total","Fecha","Llegada Est.","Estado","Notas",""].map(m=>n.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:m},m))})}),n.jsx("tbody",{children:h.map((m,y)=>{const b=m.items.reduce((C,S)=>C+S.qty*S.cost,0),v=ZFe[m.status];return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:y%2===0?"#FFF":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"12px 14px",fontFamily:"monospace",fontSize:"0.78rem",color:"#6B7280"},children:m.number}),n.jsx("td",{style:{padding:"12px 14px",fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:m.supplier}),n.jsxs("td",{style:{padding:"12px 14px",fontWeight:"700",color:"#111827"},children:["$",b.toFixed(2)]}),n.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:m.date}),n.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:m.expectedDate}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("span",{style:{padding:"3px 9px",borderRadius:"20px",backgroundColor:v.bg,color:v.color,fontSize:"0.72rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px",width:"fit-content"},children:[n.jsx(v.Icon,{size:10})," ",v.label]})}),n.jsx("td",{style:{padding:"12px 14px",color:"#9CA3AF",fontSize:"0.75rem",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m.notes||""}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:n.jsx(yr,{size:13})}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:n.jsx(fo,{size:13})})]})})]},m.id)})})]})})]}),t==="proveedores"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[n.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"320px"},children:[n.jsx(tr,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},size:14,color:"#9CA3AF"}),n.jsx("input",{type:"text",placeholder:"Buscar proveedor...",value:o,onChange:m=>i(m.target.value),style:{width:"100%",padding:"9px 12px 9px 32px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("button",{onClick:()=>{c(null),s(!0)},style:{padding:"9px 16px",backgroundColor:Ol,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(Nt,{size:14})," Nuevo Proveedor"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"14px"},children:x.map(m=>n.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"18px 20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{margin:"0 0 2px",fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:m.name}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:m.category})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",backgroundColor:m.status==="active"?"#DCFCE7":"#F3F4F6",color:m.status==="active"?"#15803D":"#6B7280",fontSize:"0.7rem",fontWeight:"700"},children:m.status==="active"?"Activo":"Inactivo"}),n.jsx("button",{onClick:()=>{c(m),s(!0)},style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"2px"},children:n.jsx(fo,{size:13})})]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"10px",fontSize:"0.78rem",color:"#374151"},children:[n.jsxs("span",{children:[" ",m.contact]}),n.jsxs("span",{children:[" ",m.email]})]}),n.jsx("div",{style:{display:"flex",gap:"12px"},children:[{label:"Plazo",value:`${m.lead}d`},{label:"Trminos",value:m.terms},{label:"Rating",value:Array.from({length:5},(y,b)=>b<m.rating?"":"").join("")}].map(({label:y,value:b})=>n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"#9CA3AF",textTransform:"uppercase"},children:y}),n.jsx("p",{style:{margin:"1px 0 0",fontWeight:"700",color:"#374151",fontSize:"0.78rem"},children:b})]},y))})]},m.id))})]}),t==="nueva-orden"&&n.jsx("div",{style:{maxWidth:"700px"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h4",{style:{margin:"0 0 12px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Proveedor"}),n.jsxs("select",{style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",backgroundColor:"#FFF"},children:[n.jsx("option",{value:"",children:"Seleccionar proveedor..."}),Ek.filter(m=>m.status==="active").map(m=>n.jsx("option",{value:m.id,children:m.name},m.id))]})]}),n.jsx("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[{label:"Fecha de la OC",type:"date"},{label:"Fecha de entrega estimada",type:"date"}].map(({label:m,type:y})=>n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:m}),n.jsx("input",{type:y,style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},m))})}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("h4",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Artculos a comprar"}),n.jsxs("button",{style:{padding:"5px 12px",backgroundColor:Ol,color:"#FFF",border:"none",borderRadius:"7px",fontWeight:"700",cursor:"pointer",fontSize:"0.78rem",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Nt,{size:12})," Agregar lnea"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"3fr 1fr 1fr 1fr auto",gap:"8px",marginBottom:"6px"},children:["Artculo/Descripcin","Cantidad","Costo unit.","Total",""].map(m=>n.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase"},children:m},m))}),[1,2].map(m=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"3fr 1fr 1fr 1fr auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[n.jsx("input",{type:"text",placeholder:"Descripcin del artculo",style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),n.jsx("input",{type:"number",placeholder:"0",style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),n.jsx("input",{type:"number",placeholder:"0.00",step:.01,style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),n.jsx("span",{style:{padding:"8px 10px",backgroundColor:"#F9FAFB",borderRadius:"7px",fontSize:"0.82rem",color:"#6B7280",textAlign:"right"},children:"$0.00"}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444"},children:n.jsx(Ut,{size:14})})]},m))]}),n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Notas / Instrucciones"}),n.jsx("textarea",{rows:3,placeholder:"Notas adicionales para el proveedor...",style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",resize:"vertical",boxSizing:"border-box"}})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{style:{flex:1,padding:"12px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"10px",fontWeight:"600",cursor:"pointer",fontSize:"0.875rem"},children:"Guardar borrador"}),n.jsxs("button",{style:{flex:2,padding:"12px",backgroundColor:Ol,color:"#FFF",border:"none",borderRadius:"10px",fontWeight:"800",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(ct,{size:16})," Enviar Orden de Compra"]})]})]})})]})}),a&&n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>s(!1),children:n.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"16px",padding:"28px",width:"560px",maxHeight:"85vh",overflowY:"auto"},onClick:m=>m.stopPropagation(),children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,fontWeight:"800",fontSize:"1.05rem",color:"#111827"},children:l?`Editar: ${l.name}`:"+ Nuevo Proveedor"}),n.jsx("button",{onClick:()=>s(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:18})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px"},children:[{label:"Razn Social",key:"name",ph:"TechDistrib SRL",cs:2},{label:"Persona de contacto",key:"contact",ph:"Roberto Snchez"},{label:"Email",key:"email",ph:"ventas@proveedor.com"},{label:"Telfono",key:"phone",ph:"+598 99 123 456"},{label:"Categora de productos",key:"category",ph:"Tecnologa"},{label:"Das de entrega (Lead time)",key:"lead",ph:"3",type:"number"},{label:"Trminos de pago",key:"terms",ph:"30 das"},{label:"Sitio web",key:"website",ph:"https://proveedor.com"}].map(({label:m,key:y,ph:b,cs:v,type:C})=>n.jsxs("div",{style:{gridColumn:v===2?"1 / -1":"auto"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:m}),n.jsx("input",{type:C||"text",placeholder:b,defaultValue:l?String(l[y]||""):"",style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},y))}),n.jsxs("div",{style:{marginTop:"16px"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Notas internas"}),n.jsx("textarea",{rows:2,placeholder:"Notas sobre este proveedor...",style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",resize:"none",boxSizing:"border-box"}})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"18px"},children:[n.jsx("button",{onClick:()=>s(!1),style:{flex:1,padding:"11px",borderRadius:"8px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",color:"#374151",fontWeight:"600",cursor:"pointer",fontSize:"0.875rem"},children:"Cancelar"}),n.jsx("button",{style:{flex:2,padding:"11px",backgroundColor:Ol,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem"},children:l?"Actualizar Proveedor":"+ Crear Proveedor"})]})]})})]})}const Th=[{id:1,name:"Valentina Garca",company:"TechSur SA",email:"vgarcia@techsur.com",phone:"+598 99 123 456",tag:"Cliente",status:"Activo",value:45e3,lastContact:"Hoy"},{id:2,name:"Martn Rodrguez",company:"Distribuidora RM",email:"martin@distrib-rm.com",phone:"+598 98 234 567",tag:"Lead",status:"Nuevo",value:12e3,lastContact:"Ayer"},{id:3,name:"Camila Torres",company:"Supermercado Norte",email:"ctorres@supnorte.uy",phone:"+598 99 345 678",tag:"Prospecto",status:"Activo",value:78e3,lastContact:"Hace 2 das"},{id:4,name:"Sebastin Lpez",company:"Importadora SL",email:"slopez@importsl.com",phone:"+598 98 456 789",tag:"Cliente",status:"VIP",value:23e4,lastContact:"Hoy"},{id:5,name:"Luciana Fernndez",company:"Moda Latina",email:"lfernan@modalatina.uy",phone:"+598 99 567 890",tag:"Lead",status:"Inactivo",value:8500,lastContact:"Hace 7 das"},{id:6,name:"Diego Martnez",company:"Agro del Este",email:"dmartinez@agroeste.com",phone:"+598 98 678 901",tag:"Prospecto",status:"Activo",value:55e3,lastContact:"Ayer"},{id:7,name:"Florencia lvarez",company:"Boutique FA",email:"falvarez@boutiquefa.com",phone:"+598 99 789 012",tag:"Cliente",status:"Activo",value:19e3,lastContact:"Hoy"},{id:8,name:"Nicols Prez",company:"Constructora NP",email:"nperez@construcnp.uy",phone:"+598 98 890 123",tag:"Lead",status:"Nuevo",value:95e3,lastContact:"Hace 3 das"}],zG=[{id:"nuevo",label:"Nuevo Lead",color:"#6B7280",amount:53500,deals:[{id:1,name:"Propuesta Distribucin",company:"Distribuidora RM",value:12e3,probability:20,dueDate:"28 Feb",owner:"CV"},{id:2,name:"Consulta Inicial",company:"Boutique Estrella",value:8500,probability:15,dueDate:"01 Mar",owner:"AM"},{id:3,name:"Referido Interno",company:"Moda Latina",value:33e3,probability:25,dueDate:"05 Mar",owner:"CV"}]},{id:"contactado",label:"Contactado",color:"#3B82F6",amount:128e3,deals:[{id:4,name:"Demo Plataforma",company:"TechSur SA",value:45e3,probability:40,dueDate:"22 Feb",owner:"CV"},{id:5,name:"Reunin de Ventas",company:"Agro del Este",value:55e3,probability:35,dueDate:"25 Feb",owner:"LP"},{id:6,name:"Evaluacin Sistema",company:"Importadora FS",value:28e3,probability:30,dueDate:"27 Feb",owner:"AM"}]},{id:"propuesta",label:"Propuesta",color:"#F59E0B",amount:347e3,deals:[{id:7,name:"Contrato Anual ERP",company:"Supermercado Norte",value:78e3,probability:60,dueDate:"20 Feb",owner:"CV"},{id:8,name:"Licencia Multi-sede",company:"Constructora NP",value:95e3,probability:55,dueDate:"24 Feb",owner:"LP"},{id:9,name:"Integracin Total",company:"LogiUy",value:174e3,probability:65,dueDate:"28 Feb",owner:"CV"}]},{id:"negociacion",label:"Negociacin",color:"#8B5CF6",amount:312e3,deals:[{id:10,name:"Revisin Precios",company:"Importadora SL",value:23e4,probability:75,dueDate:"21 Feb",owner:"CV"},{id:11,name:"Ajuste de Plan",company:"RetailSur",value:82e3,probability:70,dueDate:"23 Feb",owner:"AM"}]},{id:"ganado",label:"Cerrado Ganado",color:"#10B981",amount:189e3,deals:[{id:12,name:"Plan Empresarial",company:"Techpark UY",value:12e4,probability:100,dueDate:"15 Feb",owner:"CV"},{id:13,name:"Renovacin Anual",company:"FarmaPlus",value:69e3,probability:100,dueDate:"10 Feb",owner:"LP"}]}],yu=[{id:1,type:"call",title:"Llamada con Valentina Garca",company:"TechSur SA",time:"10:00",date:"Hoy",priority:"alta",done:!1,owner:"CV"},{id:2,type:"meeting",title:"Demo plataforma Supermercado Norte",company:"Supermercado Norte",time:"14:30",date:"Hoy",priority:"crtica",done:!1,owner:"CV"},{id:3,type:"task",title:"Enviar propuesta Importadora SL",company:"Importadora SL",time:"17:00",date:"Hoy",priority:"alta",done:!0,owner:"CV"},{id:4,type:"call",title:"Follow-up Diego Martnez",company:"Agro del Este",time:"09:00",date:"Maana",priority:"media",done:!1,owner:"LP"},{id:5,type:"meeting",title:"Negociacin final Constructora NP",company:"Constructora NP",time:"11:00",date:"Maana",priority:"crtica",done:!1,owner:"CV"},{id:6,type:"task",title:"Actualizar propuesta LogiUy",company:"LogiUy",time:"15:00",date:"Maana",priority:"alta",done:!1,owner:"AM"},{id:7,type:"email",title:"Enviar contrato Techpark UY",company:"Techpark UY",time:"10:30",date:"21 Feb",priority:"media",done:!0,owner:"CV"},{id:8,type:"call",title:"Onboarding FarmaPlus",company:"FarmaPlus",time:"16:00",date:"21 Feb",priority:"baja",done:!1,owner:"LP"}],tAe={Cliente:{bg:"#DCFCE7",text:"#166534"},Lead:{bg:"#DBEAFE",text:"#1E40AF"},Prospecto:{bg:"#FEF3C7",text:"#92400E"}},rAe={Activo:{bg:"#DCFCE7",text:"#166534"},Nuevo:{bg:"#DBEAFE",text:"#1E40AF"},VIP:{bg:"#FDF4FF",text:"#7E22CE"},Inactivo:{bg:"#F3F4F6",text:"#6B7280"}},nAe={crtica:{bg:"#FEE2E2",text:"#B91C1C"},alta:{bg:"#FEF3C7",text:"#B45309"},media:{bg:"#DBEAFE",text:"#1D4ED8"},baja:{bg:"#F3F4F6",text:"#6B7280"}},oAe={call:n.jsx(jd,{size:14}),meeting:n.jsx(gs,{size:14}),task:n.jsx(_a,{size:14}),email:n.jsx(ka,{size:14})},q1=e=>e>=1e3?`$${(e/1e3).toFixed(0)}K`:`$${e}`;function iAe({onNavigate:e}){const[t,r]=A.useState("contactos"),[o,i]=A.useState(""),a=[{id:"contactos",icon:n.jsx(Et,{size:15}),label:"Contactos"},{id:"pipeline",icon:n.jsx(Xt,{size:15}),label:"Pipeline"},{id:"actividades",icon:n.jsx(gs,{size:15}),label:"Actividades"}];Th.reduce((f,p)=>f+p.value,0);const s=Th.filter(f=>f.tag==="Cliente").length,l=Th.filter(f=>f.tag==="Lead").length,c=zG.reduce((f,p)=>f+p.amount,0),d=[{label:"Total Contactos",value:Th.length,icon:n.jsx(Et,{size:18}),color:"#3B82F6"},{label:"Clientes Activos",value:s,icon:n.jsx(hn,{size:18}),color:"#10B981"},{label:"Leads Activos",value:l,icon:n.jsx(lg,{size:18}),color:"#F59E0B"},{label:"Pipeline Total",value:q1(c),icon:n.jsx(yn,{size:18}),color:"#8B5CF6"}];return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Et,title:"CRM  Gestin de Clientes",subtitle:"Contactos, pipeline de ventas y actividades del equipo",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:"+ Nuevo Contacto",primary:!0}]}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"16px 28px",display:"flex",gap:"16px",flexShrink:0},children:d.map(f=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 18px",backgroundColor:"#F9FAFB",borderRadius:"10px",flex:1},children:[n.jsx("div",{style:{width:36,height:36,borderRadius:"8px",backgroundColor:f.color+"18",display:"flex",alignItems:"center",justifyContent:"center",color:f.color},children:f.icon}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"20px",fontWeight:800,color:"#111",lineHeight:1.1},children:f.value}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"1px"},children:f.label})]})]},f.label))}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",padding:"0 28px",gap:"4px",flexShrink:0},children:a.map(f=>{const p=t===f.id;return n.jsxs("button",{onClick:()=>r(f.id),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 20px",border:"none",borderBottom:`3px solid ${p?"#FF6835":"transparent"}`,backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",fontWeight:p?700:500,color:p?"#FF6835":"#555",transition:"all 0.15s"},children:[f.icon,f.label]},f.id)})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:[t==="contactos"&&n.jsx(aAe,{search:o,setSearch:i}),t==="pipeline"&&n.jsx(sAe,{}),t==="actividades"&&n.jsx(lAe,{})]})]})}function aAe({search:e,setSearch:t}){const[r,o]=A.useState("Todos"),i=["Todos","Cliente","Lead","Prospecto"],a=Th.filter(s=>{const l=s.name.toLowerCase().includes(e.toLowerCase())||s.company.toLowerCase().includes(e.toLowerCase()),c=r==="Todos"||s.tag===r;return l&&c});return n.jsxs("div",{style:{padding:"24px 28px"},children:[n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px",alignItems:"center"},children:[n.jsxs("div",{style:{flex:1,position:"relative",maxWidth:"340px"},children:[n.jsx(tr,{size:15,color:"#9CA3AF",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:e,onChange:s=>t(s.target.value),placeholder:"Buscar contactos...",style:{width:"100%",padding:"10px 12px 10px 36px",border:"1.5px solid #E0E0E0",borderRadius:"10px",fontSize:"14px",outline:"none",backgroundColor:"#fff",boxSizing:"border-box"}})]}),n.jsx("div",{style:{display:"flex",gap:"6px"},children:i.map(s=>n.jsx("button",{onClick:()=>o(s),style:{padding:"8px 14px",border:`1.5px solid ${r===s?"#FF6835":"#E0E0E0"}`,borderRadius:"8px",backgroundColor:r===s?"#FF683510":"#fff",color:r===s?"#FF6835":"#555",cursor:"pointer",fontSize:"13px",fontWeight:r===s?700:500},children:s},s))}),n.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"13px",color:"#555"},children:[n.jsx(HL,{size:14})," Filtros"]})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1.5px solid #E5E7EB"},children:["Contacto","Empresa","Email / Telfono","Tag","Estado","Valor Est.","ltimo Contacto",""].map(s=>n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280",whiteSpace:"nowrap"},children:s},s))})}),n.jsx("tbody",{children:a.map((s,l)=>n.jsxs("tr",{style:{borderBottom:l<a.length-1?"1px solid #F3F4F6":"none"},onMouseEnter:c=>c.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:c=>c.currentTarget.style.backgroundColor="transparent",children:[n.jsx("td",{style:{padding:"14px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:700,fontSize:"13px",flexShrink:0},children:s.name.split(" ").map(c=>c[0]).slice(0,2).join("")}),n.jsx("span",{style:{fontWeight:600,fontSize:"14px",color:"#111"},children:s.name})]})}),n.jsx("td",{style:{padding:"14px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#374151"},children:[n.jsx(Oi,{size:13,color:"#9CA3AF"}),s.company]})}),n.jsx("td",{style:{padding:"14px 16px"},children:n.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",lineHeight:"1.7"},children:[n.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[n.jsx(ka,{size:11}),s.email]}),n.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[n.jsx(jd,{size:11}),s.phone]})]})}),n.jsx("td",{style:{padding:"14px 16px"},children:n.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,...tAe[s.tag]},children:s.tag})}),n.jsx("td",{style:{padding:"14px 16px"},children:n.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,...rAe[s.status]},children:s.status})}),n.jsx("td",{style:{padding:"14px 16px",fontSize:"14px",fontWeight:700,color:"#111"},children:q1(s.value)}),n.jsx("td",{style:{padding:"14px 16px",fontSize:"12px",color:"#9CA3AF"},children:s.lastContact}),n.jsx("td",{style:{padding:"14px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsx("button",{style:{width:28,height:28,borderRadius:"6px",border:"1px solid #E0E0E0",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(jd,{size:13,color:"#3B82F6"})}),n.jsx("button",{style:{width:28,height:28,borderRadius:"6px",border:"1px solid #E0E0E0",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ka,{size:13,color:"#10B981"})}),n.jsx("button",{style:{width:28,height:28,borderRadius:"6px",border:"1px solid #E0E0E0",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(fo,{size:13,color:"#6B7280"})})]})})]},s.id))})]})})]})}function sAe(){return n.jsx("div",{style:{padding:"24px 28px",overflowX:"auto"},children:n.jsx("div",{style:{display:"flex",gap:"16px",minWidth:"max-content"},children:zG.map(e=>n.jsxs("div",{style:{width:"240px",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:e.color}}),n.jsx("span",{style:{fontWeight:700,fontSize:"13px",color:"#111"},children:e.label}),n.jsx("span",{style:{width:20,height:20,borderRadius:"50%",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:700,color:"#555"},children:e.deals.length})]}),n.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#6B7280"},children:q1(e.amount)})]}),n.jsx("div",{style:{height:"3px",backgroundColor:"#F0F0F0",borderRadius:"2px",marginBottom:"12px"},children:n.jsx("div",{style:{height:"100%",borderRadius:"2px",backgroundColor:e.color,width:`${Math.min(e.amount/4e5*100,100)}%`}})}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[e.deals.map(t=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",border:"1px solid #E5E7EB",padding:"14px",cursor:"pointer",transition:"box-shadow 0.15s"},onMouseEnter:r=>r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.08)",onMouseLeave:r=>r.currentTarget.style.boxShadow="none",children:[n.jsx("div",{style:{fontWeight:600,fontSize:"13px",color:"#111",marginBottom:"4px"},children:t.name}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#6B7280",marginBottom:"10px"},children:[n.jsx(Oi,{size:11}),t.company]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("span",{style:{fontWeight:800,fontSize:"14px",color:e.color},children:q1(t.value)}),n.jsxs("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:[t.probability,"%"]})]}),n.jsx("div",{style:{height:"3px",backgroundColor:"#F0F0F0",borderRadius:"2px",marginTop:"8px"},children:n.jsx("div",{style:{height:"100%",borderRadius:"2px",backgroundColor:e.color,width:`${t.probability}%`}})}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[n.jsx("div",{style:{width:24,height:24,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"10px",fontWeight:700},children:t.owner}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px",fontSize:"11px",color:"#9CA3AF"},children:[n.jsx(gs,{size:10}),t.dueDate]})]})]},t.id)),n.jsxs("button",{style:{width:"100%",padding:"10px",border:"1.5px dashed #D1D5DB",borderRadius:"10px",backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",color:"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(Nt,{size:14})," Agregar"]})]})]},e.id))})})}function lAe(){const[e,t]=A.useState(Object.fromEntries(yu.map(i=>[i.id,i.done]))),r=i=>t(a=>({...a,[i]:!a[i]})),o=yu.reduce((i,a)=>((i[a.date]=i[a.date]||[]).push(a),i),{});return n.jsxs("div",{style:{maxWidth:"820px",margin:"0 auto",padding:"24px 28px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"12px",marginBottom:"24px"},children:[{label:"Pendientes",value:yu.filter(i=>!i.done).length,color:"#F59E0B"},{label:"Completadas",value:yu.filter(i=>i.done).length,color:"#10B981"},{label:"Crticas",value:yu.filter(i=>i.priority==="crtica").length,color:"#EF4444"},{label:"Esta semana",value:yu.length,color:"#3B82F6"}].map(i=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",border:"1px solid #E5E7EB",padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:i.color},children:i.value}),n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"3px"},children:i.label})]},i.label))}),Object.entries(o).map(([i,a])=>n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#6B7280",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"0.05em"},children:i}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:a.map(s=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",border:"1px solid #E5E7EB",padding:"14px 16px",display:"flex",alignItems:"center",gap:"14px",opacity:e[s.id]?.6:1,transition:"opacity 0.2s"},children:[n.jsx("button",{onClick:()=>r(s.id),style:{border:"none",background:"none",cursor:"pointer",flexShrink:0,color:e[s.id]?"#10B981":"#D1D5DB"},children:e[s.id]?n.jsx(ct,{size:22}):n.jsx(mb,{size:22})}),n.jsx("div",{style:{width:32,height:32,borderRadius:"8px",backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",color:"#555",flexShrink:0},children:oAe[s.type]}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#111",textDecoration:e[s.id]?"line-through":"none"},children:s.title}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"2px"},children:[n.jsx("span",{style:{fontSize:"12px",color:"#9CA3AF"},children:s.company}),n.jsx("span",{style:{width:3,height:3,borderRadius:"50%",backgroundColor:"#D1D5DB"}}),n.jsx("span",{style:{fontSize:"12px",color:"#9CA3AF"},children:s.time})]})]}),n.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"11px",fontWeight:600,...nAe[s.priority],flexShrink:0},children:s.priority}),n.jsx("div",{style:{width:28,height:28,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"10px",fontWeight:700,flexShrink:0},children:s.owner})]},s.id))})]},i))]})}const g$=[{code:"1",name:"ACTIVO",type:"encabezado",level:0,balance:2847500},{code:"1.1",name:"Activo Corriente",type:"encabezado",level:1,balance:1523e3},{code:"1.1.1",name:"Caja y Bancos",type:"cuenta",level:2,balance:487e3},{code:"1.1.2",name:"Cuentas por Cobrar",type:"cuenta",level:2,balance:634500},{code:"1.1.3",name:"Inventario de Mercaderas",type:"cuenta",level:2,balance:401500},{code:"1.2",name:"Activo No Corriente",type:"encabezado",level:1,balance:1324500},{code:"1.2.1",name:"Inmuebles y Equipamiento",type:"cuenta",level:2,balance:12e5},{code:"1.2.2",name:"Depreciacin Acumulada",type:"cuenta",level:2,balance:-124500},{code:"2",name:"PASIVO",type:"encabezado",level:0,balance:1105e3},{code:"2.1",name:"Pasivo Corriente",type:"encabezado",level:1,balance:68e4},{code:"2.1.1",name:"Cuentas por Pagar",type:"cuenta",level:2,balance:38e4},{code:"2.1.2",name:"IVA por Pagar",type:"cuenta",level:2,balance:145e3},{code:"2.1.3",name:"Sueldos por Pagar",type:"cuenta",level:2,balance:155e3},{code:"3",name:"PATRIMONIO",type:"encabezado",level:0,balance:1742500},{code:"3.1",name:"Capital Social",type:"cuenta",level:1,balance:15e5},{code:"3.2",name:"Resultados del Ejercicio",type:"cuenta",level:1,balance:242500},{code:"4",name:"INGRESOS",type:"encabezado",level:0,balance:389e4},{code:"4.1",name:"Ventas de Productos",type:"cuenta",level:1,balance:345e4},{code:"4.2",name:"Servicios y Comisiones",type:"cuenta",level:1,balance:44e4},{code:"5",name:"EGRESOS",type:"encabezado",level:0,balance:3647500},{code:"5.1",name:"Costo de Mercaderas Vendidas",type:"cuenta",level:1,balance:21e5},{code:"5.2",name:"Gastos de Personal",type:"cuenta",level:1,balance:89e4},{code:"5.3",name:"Gastos Operativos",type:"cuenta",level:1,balance:657500}],x$=[{id:"AS-00201",date:"19 Feb",ref:"FAC-1089",description:"Venta a TechSur SA",debit:"Cuentas por Cobrar",credit:"Ventas de Productos",amount:45e3,status:"confirmado"},{id:"AS-00202",date:"19 Feb",ref:"COMP-0541",description:"Compra mercadera Proveedor X",debit:"Inventario",credit:"Cuentas por Pagar",amount:28e3,status:"confirmado"},{id:"AS-00203",date:"18 Feb",ref:"PAG-0334",description:"Pago sueldos febrero",debit:"Sueldos por Pagar",credit:"Banco Ita",amount:155e3,status:"confirmado"},{id:"AS-00204",date:"18 Feb",ref:"FAC-1090",description:"Venta a Supermercado Norte",debit:"Cuentas por Cobrar",credit:"Ventas de Productos",amount:78e3,status:"borrador"},{id:"AS-00205",date:"17 Feb",ref:"IVA-0219",description:"Liquidacin IVA mensual",debit:"IVA por Pagar",credit:"Banco BROU",amount:38500,status:"confirmado"},{id:"AS-00206",date:"17 Feb",ref:"GTO-0089",description:"Alquiler oficina feb",debit:"Gastos Operativos",credit:"Banco Ita",amount:25e3,status:"borrador"}],F0=[{id:"FC-1080",client:"TechSur SA",date:"05 Feb",due:"05 Mar",amount:45e3,paid:2e4,status:"parcial"},{id:"FC-1081",client:"Supermercado Norte",date:"08 Feb",due:"08 Mar",amount:78e3,paid:0,status:"pendiente"},{id:"FC-1082",client:"Importadora SL",date:"10 Feb",due:"12 Feb",amount:23e4,paid:23e4,status:"pagado"},{id:"FC-1083",client:"Constructora NP",date:"01 Feb",due:"01 Feb",amount:95e3,paid:0,status:"vencido"},{id:"FC-1084",client:"Agro del Este",date:"14 Feb",due:"14 Mar",amount:55e3,paid:55e3,status:"pagado"}],Ck=[{name:"BROU  Cuenta Corriente",number:"****4521",currency:"UYU",balance:287400,lastSync:"Hoy 10:30"},{name:"Ita  Cuenta Corriente",number:"****8832",currency:"UYU",balance:145600,lastSync:"Hoy 10:28"},{name:"Santander  USD",number:"****2190",currency:"USD",balance:18250,lastSync:"Ayer 18:00"},{name:"Mercado Pago  Cuenta",number:"****mp01",currency:"UYU",balance:54e3,lastSync:"Hoy 10:45"}],cAe=[{date:"19 Feb",desc:"Cobro Factura TechSur",type:"ingreso",amount:25e3,balance:287400},{date:"18 Feb",desc:"Pago Proveedor Alpack",type:"egreso",amount:-12500,balance:262400},{date:"18 Feb",desc:"Cobro Factura LogiUy",type:"ingreso",amount:174e3,balance:274900},{date:"17 Feb",desc:"Transferencia a Ita",type:"egreso",amount:-5e4,balance:100900},{date:"17 Feb",desc:"Impuesto IVA",type:"egreso",amount:-38500,balance:150900},{date:"16 Feb",desc:"Ventas del da (MP)",type:"ingreso",amount:89e3,balance:189400}],uo=e=>{const t=Math.abs(e),r=t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:`${t}`;return e<0?`-$${r}`:`$${r}`},dAe={pagado:{label:"Pagado",color:"#059669",bg:"#D1FAE5"},parcial:{label:"Parcial",color:"#D97706",bg:"#FEF3C7"},pendiente:{label:"Pendiente",color:"#2563EB",bg:"#DBEAFE"},vencido:{label:"Vencido",color:"#DC2626",bg:"#FEE2E2"}};function uAe({onNavigate:e}){const[t,r]=A.useState("plan"),o=[{id:"plan",icon:n.jsx(Wi,{size:14}),label:"Plan de Cuentas"},{id:"asientos",icon:n.jsx(_t,{size:14}),label:"Asientos"},{id:"cobrar",icon:n.jsx(Ty,{size:14}),label:"Cuentas por Cobrar/Pagar"},{id:"bancos",icon:n.jsx(mn,{size:14}),label:"Bancos y Cajas"}],i=2847500,a=389e4,s=3647500,l=a-s;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Wi,title:"Contabilidad",subtitle:"Plan de cuentas, asientos contables, AR/AP y conciliacin bancaria",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:"Nuevo Asiento",primary:!0}]}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"14px 28px",display:"flex",gap:"16px",flexShrink:0},children:[{label:"Total Activos",value:uo(i),icon:n.jsx(Xt,{size:16}),color:"#3B82F6"},{label:"Ingresos (mes)",value:uo(a),icon:n.jsx(Ty,{size:16}),color:"#10B981"},{label:"Egresos (mes)",value:uo(s),icon:n.jsx(m8,{size:16}),color:"#EF4444"},{label:"Resultado Neto",value:uo(l),icon:n.jsx(yn,{size:16}),color:"#10B981"}].map(c=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 18px",backgroundColor:"#F9FAFB",borderRadius:"10px",flex:1},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:"8px",backgroundColor:c.color+"18",display:"flex",alignItems:"center",justifyContent:"center",color:c.color},children:c.icon}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#111"},children:c.value}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:c.label})]})]},c.label))}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",padding:"0 28px",flexShrink:0},children:o.map(c=>{const d=t===c.id;return n.jsxs("button",{onClick:()=>r(c.id),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 18px",border:"none",borderBottom:`3px solid ${d?"#FF6835":"transparent"}`,backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",fontWeight:d?700:500,color:d?"#FF6835":"#555",whiteSpace:"nowrap"},children:[c.icon,c.label]},c.id)})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:[t==="plan"&&n.jsx(pAe,{}),t==="asientos"&&n.jsx(fAe,{}),t==="cobrar"&&n.jsx(hAe,{}),t==="bancos"&&n.jsx(gAe,{})]})]})}function pAe(){const[e,t]=A.useState(new Set(["1","2","3","4","5"])),r=o=>t(i=>{const a=new Set(i);return a.has(o)?a.delete(o):a.add(o),a});return n.jsxs("div",{style:{padding:"24px 28px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:700},children:"Plan de Cuentas"}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsxs("button",{style:{display:"flex",gap:"6px",alignItems:"center",padding:"8px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"13px",color:"#555"},children:[n.jsx(Ht,{size:13})," Exportar"]}),n.jsxs("button",{style:{display:"flex",gap:"6px",alignItems:"center",padding:"8px 14px",backgroundColor:"#FF6835",border:"none",borderRadius:"8px",color:"#fff",cursor:"pointer",fontSize:"13px",fontWeight:700},children:[n.jsx(Nt,{size:13})," Nueva Cuenta"]})]})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1.5px solid #E5E7EB"},children:["Cdigo","Nombre","Tipo","Saldo"].map(o=>n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280"},children:o},o))})}),n.jsx("tbody",{children:g$.map((o,i)=>{const a=o.type==="encabezado",s=o.level*24;return n.jsxs("tr",{style:{borderBottom:i<g$.length-1?"1px solid #F3F4F6":"none",backgroundColor:a?"#F9FAFB":"transparent"},children:[n.jsx("td",{style:{padding:"11px 16px",fontFamily:"monospace",fontSize:"13px",color:"#6B7280"},children:o.code}),n.jsx("td",{style:{padding:"11px 16px",paddingLeft:`${16+s}px`},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a&&n.jsx("button",{onClick:()=>r(o.code),style:{border:"none",background:"none",cursor:"pointer",color:"#6B7280",padding:0},children:n.jsx(Xr,{size:14,style:{transform:e.has(o.code)?"rotate(90deg)":"none",transition:"transform 0.15s"}})}),n.jsx("span",{style:{fontWeight:a?700:400,fontSize:a?"14px":"13px",color:a?"#111":"#374151"},children:o.name})]})}),n.jsx("td",{style:{padding:"11px 16px"},children:n.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:600,backgroundColor:a?"#F3F4F6":"#EFF6FF",color:a?"#374151":"#1D4ED8"},children:a?"Encabezado":"Cuenta"})}),n.jsx("td",{style:{padding:"11px 16px",fontWeight:a?800:600,fontSize:"14px",color:o.balance<0?"#EF4444":"#111",textAlign:"right"},children:uo(o.balance)})]},o.code)})})]})})]})}function fAe(){return n.jsxs("div",{style:{padding:"24px 28px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:700},children:"Asientos Contables"}),n.jsx("button",{style:{padding:"8px 16px",backgroundColor:"#FF6835",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:700},children:"+ Nuevo Asiento"})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1.5px solid #E5E7EB"},children:["N Asiento","Fecha","Referencia","Descripcin","Debe","Haber","Importe","Estado"].map(e=>n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280",whiteSpace:"nowrap"},children:e},e))})}),n.jsx("tbody",{children:x$.map((e,t)=>n.jsxs("tr",{style:{borderBottom:t<x$.length-1?"1px solid #F3F4F6":"none"},onMouseEnter:r=>r.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:r=>r.currentTarget.style.backgroundColor="transparent",children:[n.jsx("td",{style:{padding:"13px 14px",fontWeight:700,fontSize:"13px",color:"#FF6835"},children:e.id}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"13px",color:"#555"},children:e.date}),n.jsx("td",{style:{padding:"13px 14px",fontFamily:"monospace",fontSize:"12px",color:"#6B7280"},children:e.ref}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"13px",color:"#111",maxWidth:"200px"},children:e.description}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"12px",color:"#374151"},children:e.debit}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"12px",color:"#374151"},children:e.credit}),n.jsx("td",{style:{padding:"13px 14px",fontWeight:700,color:"#111"},children:uo(e.amount)}),n.jsx("td",{style:{padding:"13px 14px"},children:n.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,backgroundColor:e.status==="confirmado"?"#D1FAE5":"#FEF3C7",color:e.status==="confirmado"?"#065F46":"#92400E"},children:e.status==="confirmado"?" Confirmado":" Borrador"})})]},e.id))})]})})]})}function hAe(){const[e,t]=A.useState("cobrar"),r=F0.filter(i=>i.status!=="pagado").reduce((i,a)=>i+(a.amount-a.paid),0),o=F0.filter(i=>i.status==="vencido").reduce((i,a)=>i+a.amount,0);return n.jsxs("div",{style:{padding:"24px 28px"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px"},children:[n.jsxs("button",{onClick:()=>t("cobrar"),style:{display:"flex",gap:"6px",alignItems:"center",padding:"10px 20px",border:`2px solid ${e==="cobrar"?"#FF6835":"#E0E0E0"}`,borderRadius:"10px",backgroundColor:e==="cobrar"?"#FF683510":"#fff",color:e==="cobrar"?"#FF6835":"#555",cursor:"pointer",fontWeight:e==="cobrar"?700:500,fontSize:"14px"},children:[n.jsx(Ty,{size:16})," Cuentas por Cobrar"]}),n.jsxs("button",{onClick:()=>t("pagar"),style:{display:"flex",gap:"6px",alignItems:"center",padding:"10px 20px",border:`2px solid ${e==="pagar"?"#FF6835":"#E0E0E0"}`,borderRadius:"10px",backgroundColor:e==="pagar"?"#FF683510":"#fff",color:e==="pagar"?"#FF6835":"#555",cursor:"pointer",fontWeight:e==="pagar"?700:500,fontSize:"14px"},children:[n.jsx(m8,{size:16})," Cuentas por Pagar"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"14px",marginBottom:"20px"},children:[{label:"Total Pendiente",value:uo(r),color:"#D97706",bg:"#FEF3C7"},{label:"Total Vencido",value:uo(o),color:"#DC2626",bg:"#FEE2E2"},{label:"Cobrado (mes)",value:uo(299e3),color:"#059669",bg:"#D1FAE5"}].map(i=>n.jsxs("div",{style:{backgroundColor:i.bg,borderRadius:"12px",padding:"16px 20px"},children:[n.jsx("div",{style:{fontSize:"22px",fontWeight:800,color:i.color},children:i.value}),n.jsx("div",{style:{fontSize:"12px",color:i.color,marginTop:"3px",opacity:.8},children:i.label})]},i.label))}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1.5px solid #E5E7EB"},children:["Factura",e==="cobrar"?"Cliente":"Proveedor","Emisin","Vencimiento","Total","Pagado","Saldo","Estado",""].map(i=>n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280",whiteSpace:"nowrap"},children:i},i))})}),n.jsx("tbody",{children:F0.map((i,a)=>{const s=dAe[i.status],l=i.amount-i.paid;return n.jsxs("tr",{style:{borderBottom:a<F0.length-1?"1px solid #F3F4F6":"none"},onMouseEnter:c=>c.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:c=>c.currentTarget.style.backgroundColor="transparent",children:[n.jsx("td",{style:{padding:"13px 14px",fontWeight:700,fontSize:"13px",color:"#FF6835"},children:i.id}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"13px",fontWeight:600,color:"#111"},children:i.client}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"12px",color:"#9CA3AF"},children:i.date}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"12px",color:i.status==="vencido"?"#DC2626":"#555",fontWeight:i.status==="vencido"?700:400},children:i.due}),n.jsx("td",{style:{padding:"13px 14px",fontWeight:600,color:"#111"},children:uo(i.amount)}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"13px",color:"#10B981",fontWeight:600},children:uo(i.paid)}),n.jsx("td",{style:{padding:"13px 14px",fontWeight:700,color:l>0?"#DC2626":"#10B981"},children:uo(l)}),n.jsx("td",{style:{padding:"13px 14px"},children:n.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,color:s.color,backgroundColor:s.bg},children:s.label})}),n.jsx("td",{style:{padding:"13px 14px"},children:i.status!=="pagado"&&n.jsx("button",{style:{padding:"5px 12px",backgroundColor:"#FF6835",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:700},children:"Registrar Pago"})})]},i.id)})})]})})]})}function gAe(){const[e,t]=A.useState(0),r=Ck.filter(o=>o.currency==="UYU").reduce((o,i)=>o+i.balance,0);return n.jsx("div",{style:{padding:"24px 28px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"20px"},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Cuentas"}),n.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:"#10B981"},children:["Total UYU: ",uo(r)]})]}),Ck.map((o,i)=>n.jsxs("button",{onClick:()=>t(i),style:{width:"100%",padding:"14px 16px",borderRadius:"12px",border:`2px solid ${e===i?"#FF6835":"#E5E7EB"}`,backgroundColor:e===i?"#FF683508":"#fff",cursor:"pointer",textAlign:"left",marginBottom:"8px",transition:"all 0.15s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:"#111"},children:o.name}),n.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"2px"},children:o.number})]}),n.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:700,backgroundColor:"#F3F4F6",color:"#374151"},children:o.currency})]}),n.jsx("div",{style:{fontSize:"20px",fontWeight:800,color:"#111",marginTop:"8px"},children:uo(o.balance)}),n.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"3px"},children:["Sync: ",o.lastSync]})]},o.name))]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"15px",color:"#111"},children:Ck[e].name}),n.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginTop:"1px"},children:"ltimos movimientos"})]}),n.jsxs("button",{style:{display:"flex",gap:"6px",alignItems:"center",padding:"8px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"13px",color:"#555"},children:[n.jsx(_t,{size:13})," Sincronizar"]})]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Fecha","Descripcin","Tipo","Importe","Saldo"].map(o=>n.jsx("th",{style:{padding:"11px 16px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280"},children:o},o))})}),n.jsx("tbody",{children:cAe.map((o,i)=>n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6"},children:[n.jsx("td",{style:{padding:"12px 16px",fontSize:"12px",color:"#9CA3AF"},children:o.date}),n.jsx("td",{style:{padding:"12px 16px",fontSize:"13px",color:"#111"},children:o.desc}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",fontSize:"12px",fontWeight:600,color:o.type==="ingreso"?"#059669":"#DC2626"},children:[o.type==="ingreso"?n.jsx(Ty,{size:13}):n.jsx(m8,{size:13}),o.type==="ingreso"?"Ingreso":"Egreso"]})}),n.jsxs("td",{style:{padding:"12px 16px",fontWeight:700,color:o.type==="ingreso"?"#059669":"#DC2626"},children:[o.type==="ingreso"?"+":"",uo(o.amount)]}),n.jsx("td",{style:{padding:"12px 16px",fontWeight:600,color:"#111"},children:uo(o.balance)})]},i))})]})]})]})})}const Ql=[{id:1,name:"Carlos Varalla",role:"CEO & Founder",dept:"Direccin",phone:"+598 99 000 001",email:"cv@charlie.com",salary:12e4,status:"activo",joined:"Ene 2020",performance:98,avatar:"CV"},{id:2,name:"Ana Martnez",role:"Jefa de Ventas",dept:"Ventas",phone:"+598 99 111 222",email:"am@charlie.com",salary:85e3,status:"activo",joined:"Mar 2021",performance:94,avatar:"AM"},{id:3,name:"Luis Prez",role:"Dev Lead",dept:"Tecnologa",phone:"+598 98 222 333",email:"lp@charlie.com",salary:95e3,status:"activo",joined:"Jun 2021",performance:91,avatar:"LP"},{id:4,name:"Sofa Ramrez",role:"Community Manager",dept:"Marketing",phone:"+598 99 333 444",email:"sr@charlie.com",salary:55e3,status:"activo",joined:"Ago 2022",performance:88,avatar:"SR"},{id:5,name:"Pablo Nez",role:"Logstico Senior",dept:"Logstica",phone:"+598 98 444 555",email:"pn@charlie.com",salary:62e3,status:"licencia",joined:"Feb 2022",performance:85,avatar:"PN"},{id:6,name:"Gabriela Torres",role:"Contadora",dept:"Finanzas",phone:"+598 99 555 666",email:"gt@charlie.com",salary:75e3,status:"activo",joined:"Nov 2021",performance:92,avatar:"GT"},{id:7,name:"Federico Alves",role:"Soporte Tcnico",dept:"Tecnologa",phone:"+598 98 666 777",email:"fa@charlie.com",salary:48e3,status:"activo",joined:"Abr 2023",performance:80,avatar:"FA"},{id:8,name:"Romina Sosa",role:"Asistente RRHH",dept:"RRHH",phone:"+598 99 777 888",email:"rs@charlie.com",salary:5e4,status:"activo",joined:"Jul 2023",performance:87,avatar:"RS"}],BG=["Todos","Direccin","Ventas","Tecnologa","Marketing","Logstica","Finanzas","RRHH"],A0=Array.from({length:19},(e,t)=>t+1),xAe={1:{1:"present",2:"present",3:"present",4:"present",5:"present",6:"present",7:"present",8:"present",9:"present",10:"present",11:"present",12:"present",13:"present",14:"present",15:"present",16:"present",17:"present",18:"present",19:"present"},2:{1:"present",2:"present",3:"present",4:"late",5:"present",6:"present",7:"present",8:"present",9:"present",10:"present",11:"present",12:"present",13:"late",14:"present",15:"present",16:"present",17:"present",18:"present",19:"present"},3:{1:"present",2:"present",3:"present",4:"present",5:"present",6:"late",7:"present",8:"present",9:"present",10:"present",11:"present",12:"present",13:"present",14:"present",15:"present",16:"absent",17:"present",18:"present",19:"present"},4:{1:"present",2:"present",3:"late",4:"present",5:"present",6:"present",7:"present",8:"present",9:"absent",10:"present",11:"present",12:"present",13:"present",14:"present",15:"present",16:"present",17:"present",18:"present",19:"present"},5:{1:"leave",2:"leave",3:"leave",4:"leave",5:"leave",6:"leave",7:"leave",8:"leave",9:"leave",10:"leave",11:"leave",12:"leave",13:"leave",14:"leave",15:"present",16:"present",17:"present",18:"present",19:"present"},6:{1:"present",2:"present",3:"present",4:"present",5:"present",6:"present",7:"present",8:"late",9:"present",10:"present",11:"present",12:"present",13:"present",14:"present",15:"present",16:"present",17:"present",18:"present",19:"present"},7:{1:"present",2:"present",3:"present",4:"present",5:"present",6:"present",7:"present",8:"present",9:"present",10:"present",11:"present",12:"present",13:"present",14:"present",15:"present",16:"absent",17:"present",18:"present",19:"present"},8:{1:"present",2:"present",3:"present",4:"present",5:"present",6:"present",7:"present",8:"present",9:"present",10:"present",11:"present",12:"present",13:"present",14:"present",15:"present",16:"present",17:"late",18:"present",19:"present"}},ch=[{id:1,name:"Carlos Varalla",role:"CEO",dept:"Direccin",gross:12e4,ips:18e3,irpf:8400,net:93600,status:"pagado"},{id:2,name:"Ana Martnez",role:"Jefa Ventas",dept:"Ventas",gross:85e3,ips:12750,irpf:5100,net:67150,status:"pagado"},{id:3,name:"Luis Prez",role:"Dev Lead",dept:"Tecnologa",gross:95e3,ips:14250,irpf:6650,net:74100,status:"procesando"},{id:4,name:"Sofa Ramrez",role:"CM",dept:"Marketing",gross:55e3,ips:8250,irpf:2200,net:44550,status:"procesando"},{id:5,name:"Gabriela Torres",role:"Contadora",dept:"Finanzas",gross:75e3,ips:11250,irpf:4500,net:59250,status:"pendiente"},{id:6,name:"Federico Alves",role:"Soporte",dept:"Tecnologa",gross:48e3,ips:7200,irpf:1440,net:39360,status:"pendiente"},{id:7,name:"Romina Sosa",role:"Asist. RRHH",dept:"RRHH",gross:5e4,ips:7500,irpf:1500,net:41e3,status:"pendiente"}],dh={present:{bg:"#D1FAE5",color:"#065F46",label:""},absent:{bg:"#FEE2E2",color:"#991B1B",label:""},late:{bg:"#FEF3C7",color:"#92400E",label:"~"},leave:{bg:"#DBEAFE",color:"#1E40AF",label:"L"}},mAe={pagado:{label:"Pagado",color:"#059669",bg:"#D1FAE5"},procesando:{label:"Procesando",color:"#2563EB",bg:"#DBEAFE"},pendiente:{label:"Pendiente",color:"#D97706",bg:"#FEF3C7"}},yAe={activo:{label:"Activo",color:"#059669",bg:"#D1FAE5"},licencia:{label:"Licencia",color:"#2563EB",bg:"#DBEAFE"},inactivo:{label:"Inactivo",color:"#6B7280",bg:"#F3F4F6"}},Qa=e=>`$${e.toLocaleString("es-UY")}`;function bAe({onNavigate:e}){const[t,r]=A.useState("empleados"),o=[{id:"empleados",icon:n.jsx(Et,{size:14}),label:"Empleados"},{id:"asistencia",icon:n.jsx(Ct,{size:14}),label:"Asistencia"},{id:"nomina",icon:n.jsx(yn,{size:14}),label:"Nmina"}],i=Ql.reduce((a,s)=>a+s.salary,0);return BG.slice(1).map(a=>({dept:a,count:Ql.filter(s=>s.dept===a).length})).filter(a=>a.count>0),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:By,title:"Recursos Humanos",subtitle:"Gestin de empleados, asistencia y liquidacin de nmina",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:"+ Nuevo Empleado",primary:!0}]}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"14px 28px",display:"flex",gap:"14px",flexShrink:0},children:[{label:"Total Empleados",value:Ql.length,color:"#3B82F6"},{label:"Activos hoy",value:Ql.filter(a=>a.status==="activo").length,color:"#10B981"},{label:"En licencia",value:Ql.filter(a=>a.status==="licencia").length,color:"#F59E0B"},{label:"Masa Salarial",value:Qa(i),color:"#8B5CF6"}].map(a=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 18px",backgroundColor:"#F9FAFB",borderRadius:"10px",flex:1},children:[n.jsx("div",{style:{width:8,height:36,borderRadius:"4px",backgroundColor:a.color}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"20px",fontWeight:800,color:"#111"},children:a.value}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:a.label})]})]},a.label))}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",padding:"0 28px",flexShrink:0},children:o.map(a=>{const s=t===a.id;return n.jsxs("button",{onClick:()=>r(a.id),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 22px",border:"none",borderBottom:`3px solid ${s?"#FF6835":"transparent"}`,backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",fontWeight:s?700:500,color:s?"#FF6835":"#555"},children:[a.icon,a.label]},a.id)})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:[t==="empleados"&&n.jsx(vAe,{}),t==="asistencia"&&n.jsx(jAe,{}),t==="nomina"&&n.jsx(SAe,{})]})]})}function vAe(){const[e,t]=A.useState("Todos"),r=e==="Todos"?Ql:Ql.filter(o=>o.dept===e);return n.jsxs("div",{style:{padding:"24px 28px"},children:[n.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},children:BG.map((o,i)=>n.jsx("button",{onClick:()=>t(o),style:{padding:"7px 14px",border:`1.5px solid ${e===o?"#FF6835":"#E0E0E0"}`,borderRadius:"20px",backgroundColor:e===o?"#FF683510":"#fff",color:e===o?"#FF6835":"#555",cursor:"pointer",fontSize:"12px",fontWeight:e===o?700:500},children:o},o))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:r.map(o=>{const i=yAe[o.status];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"20px",transition:"box-shadow 0.2s"},onMouseEnter:a=>a.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",onMouseLeave:a=>a.currentTarget.style.boxShadow="none",children:[n.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start",marginBottom:"14px"},children:[n.jsx("div",{style:{width:44,height:44,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:800,fontSize:"14px",flexShrink:0},children:o.avatar}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#111",marginBottom:"2px"},children:o.name}),n.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:o.role}),n.jsxs("div",{style:{marginTop:"6px",display:"flex",gap:"6px",alignItems:"center"},children:[n.jsx("span",{style:{padding:"2px 8px",borderRadius:"20px",fontSize:"11px",fontWeight:600,color:i.color,backgroundColor:i.bg},children:i.label}),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:o.dept})]})]})]}),n.jsxs("div",{style:{borderTop:"1px solid #F3F4F6",paddingTop:"12px"},children:[n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[{icon:n.jsx(ka,{size:11}),value:o.email},{icon:n.jsx(jd,{size:11}),value:o.phone},{icon:n.jsx(gs,{size:11}),value:`Desde ${o.joined}`}].map((a,s)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#6B7280"},children:[n.jsx("span",{style:{color:"#9CA3AF",flexShrink:0},children:a.icon}),a.value]},s))}),n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:"Performance"}),n.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:o.performance>=90?"#059669":o.performance>=80?"#D97706":"#EF4444"},children:[o.performance,"%"]})]}),n.jsx("div",{style:{height:"5px",backgroundColor:"#F0F0F0",borderRadius:"3px"},children:n.jsx("div",{style:{height:"100%",borderRadius:"3px",backgroundColor:o.performance>=90?"#10B981":o.performance>=80?"#F59E0B":"#EF4444",width:`${o.performance}%`,transition:"width 0.5s"}})})]}),n.jsxs("div",{style:{marginTop:"12px",fontWeight:700,fontSize:"14px",color:"#FF6835"},children:[Qa(o.salary),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF",fontWeight:400},children:"/mes"})]})]})]},o.id)})})]})}function jAe(){return n.jsx("div",{style:{padding:"24px 28px"},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:700},children:"Asistencia  Febrero 2026"}),n.jsx("div",{style:{display:"flex",gap:"12px"},children:[{label:"Presente",style:dh.present},{label:"Tarde",style:dh.late},{label:"Ausente",style:dh.absent},{label:"Licencia",style:dh.leave}].map(e=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"12px",color:"#555"},children:[n.jsx("span",{style:{width:14,height:14,borderRadius:"3px",backgroundColor:e.style.bg,display:"inline-block"}}),e.label]},e.label))})]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"700px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"#F9FAFB"},children:[n.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280",minWidth:"160px"},children:"Empleado"}),A0.map(e=>n.jsx("th",{style:{padding:"8px 4px",textAlign:"center",fontSize:"11px",color:"#9CA3AF",width:"32px"},children:e},e)),n.jsx("th",{style:{padding:"10px 12px",textAlign:"center",fontSize:"12px",fontWeight:700,color:"#6B7280"},children:"%"})]})}),n.jsx("tbody",{children:Ql.slice(0,8).map((e,t)=>{const r=xAe[t+1]||{},o=A0.filter(a=>r[a]==="present").length,i=Math.round(o/A0.length*100);return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6"},children:[n.jsx("td",{style:{padding:"10px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"11px",fontWeight:700,flexShrink:0},children:e.avatar}),n.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#111",whiteSpace:"nowrap"},children:e.name.split(" ")[0]})]})}),A0.map(a=>{const s=r[a]||"present",l=dh[s];return n.jsx("td",{style:{padding:"6px 3px",textAlign:"center"},children:n.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,borderRadius:"4px",backgroundColor:l.bg,fontSize:"11px",fontWeight:700,color:l.color},children:l.label})},a)}),n.jsx("td",{style:{padding:"10px 12px",textAlign:"center"},children:n.jsxs("span",{style:{fontSize:"13px",fontWeight:700,color:i>=95?"#059669":i>=80?"#D97706":"#DC2626"},children:[i,"%"]})})]},e.id)})})]})]})})}function SAe(){const e=ch.reduce((i,a)=>i+a.gross,0),t=ch.reduce((i,a)=>i+a.net,0),r=ch.reduce((i,a)=>i+a.ips,0),o=ch.reduce((i,a)=>i+a.irpf,0);return n.jsxs("div",{style:{padding:"24px 28px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"14px",marginBottom:"20px"},children:[{label:"Salario Bruto Total",value:Qa(e),color:"#3B82F6",bg:"#EFF6FF"},{label:"IPS (15%)",value:Qa(r),color:"#8B5CF6",bg:"#F5F3FF"},{label:"IRPF",value:Qa(o),color:"#F59E0B",bg:"#FFFBEB"},{label:"Neto a Pagar",value:Qa(t),color:"#10B981",bg:"#ECFDF5"}].map(i=>n.jsxs("div",{style:{backgroundColor:i.bg,borderRadius:"12px",padding:"16px 20px",border:`1px solid ${i.color}20`},children:[n.jsx("div",{style:{fontSize:"22px",fontWeight:800,color:i.color},children:i.value}),n.jsx("div",{style:{fontSize:"12px",color:i.color,opacity:.8,marginTop:"3px"},children:i.label})]},i.label))}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 2px",fontSize:"15px",fontWeight:700},children:"Liquidacin Febrero 2026"}),n.jsx("p",{style:{margin:0,fontSize:"12px",color:"#6B7280"},children:"Perodo: 01/02/2026  28/02/2026"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsxs("button",{style:{display:"flex",gap:"6px",alignItems:"center",padding:"8px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"13px",color:"#555"},children:[n.jsx(Ht,{size:13})," Exportar"]}),n.jsx("button",{style:{padding:"8px 16px",backgroundColor:"#FF6835",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:700},children:"Procesar Todos"})]})]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Empleado","Cargo","Departamento","Bruto","IPS (15%)","IRPF","Neto","Estado",""].map(i=>n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280",whiteSpace:"nowrap"},children:i},i))})}),n.jsx("tbody",{children:ch.map((i,a)=>{const s=mAe[i.status];return n.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6"},onMouseEnter:l=>l.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:l=>l.currentTarget.style.backgroundColor="transparent",children:[n.jsx("td",{style:{padding:"13px 14px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:30,height:30,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"11px",fontWeight:700,flexShrink:0},children:i.name.split(" ").map(l=>l[0]).slice(0,2).join("")}),n.jsx("span",{style:{fontWeight:600,fontSize:"13px",color:"#111"},children:i.name})]})}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"12px",color:"#6B7280"},children:i.role}),n.jsx("td",{style:{padding:"13px 14px",fontSize:"12px",color:"#374151"},children:i.dept}),n.jsx("td",{style:{padding:"13px 14px",fontWeight:600,color:"#111"},children:Qa(i.gross)}),n.jsxs("td",{style:{padding:"13px 14px",color:"#8B5CF6",fontWeight:600},children:["-",Qa(i.ips)]}),n.jsxs("td",{style:{padding:"13px 14px",color:"#F59E0B",fontWeight:600},children:["-",Qa(i.irpf)]}),n.jsx("td",{style:{padding:"13px 14px",fontWeight:800,color:"#10B981"},children:Qa(i.net)}),n.jsx("td",{style:{padding:"13px 14px"},children:n.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,color:s.color,backgroundColor:s.bg},children:s.label})}),n.jsx("td",{style:{padding:"13px 14px"},children:i.status!=="pagado"&&n.jsx("button",{style:{padding:"5px 12px",backgroundColor:i.status==="procesando"?"#3B82F6":"#FF6835",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:700},children:i.status==="procesando"?"Confirmar":"Procesar"})})]},i.id)})})]})]})]})}const Mu=[{id:1,name:"Lanzamiento Storefront v1",status:"activo",priority:"crtica",progress:72,deadline:"28 Feb 2026",team:["CV","AM","LP"],tags:["Frontend","React"],tasks:{total:34,done:24},client:"Interno",milestones:[{name:"Diseo UI",done:!0,date:"10 Feb"},{name:"Desarrollo",done:!0,date:"18 Feb"},{name:"Testing",done:!1,date:"25 Feb"},{name:"Deploy",done:!1,date:"28 Feb"}]},{id:2,name:"Integracin WhatsApp Business",status:"activo",priority:"crtica",progress:30,deadline:"15 Mar 2026",team:["LP","FA"],tags:["API","Backend"],tasks:{total:18,done:5},client:"Interno",milestones:[{name:"Configuracin Meta",done:!0,date:"15 Feb"},{name:"Webhook",done:!1,date:"25 Feb"},{name:"Catlogo",done:!1,date:"08 Mar"},{name:"Deploy",done:!1,date:"15 Mar"}]},{id:3,name:"ERP Contabilidad Mdulo",status:"activo",priority:"alta",progress:15,deadline:"30 Abr 2026",team:["GT","CV"],tags:["ERP","Finanzas"],tasks:{total:42,done:6},client:"Interno",milestones:[{name:"Plan de Cuentas",done:!0,date:"19 Feb"},{name:"Asientos",done:!1,date:"15 Mar"},{name:"AR/AP",done:!1,date:"01 Abr"},{name:"Bancos",done:!1,date:"15 Abr"}]},{id:4,name:"CRM  Pipeline de Ventas",status:"completado",priority:"alta",progress:100,deadline:"19 Feb 2026",team:["AM","CV"],tags:["CRM","Ventas"],tasks:{total:22,done:22},client:"Interno",milestones:[{name:"Contactos",done:!0,date:"05 Feb"},{name:"Pipeline",done:!0,date:"12 Feb"},{name:"Actividades",done:!0,date:"19 Feb"}]},{id:5,name:"App Mvil POS v2",status:"pausado",priority:"media",progress:45,deadline:"30 May 2026",team:["LP","FA","CV"],tags:["Mobile","React Native"],tasks:{total:60,done:27},client:"Interno",milestones:[{name:"Diseo",done:!0,date:"01 Feb"},{name:"Auth",done:!0,date:"10 Feb"},{name:"POS Core",done:!1,date:"15 Apr"},{name:"Payments",done:!1,date:"15 May"}]}],wAe=[{id:"todo",label:"Por Hacer",color:"#6B7280",tasks:[{id:101,title:"Implementar filtros de bsqueda en catlogo",priority:"alta",tags:["Frontend"],assignee:"LP",comments:3,attachments:1,dueDate:"25 Feb"},{id:102,title:"Configurar webhook WhatsApp Business",priority:"crtica",tags:["API"],assignee:"LP",comments:5,attachments:2,dueDate:"24 Feb"},{id:103,title:"Disear mdulo de notas de crdito",priority:"media",tags:["ERP"],assignee:"GT",comments:1,attachments:0,dueDate:"01 Mar"},{id:104,title:"Documentar endpoints de la API REST",priority:"baja",tags:["Docs"],assignee:"FA",comments:0,attachments:1}]},{id:"progress",label:"En Progreso",color:"#3B82F6",tasks:[{id:105,title:"Checkout multi-paso  paso 3 (pago)",priority:"crtica",tags:["Storefront"],assignee:"CV",comments:8,attachments:3,dueDate:"22 Feb"},{id:106,title:"Integracin Mercado Pago v2",priority:"alta",tags:["Pagos"],assignee:"LP",comments:4,attachments:1,dueDate:"23 Feb"},{id:107,title:"Vista de Pipeline CRM",priority:"alta",tags:["CRM"],assignee:"AM",comments:2,attachments:0,dueDate:"21 Feb"}]},{id:"review",label:"En Revisin",color:"#F59E0B",tasks:[{id:108,title:"Home Storefront  Hero + Grilla de productos",priority:"alta",tags:["Storefront"],assignee:"CV",comments:6,attachments:2,dueDate:"20 Feb"},{id:109,title:"Modal de artculos  autocomplete ML",priority:"crtica",tags:["ERP"],assignee:"CV",comments:12,attachments:4}]},{id:"done",label:"Completado",color:"#10B981",tasks:[{id:110,title:"Migracin RRSS  Vista Instagram/Facebook",priority:"media",tags:["Marketing"],assignee:"SR",comments:3,attachments:1},{id:111,title:"Mdulo CRM  Contactos y Actividades",priority:"alta",tags:["CRM"],assignee:"AM",comments:5,attachments:2},{id:112,title:"Checklist & Roadmap automtico",priority:"baja",tags:["Sistema"],assignee:"CV",comments:2,attachments:0},{id:113,title:"Portal del Cliente  Storefront completo",priority:"crtica",tags:["Storefront"],assignee:"CV",comments:18,attachments:5}]}],EAe={activo:{label:"Activo",color:"#2563EB",bg:"#DBEAFE"},completado:{label:"Completado",color:"#059669",bg:"#D1FAE5"},pausado:{label:"Pausado",color:"#D97706",bg:"#FEF3C7"}},IG={crtica:"#DC2626",alta:"#D97706",media:"#2563EB",baja:"#6B7280"},m$=["#FF6835","#3B82F6","#10B981","#8B5CF6","#F59E0B","#EC4899"];function CAe({onNavigate:e}){const[t,r]=A.useState("proyectos"),o=[{id:"proyectos",icon:n.jsx(bd,{size:14}),label:"Proyectos"},{id:"kanban",icon:n.jsx(Dre,{size:14}),label:"Tablero Kanban"}],i=Mu.reduce((c,d)=>c+d.tasks.total,0),a=Mu.reduce((c,d)=>c+d.tasks.done,0),s=Mu.filter(c=>c.status==="activo").length,l=Math.round(Mu.reduce((c,d)=>c+d.progress,0)/Mu.length);return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:FF,title:"Proyectos y Tareas",subtitle:"Gestin de proyectos, hitos y tablero Kanban del equipo",actions:[{label:"Volver",onClick:()=>e("gestion")},{label:"+ Nuevo Proyecto",primary:!0}]}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"14px 28px",display:"flex",gap:"14px",flexShrink:0},children:[{label:"Proyectos Activos",value:s,color:"#3B82F6"},{label:"Tareas Totales",value:i,color:"#8B5CF6"},{label:"Completadas",value:a,color:"#10B981"},{label:"Progreso Promedio",value:`${l}%`,color:"#F59E0B"}].map(c=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 18px",backgroundColor:"#F9FAFB",borderRadius:"10px",flex:1},children:[n.jsx("div",{style:{width:8,height:36,borderRadius:"4px",backgroundColor:c.color}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"20px",fontWeight:800,color:"#111"},children:c.value}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:c.label})]})]},c.label))}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",padding:"0 28px",flexShrink:0},children:o.map(c=>{const d=t===c.id;return n.jsxs("button",{onClick:()=>r(c.id),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 22px",border:"none",borderBottom:`3px solid ${d?"#FF6835":"transparent"}`,backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",fontWeight:d?700:500,color:d?"#FF6835":"#555"},children:[c.icon,c.label]},c.id)})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:[t==="proyectos"&&n.jsx(kAe,{}),t==="kanban"&&n.jsx(FAe,{})]})]})}function kAe(){const[e,t]=A.useState(new Set),r=o=>t(i=>{const a=new Set(i);return a.has(o)?a.delete(o):a.add(o),a});return n.jsx("div",{style:{padding:"24px 28px"},children:n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:Mu.map(o=>{const i=EAe[o.status],a=e.has(o.id);return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:`1px solid ${a?"#FF6835":"#E5E7EB"}`,overflow:"hidden",transition:"border-color 0.2s"},children:[n.jsxs("div",{style:{padding:"18px 22px",display:"flex",alignItems:"center",gap:"16px",cursor:"pointer"},onClick:()=>r(o.id),children:[n.jsx("div",{style:{width:40,height:40,borderRadius:"10px",backgroundColor:"#FF683510",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(bd,{size:20,color:"#FF6835"})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[n.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:"#111"},children:o.name}),n.jsx("span",{style:{padding:"2px 8px",borderRadius:"20px",fontSize:"11px",fontWeight:600,color:i.color,backgroundColor:i.bg},children:i.label}),n.jsxs("span",{style:{fontSize:"11px",fontWeight:700,color:IG[o.priority]},children:[" ",o.priority]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#F0F0F0",borderRadius:"3px",maxWidth:"300px"},children:n.jsx("div",{style:{height:"100%",borderRadius:"3px",backgroundColor:o.progress===100?"#10B981":"#FF6835",width:`${o.progress}%`,transition:"width 0.5s"}})}),n.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:"#555"},children:[o.progress,"%"]}),n.jsxs("span",{style:{fontSize:"12px",color:"#9CA3AF"},children:[o.tasks.done,"/",o.tasks.total," tareas"]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexShrink:0},children:[n.jsx("div",{style:{display:"flex",gap:"4px"},children:o.team.map((s,l)=>n.jsx("div",{style:{width:28,height:28,borderRadius:"50%",backgroundColor:m$[l%m$.length],display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"10px",fontWeight:700,border:"2px solid #fff",marginLeft:l>0?"-6px":0},children:s},s))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#9CA3AF"},children:[n.jsx(gs,{size:12}),o.deadline]}),n.jsx(Xr,{size:18,color:"#9CA3AF",style:{transform:a?"rotate(90deg)":"none",transition:"transform 0.2s"}})]})]}),a&&n.jsx("div",{style:{borderTop:"1px solid #F3F4F6",padding:"18px 22px",backgroundColor:"#FAFAFA"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:"#6B7280",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Hitos"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:o.milestones.map((s,l)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.done?n.jsx(ct,{size:16,color:"#10B981"}):n.jsx(Ct,{size:16,color:"#9CA3AF"}),n.jsx("span",{style:{fontSize:"13px",color:s.done?"#374151":"#9CA3AF",textDecoration:(s.done,"none")},children:s.name}),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF",marginLeft:"auto"},children:s.date})]},l))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:"#6B7280",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Detalles"}),n.jsx("div",{style:{display:"flex",gap:"6px",marginBottom:"12px",flexWrap:"wrap"},children:o.tags.map(s=>n.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,backgroundColor:"#EFF6FF",color:"#1D4ED8"},children:s},s))}),n.jsxs("div",{style:{fontSize:"13px",color:"#374151",lineHeight:"1.7"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Cliente:"})," ",o.client]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Vencimiento:"})," ",o.deadline]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Equipo:"})," ",o.team.join(", ")]})]})]})]})})]},o.id)})})})}function FAe(){return n.jsx("div",{style:{padding:"24px 28px",overflowX:"auto"},children:n.jsx("div",{style:{display:"flex",gap:"16px",minWidth:"max-content"},children:wAe.map(e=>n.jsxs("div",{style:{width:"270px",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:e.color}}),n.jsx("span",{style:{fontWeight:700,fontSize:"13px",color:"#111"},children:e.label}),n.jsx("span",{style:{width:22,height:22,borderRadius:"50%",backgroundColor:"#F3F4F6",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:700,color:"#555"},children:e.tasks.length})]}),n.jsx("button",{style:{width:26,height:26,borderRadius:"6px",border:"1.5px solid #E0E0E0",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Nt,{size:13,color:"#6B7280"})})]}),n.jsx("div",{style:{height:"3px",backgroundColor:e.color,borderRadius:"2px",marginBottom:"12px"}}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:e.tasks.map(t=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"14px",cursor:"pointer",transition:"box-shadow 0.15s"},onMouseEnter:r=>r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.08)",onMouseLeave:r=>r.currentTarget.style.boxShadow="none",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[n.jsx("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:t.tags.map(r=>n.jsx("span",{style:{padding:"2px 7px",borderRadius:"20px",fontSize:"10px",fontWeight:600,backgroundColor:"#F3F4F6",color:"#555"},children:r},r))}),n.jsx(rre,{size:13,color:IG[t.priority]})]}),n.jsx("div",{style:{fontWeight:600,fontSize:"13px",color:"#111",lineHeight:"1.5",marginBottom:"12px"},children:t.title}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",gap:"10px",fontSize:"11px",color:"#9CA3AF"},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(dc,{size:11}),t.comments]}),n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(S8,{size:11}),t.attachments]}),t.dueDate&&n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(gs,{size:11}),t.dueDate]})]}),n.jsx("div",{style:{width:26,height:26,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"10px",fontWeight:700},children:t.assignee})]})]},t.id))})]},e.id))})})}const hv=`https://${Pr}.supabase.co/functions/v1/api/personas`,gv={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function AAe(e){try{return await(await fetch(`${hv}${e}`,{headers:gv})).json()}catch(t){return console.error(`Personas API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function _Ae(e,t){try{return await(await fetch(`${hv}${e}`,{method:"POST",headers:gv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Personas API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function RAe(e,t){try{return await(await fetch(`${hv}${e}`,{method:"PUT",headers:gv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Personas API PUT ${e}:`,r),{ok:!1,error:String(r)}}}async function TAe(e){try{return await(await fetch(`${hv}${e}`,{method:"DELETE",headers:gv})).json()}catch(t){return console.error(`Personas API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function H1(e){const t=new URLSearchParams;e!=null&&e.tipo&&t.set("tipo",e.tipo),(e==null?void 0:e.activo)!==void 0&&t.set("activo",String(e.activo)),e!=null&&e.rol&&t.set("rol",e.rol),e!=null&&e.search&&t.set("search",e.search);const r=await AAe(t.toString()?`?${t}`:"");return!r.ok||!r.data?[]:r.data}async function PAe(e){const t=await _Ae("",e);return!t.ok||!t.data?null:t.data}async function zAe(e,t){const r=await RAe(`/${e}`,t);return!r.ok||!r.data?null:r.data}async function BAe(e){return(await TAe(`/${e}`)).ok}const IAe="AIzaSyCIlqe7TOG-Euhv9U4llRuEjvsatS77uj8";function fc(){return typeof window<"u"&&typeof window.google<"u"&&typeof window.google.maps<"u"}function zx(e=1e4){return new Promise((t,r)=>{if(fc()){t();return}const o=Date.now(),i=setInterval(()=>{fc()?(clearInterval(i),t()):Date.now()-o>e&&(clearInterval(i),r(new Error("Timeout esperando Google Maps API")))},100)})}let F5=!1,uh=!1,Nc=null;function Bx(){var t;return F5&&typeof window<"u"&&((t=window.google)!=null&&t.maps)?Promise.resolve():uh&&Nc?Nc:document.querySelector('script[src*="maps.googleapis.com"]')?(uh=!0,Nc=OAe(),Nc):(uh=!0,Nc=new Promise((r,o)=>{const i=document.createElement("script");i.src=`https://maps.googleapis.com/maps/api/js?key=${IAe}&libraries=places,geocoding&language=es&region=UY`,i.async=!0,i.defer=!0,i.onload=()=>{F5=!0,uh=!1,setTimeout(()=>{var a;(a=window.google)!=null&&a.maps?r():o(new Error("Google Maps API no se inicializ correctamente"))},100)},i.onerror=()=>{uh=!1,Nc=null,o(new Error("Error cargando Google Maps API. Verifica tu API key."))},document.head.appendChild(i)}),Nc)}function OAe(e=1e4){return new Promise((t,r)=>{var a;if((a=window.google)!=null&&a.maps){t();return}const o=Date.now(),i=setInterval(()=>{var s;(s=window.google)!=null&&s.maps?(clearInterval(i),F5=!0,t()):Date.now()-o>e&&(clearInterval(i),r(new Error("Timeout esperando Google Maps API")))},100)})}async function DAe(e,t){try{if(await Bx(),await zx(),!fc())throw new Error("Google Maps API no est disponible");const r=new window.google.maps.places.AutocompleteService;return new Promise((o,i)=>{const a={input:e,componentRestrictions:{country:"uy"},language:"es"};t!=null&&t.location,t!=null&&t.types&&t.types.length>0,r.getPlacePredictions(a,(s,l)=>{if(l==="OK"&&s){const c=s.map(d=>({place_id:d.place_id,description:d.description,structured_formatting:{main_text:d.structured_formatting.main_text,secondary_text:d.structured_formatting.secondary_text},types:d.types}));o(c)}else l==="ZERO_RESULTS"?o([]):i(new Error(`Error obteniendo predicciones: ${l}`))})})}catch(r){throw console.error("[places] Error obteniendo predicciones:",r),r}}async function OG(e){try{if(await Bx(),await zx(),!fc())throw new Error("Google Maps API no est disponible");const t=new window.google.maps.places.PlacesService(document.createElement("div"));return new Promise((r,o)=>{t.getDetails({placeId:e,fields:["place_id","formatted_address","name","geometry","address_components","types","international_phone_number","website"],language:"es"},(i,a)=>{a==="OK"&&i?r({place_id:i.place_id,formatted_address:i.formatted_address,name:i.name,geometry:{location:{lat:i.geometry.location.lat(),lng:i.geometry.location.lng()}},address_components:i.address_components||[],types:i.types,international_phone_number:i.international_phone_number,website:i.website}):a==="ZERO_RESULTS"?r(null):o(new Error(`Error obteniendo detalles del lugar: ${a}`))})})}catch(t){throw console.error("[places] Error obteniendo detalles del lugar:",t),t}}function DG({value:e="",placeholder:t="Ingres una direccin...",onSelect:r,onChange:o,className:i="",disabled:a=!1,required:s=!1}){const[l,c]=A.useState(e),[d,f]=A.useState([]),[p,h]=A.useState(!1),[x,m]=A.useState(!1),[y,b]=A.useState(-1),v=A.useRef(null),C=A.useRef(null),S=A.useRef(null);A.useEffect(()=>{c(e)},[e]),A.useEffect(()=>{function T(_){C.current&&!C.current.contains(_.target)&&m(!1)}return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const F=A.useCallback(async T=>{if(!T||T.length<3){f([]),m(!1);return}h(!0);try{const _=await DAe(T);f(_),m(_.length>0),b(-1)}catch(_){console.error("[GoogleAddressAutocomplete] Error buscando predicciones:",_),f([]),m(!1)}finally{h(!1)}},[]),w=T=>{const _=T.target.value;c(_),o==null||o(_),m(!1),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{F(_)},300)},k=async T=>{c(T.description),m(!1),f([]),o==null||o(T.description);try{const _=await OG(T.place_id);_&&r&&r({address:T.description,lat:_.geometry.location.lat,lng:_.geometry.location.lng,place_id:T.place_id,formatted_address:_.formatted_address})}catch(_){console.error("[GoogleAddressAutocomplete] Error obteniendo detalles:",_)}},E=T=>{if(!(!x||d.length===0))switch(T.key){case"ArrowDown":T.preventDefault(),b(_=>_<d.length-1?_+1:_);break;case"ArrowUp":T.preventDefault(),b(_=>_>0?_-1:-1);break;case"Enter":T.preventDefault(),y>=0&&y<d.length&&k(d[y]);break;case"Escape":m(!1);break}};return n.jsxs("div",{ref:C,className:`relative ${i}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{ref:v,type:"text",value:l,onChange:w,onKeyDown:E,onFocus:()=>{d.length>0&&m(!0)},placeholder:t,disabled:a,required:s,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),p&&n.jsx(ur,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 animate-spin"})]}),x&&d.length>0&&n.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:d.map((T,_)=>n.jsx("button",{type:"button",onClick:()=>k(T),className:`w-full text-left px-4 py-2 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none ${_===y?"bg-gray-50":""}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Dn,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-sm text-gray-900",children:T.structured_formatting.main_text}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:T.structured_formatting.secondary_text})]})]})},T.place_id))})]})}const bu="#FF6835",MAe=["CI","RUT","Pasaporte","DNI","Otro"],y$={tipo:"natural",nombre:"",apellido:"",email:"",telefono:"",documento_tipo:"CI",documento_numero:"",fecha_nacimiento:"",genero:"",nacionalidad:"",direccion:{calle:"",ciudad:"",pais:""},activo:!0};function $Ae({onNavigate:e}){var B,P,D,I;const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(""),[p,h]=A.useState(!1),[x,m]=A.useState(null),[y,b]=A.useState({...y$}),[v,C]=A.useState(!1),[S,F]=A.useState(null),w=A.useCallback(async()=>{i(!0);try{const N=await H1({tipo:l||void 0,activo:d!==""?d==="true":void 0,search:a||void 0});r(N)}catch(N){console.error("Error cargando personas:",N),ke.error("Error al cargar personas")}finally{i(!1)}},[a,l,d]);A.useEffect(()=>{w()},[w]);const k=()=>{m(null),b({...y$}),h(!0)},E=N=>{var M;m(N),b({tipo:N.tipo,nombre:N.nombre,apellido:N.apellido??"",email:N.email??"",telefono:N.telefono??"",documento_tipo:N.documento_tipo??"CI",documento_numero:N.documento_numero??"",fecha_nacimiento:((M=N.fecha_nacimiento)==null?void 0:M.split("T")[0])??"",genero:N.genero??"",nacionalidad:N.nacionalidad??"",direccion:N.direccion??{calle:"",ciudad:"",pais:""},activo:N.activo}),h(!0)},T=async()=>{if(!y.nombre.trim()){ke.error("El nombre es requerido");return}C(!0);try{const N={...y};if((!N.fecha_nacimiento||N.fecha_nacimiento==="")&&delete N.fecha_nacimiento,x){if(!await zAe(x.id,N))throw new Error("No se pudo actualizar la persona");ke.success("Persona actualizada")}else{if(!await PAe(N))throw new Error("No se pudo crear la persona");ke.success("Persona creada")}h(!1),w()}catch(N){console.error("Error guardando persona:",N),ke.error(`Error al guardar: ${N instanceof Error?N.message:String(N)}`)}finally{C(!1)}},_=async N=>{if(confirm("Eliminar esta persona? Esta accin no se puede deshacer.")){F(N);try{if(!await BAe(N))throw new Error("No se pudo eliminar la persona");ke.success("Persona eliminada"),w()}catch(M){console.error("Error eliminando persona:",M),ke.error("Error al eliminar")}finally{F(null)}}},z=(N,M)=>b(V=>({...V,direccion:{...V.direccion??{},[N]:M}}));return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[n.jsx(Ze,{icon:So,title:"Base de Personas",subtitle:"Personas naturales y jurdicas del sistema",actions:[{label:"+ Nueva Persona",primary:!0,onClick:k}]}),n.jsxs("div",{style:{padding:"16px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"200px"},children:[n.jsx(tr,{size:15,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"#9CA3AF"}}),n.jsx("input",{value:a,onChange:N=>s(N.target.value),placeholder:"Buscar por nombre, apellido o email...",style:{width:"100%",paddingLeft:32,paddingRight:12,height:36,border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("select",{value:l,onChange:N=>c(N.target.value),style:{height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.875rem",color:"#374151",cursor:"pointer"},children:[n.jsx("option",{value:"",children:"Todos los tipos"}),n.jsx("option",{value:"natural",children:"Natural"}),n.jsx("option",{value:"juridica",children:"Jurdica"})]}),n.jsxs("select",{value:d,onChange:N=>f(N.target.value),style:{height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.875rem",color:"#374151",cursor:"pointer"},children:[n.jsx("option",{value:"",children:"Todos"}),n.jsx("option",{value:"true",children:"Activos"}),n.jsx("option",{value:"false",children:"Inactivos"})]}),n.jsx("button",{onClick:w,style:{height:36,width:36,border:"1.5px solid #E5E7EB",borderRadius:8,background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(_t,{size:15,color:"#6B7280"})})]}),n.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px 28px"},children:o?n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200,color:"#9CA3AF"},children:[n.jsx(_t,{size:20,style:{animation:"spin 1s linear infinite",marginRight:8}})," Cargando personas..."]}):t.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(So,{size:48,style:{marginBottom:12,opacity:.3}}),n.jsx("p",{style:{fontSize:"1rem",fontWeight:600},children:"No hay personas registradas"}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:4},children:'Cre la primera usando el botn "+ Nueva Persona"'})]}):n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["Persona","Tipo","Documento","Contacto","Estado","Acciones"].map(N=>n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:600,color:"#374151",whiteSpace:"nowrap"},children:N},N))})}),n.jsx("tbody",{children:t.map((N,M)=>n.jsxs("tr",{style:{borderBottom:M<t.length-1?"1px solid #F3F4F6":"none",transition:"background 0.1s"},onMouseEnter:V=>V.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:V=>V.currentTarget.style.backgroundColor="",children:[n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("div",{style:{width:36,height:36,borderRadius:"50%",backgroundColor:N.tipo==="natural"?"#EFF6FF":"#FFF7ED",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:N.tipo==="natural"?n.jsx(So,{size:16,color:"#3B82F6"}):n.jsx(Oi,{size:16,color:bu})}),n.jsxs("div",{children:[n.jsxs("p",{style:{margin:0,fontWeight:600,color:"#111827"},children:[N.nombre," ",N.apellido??""]}),N.email&&n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"#6B7280"},children:N.email})]})]})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsx("span",{style:{padding:"3px 10px",borderRadius:20,fontSize:"0.78rem",fontWeight:600,backgroundColor:N.tipo==="natural"?"#EFF6FF":"#FFF7ED",color:N.tipo==="natural"?"#3B82F6":bu},children:N.tipo==="natural"?"Natural":"Jurdica"})}),n.jsx("td",{style:{padding:"12px 16px",color:"#374151"},children:N.documento_tipo&&N.documento_numero?`${N.documento_tipo}: ${N.documento_numero}`:n.jsx("span",{style:{color:"#D1D5DB"},children:""})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[N.email&&n.jsxs("span",{style:{color:"#6B7280",fontSize:"0.8rem"},children:[n.jsx(ka,{size:11,style:{marginRight:4,verticalAlign:"middle"}}),N.email]}),N.telefono&&n.jsxs("span",{style:{color:"#6B7280",fontSize:"0.8rem"},children:[n.jsx(jd,{size:11,style:{marginRight:4,verticalAlign:"middle"}}),N.telefono]})]})}),n.jsx("td",{style:{padding:"12px 16px"},children:N.activo?n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,color:"#10B981",fontSize:"0.8rem",fontWeight:600},children:[n.jsx(ft,{size:14}),"Activo"]}):n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,color:"#EF4444",fontSize:"0.8rem",fontWeight:600},children:[n.jsx(nn,{size:14}),"Inactivo"]})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsxs("button",{onClick:()=>E(N),style:{padding:"6px 10px",borderRadius:6,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:"0.78rem",color:"#374151"},children:[n.jsx(fo,{size:13})," Editar"]}),n.jsx("button",{onClick:()=>_(N.id),disabled:S===N.id,style:{padding:"6px 10px",borderRadius:6,border:"1.5px solid #FEE2E2",background:"#FFF5F5",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:"0.78rem",color:"#EF4444"},children:n.jsx(xr,{size:13})})]})})]},N.id))})]})})}),p&&n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:20},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:16,width:"100%",maxWidth:620,maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.25)"},children:[n.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("h2",{style:{margin:0,fontSize:"1.1rem",fontWeight:700,color:"#111827"},children:x?"Editar Persona":"Nueva Persona"}),n.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:20})})]}),n.jsxs("div",{style:{padding:"20px 24px",display:"flex",flexDirection:"column",gap:16},children:[n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Tipo *"}),n.jsx("div",{style:{display:"flex",gap:10},children:["natural","juridica"].map(N=>n.jsx("button",{onClick:()=>b(M=>({...M,tipo:N})),style:{flex:1,padding:"10px",borderRadius:8,border:`2px solid ${y.tipo===N?bu:"#E5E7EB"}`,background:y.tipo===N?"#FFF7ED":"#fff",cursor:"pointer",fontWeight:600,color:y.tipo===N?bu:"#6B7280",fontSize:"0.875rem"},children:N==="natural"?" Persona Natural":" Persona Jurdica"},N))})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:ra,children:y.tipo==="natural"?"Nombre *":"Razn Social *"}),n.jsx("input",{value:y.nombre,onChange:N=>b(M=>({...M,nombre:N.target.value})),style:Ga,placeholder:y.tipo==="natural"?"Ej: Mara":"Ej: TechSur SA"})]}),y.tipo==="natural"&&n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Apellido"}),n.jsx("input",{value:y.apellido??"",onChange:N=>b(M=>({...M,apellido:N.target.value})),style:Ga,placeholder:"Ej: Garca"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Email"}),n.jsx("input",{type:"email",value:y.email??"",onChange:N=>b(M=>({...M,email:N.target.value})),style:Ga,placeholder:"correo@ejemplo.com"})]}),n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Telfono"}),n.jsx("input",{value:y.telefono??"",onChange:N=>b(M=>({...M,telefono:N.target.value})),style:Ga,placeholder:"+598 99 123 456"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Tipo Doc."}),n.jsx("select",{value:y.documento_tipo??"CI",onChange:N=>b(M=>({...M,documento_tipo:N.target.value})),style:b$,children:MAe.map(N=>n.jsx("option",{value:N,children:N},N))})]}),n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Nro. Documento"}),n.jsx("input",{value:y.documento_numero??"",onChange:N=>b(M=>({...M,documento_numero:N.target.value})),style:Ga,placeholder:"Ej: 1.234.567-8"})]})]}),y.tipo==="natural"&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Fecha de Nacimiento"}),n.jsx("input",{type:"date",value:y.fecha_nacimiento??"",onChange:N=>b(M=>({...M,fecha_nacimiento:N.target.value})),style:Ga})]}),n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Gnero"}),n.jsxs("select",{value:y.genero??"",onChange:N=>b(M=>({...M,genero:N.target.value})),style:b$,children:[n.jsx("option",{value:"",children:"Sin especificar"}),n.jsx("option",{value:"masculino",children:"Masculino"}),n.jsx("option",{value:"femenino",children:"Femenino"}),n.jsx("option",{value:"otro",children:"Otro"}),n.jsx("option",{value:"prefiero no decir",children:"Prefiero no decir"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:ra,children:"Nacionalidad"}),n.jsx("input",{value:y.nacionalidad??"",onChange:N=>b(M=>({...M,nacionalidad:N.target.value})),style:Ga,placeholder:"Ej: Uruguaya"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{...ra,marginBottom:8,display:"block"},children:"Direccin"}),n.jsx("div",{style:{marginBottom:10},children:n.jsx(DG,{value:((B=y.direccion)==null?void 0:B.calle)??"",onChange:N=>z("calle",N),onSelect:async N=>{try{if(N.place_id){const M=await OG(N.place_id);if(M){let V="",L="",W="";M.address_components.forEach(G=>{const U=G.types;(U.includes("locality")||U.includes("administrative_area_level_2"))&&(V=G.long_name),U.includes("country")&&(L=G.long_name),U.includes("postal_code")&&(W=G.long_name)}),b(G=>{var U,H,K;return{...G,direccion:{calle:N.address,ciudad:V||((U=G.direccion)==null?void 0:U.ciudad)||"",pais:L||((H=G.direccion)==null?void 0:H.pais)||"",cp:W||((K=G.direccion)==null?void 0:K.cp)||""}}}),ke.success("Direccin geocodificada y completada automticamente")}else z("calle",N.address),ke.success("Direccin guardada")}else z("calle",N.address),ke.success("Direccin guardada")}catch(M){console.error("Error obteniendo detalles de la direccin:",M),z("calle",N.address),ke.success("Direccin guardada (algunos campos pueden requerir completarse manualmente)")}},placeholder:"Buscar direccin (con autocompletado de Google Maps)",className:"w-full"})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[n.jsx("input",{value:((P=y.direccion)==null?void 0:P.ciudad)??"",onChange:N=>z("ciudad",N.target.value),style:Ga,placeholder:"Ciudad"}),n.jsx("input",{value:((D=y.direccion)==null?void 0:D.pais)??"",onChange:N=>z("pais",N.target.value),style:Ga,placeholder:"Pas"}),n.jsx("input",{value:((I=y.direccion)==null?void 0:I.cp)??"",onChange:N=>z("cp",N.target.value),style:Ga,placeholder:"Cdigo postal"})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("input",{type:"checkbox",id:"activo",checked:y.activo,onChange:N=>b(M=>({...M,activo:N.target.checked})),style:{width:16,height:16,cursor:"pointer",accentColor:bu}}),n.jsx("label",{htmlFor:"activo",style:{fontSize:"0.875rem",color:"#374151",cursor:"pointer"},children:"Persona activa en el sistema"})]})]}),n.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:10},children:[n.jsx("button",{onClick:()=>h(!1),style:{padding:"9px 20px",borderRadius:8,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"Cancelar"}),n.jsxs("button",{onClick:T,disabled:v,style:{padding:"9px 24px",borderRadius:8,border:"none",backgroundColor:bu,color:"#fff",cursor:v?"not-allowed":"pointer",fontSize:"0.875rem",fontWeight:700,display:"flex",alignItems:"center",gap:6,opacity:v?.7:1},children:[n.jsx(To,{size:15})," ",v?"Guardando...":x?"Guardar cambios":"Crear persona"]})]})]})}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const ra={display:"block",fontSize:"0.8rem",fontWeight:600,color:"#374151",marginBottom:5},Ga={width:"100%",height:38,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 12px",fontSize:"0.875rem",color:"#111827",outline:"none",boxSizing:"border-box"},b$={width:"100%",height:38,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.875rem",color:"#374151",cursor:"pointer",outline:"none"},xv=`https://${Pr}.supabase.co/functions/v1/api/organizaciones`,mv={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function NAe(e){try{return await(await fetch(`${xv}${e}`,{headers:mv})).json()}catch(t){return console.error(`Organizaciones API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function LAe(e,t){try{return await(await fetch(`${xv}${e}`,{method:"POST",headers:mv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Organizaciones API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function WAe(e,t){try{return await(await fetch(`${xv}${e}`,{method:"PUT",headers:mv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Organizaciones API PUT ${e}:`,r),{ok:!1,error:String(r)}}}async function VAe(e){try{return await(await fetch(`${xv}${e}`,{method:"DELETE",headers:mv})).json()}catch(t){return console.error(`Organizaciones API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function j6(e){const t=new URLSearchParams;e!=null&&e.tipo&&t.set("tipo",e.tipo),(e==null?void 0:e.activo)!==void 0&&t.set("activo",String(e.activo)),e!=null&&e.search&&t.set("search",e.search);const r=await NAe(t.toString()?`?${t}`:"");return!r.ok||!r.data?[]:r.data}async function UAe(e){const t=await LAe("",e);return!t.ok||!t.data?null:t.data}async function qAe(e,t){const r=await WAe(`/${e}`,t);return!r.ok||!r.data?null:r.data}async function HAe(e){return(await VAe(`/${e}`)).ok}const v$="#FF6835",j$=["","empresa","cooperativa","fundacion","gobierno","otro"],GAe=["","Tecnologa","Retail","Agro","Construccin","Salud","Educacin","Finanzas","Logstica","Manufactura","Servicios","Otro"],S$={nombre:"",tipo:"",industria:"",email:"",telefono:"",sitio_web:"",direccion:{calle:"",ciudad:"",pais:""},activo:!0};function KAe({onNavigate:e}){var P,D,I,N;const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(""),[p,h]=A.useState(!1),[x,m]=A.useState(null),[y,b]=A.useState({...S$}),[v,C]=A.useState(!1),[S,F]=A.useState(null),w=A.useCallback(async()=>{i(!0);try{const M=await j6({search:a||void 0,tipo:l||void 0,activo:d!==""?d==="true":void 0});r(M)}catch(M){console.error("Error cargando organizaciones:",M),ke.error("Error al cargar organizaciones")}finally{i(!1)}},[a,l,d]);A.useEffect(()=>{w()},[w]);const k=()=>{m(null),b({...S$}),h(!0)},E=M=>{m(M),b({nombre:M.nombre,tipo:M.tipo??"",industria:M.industria??"",email:M.email??"",telefono:M.telefono??"",sitio_web:M.sitio_web??"",direccion:M.direccion??{calle:"",ciudad:"",pais:""},activo:M.activo}),h(!0)},T=async()=>{if(!y.nombre.trim()){ke.error("El nombre es requerido");return}C(!0);try{const M={...y};if(x){if(!await qAe(x.id,M))throw new Error("No se pudo actualizar la organizacin")}else if(!await UAe(M))throw new Error("No se pudo crear la organizacin");ke.success(x?"Organizacin actualizada":"Organizacin creada"),h(!1),w()}catch(M){console.error("Error guardando organizacin:",M),ke.error(`Error al guardar: ${M instanceof Error?M.message:M}`)}finally{C(!1)}},_=async M=>{if(confirm("Eliminar esta organizacin? Esta accin no se puede deshacer.")){F(M);try{if(!await HAe(M))throw new Error("No se pudo eliminar la organizacin");ke.success("Organizacin eliminada"),w()}catch(V){console.error("Error eliminando organizacin:",V),ke.error("Error al eliminar")}finally{F(null)}}},z=(M,V)=>b(L=>({...L,direccion:{...L.direccion??{},[M]:V}})),B={empresa:"#3B82F6",cooperativa:"#10B981",fundacion:"#8B5CF6",gobierno:"#F59E0B",otro:"#6B7280"};return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[n.jsx(Ze,{icon:Oi,title:"Organizaciones",subtitle:"Empresas, cooperativas y entidades del sistema",actions:[{label:"+ Nueva Organizacin",primary:!0,onClick:k}]}),n.jsxs("div",{style:{padding:"16px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"200px"},children:[n.jsx(tr,{size:15,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"#9CA3AF"}}),n.jsx("input",{value:a,onChange:M=>s(M.target.value),placeholder:"Buscar por nombre o email...",style:{width:"100%",paddingLeft:32,paddingRight:12,height:36,border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("select",{value:l,onChange:M=>c(M.target.value),style:{height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.875rem",color:"#374151",cursor:"pointer"},children:[n.jsx("option",{value:"",children:"Todos los tipos"}),j$.filter(Boolean).map(M=>n.jsx("option",{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))]}),n.jsxs("select",{value:d,onChange:M=>f(M.target.value),style:{height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.875rem",color:"#374151",cursor:"pointer"},children:[n.jsx("option",{value:"",children:"Todos"}),n.jsx("option",{value:"true",children:"Activas"}),n.jsx("option",{value:"false",children:"Inactivas"})]}),n.jsx("button",{onClick:w,style:{height:36,width:36,border:"1.5px solid #E5E7EB",borderRadius:8,background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(_t,{size:15,color:"#6B7280"})})]}),n.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px 28px"},children:o?n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200,color:"#9CA3AF"},children:[n.jsx(_t,{size:20,style:{animation:"spin 1s linear infinite",marginRight:8}})," Cargando organizaciones..."]}):t.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(Oi,{size:48,style:{marginBottom:12,opacity:.3}}),n.jsx("p",{style:{fontSize:"1rem",fontWeight:600},children:"No hay organizaciones registradas"}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:4},children:'Cre la primera usando el botn "+ Nueva Organizacin"'})]}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:t.map(M=>{var L;const V=B[M.tipo??""]??"#6B7280";return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden",transition:"box-shadow 0.2s"},onMouseEnter:W=>W.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.08)",onMouseLeave:W=>W.currentTarget.style.boxShadow="",children:[n.jsx("div",{style:{height:4,backgroundColor:V}}),n.jsxs("div",{style:{padding:16},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:12},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("div",{style:{width:40,height:40,borderRadius:10,backgroundColor:V+"18",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Oi,{size:20,color:V})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:700,color:"#111827",fontSize:"0.9rem"},children:M.nombre}),M.tipo&&n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:600,color:V,backgroundColor:V+"15",padding:"2px 7px",borderRadius:20},children:M.tipo.charAt(0).toUpperCase()+M.tipo.slice(1)})]})]}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:600,color:M.activo?"#10B981":"#EF4444",backgroundColor:M.activo?"#D1FAE5":"#FEE2E2",padding:"2px 8px",borderRadius:20},children:M.activo?"Activa":"Inactiva"})]}),M.industria&&n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.8rem",color:"#6B7280"},children:[" ",M.industria]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,marginBottom:12},children:[M.email&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:"0.8rem",color:"#6B7280"},children:[n.jsx(ka,{size:13}),M.email]}),M.telefono&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:"0.8rem",color:"#6B7280"},children:[n.jsx(jd,{size:13}),M.telefono]}),M.sitio_web&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:"0.8rem",color:"#3B82F6"},children:[n.jsx(Kr,{size:13}),n.jsx("a",{href:M.sitio_web,target:"_blank",rel:"noopener noreferrer",style:{color:"#3B82F6",textDecoration:"none"},children:M.sitio_web})]}),((L=M.direccion)==null?void 0:L.ciudad)&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:"0.8rem",color:"#6B7280"},children:[n.jsx(Dn,{size:13}),M.direccion.ciudad,M.direccion.pais?`, ${M.direccion.pais}`:""]})]}),n.jsxs("div",{style:{display:"flex",gap:8,borderTop:"1px solid #F3F4F6",paddingTop:12},children:[n.jsxs("button",{onClick:()=>E(M),style:{flex:1,padding:"7px",borderRadius:7,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,color:"#374151",display:"flex",alignItems:"center",justifyContent:"center",gap:5},children:[n.jsx(fo,{size:13})," Editar"]}),n.jsx("button",{onClick:()=>_(M.id),disabled:S===M.id,style:{padding:"7px 12px",borderRadius:7,border:"1.5px solid #FEE2E2",background:"#FFF5F5",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:"0.8rem",color:"#EF4444"},children:n.jsx(xr,{size:13})})]})]})]},M.id)})})}),p&&n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:20},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:16,width:"100%",maxWidth:580,maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.25)"},children:[n.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("h2",{style:{margin:0,fontSize:"1.1rem",fontWeight:700,color:"#111827"},children:x?"Editar Organizacin":"Nueva Organizacin"}),n.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:20})})]}),n.jsxs("div",{style:{padding:"20px 24px",display:"flex",flexDirection:"column",gap:16},children:[n.jsxs("div",{children:[n.jsx("label",{style:Lc,children:"Nombre / Razn Social *"}),n.jsx("input",{value:y.nombre,onChange:M=>b(V=>({...V,nombre:M.target.value})),style:Dl,placeholder:"Ej: TechSur SA"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Lc,children:"Tipo de Organizacin"}),n.jsxs("select",{value:y.tipo??"",onChange:M=>b(V=>({...V,tipo:M.target.value})),style:w$,children:[n.jsx("option",{value:"",children:"Sin especificar"}),j$.filter(Boolean).map(M=>n.jsx("option",{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Lc,children:"Industria"}),n.jsxs("select",{value:y.industria??"",onChange:M=>b(V=>({...V,industria:M.target.value})),style:w$,children:[n.jsx("option",{value:"",children:"Sin especificar"}),GAe.filter(Boolean).map(M=>n.jsx("option",{value:M,children:M},M))]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Lc,children:"Email"}),n.jsx("input",{type:"email",value:y.email??"",onChange:M=>b(V=>({...V,email:M.target.value})),style:Dl,placeholder:"contacto@empresa.com"})]}),n.jsxs("div",{children:[n.jsx("label",{style:Lc,children:"Telfono"}),n.jsx("input",{value:y.telefono??"",onChange:M=>b(V=>({...V,telefono:M.target.value})),style:Dl,placeholder:"+598 2 123 4567"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Lc,children:"Sitio Web"}),n.jsx("input",{value:y.sitio_web??"",onChange:M=>b(V=>({...V,sitio_web:M.target.value})),style:Dl,placeholder:"https://www.empresa.com"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{...Lc,marginBottom:8,display:"block"},children:"Direccin"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[n.jsx("input",{value:((P=y.direccion)==null?void 0:P.calle)??"",onChange:M=>z("calle",M.target.value),style:Dl,placeholder:"Calle y nmero"}),n.jsx("input",{value:((D=y.direccion)==null?void 0:D.ciudad)??"",onChange:M=>z("ciudad",M.target.value),style:Dl,placeholder:"Ciudad"}),n.jsx("input",{value:((I=y.direccion)==null?void 0:I.pais)??"",onChange:M=>z("pais",M.target.value),style:Dl,placeholder:"Pas"}),n.jsx("input",{value:((N=y.direccion)==null?void 0:N.cp)??"",onChange:M=>z("cp",M.target.value),style:Dl,placeholder:"Cdigo postal"})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("input",{type:"checkbox",id:"org-activo",checked:y.activo,onChange:M=>b(V=>({...V,activo:M.target.checked})),style:{width:16,height:16,cursor:"pointer",accentColor:v$}}),n.jsx("label",{htmlFor:"org-activo",style:{fontSize:"0.875rem",color:"#374151",cursor:"pointer"},children:"Organizacin activa en el sistema"})]})]}),n.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:10},children:[n.jsx("button",{onClick:()=>h(!1),style:{padding:"9px 20px",borderRadius:8,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"Cancelar"}),n.jsxs("button",{onClick:T,disabled:v,style:{padding:"9px 24px",borderRadius:8,border:"none",backgroundColor:v$,color:"#fff",cursor:v?"not-allowed":"pointer",fontSize:"0.875rem",fontWeight:700,display:"flex",alignItems:"center",gap:6,opacity:v?.7:1},children:[n.jsx(To,{size:15})," ",v?"Guardando...":x?"Guardar cambios":"Crear organizacin"]})]})]})}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const Lc={display:"block",fontSize:"0.8rem",fontWeight:600,color:"#374151",marginBottom:5},Dl={width:"100%",height:38,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 12px",fontSize:"0.875rem",color:"#111827",outline:"none",boxSizing:"border-box"},w$={width:"100%",height:38,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.875rem",color:"#374151",cursor:"pointer",outline:"none"},na="#FF6835";function YAe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState("personas"),[l,c]=A.useState(""),[d,f]=A.useState(!0),[p,h]=A.useState(!1),[x,m]=A.useState([]),[y,b]=A.useState([]),[v,C]=A.useState({persona_id:"",organizacion_id:"",contexto:"",activo:!0}),[S,F]=A.useState(!1),w=A.useCallback(async()=>{i(!0);try{const D=await H1({rol:"cliente",activo:d});r(D)}catch(D){console.error("Error cargando clientes:",D),ke.error("Error al cargar clientes")}finally{i(!1)}},[d]),k=A.useCallback(async()=>{try{const[D,I]=await Promise.all([H1({activo:!0}),j6({activo:!0})]);m(D),b(I)}catch(D){console.error("Error cargando opciones:",D)}},[]);A.useEffect(()=>{w()},[w]);const E=A.useMemo(()=>t.filter(D=>{if(!l)return!0;const I=`${D.nombre??""} ${D.apellido??""}`.toLowerCase(),N=(D.email??"").toLowerCase(),M=l.toLowerCase();return I.includes(M)||N.includes(M)}),[t,l]);A.useMemo(()=>[],[]);const T=t.filter(D=>D.activo).length,_=t.filter(D=>!D.activo).length,z=()=>{k(),C({persona_id:"",organizacion_id:"",contexto:"",activo:!0}),h(!0)},B=async()=>{ke.error("Funcionalidad pendiente - endpoint /api/personas con rol cliente"),F(!1)},P=async D=>{ke.error("Funcionalidad pendiente - actualizacin de rol cliente")};return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[n.jsx(Ze,{icon:cs,title:"Clientes",subtitle:"Personas y organizaciones con rol de cliente en el sistema",actions:[{label:"+ Registrar Cliente",primary:!0,onClick:z}]}),n.jsx("div",{style:{padding:"14px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:12,flexWrap:"wrap"},children:[{label:"Total Clientes",value:t.length,icon:Ys,color:na},{label:"Personas Clientes",value:t.length,icon:So,color:"#3B82F6"},{label:"Orgs. Clientes",value:0,icon:Oi,color:"#8B5CF6"},{label:"Activos",value:T,icon:ft,color:"#10B981"},{label:"Inactivos",value:_,icon:nn,color:"#EF4444"}].map(D=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:8,backgroundColor:D.color+"18",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(D.icon,{size:16,color:D.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"1.15rem",fontWeight:800,color:"#111827",lineHeight:1},children:D.value}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#6B7280"},children:D.label})]})]},D.label))}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"0 28px",display:"flex",gap:0},children:[{key:"personas",label:"Personas Clientes",icon:So,count:t.length},{key:"organizaciones",label:"Organizaciones Clientes",icon:Oi,count:0}].map(D=>n.jsxs("button",{onClick:()=>{s(D.key),c("")},style:{display:"flex",alignItems:"center",gap:7,padding:"12px 18px",border:"none",background:"none",cursor:"pointer",borderBottom:a===D.key?`3px solid ${na}`:"3px solid transparent",color:a===D.key?na:"#6B7280",fontWeight:a===D.key?700:500,fontSize:"0.875rem",transition:"all 0.15s"},children:[n.jsx(D.icon,{size:15}),D.label,n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:700,backgroundColor:a===D.key?na+"18":"#F3F4F6",color:a===D.key?na:"#9CA3AF",padding:"1px 7px",borderRadius:20},children:D.count})]},D.key))}),n.jsxs("div",{style:{padding:"10px 28px",backgroundColor:"#F8F9FA",borderBottom:"1px solid #E5E7EB",display:"flex",gap:10,alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:200},children:[n.jsx(tr,{size:14,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"#9CA3AF"}}),n.jsx("input",{value:l,onChange:D=>c(D.target.value),placeholder:a==="personas"?"Buscar por nombre, email u organizacin":"Buscar por nombre de organizacin",style:{width:"100%",paddingLeft:30,paddingRight:12,height:34,border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.84rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"}})]}),n.jsxs("select",{value:d===void 0?"":d?"true":"false",onChange:D=>f(D.target.value===""?void 0:D.target.value==="true"),style:{height:34,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.84rem",color:"#374151",cursor:"pointer",backgroundColor:"#fff"},children:[n.jsx("option",{value:"",children:"Todos"}),n.jsx("option",{value:"true",children:"Solo activos"}),n.jsx("option",{value:"false",children:"Solo inactivos"})]}),n.jsx("button",{onClick:w,style:{height:34,width:34,border:"1.5px solid #E5E7EB",borderRadius:8,background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(_t,{size:14,color:"#6B7280"})})]}),n.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px 28px"},children:o?n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200,color:"#9CA3AF"},children:[n.jsx(_t,{size:18,style:{animation:"spin 1s linear infinite",marginRight:8}})," Cargando clientes..."]}):a==="personas"?E.length===0?n.jsx(E$,{icon:So,title:"No hay personas clientes",sub:'Registr el primero usando "+ Registrar Cliente"'}):n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["Cliente","Contacto","Tipo","Documento","Alta","Estado"].map(D=>n.jsx("th",{style:{padding:"11px 16px",textAlign:"left",fontWeight:600,color:"#374151",whiteSpace:"nowrap",fontSize:"0.8rem"},children:D},D))})}),n.jsx("tbody",{children:E.map((D,I)=>n.jsxs("tr",{style:{borderBottom:I<E.length-1?"1px solid #F3F4F6":"none"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:N=>N.currentTarget.style.backgroundColor="",children:[n.jsx("td",{style:{padding:"11px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:"50%",backgroundColor:"#FFF7ED",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(So,{size:15,color:na})}),n.jsxs("div",{children:[n.jsxs("p",{style:{margin:0,fontWeight:600,color:"#111827",fontSize:"0.875rem"},children:[D.nombre," ",D.apellido??""]}),D.email&&n.jsx("p",{style:{margin:0,fontSize:"0.76rem",color:"#6B7280"},children:D.email})]})]})}),n.jsx("td",{style:{padding:"11px 16px",color:"#6B7280",fontSize:"0.8rem"},children:D.telefono?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[n.jsx(jd,{size:12})," ",D.telefono]}):n.jsx("span",{style:{color:"#D1D5DB"},children:""})}),n.jsx("td",{style:{padding:"11px 16px"},children:n.jsx("span",{style:{fontSize:"0.76rem",fontWeight:600,backgroundColor:D.tipo==="natural"?"#EFF6FF":"#FFF7ED",color:D.tipo==="natural"?"#3B82F6":na,padding:"3px 10px",borderRadius:20},children:D.tipo==="natural"?"Natural":"Jurdica"})}),n.jsx("td",{style:{padding:"11px 16px",color:"#6B7280",fontSize:"0.8rem"},children:D.documento_tipo&&D.documento_numero?`${D.documento_tipo}: ${D.documento_numero}`:n.jsx("span",{style:{color:"#D1D5DB"},children:""})}),n.jsx("td",{style:{padding:"11px 16px",color:"#9CA3AF",fontSize:"0.78rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[n.jsx(gs,{size:12}),new Date(D.created_at).toLocaleDateString("es-UY")]})}),n.jsx("td",{style:{padding:"11px 16px"},children:n.jsx("button",{onClick:()=>P(),style:{padding:"3px 10px",borderRadius:20,border:"none",cursor:"pointer",fontSize:"0.76rem",fontWeight:600,backgroundColor:D.activo?"#D1FAE5":"#FEE2E2",color:D.activo?"#10B981":"#EF4444"},children:D.activo?" Activo":" Inactivo"})})]},D.id))})]})}):n.jsx(E$,{icon:Oi,title:"No hay organizaciones clientes",sub:"Endpoint /api/organizaciones?rol=cliente pendiente"})}),p&&n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:20},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:16,width:"100%",maxWidth:500,boxShadow:"0 20px 60px rgba(0,0,0,0.25)"},children:[n.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,fontSize:"1.1rem",fontWeight:700,color:"#111827"},children:"Registrar Cliente"}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.78rem",color:"#9CA3AF"},children:"Persona y/u organizacin con rol cliente"})]}),n.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:20})})]}),n.jsxs("div",{style:{padding:"20px 24px",display:"flex",flexDirection:"column",gap:15},children:[n.jsxs("div",{children:[n.jsxs("label",{style:kk,children:["Persona ",n.jsx("span",{style:{color:"#9CA3AF",fontWeight:400},children:"(opcional si hay organizacin)"})]}),n.jsxs("select",{value:v.persona_id,onChange:D=>C(I=>({...I,persona_id:D.target.value})),style:C$,children:[n.jsx("option",{value:"",children:" Sin persona especfica "}),x.map(D=>n.jsxs("option",{value:D.id,children:[D.nombre," ",D.apellido??""," ",D.email?`(${D.email})`:""]},D.id))]}),x.length===0&&n.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.76rem",color:"#F59E0B"},children:[" No hay personas."," ",n.jsx("button",{onClick:()=>{h(!1),e("personas")},style:{background:"none",border:"none",color:na,cursor:"pointer",fontWeight:600,fontSize:"0.76rem",padding:0},children:"Crear una"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{style:kk,children:["Organizacin ",n.jsx("span",{style:{color:"#9CA3AF",fontWeight:400},children:"(opcional si hay persona)"})]}),n.jsxs("select",{value:v.organizacion_id,onChange:D=>C(I=>({...I,organizacion_id:D.target.value})),style:C$,children:[n.jsx("option",{value:"",children:" Sin organizacin "}),y.map(D=>n.jsx("option",{value:D.id,children:D.nombre},D.id))]}),y.length===0&&n.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.76rem",color:"#F59E0B"},children:[" No hay organizaciones."," ",n.jsx("button",{onClick:()=>{h(!1),e("organizaciones")},style:{background:"none",border:"none",color:na,cursor:"pointer",fontWeight:600,fontSize:"0.76rem",padding:0},children:"Crear una"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:kk,children:"Contexto / Nota"}),n.jsx("input",{value:v.contexto,onChange:D=>C(I=>({...I,contexto:D.target.value})),style:XAe,placeholder:"Ej: Canal mayorista, referido por"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("input",{type:"checkbox",id:"cli-activo",checked:v.activo,onChange:D=>C(I=>({...I,activo:D.target.checked})),style:{width:16,height:16,accentColor:na,cursor:"pointer"}}),n.jsx("label",{htmlFor:"cli-activo",style:{fontSize:"0.875rem",color:"#374151",cursor:"pointer"},children:"Cliente activo"})]}),n.jsxs("div",{style:{padding:"10px 14px",backgroundColor:"#FFF7ED",borderRadius:8,border:"1px solid #FDBA74",fontSize:"0.78rem",color:"#92400E"},children:[" Pods registrar una ",n.jsx("strong",{children:"persona cliente"}),", una ",n.jsx("strong",{children:"organizacin cliente"}),", o ambas en el mismo registro."]})]}),n.jsxs("div",{style:{padding:"14px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:10},children:[n.jsx("button",{onClick:()=>h(!1),style:{padding:"9px 20px",borderRadius:8,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:"Cancelar"}),n.jsxs("button",{onClick:B,disabled:S,style:{padding:"9px 24px",borderRadius:8,border:"none",backgroundColor:na,color:"#fff",cursor:S?"not-allowed":"pointer",fontSize:"0.875rem",fontWeight:700,display:"flex",alignItems:"center",gap:6,opacity:S?.7:1},children:[n.jsx(To,{size:15})," ",S?"Guardando":"Registrar cliente"]})]})]})}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}function E$({icon:e,title:t,sub:r}){return n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(e,{size:44,style:{marginBottom:12,opacity:.25}}),n.jsx("p",{style:{fontSize:"1rem",fontWeight:600,margin:0},children:t}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:6},children:r})]})}const kk={display:"block",fontSize:"0.8rem",fontWeight:600,color:"#374151",marginBottom:5},XAe={width:"100%",height:38,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 12px",fontSize:"0.875rem",color:"#111827",outline:"none",boxSizing:"border-box"},C$={width:"100%",height:38,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.875rem",color:"#374151",cursor:"pointer",outline:"none"},S6=`https://${Pr}.supabase.co/functions/v1/api/pedidos`,w6={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function JAe(e){try{return await(await fetch(`${S6}${e}`,{headers:w6})).json()}catch(t){return console.error(`Pedidos API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function QAe(e,t){try{return await(await fetch(`${S6}${e}`,{method:"POST",headers:w6,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Pedidos API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function MG(e,t){try{return await(await fetch(`${S6}${e}`,{method:"PUT",headers:w6,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Pedidos API PUT ${e}:`,r),{ok:!1,error:String(r)}}}async function ZAe(e){const t=new URLSearchParams;e!=null&&e.estado&&t.set("estado",e.estado),e!=null&&e.estado_pago&&t.set("estado_pago",e.estado_pago),e!=null&&e.search&&t.set("search",e.search);const r=await JAe(t.toString()?`?${t}`:"");return!r.ok||!r.data?[]:r.data}async function e5e(e){const t=await QAe("",e);return!t.ok||!t.data?null:t.data}async function t5e(e,t){const r=await MG(`/${e}/estado`,{nuevo_estado:t});return!r.ok||!r.data?null:r.data}async function r5e(e,t){const r=await MG(`/${e}/estado-pago`,{estado_pago:t});return!r.ok||!r.data?null:r.data}const yv=`https://${Pr}.supabase.co/functions/v1/api/metodos-pago`,bv={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function n5e(e){try{return await(await fetch(`${yv}${e}`,{headers:bv})).json()}catch(t){return console.error(`Mtodos Pago API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function o5e(e,t){try{return await(await fetch(`${yv}${e}`,{method:"POST",headers:bv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Mtodos Pago API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function i5e(e,t){try{return await(await fetch(`${yv}${e}`,{method:"PUT",headers:bv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Mtodos Pago API PUT ${e}:`,r),{ok:!1,error:String(r)}}}async function a5e(e){try{return await(await fetch(`${yv}${e}`,{method:"DELETE",headers:bv})).json()}catch(t){return console.error(`Mtodos Pago API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function $G(e){const t=new URLSearchParams;(e==null?void 0:e.activo)!==void 0&&t.set("activo",String(e.activo));const r=await n5e(t.toString()?`?${t}`:"");return!r.ok||!r.data?[]:r.data}async function s5e(e){const t=await o5e("",e);return!t.ok||!t.data?null:t.data}async function _0(e,t){const r=await i5e(`/${e}`,t);return!r.ok||!r.data?null:r.data}async function l5e(e){return(await a5e(`/${e}`)).ok}const vv=`https://${Pr}.supabase.co/functions/v1/api/metodos-envio`,jv={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function c5e(e){try{return await(await fetch(`${vv}${e}`,{headers:jv})).json()}catch(t){return console.error(`Mtodos Envo API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function d5e(e,t){try{return await(await fetch(`${vv}${e}`,{method:"POST",headers:jv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Mtodos Envo API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function u5e(e,t){try{return await(await fetch(`${vv}${e}`,{method:"PUT",headers:jv,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Mtodos Envo API PUT ${e}:`,r),{ok:!1,error:String(r)}}}async function p5e(e){try{return await(await fetch(`${vv}${e}`,{method:"DELETE",headers:jv})).json()}catch(t){return console.error(`Mtodos Envo API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function NG(e){const t=new URLSearchParams;(e==null?void 0:e.activo)!==void 0&&t.set("activo",String(e.activo));const r=await c5e(t.toString()?`?${t}`:"");return!r.ok||!r.data?[]:r.data}async function f5e(e){const t=await d5e("",e);return!t.ok||!t.data?null:t.data}async function k$(e,t){const r=await u5e(`/${e}`,t);return!r.ok||!r.data?null:r.data}async function h5e(e){return(await p5e(`/${e}`)).ok}const Ps="#FF6835",zs={pendiente:{label:"Pendiente",color:"#D97706",bg:"#FEF3C7",icon:Ct},confirmado:{label:"Confirmado",color:"#2563EB",bg:"#EFF6FF",icon:ft},en_preparacion:{label:"En preparacin",color:"#7C3AED",bg:"#F5F3FF",icon:Rt},enviado:{label:"Enviado",color:"#0891B2",bg:"#ECFEFF",icon:At},entregado:{label:"Entregado",color:"#059669",bg:"#D1FAE5",icon:ft},cancelado:{label:"Cancelado",color:"#DC2626",bg:"#FEE2E2",icon:nn},devuelto:{label:"Devuelto",color:"#6B7280",bg:"#F3F4F6",icon:Fa}},Bs={pendiente:{label:"Pago pendiente",color:"#D97706",bg:"#FEF3C7"},pagado:{label:"Pagado",color:"#059669",bg:"#D1FAE5"},parcial:{label:"Parcial",color:"#7C3AED",bg:"#F5F3FF"},fallido:{label:"Fallido",color:"#DC2626",bg:"#FEE2E2"},reembolsado:{label:"Reembolsado",color:"#6B7280",bg:"#F3F4F6"}},F$={pendiente:["confirmado","cancelado"],confirmado:["en_preparacion","cancelado"],en_preparacion:["enviado","cancelado"],enviado:["entregado","cancelado"],entregado:["devuelto"],cancelado:[],devuelto:[]},Fk=["pendiente","confirmado","en_preparacion","enviado","entregado"];function g5e({onNavigate:e}){var Q,pe,X,se,ae,ye,ie,re,Se,Ae;const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(""),[p,h]=A.useState([]),[x,m]=A.useState([]),[y,b]=A.useState([]),[v,C]=A.useState([]),[S,F]=A.useState(null),[w,k]=A.useState(!1),[E,T]=A.useState(!1),_=()=>({cliente_persona_id:"",cliente_org_id:"",metodo_pago_id:"",metodo_envio_id:"",descuento:0,impuestos:0,notas:"",direccion_envio:{calle:"",ciudad:"",departamento:"",pais:"Uruguay",cp:""},items:[{nombre:"",cantidad:1,precio_unitario:0,subtotal:0}]}),[z,B]=A.useState(_()),P=A.useCallback(async()=>{i(!0);try{const te=await ZAe({estado:l||void 0,estado_pago:d||void 0,search:a||void 0});r(te)}catch(te){console.error("Error cargando pedidos:",te),ke.error("Error al cargar pedidos")}finally{i(!1)}},[l,d,a]),D=A.useCallback(async()=>{try{const[te,he,Te,rt]=await Promise.all([H1({activo:!0}),j6({activo:!0}),$G({activo:!0}),NG({activo:!0})]);h(te),m(he),b(Te),C(rt)}catch(te){console.error("Error cargando opciones:",te)}},[]);A.useEffect(()=>{P()},[P]);const I=A.useMemo(()=>{const te=t.length,he=t.filter(kt=>kt.estado==="pendiente").length,Te=t.filter(kt=>["confirmado","en_preparacion","enviado"].includes(kt.estado)).length,rt=t.filter(kt=>kt.estado==="entregado").length,it=t.reduce((kt,Pt)=>kt+(Pt.total??0),0);return{total:te,pendiente:he,enCurso:Te,entregado:rt,facturado:it}},[t]),N=A.useMemo(()=>Fk.reduce((te,he)=>({...te,[he]:t.filter(Te=>Te.estado===he).length}),{}),[t]),M=(te,he,Te)=>{B(rt=>{const it=[...rt.items];return it[te]={...it[te],[he]:Te},(he==="cantidad"||he==="precio_unitario")&&(it[te].subtotal=it[te].cantidad*it[te].precio_unitario),{...rt,items:it}})},V=()=>B(te=>({...te,items:[...te.items,{nombre:"",cantidad:1,precio_unitario:0,subtotal:0}]})),L=te=>B(he=>({...he,items:he.items.filter((Te,rt)=>rt!==te)})),W=z.items.reduce((te,he)=>te+he.subtotal,0),G=W-z.descuento+z.impuestos,U=async()=>{if(!z.cliente_persona_id&&!z.cliente_org_id){ke.error("Seleccion un cliente");return}if(z.items.some(te=>!te.nombre)){ke.error("Todos los tems deben tener nombre");return}T(!0);try{const te={...z,cliente_persona_id:z.cliente_persona_id||null,cliente_org_id:z.cliente_org_id||null,metodo_pago_id:z.metodo_pago_id||null,metodo_envio_id:z.metodo_envio_id||null,subtotal:W,total:G,items:z.items},he=await e5e(te);if(!he)throw new Error("No se pudo crear el pedido");ke.success(`Pedido ${he.numero_pedido} creado`),k(!1),P()}catch(te){console.error("Error creando pedido:",te),ke.error(`Error: ${te instanceof Error?te.message:te}`)}finally{T(!1)}},H=async(te,he)=>{var Te;try{if(!await t5e(te.id,he))throw new Error("No se pudo actualizar el estado");ke.success(`Pedido  ${(Te=zs[he])==null?void 0:Te.label}`),P(),(S==null?void 0:S.id)===te.id&&F({...S,estado:he})}catch(rt){ke.error(`Error: ${rt instanceof Error?rt.message:rt}`)}},K=async(te,he)=>{var Te;try{if(!await r5e(te.id,he))throw new Error("No se pudo actualizar el estado de pago");ke.success(`Pago  ${(Te=Bs[he])==null?void 0:Te.label}`),P(),(S==null?void 0:S.id)===te.id&&F({...S,estado_pago:he})}catch(rt){ke.error(`Error: ${rt instanceof Error?rt.message:rt}`)}},ne=te=>te.cliente_persona?`${te.cliente_persona.nombre} ${te.cliente_persona.apellido??""}`.trim():te.cliente_org?te.cliente_org.nombre:"";return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[n.jsx(Ze,{icon:ir,title:"Pedidos",subtitle:"Gestin de rdenes, estados y pagos",actions:[{label:"+ Nuevo Pedido",primary:!0,onClick:()=>{D(),B(_()),k(!0)}}]}),n.jsx("div",{style:{padding:"14px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:12,flexWrap:"wrap"},children:[{label:"Total pedidos",value:I.total,icon:ir,color:Ps},{label:"Pendientes",value:I.pendiente,icon:Ct,color:"#D97706"},{label:"En curso",value:I.enCurso,icon:At,color:"#2563EB"},{label:"Entregados",value:I.entregado,icon:ft,color:"#059669"},{label:"Facturado",value:`$${I.facturado.toLocaleString("es-UY")}`,icon:yn,color:"#7C3AED"}].map(te=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:8,backgroundColor:te.color+"18",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(te.icon,{size:16,color:te.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:800,color:"#111827",lineHeight:1},children:te.value}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#6B7280"},children:te.label})]})]},te.label))}),n.jsxs("div",{style:{padding:"12px 28px",backgroundColor:"#FAFAFA",borderBottom:"1px solid #E5E7EB",display:"flex",gap:8,alignItems:"center",overflowX:"auto"},children:[Fk.map((te,he)=>{const Te=zs[te],rt=N[te]??0;return n.jsxs(Y.Fragment,{children:[n.jsxs("button",{onClick:()=>c(l===te?"":te),style:{display:"flex",alignItems:"center",gap:7,padding:"6px 14px",borderRadius:20,border:"1.5px solid",borderColor:l===te?Te.color:"#E5E7EB",backgroundColor:l===te?Te.bg:"#fff",color:Te.color,cursor:"pointer",whiteSpace:"nowrap",fontWeight:l===te?700:500,fontSize:"0.8rem",transition:"all 0.15s"},children:[n.jsx(Te.icon,{size:13}),Te.label,n.jsx("span",{style:{fontWeight:800,fontSize:"0.85rem"},children:rt})]}),he<Fk.length-1&&n.jsx(Xr,{size:14,color:"#D1D5DB",style:{flexShrink:0}})]},te)}),n.jsx("div",{style:{width:1,height:24,backgroundColor:"#E5E7EB",margin:"0 4px"}}),["cancelado","devuelto"].map(te=>{const he=zs[te],Te=t.filter(rt=>rt.estado===te).length;return n.jsxs("button",{onClick:()=>c(l===te?"":te),style:{display:"flex",alignItems:"center",gap:7,padding:"6px 14px",borderRadius:20,border:"1.5px solid",borderColor:l===te?he.color:"#E5E7EB",backgroundColor:l===te?he.bg:"#fff",color:he.color,cursor:"pointer",whiteSpace:"nowrap",fontWeight:l===te?700:500,fontSize:"0.8rem"},children:[n.jsx(he.icon,{size:13}),he.label," ",Te>0&&n.jsx("span",{style:{fontWeight:800},children:Te})]},te)})]}),n.jsxs("div",{style:{padding:"10px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:10,alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:200},children:[n.jsx(tr,{size:14,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:"#9CA3AF"}}),n.jsx("input",{value:a,onChange:te=>s(te.target.value),onKeyDown:te=>te.key==="Enter"&&P(),placeholder:"Buscar por n de pedido",style:{width:"100%",paddingLeft:30,paddingRight:12,height:34,border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.84rem",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("select",{value:d,onChange:te=>f(te.target.value),style:y5e,children:[n.jsx("option",{value:"",children:"Todos los pagos"}),Object.entries(Bs).map(([te,he])=>n.jsx("option",{value:te,children:he.label},te))]}),n.jsx("button",{onClick:P,style:{height:34,width:34,border:"1.5px solid #E5E7EB",borderRadius:8,background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(_t,{size:14,color:"#6B7280"})})]}),n.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px 28px"},children:o?n.jsx(x5e,{text:"Cargando pedidos"}):t.length===0?n.jsx(m5e,{icon:ir,title:"No hay pedidos an",sub:'Cre el primero con "+ Nuevo Pedido"'}):n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["N Pedido","Cliente","Items","Total","Estado","Pago","Fecha",""].map(te=>n.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontWeight:600,color:"#374151",whiteSpace:"nowrap",fontSize:"0.8rem"},children:te},te))})}),n.jsx("tbody",{children:t.map((te,he)=>{var it,kt,Pt;const Te=zs[te.estado]??zs.pendiente,rt=Bs[te.estado_pago]??Bs.pendiente;return n.jsxs("tr",{style:{borderBottom:he<t.length-1?"1px solid #F3F4F6":"none",cursor:"pointer"},onMouseEnter:jt=>jt.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:jt=>jt.currentTarget.style.backgroundColor="",onClick:()=>F(te),children:[n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontWeight:700,color:Ps,fontSize:"0.84rem",fontFamily:"monospace"},children:te.numero_pedido})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("div",{style:{width:30,height:30,borderRadius:"50%",backgroundColor:te.cliente_persona?"#FFF7ED":"#EDE9FE",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:te.cliente_persona?n.jsx(So,{size:14,color:Ps}):n.jsx(Oi,{size:14,color:"#8B5CF6"})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:600,color:"#111827",fontSize:"0.84rem"},children:ne(te)}),((it=te.cliente_persona)==null?void 0:it.email)&&n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:te.cliente_persona.email})]})]})}),n.jsxs("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:[((kt=te.items)==null?void 0:kt.length)??0," tem",(((Pt=te.items)==null?void 0:Pt.length)??0)!==1?"s":""]}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("span",{style:{fontWeight:700,color:"#111827",fontSize:"0.9rem"},children:["$",(te.total??0).toLocaleString("es-UY")]})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"0.76rem",fontWeight:700,backgroundColor:Te.bg,color:Te.color,padding:"3px 10px",borderRadius:20,whiteSpace:"nowrap"},children:Te.label})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"0.76rem",fontWeight:600,backgroundColor:rt.bg,color:rt.color,padding:"3px 10px",borderRadius:20,whiteSpace:"nowrap"},children:rt.label})}),n.jsx("td",{style:{padding:"12px 14px",color:"#9CA3AF",fontSize:"0.78rem",whiteSpace:"nowrap"},children:new Date(te.created_at).toLocaleDateString("es-UY")}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("div",{style:{width:28,height:28,borderRadius:6,backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(yr,{size:13,color:"#6B7280"})})})]},te.id)})})]})})}),S&&n.jsx("div",{style:A$,onClick:()=>F(null),children:n.jsxs("div",{style:{..._$,maxWidth:680},onClick:te=>te.stopPropagation(),children:[n.jsxs("div",{style:R$,children:[n.jsxs("div",{children:[n.jsxs("h2",{style:{margin:0,fontSize:"1.05rem",fontWeight:700,color:"#111827"},children:["Pedido ",n.jsx("span",{style:{color:Ps,fontFamily:"monospace"},children:S.numero_pedido})]}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.76rem",color:"#9CA3AF"},children:new Date(S.created_at).toLocaleString("es-UY")})]}),n.jsx("button",{onClick:()=>F(null),style:T$,children:n.jsx(Ut,{size:18})})]}),n.jsxs("div",{style:{padding:"20px 24px",overflowY:"auto",maxHeight:"calc(90vh - 140px)",display:"flex",flexDirection:"column",gap:20},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[n.jsxs("div",{style:{padding:14,backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:Ak,children:"Estado del pedido"}),n.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:8},children:[(F$[S.estado]??[]).map(te=>{const he=zs[te];return n.jsxs("button",{onClick:()=>H(S,te),style:{padding:"5px 12px",borderRadius:8,border:`1.5px solid ${he.color}`,backgroundColor:he.bg,color:he.color,cursor:"pointer",fontSize:"0.78rem",fontWeight:700},children:[" ",he.label]},te)}),(F$[S.estado]??[]).length===0&&n.jsx("span",{style:{fontSize:"0.78rem",color:"#9CA3AF"},children:"Sin transiciones disponibles"})]}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,backgroundColor:(Q=zs[S.estado])==null?void 0:Q.bg,color:(pe=zs[S.estado])==null?void 0:pe.color,padding:"3px 10px",borderRadius:20},children:["Actual: ",(X=zs[S.estado])==null?void 0:X.label]})})]}),n.jsxs("div",{style:{padding:14,backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:Ak,children:"Estado de pago"}),n.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:8},children:Object.keys(Bs).filter(te=>te!==S.estado_pago).map(te=>{const he=Bs[te];return n.jsx("button",{onClick:()=>K(S,te),style:{padding:"5px 12px",borderRadius:8,border:`1.5px solid ${he.color}`,backgroundColor:he.bg,color:he.color,cursor:"pointer",fontSize:"0.78rem",fontWeight:600},children:he.label},te)})}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:700,backgroundColor:(se=Bs[S.estado_pago])==null?void 0:se.bg,color:(ae=Bs[S.estado_pago])==null?void 0:ae.color,padding:"3px 10px",borderRadius:20},children:["Actual: ",(ye=Bs[S.estado_pago])==null?void 0:ye.label]})})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[n.jsxs(R0,{icon:So,label:"Cliente",color:"#3B82F6",children:[n.jsx("p",{style:T0,children:ne(S)}),((ie=S.cliente_persona)==null?void 0:ie.email)&&n.jsx("p",{style:_k,children:S.cliente_persona.email}),((re=S.cliente_org)==null?void 0:re.tipo)&&n.jsx("p",{style:_k,children:S.cliente_org.tipo})]}),n.jsxs(R0,{icon:mn,label:"Pago / Envo",color:"#8B5CF6",children:[n.jsx("p",{style:T0,children:((Se=S.metodo_pago)==null?void 0:Se.nombre)??n.jsx("span",{style:{color:"#D1D5DB"},children:"Sin mtodo de pago"})}),n.jsx("p",{style:_k,children:((Ae=S.metodo_envio)==null?void 0:Ae.nombre)??"Sin mtodo de envo"})]})]}),S.direccion_envio&&Object.values(S.direccion_envio).some(te=>te)&&n.jsx(R0,{icon:Dn,label:"Direccin de envo",color:"#059669",children:n.jsx("p",{style:T0,children:[S.direccion_envio.calle,S.direccion_envio.ciudad,S.direccion_envio.departamento,S.direccion_envio.pais].filter(Boolean).join(", ")})}),n.jsxs("div",{children:[n.jsx("p",{style:Ak,children:"tems del pedido"}),n.jsx("div",{style:{backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB",overflow:"hidden",marginTop:8},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.84rem"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:["Producto","Cant.","Precio unit.","Subtotal"].map(te=>n.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontWeight:600,color:"#374151",fontSize:"0.76rem"},children:te},te))})}),n.jsx("tbody",{children:(S.items??[]).map((te,he)=>{var Te;return n.jsxs("tr",{style:{borderBottom:he<(((Te=S.items)==null?void 0:Te.length)??0)-1?"1px solid #F3F4F6":"none"},children:[n.jsx("td",{style:{padding:"8px 12px",color:"#111827",fontWeight:500},children:te.nombre}),n.jsx("td",{style:{padding:"8px 12px",color:"#6B7280"},children:te.cantidad}),n.jsxs("td",{style:{padding:"8px 12px",color:"#6B7280"},children:["$",(te.precio_unitario??0).toLocaleString("es-UY")]}),n.jsxs("td",{style:{padding:"8px 12px",fontWeight:700,color:"#111827"},children:["$",(te.subtotal??0).toLocaleString("es-UY")]})]},he)})})]})})]}),n.jsxs("div",{style:{backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB",padding:"14px 16px"},children:[[{label:"Subtotal",value:S.subtotal??0,bold:!1},{label:"Descuento",value:-(S.descuento??0),bold:!1,color:"#059669"},{label:"Impuestos",value:S.impuestos??0,bold:!1}].map(te=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6,fontSize:"0.84rem",color:te.color??"#6B7280"},children:[n.jsx("span",{children:te.label}),n.jsxs("span",{children:["$",te.value.toLocaleString("es-UY")]})]},te.label)),n.jsxs("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:8,marginTop:4,display:"flex",justifyContent:"space-between",fontWeight:800,fontSize:"1rem",color:"#111827"},children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{style:{color:Ps},children:["$",(S.total??0).toLocaleString("es-UY")]})]})]}),S.notas&&n.jsx(R0,{icon:fn,label:"Notas",color:"#6B7280",children:n.jsx("p",{style:T0,children:S.notas})})]})]})}),w&&n.jsx("div",{style:A$,onClick:()=>k(!1),children:n.jsxs("div",{style:{..._$,maxWidth:660},onClick:te=>te.stopPropagation(),children:[n.jsxs("div",{style:R$,children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,fontSize:"1.05rem",fontWeight:700,color:"#111827"},children:"Nuevo Pedido"}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.76rem",color:"#9CA3AF"},children:"Complet los datos del pedido"})]}),n.jsx("button",{onClick:()=>k(!1),style:T$,children:n.jsx(Ut,{size:18})})]}),n.jsxs("div",{style:{padding:"20px 24px",overflowY:"auto",maxHeight:"calc(90vh - 140px)",display:"flex",flexDirection:"column",gap:16},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Persona cliente"}),n.jsxs("select",{value:z.cliente_persona_id,onChange:te=>B(he=>({...he,cliente_persona_id:te.target.value})),style:P0,children:[n.jsx("option",{value:"",children:" Sin persona "}),p.map(te=>n.jsxs("option",{value:te.id,children:[te.nombre," ",te.apellido??""]},te.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Organizacin cliente"}),n.jsxs("select",{value:z.cliente_org_id,onChange:te=>B(he=>({...he,cliente_org_id:te.target.value})),style:P0,children:[n.jsx("option",{value:"",children:" Sin organizacin "}),x.map(te=>n.jsx("option",{value:te.id,children:te.nombre},te.id))]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Mtodo de pago"}),n.jsxs("select",{value:z.metodo_pago_id,onChange:te=>B(he=>({...he,metodo_pago_id:te.target.value})),style:P0,children:[n.jsx("option",{value:"",children:" Sin mtodo "}),y.map(te=>n.jsx("option",{value:te.id,children:te.nombre},te.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Mtodo de envo"}),n.jsxs("select",{value:z.metodo_envio_id,onChange:te=>B(he=>({...he,metodo_envio_id:te.target.value})),style:P0,children:[n.jsx("option",{value:"",children:" Sin envo "}),v.map(te=>n.jsxs("option",{value:te.id,children:[te.nombre," ($",te.precio,")"]},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Direccin de envo"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:8},children:[n.jsx("input",{value:z.direccion_envio.calle,onChange:te=>B(he=>({...he,direccion_envio:{...he.direccion_envio,calle:te.target.value}})),style:Ka,placeholder:"Calle y nmero"}),n.jsx("input",{value:z.direccion_envio.cp,onChange:te=>B(he=>({...he,direccion_envio:{...he.direccion_envio,cp:te.target.value}})),style:Ka,placeholder:"CP"}),n.jsx("input",{value:z.direccion_envio.ciudad,onChange:te=>B(he=>({...he,direccion_envio:{...he.direccion_envio,ciudad:te.target.value}})),style:Ka,placeholder:"Ciudad"}),n.jsx("input",{value:z.direccion_envio.departamento,onChange:te=>B(he=>({...he,direccion_envio:{...he.direccion_envio,departamento:te.target.value}})),style:Ka,placeholder:"Departamento"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[n.jsx("label",{style:Is,children:"tems del pedido *"}),n.jsxs("button",{onClick:V,style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:6,border:`1.5px solid ${Ps}`,background:"#FFF7ED",color:Ps,cursor:"pointer",fontSize:"0.78rem",fontWeight:600},children:[n.jsx(Nt,{size:13})," Agregar tem"]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:z.items.map((te,he)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr auto",gap:8,alignItems:"center"},children:[n.jsx("input",{value:te.nombre,onChange:Te=>M(he,"nombre",Te.target.value),style:Ka,placeholder:"Nombre del producto"}),n.jsx("input",{type:"number",value:te.cantidad,onChange:Te=>M(he,"cantidad",parseFloat(Te.target.value)||0),style:Ka,placeholder:"Cant.",min:1}),n.jsx("input",{type:"number",value:te.precio_unitario,onChange:Te=>M(he,"precio_unitario",parseFloat(Te.target.value)||0),style:Ka,placeholder:"Precio",min:0}),n.jsx("button",{onClick:()=>L(he),style:{width:32,height:32,borderRadius:6,border:"1.5px solid #FEE2E2",background:"#FFF5F5",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xr,{size:13,color:"#DC2626"})})]},he))})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Descuento ($)"}),n.jsx("input",{type:"number",value:z.descuento,onChange:te=>B(he=>({...he,descuento:parseFloat(te.target.value)||0})),style:Ka,min:0})]}),n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Impuestos ($)"}),n.jsx("input",{type:"number",value:z.impuestos,onChange:te=>B(he=>({...he,impuestos:parseFloat(te.target.value)||0})),style:Ka,min:0})]})]}),n.jsxs("div",{style:{backgroundColor:"#FFF7ED",borderRadius:10,border:`1.5px solid ${Ps}30`,padding:"12px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("span",{style:{fontSize:"0.875rem",color:"#92400E",fontWeight:600},children:"Total del pedido"}),n.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:900,color:Ps},children:["$",G.toLocaleString("es-UY")]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Is,children:"Notas internas"}),n.jsx("textarea",{value:z.notas,onChange:te=>B(he=>({...he,notas:te.target.value})),style:{...Ka,height:72,paddingTop:8,resize:"vertical"},placeholder:"Observaciones, instrucciones especiales"})]})]}),n.jsxs("div",{style:{padding:"14px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:10},children:[n.jsx("button",{onClick:()=>k(!1),style:b5e,children:"Cancelar"}),n.jsxs("button",{onClick:U,disabled:E,style:{...v5e,opacity:E?.7:1},children:[n.jsx(To,{size:14})," ",E?"Guardando":"Crear pedido"]})]})]})}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}function x5e({text:e}){return n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200,color:"#9CA3AF"},children:[n.jsx(_t,{size:18,style:{animation:"spin 1s linear infinite",marginRight:8}})," ",e]})}function m5e({icon:e,title:t,sub:r}){return n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(e,{size:44,style:{marginBottom:12,opacity:.25}}),n.jsx("p",{style:{fontSize:"1rem",fontWeight:600,margin:0},children:t}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:6},children:r})]})}function R0({icon:e,label:t,color:r,children:o}){return n.jsxs("div",{style:{padding:14,backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:[n.jsx("div",{style:{width:22,height:22,borderRadius:5,backgroundColor:r+"20",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(e,{size:12,color:r})}),n.jsx("p",{style:{margin:0,fontSize:"0.72rem",fontWeight:700,color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em"},children:t})]}),o]})}const A$={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:20},_$={backgroundColor:"#fff",borderRadius:16,width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.25)",maxHeight:"90vh",display:"flex",flexDirection:"column"},R$={padding:"18px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexShrink:0},T$={background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:4},Ak={margin:0,fontSize:"0.72rem",fontWeight:700,color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em"},T0={margin:0,fontSize:"0.875rem",fontWeight:600,color:"#111827"},_k={margin:"2px 0 0",fontSize:"0.76rem",color:"#6B7280"},Is={display:"block",fontSize:"0.8rem",fontWeight:600,color:"#374151",marginBottom:5},Ka={width:"100%",height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.84rem",color:"#111827",outline:"none",boxSizing:"border-box"},y5e={height:34,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.84rem",color:"#374151",cursor:"pointer",backgroundColor:"#fff"},P0={width:"100%",height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.84rem",color:"#374151",cursor:"pointer",outline:"none",boxSizing:"border-box"},b5e={padding:"9px 20px",borderRadius:8,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,color:"#374151"},v5e={padding:"9px 22px",borderRadius:8,border:"none",backgroundColor:"#FF6835",color:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:700,display:"flex",alignItems:"center",gap:6},no="#FF6835",j5e=/^ Comisin: ([\d.]+)%\n?/;function Rk(e){if(!e)return{comision:"",instrucciones:""};const t=e.match(j5e);return t?{comision:t[1],instrucciones:e.replace(t[0],"")}:{comision:"",instrucciones:e}}function S5e(e,t){const r=parseFloat(e);return(!isNaN(r)&&r>0?` Comisin: ${r}%
`:"")+t}const P$=[{id:"mercadopago",emoji:"",nombre:"MercadoPago",tipo:"pasarela",proveedor:"mercadopago",descripcion:"Pag con tarjeta, dinero en cuenta o efectivo va MercadoPago",comision:"5.99",instrucciones:"Sers redirigido al sitio de MercadoPago para completar tu pago de forma segura.",color:"#009EE3"},{id:"stripe",emoji:"",nombre:"Stripe",tipo:"pasarela",proveedor:"stripe",descripcion:"Tarjeta de crdito/dbito internacional va Stripe",comision:"2.9",instrucciones:"Pag de forma segura con tu tarjeta Visa, Mastercard o American Express.",color:"#635BFF"},{id:"paypal",emoji:"",nombre:"PayPal",tipo:"pasarela",proveedor:"paypal",descripcion:"Pago internacional va cuenta PayPal",comision:"3.4",instrucciones:"Sers redirigido a PayPal para completar tu pago.",color:"#003087"},{id:"transferencia",emoji:"",nombre:"Transferencia Bancaria",tipo:"transferencia",proveedor:"",descripcion:"Transferencia directa a cuenta bancaria",comision:"0",instrucciones:`Banco: 
CBU/CVU: 
Alias: 
Titular: 

Envi el comprobante por WhatsApp al confirmar el pedido.`,color:"#059669"},{id:"abitab",emoji:"",nombre:"Abitab",tipo:"efectivo",proveedor:"abitab",descripcion:"Pago en efectivo en cualquier local Abitab del pas",comision:"0",instrucciones:"Al confirmar tu pedido recibirs el nmero de operacin para abonar en cualquier local Abitab.",color:"#F5A623"},{id:"redpagos",emoji:"",nombre:"RedPagos",tipo:"efectivo",proveedor:"redpagos",descripcion:"Pago en efectivo en locales RedPagos",comision:"0",instrucciones:"Al confirmar tu pedido recibirs el cdigo para abonar en cualquier local RedPagos.",color:"#E30613"},{id:"efectivo",emoji:"",nombre:"Efectivo contra entrega",tipo:"efectivo",proveedor:"",descripcion:"Pags en efectivo al recibir el pedido",comision:"0",instrucciones:"Por favor tener el monto exacto preparado al momento de la entrega.",color:"#6B7280"}],z$={transferencia:{placeholder:`Banco: 
CBU/CVU: 
Alias: 
Titular: 

Descripcin adicional...`,infoBox:"Complet los datos bancarios para que el cliente pueda realizar la transferencia. Pedile que enve el comprobante."},efectivo:{placeholder:"Ej: Tener el monto exacto. / Direccin: ... / Horario: ...",infoBox:"Indic cmo y dnde se realiza el pago en efectivo."},pasarela:{placeholder:"Mensaje al cliente sobre el proceso de pago online.",infoBox:" Las credenciales de API (Access Token, Public Key, etc.) se configuran como Variables de Entorno en el servidor  no se guardan aqu."},credito:{placeholder:"Informacin sobre financiacin, cuotas o condiciones."},otro:{placeholder:"Instrucciones para el cliente..."}},B$={pasarela:Kr,transferencia:Wre,efectivo:h8,credito:mn,otro:PF},I$={mercadopago:"#009EE3",stripe:"#635BFF",paypal:"#003087",redpagos:"#E30613",abitab:"#F5A623",otro:"#6B7280"},O$=[{value:"pasarela",label:"Pasarela online"},{value:"transferencia",label:"Transferencia"},{value:"efectivo",label:"Efectivo"},{value:"credito",label:"Tarjeta de crdito"},{value:"otro",label:"Otro"}],D$=[{value:"mercadopago",label:"MercadoPago"},{value:"stripe",label:"Stripe"},{value:"paypal",label:"PayPal"},{value:"redpagos",label:"RedPagos"},{value:"abitab",label:"Abitab"},{value:"otro",label:"Otro"}],M$=()=>({nombre:"",tipo:"pasarela",proveedor:"",descripcion:"",comision:"",instrucciones:"",activo:!0,orden:0});function w5e({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(!1),[l,c]=A.useState(!1),[d,f]=A.useState(null),[p,h]=A.useState(M$()),[x,m]=A.useState(!1),[y,b]=A.useState(!1),[v,C]=A.useState(null),[S,F]=A.useState(!0),w=A.useCallback(async()=>{i(!0);try{const L=await $G();r(L)}catch(L){console.error("Error cargando mtodos de pago:",L),ke.error("Error al cargar mtodos de pago")}finally{i(!1)}},[]);A.useEffect(()=>{w()},[w]);const k=()=>{f(null),h(M$()),s(!0)},E=L=>{const{comision:W,instrucciones:G}=Rk(L.instrucciones);f(L.id),h({nombre:L.nombre,tipo:L.tipo,proveedor:L.proveedor??"",descripcion:L.descripcion??"",comision:W,instrucciones:G,activo:L.activo,orden:L.orden}),s(!0)},T=L=>{f(null),h({nombre:L.nombre,tipo:L.tipo,proveedor:L.proveedor,descripcion:L.descripcion,comision:L.comision,instrucciones:L.instrucciones,activo:!0,orden:t.length}),s(!0)},_=L=>{h(W=>{var U;const G=((U=z$[L])==null?void 0:U.placeholder)??"";return{...W,tipo:L,instrucciones:W.instrucciones?W.instrucciones:G}})},z=async()=>{if(!p.nombre.trim()){ke.error("El nombre es requerido");return}m(!0);try{const L=S5e(p.comision,p.instrucciones),W={nombre:p.nombre,tipo:p.tipo,proveedor:p.proveedor||null,descripcion:p.descripcion,instrucciones:L,activo:p.activo,orden:p.orden};if(d){if(!await _0(d,W))throw new Error("No se pudo actualizar el mtodo")}else if(!await s5e(W))throw new Error("No se pudo crear el mtodo");ke.success(d?"Mtodo actualizado":"Mtodo creado"),s(!1),w()}catch(L){console.error("Error guardando mtodo:",L),ke.error(`Error: ${L instanceof Error?L.message:L}`)}finally{m(!1)}},B=async L=>{try{if(!await _0(L.id,{activo:!L.activo}))throw new Error("No se pudo actualizar");ke.success(L.activo?"Mtodo desactivado":"Mtodo activado"),w()}catch{ke.error("Error al actualizar")}},P=async L=>{try{if(!await l5e(L.id))throw new Error("No se pudo eliminar");ke.success("Mtodo eliminado"),C(null),w()}catch{ke.error("Error al eliminar")}},D=async(L,W)=>{const G=[...t].sort((Q,pe)=>Q.orden-pe.orden),U=G.findIndex(Q=>Q.id===L.id),H=W==="up"?U-1:U+1;if(H<0||H>=G.length)return;const K=G[H],ne=L.orden;b(!0);try{await Promise.all([_0(L.id,{orden:K.orden}),_0(K.id,{orden:ne})]),w()}catch{ke.error("Error al reordenar")}finally{b(!1)}},I=[...t].sort((L,W)=>L.orden-W.orden),N=t.filter(L=>L.activo).length,M=t.filter(L=>!L.activo).length,V=z$[p.tipo];return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[n.jsx(Ze,{icon:mn,title:"Mtodos de Pago",subtitle:"Configuracin de pasarelas y formas de pago disponibles",actions:[{label:" Vista previa",primary:!1,onClick:()=>c(!0)},{label:"+ Nuevo Mtodo",primary:!0,onClick:k}]}),n.jsx("div",{style:{padding:"12px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:12},children:[{label:"Total mtodos",value:t.length,icon:mn,color:no},{label:"Activos",value:N,icon:ft,color:"#059669"},{label:"Inactivos",value:M,icon:nn,color:"#EF4444"}].map(L=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"7px 14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{width:32,height:32,borderRadius:8,backgroundColor:L.color+"18",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(L.icon,{size:15,color:L.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"1.05rem",fontWeight:800,color:"#111827",lineHeight:1},children:L.value}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#6B7280"},children:L.label})]})]},L.label))}),n.jsxs("div",{style:{backgroundColor:"#FFFBF5",borderBottom:"1px solid #FEE9D7"},children:[n.jsxs("button",{onClick:()=>F(L=>!L),style:{width:"100%",padding:"8px 28px",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:8,textAlign:"left"},children:[n.jsx(pt,{size:14,color:no}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:700,color:no},children:"Templates rpidos"}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF",marginLeft:4},children:" clic para agregar un mtodo pre-configurado"}),n.jsx(Yn,{size:14,color:no,style:{marginLeft:"auto",transform:S?"rotate(180deg)":"none",transition:"transform .2s"}})]}),S&&n.jsx("div",{style:{padding:"0 28px 14px",display:"flex",gap:10,flexWrap:"wrap"},children:P$.map(L=>n.jsxs("button",{onClick:()=>T(L),style:{display:"flex",alignItems:"center",gap:8,padding:"8px 14px",borderRadius:10,border:`1.5px solid ${L.color}30`,backgroundColor:L.color+"10",cursor:"pointer",transition:"all .15s"},onMouseEnter:W=>W.currentTarget.style.backgroundColor=L.color+"22",onMouseLeave:W=>W.currentTarget.style.backgroundColor=L.color+"10",children:[n.jsx("span",{style:{fontSize:"1.1rem"},children:L.emoji}),n.jsxs("div",{style:{textAlign:"left"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.8rem",fontWeight:700,color:L.color},children:L.nombre}),parseFloat(L.comision)>0&&n.jsxs("p",{style:{margin:0,fontSize:"0.66rem",color:"#9CA3AF"},children:[L.comision,"% comisin"]})]})]},L.id))})]}),n.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px 28px"},children:o?n.jsx(E5e,{}):I.length===0?n.jsx(C5e,{onApplyTemplate:()=>T(P$[0])}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(330px, 1fr))",gap:16},children:I.map((L,W)=>{var ne,Q;const G=B$[L.tipo]??PF,U=I$[L.proveedor??""]??"#6B7280",{comision:H,instrucciones:K}=Rk(L.instrucciones);return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:`1.5px solid ${L.activo?"#E5E7EB":"#F3F4F6"}`,padding:20,display:"flex",flexDirection:"column",gap:12,opacity:L.activo?1:.65,boxShadow:L.activo?"0 1px 6px rgba(0,0,0,0.06)":"none"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:8},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[n.jsx("button",{onClick:()=>D(L,"up"),disabled:W===0||y,style:{width:22,height:22,borderRadius:5,border:"1px solid #E5E7EB",background:W===0?"#F9FAFB":"#fff",cursor:W===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:n.jsx(ote,{size:12,color:W===0?"#D1D5DB":"#374151"})}),n.jsx("button",{onClick:()=>D(L,"down"),disabled:W===I.length-1||y,style:{width:22,height:22,borderRadius:5,border:"1px solid #E5E7EB",background:W===I.length-1?"#F9FAFB":"#fff",cursor:W===I.length-1?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:n.jsx(Yn,{size:12,color:W===I.length-1?"#D1D5DB":"#374151"})})]}),n.jsx("div",{style:{width:44,height:44,borderRadius:12,backgroundColor:U+"18",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(G,{size:20,color:U})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:700,color:"#111827",fontSize:"0.95rem"},children:L.nombre}),n.jsxs("div",{style:{display:"flex",gap:5,marginTop:4,flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:600,backgroundColor:"#F3F4F6",color:"#6B7280",padding:"2px 7px",borderRadius:20},children:((ne=O$.find(pe=>pe.value===L.tipo))==null?void 0:ne.label)??L.tipo}),L.proveedor&&n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:700,backgroundColor:U+"18",color:U,padding:"2px 7px",borderRadius:20},children:((Q=D$.find(pe=>pe.value===L.proveedor))==null?void 0:Q.label)??L.proveedor}),H&&parseFloat(H)>0&&n.jsxs("span",{style:{fontSize:"0.7rem",fontWeight:700,backgroundColor:"#FFF7ED",color:no,padding:"2px 7px",borderRadius:20,display:"flex",alignItems:"center",gap:3},children:[n.jsx(Py,{size:9})," ",H,"%"]})]})]})]}),n.jsx("button",{onClick:()=>B(L),style:{padding:"4px 10px",borderRadius:20,border:"none",cursor:"pointer",fontSize:"0.72rem",fontWeight:700,backgroundColor:L.activo?"#D1FAE5":"#FEE2E2",color:L.activo?"#059669":"#DC2626",flexShrink:0,whiteSpace:"nowrap"},children:L.activo?" Activo":" Inactivo"})]}),L.descripcion&&n.jsx("p",{style:{margin:0,fontSize:"0.82rem",color:"#6B7280",lineHeight:1.5},children:L.descripcion}),K&&n.jsx("div",{style:{padding:"8px 12px",backgroundColor:"#FFFBEB",borderRadius:8,border:"1px solid #FDE68A"},children:n.jsxs("p",{style:{margin:0,fontSize:"0.76rem",color:"#92400E",whiteSpace:"pre-line",lineHeight:1.6},children:[n.jsx("strong",{children:"Instrucciones:"}),`
`,K]})}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[n.jsxs("button",{onClick:()=>E(L),style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:5,padding:"7px 0",borderRadius:8,border:"1.5px solid #E5E7EB",background:"#F9FAFB",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,color:"#374151"},children:[n.jsx(fo,{size:13})," Editar"]}),n.jsx("button",{onClick:()=>C(L),style:{width:36,height:36,borderRadius:8,border:"1.5px solid #FEE2E2",background:"#FFF5F5",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xr,{size:14,color:"#DC2626"})})]})]},L.id)})})}),a&&n.jsx("div",{style:Tk,onClick:()=>s(!1),children:n.jsxs("div",{style:{...Pk,maxWidth:540},onClick:L=>L.stopPropagation(),children:[n.jsxs("div",{style:$$,children:[n.jsx("h2",{style:{margin:0,fontSize:"1.05rem",fontWeight:700,color:"#111827"},children:d?"Editar mtodo de pago":"Nuevo mtodo de pago"}),n.jsx("button",{onClick:()=>s(!1),style:N$,children:n.jsx(Ut,{size:18})})]}),n.jsxs("div",{style:{padding:"20px 24px",display:"flex",flexDirection:"column",gap:14,maxHeight:"70vh",overflowY:"auto"},children:[n.jsxs("div",{children:[n.jsx("label",{style:Wc,children:"Nombre *"}),n.jsx("input",{value:p.nombre,onChange:L=>h(W=>({...W,nombre:L.target.value})),style:ph,placeholder:"Ej: MercadoPago, Transferencia Bancaria"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Wc,children:"Tipo *"}),n.jsx("select",{value:p.tipo,onChange:L=>_(L.target.value),style:L$,children:O$.map(L=>n.jsx("option",{value:L.value,children:L.label},L.value))})]}),n.jsxs("div",{children:[n.jsx("label",{style:Wc,children:"Proveedor"}),n.jsxs("select",{value:p.proveedor,onChange:L=>h(W=>({...W,proveedor:L.target.value})),style:L$,children:[n.jsx("option",{value:"",children:" Sin proveedor "}),D$.map(L=>n.jsx("option",{value:L.value,children:L.label},L.value))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Wc,children:"Descripcin visible al cliente"}),n.jsx("input",{value:p.descripcion,onChange:L=>h(W=>({...W,descripcion:L.target.value})),style:ph,placeholder:"Breve descripcin del mtodo de pago"})]}),n.jsxs("div",{children:[n.jsx("label",{style:Wc,children:"Comisin del proveedor (%)"}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:p.comision,onChange:L=>h(W=>({...W,comision:L.target.value})),style:{...ph,paddingRight:36},placeholder:"Ej: 3.5 (dejar vaco si es gratis)"}),n.jsx(Py,{size:14,color:"#9CA3AF",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)"}})]}),n.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.72rem",color:"#9CA3AF"},children:"Comisin que el proveedor cobra por transaccin. Solo informativo."})]}),(V==null?void 0:V.infoBox)&&n.jsxs("div",{style:{padding:"10px 14px",backgroundColor:"#EFF6FF",borderRadius:8,border:"1px solid #BFDBFE",display:"flex",gap:8},children:[n.jsx(Xp,{size:15,color:"#3B82F6",style:{flexShrink:0,marginTop:1}}),n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"#1E40AF",lineHeight:1.5},children:V.infoBox})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:5},children:[n.jsx("label",{style:{...Wc,margin:0},children:"Instrucciones de pago"}),(V==null?void 0:V.placeholder)&&!p.instrucciones&&n.jsx("button",{onClick:()=>h(L=>({...L,instrucciones:V.placeholder})),style:{fontSize:"0.7rem",color:no,background:"none",border:"none",cursor:"pointer",fontWeight:600},children:"+ Template"})]}),n.jsx("textarea",{value:p.instrucciones,onChange:L=>h(W=>({...W,instrucciones:L.target.value})),style:{...ph,height:90,paddingTop:8,resize:"vertical"},placeholder:(V==null?void 0:V.placeholder)??"Instrucciones para el cliente"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Wc,children:"Orden de visualizacin"}),n.jsx("input",{type:"number",value:p.orden,onChange:L=>h(W=>({...W,orden:parseInt(L.target.value)||0})),style:ph,min:0})]}),n.jsx("div",{style:{display:"flex",alignItems:"flex-end",paddingBottom:2},children:n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:"0.875rem",color:"#374151"},children:[n.jsx("input",{type:"checkbox",checked:p.activo,onChange:L=>h(W=>({...W,activo:L.target.checked})),style:{width:16,height:16,accentColor:no}}),"Mtodo activo"]})})]})]}),n.jsxs("div",{style:k5e,children:[n.jsx("button",{onClick:()=>s(!1),style:W$,children:"Cancelar"}),n.jsxs("button",{onClick:z,disabled:x,style:{...F5e,opacity:x?.7:1},children:[n.jsx(To,{size:14})," ",x?"Guardando":d?"Actualizar":"Crear mtodo"]})]})]})}),l&&n.jsx("div",{style:Tk,onClick:()=>c(!1),children:n.jsxs("div",{style:{...Pk,maxWidth:480},onClick:L=>L.stopPropagation(),children:[n.jsxs("div",{style:$$,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx(yr,{size:16,color:no}),n.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:700,color:"#111827"},children:"Vista previa  Checkout"})]}),n.jsx("button",{onClick:()=>c(!1),style:N$,children:n.jsx(Ut,{size:18})})]}),n.jsxs("div",{style:{padding:24},children:[n.jsxs("div",{style:{backgroundColor:"#F9FAFB",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsxs("div",{style:{backgroundColor:no,padding:"12px 16px",display:"flex",alignItems:"center",gap:8},children:[n.jsx(ir,{size:16,color:"#fff"}),n.jsx("span",{style:{color:"#fff",fontWeight:700,fontSize:"0.9rem"},children:"Forma de pago"})]}),n.jsx("div",{style:{padding:16,display:"flex",flexDirection:"column",gap:10},children:I.filter(L=>L.activo).length===0?n.jsxs("div",{style:{textAlign:"center",padding:"24px 0",color:"#9CA3AF"},children:[n.jsx(Jt,{size:28,style:{marginBottom:8,opacity:.4}}),n.jsx("p",{style:{margin:0,fontSize:"0.85rem"},children:"No hay mtodos activos"})]}):I.filter(L=>L.activo).map((L,W)=>{const G=B$[L.tipo]??PF,U=I$[L.proveedor??""]??"#6B7280",{comision:H,instrucciones:K}=Rk(L.instrucciones);return n.jsxs("label",{style:{display:"flex",gap:12,padding:"12px 14px",backgroundColor:"#fff",border:`1.5px solid ${W===0?no:"#E5E7EB"}`,borderRadius:10,cursor:"pointer",boxShadow:W===0?`0 0 0 3px ${no}22`:"none"},children:[n.jsx("div",{style:{paddingTop:2},children:n.jsx("div",{style:{width:18,height:18,borderRadius:"50%",border:`2px solid ${W===0?no:"#D1D5DB"}`,display:"flex",alignItems:"center",justifyContent:"center"},children:W===0&&n.jsx("div",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:no}})})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:7,backgroundColor:U+"18",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(G,{size:14,color:U})}),n.jsx("span",{style:{fontWeight:700,fontSize:"0.88rem",color:"#111827"},children:L.nombre})]}),H&&parseFloat(H)>0&&n.jsxs("span",{style:{fontSize:"0.68rem",color:"#6B7280",whiteSpace:"nowrap"},children:["+",H,"%"]})]}),L.descripcion&&n.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.75rem",color:"#6B7280"},children:L.descripcion}),W===0&&K&&n.jsx("div",{style:{marginTop:8,padding:"8px 10px",backgroundColor:"#FFFBEB",borderRadius:7,border:"1px solid #FDE68A"},children:n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#92400E",whiteSpace:"pre-line",lineHeight:1.5},children:K})})]})]},L.id)})}),n.jsx("div",{style:{padding:"0 16px 16px"},children:n.jsxs("button",{style:{width:"100%",padding:"12px 0",borderRadius:10,border:"none",backgroundColor:no,color:"#fff",fontWeight:700,fontSize:"0.95rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[n.jsx(cc,{size:15})," Confirmar pedido"]})})]}),n.jsxs("p",{style:{margin:"12px 0 0",fontSize:"0.75rem",color:"#9CA3AF",textAlign:"center"},children:["Solo se muestran los mtodos ",n.jsx("strong",{children:"activos"}),", en el orden configurado."]})]})]})}),v&&n.jsx("div",{style:Tk,onClick:()=>C(null),children:n.jsx("div",{style:{...Pk,maxWidth:420},onClick:L=>L.stopPropagation(),children:n.jsxs("div",{style:{padding:28,textAlign:"center",display:"flex",flexDirection:"column",gap:14,alignItems:"center"},children:[n.jsx("div",{style:{width:52,height:52,borderRadius:"50%",backgroundColor:"#FEE2E2",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xr,{size:24,color:"#DC2626"})}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:700,color:"#111827"},children:"Eliminar mtodo?"}),n.jsxs("p",{style:{margin:"6px 0 0",fontSize:"0.875rem",color:"#6B7280"},children:["Se eliminar ",n.jsx("strong",{children:v.nombre}),". Esta accin no se puede deshacer."]})]}),n.jsxs("div",{style:{display:"flex",gap:10,width:"100%"},children:[n.jsx("button",{onClick:()=>C(null),style:{...W$,flex:1},children:"Cancelar"}),n.jsx("button",{onClick:()=>P(v),style:{flex:1,padding:"9px 0",borderRadius:8,border:"none",backgroundColor:"#DC2626",color:"#fff",cursor:"pointer",fontWeight:700,fontSize:"0.875rem"},children:"Eliminar"})]})]})})})]})}function E5e(){return n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200,color:"#9CA3AF"},children:[n.jsx(_t,{size:18,style:{animation:"spin 1s linear infinite",marginRight:8}})," Cargando",n.jsx("style",{children:"@keyframes spin { from{transform:rotate(0deg)} to{transform:rotate(360deg)} }"})]})}function C5e({onApplyTemplate:e}){return n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(mn,{size:44,style:{marginBottom:12,opacity:.25}}),n.jsx("p",{style:{fontSize:"1rem",fontWeight:600,margin:0,color:"#374151"},children:"No hay mtodos de pago"}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:6},children:"Us los templates de arriba o hac clic aqu:"}),n.jsx("button",{onClick:e,style:{marginTop:10,padding:"9px 20px",borderRadius:8,border:"none",backgroundColor:no,color:"#fff",fontWeight:700,fontSize:"0.875rem",cursor:"pointer"},children:" Agregar MercadoPago"})]})}const Tk={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:20},Pk={backgroundColor:"#fff",borderRadius:16,width:"100%",maxWidth:500,boxShadow:"0 20px 60px rgba(0,0,0,0.25)"},$$={padding:"18px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between"},k5e={padding:"14px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:10},N$={background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},Wc={display:"block",fontSize:"0.8rem",fontWeight:600,color:"#374151",marginBottom:5},ph={width:"100%",height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.84rem",color:"#111827",outline:"none",boxSizing:"border-box"},L$={width:"100%",height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.84rem",color:"#374151",cursor:"pointer",outline:"none",boxSizing:"border-box"},W$={padding:"9px 20px",borderRadius:8,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,color:"#374151"},F5e={padding:"9px 22px",borderRadius:8,border:"none",backgroundColor:no,color:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:700,display:"flex",alignItems:"center",gap:6},A5="#FF6835",zk=[{value:"flat_rate",label:"Tarifa fija",icon:yn,color:"#2563EB"},{value:"gratis",label:"Envo gratis",icon:Rt,color:"#059669"},{value:"calculado",label:"Calculado",icon:Kr,color:"#7C3AED"},{value:"retiro_local",label:"Retiro en local",icon:yb,color:A5}],V$=()=>({nombre:"",tipo:"flat_rate",precio:0,zona:"",tiempo_estimado:"",descripcion:"",activo:!0,orden:0});function A5e({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(!1),[l,c]=A.useState(null),[d,f]=A.useState(V$()),[p,h]=A.useState(!1),[x,m]=A.useState(null),y=A.useCallback(async()=>{i(!0);try{const E=await NG();r(E)}catch(E){console.error("Error cargando mtodos de envo:",E),ke.error("Error al cargar mtodos de envo")}finally{i(!1)}},[]);A.useEffect(()=>{y()},[y]);const b=()=>{c(null),f(V$()),s(!0)},v=E=>{c(E.id),f({nombre:E.nombre,tipo:E.tipo,precio:E.precio,zona:E.zona??"",tiempo_estimado:E.tiempo_estimado??"",descripcion:E.descripcion??"",activo:E.activo,orden:E.orden}),s(!0)},C=async()=>{if(!d.nombre){ke.error("El nombre es requerido");return}h(!0);try{const E={...d,zona:d.zona||null,tiempo_estimado:d.tiempo_estimado||null,descripcion:d.descripcion||null};if(l){if(!await k$(l,E))throw new Error("No se pudo actualizar el mtodo")}else if(!await f5e(E))throw new Error("No se pudo crear el mtodo");ke.success(l?"Mtodo actualizado":"Mtodo creado"),s(!1),y()}catch(E){console.error("Error guardando mtodo:",E),ke.error(`Error: ${E instanceof Error?E.message:E}`)}finally{h(!1)}},S=async E=>{try{if(!await k$(E.id,{activo:!E.activo}))throw new Error("No se pudo actualizar");ke.success(E.activo?"Mtodo desactivado":"Mtodo activado"),y()}catch{ke.error("Error al actualizar")}},F=async E=>{try{if(!await h5e(E.id))throw new Error("No se pudo eliminar");ke.success("Mtodo eliminado"),m(null),y()}catch{ke.error("Error al eliminar")}},w=t.filter(E=>E.activo).length,k=t.filter(E=>!E.activo).length;return zk.find(E=>E.value===d.tipo),n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[n.jsx(Ze,{icon:At,title:"Mtodos de Envo",subtitle:"Zonas, tarifas y opciones de entrega disponibles",actions:[{label:"+ Nuevo Mtodo",primary:!0,onClick:b}]}),n.jsx("div",{style:{padding:"14px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:12},children:[{label:"Total mtodos",value:t.length,icon:At,color:A5},{label:"Activos",value:w,icon:ft,color:"#059669"},{label:"Inactivos",value:k,icon:nn,color:"#EF4444"}].map(E=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:8,backgroundColor:E.color+"18",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(E.icon,{size:16,color:E.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:800,color:"#111827",lineHeight:1},children:E.value}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#6B7280"},children:E.label})]})]},E.label))}),n.jsx("div",{style:{flex:1,overflow:"auto",padding:"20px 28px"},children:o?n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200,color:"#9CA3AF"},children:[n.jsx(_t,{size:18,style:{animation:"spin 1s linear infinite",marginRight:8}})," Cargando"]}):t.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(At,{size:44,style:{marginBottom:12,opacity:.25}}),n.jsx("p",{style:{fontSize:"1rem",fontWeight:600,margin:0},children:"No hay mtodos de envo"}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:6},children:'Agreg el primero con "+ Nuevo Mtodo"'})]}):n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["Mtodo","Tipo","Precio","Zona","Tiempo estimado","Estado","Acciones"].map(E=>n.jsx("th",{style:{padding:"11px 16px",textAlign:"left",fontWeight:600,color:"#374151",whiteSpace:"nowrap",fontSize:"0.8rem"},children:E},E))})}),n.jsx("tbody",{children:t.map((E,T)=>{const _=zk.find(B=>B.value===E.tipo),z=(_==null?void 0:_.icon)??At;return n.jsxs("tr",{style:{borderBottom:T<t.length-1?"1px solid #F3F4F6":"none",opacity:E.activo?1:.55},onMouseEnter:B=>B.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:B=>B.currentTarget.style.backgroundColor="",children:[n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:8,backgroundColor:((_==null?void 0:_.color)??"#6B7280")+"18",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(z,{size:16,color:(_==null?void 0:_.color)??"#6B7280"})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:600,color:"#111827",fontSize:"0.875rem"},children:E.nombre}),E.descripcion&&n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:E.descripcion})]})]})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsx("span",{style:{fontSize:"0.76rem",fontWeight:600,backgroundColor:((_==null?void 0:_.color)??"#6B7280")+"18",color:(_==null?void 0:_.color)??"#6B7280",padding:"3px 9px",borderRadius:20},children:(_==null?void 0:_.label)??E.tipo})}),n.jsx("td",{style:{padding:"12px 16px",fontWeight:700,color:E.tipo==="gratis"?"#059669":"#111827"},children:E.tipo==="gratis"?"Gratis":`$${(E.precio??0).toLocaleString("es-UY")}`}),n.jsx("td",{style:{padding:"12px 16px",color:"#6B7280",fontSize:"0.8rem"},children:E.zona?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[n.jsx(Dn,{size:12})," ",E.zona]}):n.jsx("span",{style:{color:"#D1D5DB"},children:""})}),n.jsx("td",{style:{padding:"12px 16px",color:"#6B7280",fontSize:"0.8rem"},children:E.tiempo_estimado?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[n.jsx(Ct,{size:12})," ",E.tiempo_estimado]}):n.jsx("span",{style:{color:"#D1D5DB"},children:""})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsx("button",{onClick:()=>S(E),style:{padding:"3px 10px",borderRadius:20,border:"none",cursor:"pointer",fontSize:"0.76rem",fontWeight:700,backgroundColor:E.activo?"#D1FAE5":"#FEE2E2",color:E.activo?"#059669":"#DC2626"},children:E.activo?" Activo":" Inactivo"})}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsx("button",{onClick:()=>v(E),style:{width:30,height:30,borderRadius:6,border:"1.5px solid #E5E7EB",background:"#F9FAFB",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(fo,{size:13,color:"#374151"})}),n.jsx("button",{onClick:()=>m(E),style:{width:30,height:30,borderRadius:6,border:"1.5px solid #FEE2E2",background:"#FFF5F5",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xr,{size:13,color:"#DC2626"})})]})})]},E.id)})})]})})}),a&&n.jsx("div",{style:U$,onClick:()=>s(!1),children:n.jsxs("div",{style:q$,onClick:E=>E.stopPropagation(),children:[n.jsxs("div",{style:_5e,children:[n.jsx("h2",{style:{margin:0,fontSize:"1.05rem",fontWeight:700,color:"#111827"},children:l?"Editar mtodo de envo":"Nuevo mtodo de envo"}),n.jsx("button",{onClick:()=>s(!1),style:T5e,children:n.jsx(Ut,{size:18})})]}),n.jsxs("div",{style:{padding:"20px 24px",display:"flex",flexDirection:"column",gap:14},children:[n.jsxs("div",{children:[n.jsx("label",{style:Vc,children:"Nombre *"}),n.jsx("input",{value:d.nombre,onChange:E=>f(T=>({...T,nombre:E.target.value})),style:vu,placeholder:"Ej: Envo estndar, Retiro en local"})]}),n.jsxs("div",{children:[n.jsx("label",{style:Vc,children:"Tipo *"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:zk.map(E=>n.jsxs("button",{onClick:()=>f(T=>({...T,tipo:E.value})),style:{display:"flex",alignItems:"center",gap:8,padding:"10px 14px",borderRadius:8,border:`1.5px solid ${d.tipo===E.value?E.color:"#E5E7EB"}`,backgroundColor:d.tipo===E.value?E.color+"12":"#F9FAFB",cursor:"pointer",color:d.tipo===E.value?E.color:"#374151",fontWeight:d.tipo===E.value?700:500,fontSize:"0.84rem"},children:[n.jsx(E.icon,{size:15,color:d.tipo===E.value?E.color:"#9CA3AF"}),E.label]},E.value))})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsxs("label",{style:Vc,children:["Precio ($) ",d.tipo==="gratis"&&n.jsx("span",{style:{color:"#059669",fontWeight:400},children:" automtico $0"})]}),n.jsx("input",{type:"number",value:d.tipo==="gratis"?0:d.precio,onChange:E=>f(T=>({...T,precio:parseFloat(E.target.value)||0})),style:{...vu,backgroundColor:d.tipo==="gratis"?"#F3F4F6":"#fff"},min:0,disabled:d.tipo==="gratis"})]}),n.jsxs("div",{children:[n.jsx("label",{style:Vc,children:"Tiempo estimado"}),n.jsx("input",{value:d.tiempo_estimado,onChange:E=>f(T=>({...T,tiempo_estimado:E.target.value})),style:vu,placeholder:"Ej: 2-3 das hbiles"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:Vc,children:"Zona de cobertura"}),n.jsx("input",{value:d.zona,onChange:E=>f(T=>({...T,zona:E.target.value})),style:vu,placeholder:"Ej: Todo el pas, Montevideo, Interior"})]}),n.jsxs("div",{children:[n.jsx("label",{style:Vc,children:"Descripcin"}),n.jsx("input",{value:d.descripcion,onChange:E=>f(T=>({...T,descripcion:E.target.value})),style:vu,placeholder:"Info adicional para el cliente"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:Vc,children:"Orden"}),n.jsx("input",{type:"number",value:d.orden,onChange:E=>f(T=>({...T,orden:parseInt(E.target.value)||0})),style:vu,min:0})]}),n.jsx("div",{style:{display:"flex",alignItems:"flex-end",paddingBottom:2},children:n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:"0.875rem",color:"#374151"},children:[n.jsx("input",{type:"checkbox",checked:d.activo,onChange:E=>f(T=>({...T,activo:E.target.checked})),style:{width:16,height:16,accentColor:A5}}),"Mtodo activo"]})})]})]}),n.jsxs("div",{style:R5e,children:[n.jsx("button",{onClick:()=>s(!1),style:H$,children:"Cancelar"}),n.jsxs("button",{onClick:C,disabled:p,style:{...P5e,opacity:p?.7:1},children:[n.jsx(To,{size:14})," ",p?"Guardando":l?"Actualizar":"Crear mtodo"]})]})]})}),x&&n.jsx("div",{style:U$,onClick:()=>m(null),children:n.jsx("div",{style:{...q$,maxWidth:420},onClick:E=>E.stopPropagation(),children:n.jsxs("div",{style:{padding:28,textAlign:"center",display:"flex",flexDirection:"column",gap:14,alignItems:"center"},children:[n.jsx("div",{style:{width:52,height:52,borderRadius:"50%",backgroundColor:"#FEE2E2",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xr,{size:24,color:"#DC2626"})}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:700,color:"#111827"},children:"Eliminar mtodo?"}),n.jsxs("p",{style:{margin:"6px 0 0",fontSize:"0.875rem",color:"#6B7280"},children:["Se eliminar ",n.jsx("strong",{children:x.nombre}),". Esta accin no se puede deshacer."]})]}),n.jsxs("div",{style:{display:"flex",gap:10,width:"100%"},children:[n.jsx("button",{onClick:()=>m(null),style:{...H$,flex:1},children:"Cancelar"}),n.jsx("button",{onClick:()=>F(x),style:{flex:1,padding:"9px 0",borderRadius:8,border:"none",backgroundColor:"#DC2626",color:"#fff",cursor:"pointer",fontWeight:700,fontSize:"0.875rem"},children:"Eliminar"})]})]})})}),n.jsx("style",{children:"@keyframes spin { from{transform:rotate(0deg)} to{transform:rotate(360deg)} }"})]})}const U$={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:20},q$={backgroundColor:"#fff",borderRadius:16,width:"100%",maxWidth:520,boxShadow:"0 20px 60px rgba(0,0,0,0.25)"},_5e={padding:"18px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between"},R5e={padding:"14px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:10},T5e={background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},Vc={display:"block",fontSize:"0.8rem",fontWeight:600,color:"#374151",marginBottom:5},vu={width:"100%",height:36,border:"1.5px solid #E5E7EB",borderRadius:8,padding:"0 10px",fontSize:"0.84rem",color:"#111827",outline:"none",boxSizing:"border-box"},H$={padding:"9px 20px",borderRadius:8,border:"1.5px solid #E5E7EB",background:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,color:"#374151"},P5e={padding:"9px 22px",borderRadius:8,border:"none",backgroundColor:"#FF6835",color:"#fff",cursor:"pointer",fontSize:"0.875rem",fontWeight:700,display:"flex",alignItems:"center",gap:6},G$=`https://${za}.supabase.co/functions/v1/api`,K$={"Content-Type":"application/json",Authorization:`Bearer ${Ca}`},fh="#FF6835",z0={pendiente:{label:"Pendiente",color:"#D97706",bg:"#FFFBEB",icon:Ct},pagado:{label:"Pagado",color:"#059669",bg:"#ECFDF5",icon:ft},parcial:{label:"Pago parcial",color:"#2563EB",bg:"#EFF6FF",icon:Xt},fallido:{label:"Fallido",color:"#DC2626",bg:"#FEF2F2",icon:nn},reembolsado:{label:"Reembolsado",color:"#7C3AED",bg:"#F5F3FF",icon:Fa}},LG=[{value:"",label:"Todos"},{value:"pendiente",label:"Pendientes"},{value:"pagado",label:"Pagados"},{value:"parcial",label:"Pago parcial"},{value:"fallido",label:"Fallidos"},{value:"reembolsado",label:"Reembolsados"}],z5e={mercadopago:"",stripe:"",paypal:"",redpagos:"",abitab:""};function B0(e){return"$"+(e??0).toLocaleString("es-UY",{minimumFractionDigits:0,maximumFractionDigits:0})}function B5e(e){return new Date(e).toLocaleDateString("es-UY",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})}function I5e({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(null),[p,h]=A.useState(null),x=A.useCallback(async()=>{i(!0);try{const w=new URLSearchParams;a&&w.append("estado_pago",a),l&&w.append("search",l);const E=await(await fetch(`${G$}/pedidos?${w}`,{headers:K$})).json();if(E.error)throw new Error(E.error);r(E.data??[])}catch(w){console.error("Error cargando transacciones:",w),ke.error("Error al cargar transacciones")}finally{i(!1)}},[a,l]);A.useEffect(()=>{x()},[x]);const m=async(w,k)=>{var E;f(w.id),h(null);try{const _=await(await fetch(`${G$}/pedidos/${w.id}/estado-pago`,{method:"PUT",headers:K$,body:JSON.stringify({estado_pago:k})})).json();if(_.error)throw new Error(_.error);ke.success(`Estado de pago actualizado: ${(E=z0[k])==null?void 0:E.label}`),x()}catch(T){ke.error(`Error: ${T instanceof Error?T.message:T}`)}finally{f(null)}},y=t.length,b=t.filter(w=>w.estado_pago==="pagado").length,v=t.filter(w=>w.estado_pago==="pendiente").length,C=t.filter(w=>w.estado_pago==="fallido").length,S=t.filter(w=>w.estado_pago==="pagado").reduce((w,k)=>w+(k.total??0),0),F=t.filter(w=>w.estado_pago==="pendiente").reduce((w,k)=>w+(k.total??0),0);return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[n.jsx(Ze,{icon:yn,title:"Pagos & Transacciones",subtitle:"Estado de pagos por pedido  vista operacional",actions:[{label:"Ver Pedidos",primary:!1,onClick:()=>e("pedidos")},{label:" Actualizar",primary:!0,onClick:x}]}),n.jsx("div",{style:{padding:"12px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",gap:10,flexWrap:"wrap"},children:[{label:"Transacciones",value:y,icon:mn,color:fh,sub:"total"},{label:"Cobrado",value:B0(S),icon:ft,color:"#059669",sub:`${b} pedidos`},{label:"Pendiente cobro",value:B0(F),icon:Ct,color:"#D97706",sub:`${v} pedidos`},{label:"Fallidos",value:C,icon:nn,color:"#DC2626",sub:"requieren atencin"}].map(w=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB",minWidth:150},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:8,backgroundColor:w.color+"18",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(w.icon,{size:16,color:w.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"1rem",fontWeight:800,color:"#111827",lineHeight:1},children:w.value}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.68rem",color:"#9CA3AF"},children:w.sub}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#6B7280"},children:w.label})]})]},w.label))}),n.jsxs("div",{style:{padding:"10px 28px",backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB",display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{position:"relative"},children:[n.jsx(tr,{size:14,color:"#9CA3AF",style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:l,onChange:w=>c(w.target.value),placeholder:"Buscar por n pedido",style:{paddingLeft:30,height:34,border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.82rem",outline:"none",width:200,color:"#374151"}})]}),n.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:LG.map(w=>n.jsx("button",{onClick:()=>s(w.value),style:{padding:"5px 12px",borderRadius:20,border:`1.5px solid ${a===w.value?fh:"#E5E7EB"}`,backgroundColor:a===w.value?fh+"15":"#fff",color:a===w.value?fh:"#6B7280",fontSize:"0.78rem",fontWeight:a===w.value?700:500,cursor:"pointer"},children:w.label},w.value))})]}),n.jsx("div",{style:{flex:1,overflow:"auto",padding:"16px 28px"},children:o?n.jsx(O5e,{}):t.length===0?n.jsx(D5e,{filtro:a}):n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden",boxShadow:"0 1px 4px rgba(0,0,0,0.05)"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr 160px 90px 110px 130px",gap:0,backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["# Pedido","Cliente","Mtodo de pago","Monto","Fecha","Estado pago"].map(w=>n.jsx("div",{style:{padding:"10px 14px",fontSize:"0.72rem",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.04em"},children:w},w))}),t.map(w=>{var P,D,I;const k=z0[w.estado_pago]??z0.pendiente,E=k.icon,T=w.cliente_persona?`${w.cliente_persona.nombre} ${w.cliente_persona.apellido}`:((P=w.cliente_org)==null?void 0:P.nombre)??"",_=z5e[((D=w.metodo_pago)==null?void 0:D.proveedor)??""]??"",z=d===w.id,B=p===w.id;return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr 160px 90px 110px 130px",borderBottom:"1px solid #F3F4F6",alignItems:"center",transition:"background .1s"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:N=>N.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{padding:"12px 14px"},children:n.jsxs("button",{onClick:()=>e("pedidos"),style:{background:"none",border:"none",cursor:"pointer",padding:0,display:"flex",alignItems:"center",gap:5,color:fh,fontWeight:700,fontSize:"0.8rem"},children:[n.jsx(yr,{size:11}),w.numero_pedido]})}),n.jsxs("div",{style:{padding:"12px 14px"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.83rem",fontWeight:600,color:"#111827"},children:T}),((I=w.cliente_persona)==null?void 0:I.email)&&n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:w.cliente_persona.email})]}),n.jsx("div",{style:{padding:"12px 14px"},children:w.metodo_pago?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx("span",{style:{fontSize:"1rem"},children:_}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"0.8rem",fontWeight:600,color:"#374151"},children:w.metodo_pago.nombre}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"#9CA3AF",textTransform:"capitalize"},children:w.metodo_pago.tipo})]})]}):n.jsx("span",{style:{fontSize:"0.8rem",color:"#9CA3AF"},children:""})}),n.jsxs("div",{style:{padding:"12px 14px"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.9rem",fontWeight:800,color:"#111827"},children:B0(w.total)}),w.descuento>0&&n.jsxs("p",{style:{margin:0,fontSize:"0.68rem",color:"#059669"},children:["-",B0(w.descuento)," desc."]})]}),n.jsx("div",{style:{padding:"12px 14px"},children:n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280"},children:B5e(w.created_at)})}),n.jsxs("div",{style:{padding:"12px 14px",position:"relative"},children:[n.jsxs("button",{disabled:z,onClick:()=>h(B?null:w.id),style:{display:"flex",alignItems:"center",gap:5,padding:"4px 8px",borderRadius:20,border:`1.5px solid ${k.color}50`,backgroundColor:k.bg,color:k.color,fontSize:"0.72rem",fontWeight:700,cursor:"pointer",width:"100%",opacity:z?.6:1},children:[z?n.jsx(_t,{size:11,style:{animation:"spin 1s linear infinite"}}):n.jsx(E,{size:11}),n.jsx("span",{style:{flex:1,textAlign:"left"},children:k.label}),n.jsx(Yn,{size:10})]}),B&&n.jsx("div",{style:{position:"absolute",top:"100%",left:14,zIndex:100,backgroundColor:"#fff",border:"1px solid #E5E7EB",borderRadius:10,boxShadow:"0 8px 24px rgba(0,0,0,0.12)",minWidth:160,overflow:"hidden"},children:Object.entries(z0).map(([N,M])=>{const V=M.icon;return n.jsxs("button",{onClick:()=>m(w,N),style:{width:"100%",display:"flex",alignItems:"center",gap:8,padding:"9px 12px",border:"none",background:N===w.estado_pago?M.bg:"#fff",cursor:"pointer",fontSize:"0.8rem",fontWeight:N===w.estado_pago?700:500,color:N===w.estado_pago?M.color:"#374151",textAlign:"left"},onMouseEnter:L=>L.currentTarget.style.backgroundColor="#F9FAFB",onMouseLeave:L=>L.currentTarget.style.backgroundColor=N===w.estado_pago?M.bg:"#fff",children:[n.jsx(V,{size:13,color:M.color})," ",M.label,N===w.estado_pago&&n.jsx("span",{style:{marginLeft:"auto",fontSize:"0.6rem"},children:""})]},N)})})]})]},w.id)})]})}),n.jsx("style",{children:"@keyframes spin { from{transform:rotate(0deg)} to{transform:rotate(360deg)} }"}),p&&n.jsx("div",{style:{position:"fixed",inset:0,zIndex:99},onClick:()=>h(null)})]})}function O5e(){return n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200,color:"#9CA3AF",gap:8},children:[n.jsx(_t,{size:18,style:{animation:"spin 1s linear infinite"}})," Cargando transacciones"]})}function D5e({filtro:e}){var t;return n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(yn,{size:44,style:{marginBottom:12,opacity:.25}}),n.jsx("p",{style:{fontSize:"1rem",fontWeight:600,margin:0,color:"#374151"},children:e?`No hay transacciones "${(t=LG.find(r=>r.value===e))==null?void 0:t.label}"`:"No hay transacciones an"}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:6},children:"Los pagos aparecern aqu cuando se creen pedidos"})]})}const WG=`https://${Pr}.supabase.co/functions/v1/api/envios`,VG={"Content-Type":"application/json",Authorization:`Bearer ${jr}`,apikey:jr};async function UG(e){try{const t=`${WG}${e}`;console.log(`[enviosApi] GET ${t}`);const r=await fetch(t,{headers:VG});let o;const i=r.headers.get("content-type");if(i&&i.includes("application/json"))o=await r.json();else{const a=await r.text();return console.error(`[enviosApi] Respuesta no JSON: ${r.status} ${a}`),{ok:!1,error:`Error ${r.status}: ${a||"Respuesta invlida"}`}}if(!r.ok){console.error(`[enviosApi] Error ${r.status}:`,o);let a=`Error ${r.status}: ${r.statusText||"Error en la peticin"}`;return typeof o=="string"?a=o:o&&typeof o=="object"&&(typeof o.error=="string"?a=o.error:o.error&&typeof o.error=="object"?a=o.error.message||o.error.details||o.error.hint||JSON.stringify(o.error):o.message?a=o.message:o.details?a=o.details:Object.keys(o).length>0&&(a=JSON.stringify(o))),{ok:!1,error:a}}return{ok:!0,data:o}}catch(t){return console.error(`[enviosApi] Error en GET ${e}:`,t),t instanceof TypeError&&t.message.includes("fetch")?{ok:!1,error:"Error de conexin. Verifica tu conexin a internet o contacta al administrador."}:{ok:!1,error:t instanceof Error?t.message:"Error desconocido al cargar datos"}}}async function M5e(e,t){try{const r=await fetch(`${WG}${e}`,{method:"PUT",headers:VG,body:JSON.stringify(t)}),o=await r.json();if(!r.ok){let i="Error en la peticin";return typeof o.error=="string"?i=o.error:o.error&&typeof o.error=="object"?i=o.error.message||o.error.error||JSON.stringify(o.error):o.message&&(i=o.message),{ok:!1,error:i}}return{ok:!0,data:o}}catch(r){return console.error(`Envios API PUT ${e}:`,r),{ok:!1,error:r instanceof Error?r.message:"Error desconocido"}}}async function $5e(e){var i,a;const t=new URLSearchParams;e!=null&&e.pedido_madre_id&&t.append("pedido_madre_id",e.pedido_madre_id),e!=null&&e.estado&&t.append("estado",e.estado),e!=null&&e.carrier&&t.append("carrier",e.carrier),e!=null&&e.tramo&&t.append("tramo",e.tramo);const r=t.toString()?`?${t.toString()}`:"",o=await UG(r);if(console.log("[enviosApi] getEnvios response:",{ok:o.ok,error:o.error,data:o.data}),!o.ok)throw console.error("[enviosApi] Error en getEnvios:",o.error),new Error(o.error||"Error cargando envos");return o.data?(console.log("[enviosApi] getEnvios: envos encontrados:",((i=o.data.envios)==null?void 0:i.length)||0,"eventos:",((a=o.data.eventos)==null?void 0:a.length)||0),{envios:o.data.envios||[],eventos:o.data.eventos||[]}):(console.warn("[enviosApi] getEnvios: res.data es null/undefined"),{envios:[],eventos:[]})}async function N5e(e){const t=await UG(`/${e}`);return!t.ok||!t.data?null:t.data}async function L5e(e,t){const r=await M5e(`/${e}`,t);if(!r.ok||!r.data)throw new Error(r.error||"Error actualizando envo");return r.data.envio}const Uc="#FF6835";function Y$(e,t=[]){const r=new Date(e.fecha_creacion),o=e.fecha_estimada||"",i=t.map(a=>{const s=new Date(a.fecha);return{fecha:s.toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit"}),hora:s.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}),estado:a.estado,descripcion:a.descripcion,ubicacion:a.ubicacion||"Sistema"}});return{id:e.id,numero:e.numero,pedidoMadre:e.numero_pedido||e.pedido_madre_id||"",estado:e.estado,origen:e.origen,destino:e.destino,destinatario:e.destinatario,carrier:e.carrier,tramo:e.tramo,peso:Number(e.peso)||0,bultos:e.bultos||1,fechaCreacion:r.toISOString().split("T")[0],fechaEstimada:o,tracking:e.tracking,eventos:i,envioData:e,eventosData:t}}function W5e(e){const t=new Map;return e.forEach(r=>{const o=r.pedidoMadre||"sin-pedido";t.has(o)||t.set(o,{numero:r.pedidoMadre||"Sin pedido",cliente:r.destinatario,envios:[],total:0});const i=t.get(o);i.envios.push(r),i.total+=0}),Array.from(t.entries()).map(([r,o])=>({id:r,...o}))}const wy={creado:{label:"Creado",color:"#6B7280",bg:"#F3F4F6",icon:Rt},despachado:{label:"Despachado",color:"#2563EB",bg:"#EFF6FF",icon:At},en_transito:{label:"En trnsito",color:"#7C3AED",bg:"#F5F3FF",icon:Di},en_deposito:{label:"En depsito",color:"#D97706",bg:"#FFFBEB",icon:rl},en_reparto:{label:"En reparto",color:"#FF6835",bg:"#FFF4EC",icon:Dn},entregado:{label:"Entregado",color:"#059669",bg:"#ECFDF5",icon:ct},fallido:{label:"Fallido",color:"#DC2626",bg:"#FEF2F2",icon:nn},devuelto:{label:"Devuelto",color:"#9CA3AF",bg:"#F9FAFB",icon:Fa}},Bk={local:{label:"Local",color:"#059669"},intercity:{label:"Intercity",color:"#2563EB"},internacional:{label:"Internacional",color:"#7C3AED"},last_mile:{label:"Last Mile",color:"#D97706"}};function hh({label:e,value:t,sub:r,color:o,icon:i}){return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px 20px",display:"flex",gap:"14px",alignItems:"center"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:`${o}18`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(i,{size:20,color:o})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"22px",fontWeight:800,color:"#111",lineHeight:1},children:t}),n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"3px"},children:e}),r&&n.jsx("div",{style:{fontSize:"11px",color:o,marginTop:"2px",fontWeight:600},children:r})]})]})}function Ik({estado:e}){const t=wy[e],r=t.icon;return n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",fontSize:"11px",fontWeight:700,padding:"3px 9px",borderRadius:"20px",backgroundColor:t.bg,color:t.color,whiteSpace:"nowrap"},children:[n.jsx(r,{size:11})," ",t.label]})}function V5e({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(new Set),[l,c]=A.useState(null),[d,f]=A.useState(""),[p,h]=A.useState("todos"),[x,m]=A.useState("todos"),[y,b]=A.useState(!1),v=A.useCallback(async()=>{try{i(!0),console.log("[EnviosView] Iniciando carga de envos...");const E={};p!=="todos"&&(E.estado=p),x!=="todos"&&(E.tramo=x),console.log("[EnviosView] Filtros aplicados:",E);const{envios:T,eventos:_}=await $5e(E);console.log("[EnviosView] Datos recibidos:",{envios:T.length,eventos:_.length});const z=new Map;_.forEach(D=>{z.has(D.envio_id)||z.set(D.envio_id,[]),z.get(D.envio_id).push(D)}),console.log("[EnviosView] Eventos agrupados por envo:",z.size);const B=T.map(D=>{const I=z.get(D.id)||[];return Y$(D,I)});console.log("[EnviosView] Envos transformados:",B.length);const P=W5e(B);console.log("[EnviosView] Pedidos agrupados:",P.length),r(P),s(D=>D.size===0&&P.length>0?new Set([P[0].id]):D)}catch(E){console.error("[EnviosView] Error cargando envos:",E);let T="Error desconocido";E instanceof Error?T=E.message:typeof E=="object"&&E!==null?"message"in E&&typeof E.message=="string"?T=E.message:"error"in E&&typeof E.error=="string"?T=E.error:T="Error al cargar envos. Por favor, intenta nuevamente.":T=String(E),ke.error(`Error al cargar envos: ${T}`),r([])}finally{i(!1)}},[p,x]);A.useEffect(()=>{v()},[v]),A.useEffect(()=>{if(!(l!=null&&l.id))return;(async()=>{try{const T=await N5e(l.id);if(T){const _=Y$(T.envio,T.eventos);c(_),r(z=>z.map(B=>({...B,envios:B.envios.map(P=>P.id===_.id?_:P)})))}}catch(T){console.error("[EnviosView] Error cargando detalle:",T)}})()},[l==null?void 0:l.id]);const C=E=>{s(T=>{const _=new Set(T);return _.has(E)?_.delete(E):_.add(E),_})},S=async(E,T,_)=>{try{b(!0),await L5e(E,{estado:T,descripcion_evento:_||`Estado cambiado a ${T}`,ubicacion:"Sistema",origen_evento:"manual"}),ke.success("Estado actualizado"),await v()}catch{ke.error("Error actualizando estado")}finally{b(!1)}},F=t.flatMap(E=>E.envios),w={total:F.length,entregados:F.filter(E=>E.estado==="entregado").length,en_transito:F.filter(E=>["en_transito","despachado","en_reparto","en_deposito"].includes(E.estado)).length,fallidos:F.filter(E=>E.estado==="fallido").length,pendientes:F.filter(E=>E.estado==="creado").length},k=A.useMemo(()=>t.filter(E=>!(!(!d||E.numero.toLowerCase().includes(d.toLowerCase())||E.cliente.toLowerCase().includes(d.toLowerCase())||E.envios.some(_=>_.numero.toLowerCase().includes(d.toLowerCase())||_.destinatario.toLowerCase().includes(d.toLowerCase())))||p!=="todos"&&!E.envios.some(_=>_.estado===p)||x!=="todos"&&!E.envios.some(_=>_.tramo===x))),[t,d,p,x]);return o?n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx(ur,{size:32,color:Uc,style:{animation:"spin 1s linear infinite"}}),n.jsx("p",{style:{color:"#6B7280",marginTop:12,fontSize:"0.875rem"},children:"Cargando envos..."})]})}):n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:At,title:"Envos",subtitle:`${w.total} envos totales  ${w.en_transito} en trnsito  ${w.entregados} entregados`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:y?"Actualizando...":" Actualizar",onClick:()=>v()},{label:"+ Nuevo Envo",primary:!0,onClick:()=>{}}]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5,1fr)",gap:"12px",padding:"20px 20px 0"},children:[n.jsx(hh,{label:"Total Envos",value:w.total,color:"#6B7280",icon:Rt}),n.jsx(hh,{label:"En Trnsito",value:w.en_transito,color:"#7C3AED",icon:Di}),n.jsx(hh,{label:"En Reparto",value:F.filter(E=>E.estado==="en_reparto").length,color:Uc,icon:At}),n.jsx(hh,{label:"Entregados",value:w.entregados,color:"#059669",icon:ct}),n.jsx(hh,{label:"Fallidos",value:w.fallidos,color:"#DC2626",icon:nn,sub:w.fallidos>0?"Requieren atencin":void 0})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",padding:"16px 20px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"200px"},children:[n.jsx(tr,{size:14,color:"#9CA3AF",style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:d,onChange:E=>f(E.target.value),placeholder:"Buscar pedido, cliente, envo...",style:{width:"100%",paddingLeft:"34px",paddingRight:"12px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:"#fff",boxSizing:"border-box"}})]}),n.jsxs("select",{value:p,onChange:E=>h(E.target.value),style:{padding:"8px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"13px",backgroundColor:"#fff",cursor:"pointer"},children:[n.jsx("option",{value:"todos",children:"Todos los estados"}),Object.entries(wy).map(([E,T])=>n.jsx("option",{value:E,children:T.label},E))]}),n.jsxs("select",{value:x,onChange:E=>m(E.target.value),style:{padding:"8px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"13px",backgroundColor:"#fff",cursor:"pointer"},children:[n.jsx("option",{value:"todos",children:"Todos los tramos"}),Object.entries(Bk).map(([E,T])=>n.jsx("option",{value:E,children:T.label},E))]}),n.jsxs("span",{style:{fontSize:"12px",color:"#9CA3AF"},children:[k.length," pedidos  ",k.flatMap(E=>E.envios).length," envos"]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0 20px 20px"},children:n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:k.map(E=>{const T=a.has(E.id),_=E.envios.map(P=>P.estado),z=_.includes("fallido"),B=_.every(P=>P==="entregado");return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:`1px solid ${z?"#FCA5A5":B?"#A7F3D0":"#E5E7EB"}`,overflow:"hidden",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[n.jsxs("button",{onClick:()=>C(E.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",border:"none",backgroundColor:B?"#F0FDF4":z?"#FFF5F5":"#FAFAFA",cursor:"pointer",textAlign:"left"},children:[T?n.jsx(Yn,{size:16,color:"#6B7280"}):n.jsx(Xr,{size:16,color:"#6B7280"}),n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",backgroundColor:B?"#D1FAE5":z?"#FEE2E2":"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(Rt,{size:16,color:B?"#059669":z?"#DC2626":Uc})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"14px",fontWeight:800,color:"#111"},children:E.numero}),n.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:""}),n.jsx("span",{style:{fontSize:"13px",color:"#374151",fontWeight:500},children:E.cliente}),z&&n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:"#DC2626",backgroundColor:"#FEE2E2",padding:"2px 7px",borderRadius:"10px"},children:" Tiene fallidos"}),B&&n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:"#059669",backgroundColor:"#D1FAE5",padding:"2px 7px",borderRadius:"10px"},children:" Todo entregado"})]}),n.jsxs("div",{style:{fontSize:"12px",color:"#9CA3AF",marginTop:"2px"},children:[E.envios.length," envo",E.envios.length>1?"s":"","  Total: $",E.total.toLocaleString("es-AR")]})]}),n.jsx("div",{style:{display:"flex",gap:"6px",flexShrink:0,flexWrap:"wrap"},children:E.envios.map(P=>n.jsx(Ik,{estado:P.estado},P.id))})]}),T&&n.jsx("div",{style:{borderTop:"1px solid #E5E7EB"},children:E.envios.map((P,D)=>{const I=wy[P.estado],N=Bk[P.tramo];I.icon;const M=(l==null?void 0:l.id)===P.id;return n.jsxs("div",{onClick:()=>c(M?null:P),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 18px 12px 50px",borderTop:D>0?"1px solid #F3F4F6":"none",cursor:"pointer",backgroundColor:M?"#FFF4EC":"transparent",transition:"background 0.12s"},children:[n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:I.color,flexShrink:0}}),n.jsxs("div",{style:{minWidth:0,flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#374151",fontFamily:"monospace"},children:P.numero}),n.jsx(Ik,{estado:P.estado}),n.jsx("span",{style:{fontSize:"10px",fontWeight:600,color:N.color,backgroundColor:`${N.color}18`,padding:"2px 7px",borderRadius:"10px"},children:N.label}),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:P.carrier})]}),n.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"3px",display:"flex",gap:"12px",flexWrap:"wrap"},children:[n.jsxs("span",{children:[" ",P.destino]}),n.jsxs("span",{children:[" ",P.destinatario]}),n.jsxs("span",{children:[" ",P.peso,"kg  ",P.bultos," bulto",P.bultos>1?"s":""]}),n.jsxs("span",{children:[" Est. ",P.fechaEstimada]}),P.tracking&&n.jsxs("span",{style:{color:"#2563EB",fontWeight:600},children:[" ",P.tracking]})]})]}),n.jsx(yr,{size:14,color:M?Uc:"#D1D5DB"})]},P.id)})})]},E.id)})})})]}),l&&n.jsxs("div",{style:{width:"360px",backgroundColor:"#fff",borderLeft:"1px solid #E5E7EB",display:"flex",flexDirection:"column",overflow:"hidden",flexShrink:0},children:[n.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:800,color:"#374151",fontFamily:"monospace"},children:l.numero}),n.jsx("button",{onClick:()=>c(null),style:{border:"none",background:"none",cursor:"pointer",color:"#9CA3AF",fontSize:"18px",lineHeight:1,padding:"2px"},children:""})]}),n.jsx(Ik,{estado:l.estado}),n.jsx("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"6px"},children:[["Carrier",l.carrier],["Tramo",Bk[l.tramo].label],["Origen",l.origen],["Destino",l.destino],["Destinatario",l.destinatario],["Peso",`${l.peso} kg  ${l.bultos} bulto${l.bultos>1?"s":""}`],["F. estimada",l.fechaEstimada],...l.tracking?[["Tracking #",l.tracking]]:[]].map(([E,T])=>n.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:[n.jsx("span",{style:{color:"#9CA3AF",width:"90px",flexShrink:0},children:E}),n.jsx("span",{style:{color:"#111",fontWeight:500,flex:1},children:T})]},E))})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 20px"},children:[n.jsx("p",{style:{fontSize:"12px",fontWeight:700,color:"#374151",marginBottom:"14px",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Historial de seguimiento"}),n.jsx("div",{style:{position:"relative"},children:l.eventos.map((E,T)=>{const _=wy[E.estado],z=_.icon,B=T===0;return n.jsxs("div",{style:{display:"flex",gap:"12px",paddingBottom:"16px",position:"relative"},children:[T<l.eventos.length-1&&n.jsx("div",{style:{position:"absolute",left:"14px",top:"28px",bottom:0,width:"2px",backgroundColor:"#E5E7EB"}}),n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:B?_.bg:"#F3F4F6",border:`2px solid ${B?_.color:"#E5E7EB"}`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,zIndex:1},children:n.jsx(z,{size:12,color:B?_.color:"#9CA3AF"})}),n.jsxs("div",{style:{flex:1,paddingTop:"4px"},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:B?700:500,color:B?_.color:"#374151"},children:E.descripcion}),n.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"2px"},children:[E.ubicacion,"  ",E.fecha," ",E.hora]})]})]},T)})})]}),n.jsxs("div",{style:{padding:"14px 16px",borderTop:"1px solid #E5E7EB",display:"flex",gap:"8px",flexShrink:0},children:[n.jsx("button",{style:{flex:1,padding:"9px",border:`1.5px solid ${Uc}`,borderRadius:"8px",backgroundColor:"transparent",color:Uc,fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Ver tracking externo"}),l.estado==="fallido"&&n.jsx("button",{onClick:()=>S(l.id,"creado","Re-despachado despus de fallo"),style:{flex:1,padding:"9px",border:"none",borderRadius:"8px",backgroundColor:Uc,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Re-despachar"}),l.estado==="creado"&&n.jsx("button",{onClick:()=>S(l.id,"despachado","Envo despachado"),style:{flex:1,padding:"9px",border:"none",borderRadius:"8px",backgroundColor:"#2563EB",color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Despachar"})]})]})]})]})}function U5e({onNavigate:e}){const t=i=>()=>e(i),r=[{id:"envios",icon:At,onClick:t("envios"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Operativo",label:"Envos",description:"Tracking operativo rbol pedido madre  envos hijos. Acuse de recibo por transportista o destinatario.",stats:[{icon:At,value:"",label:"Activos"},{icon:Ct,value:"",label:"En trnsito"},{icon:ft,value:"",label:"Entregados"}]},{id:"transportistas",icon:Et,onClick:t("transportistas"),gradient:"linear-gradient(135deg, #0EA5E9 0%, #0369A1 100%)",color:"#0EA5E9",badge:"Carriers",label:"Transportistas",description:"Catlogo de carriers, tramos, tarifas multi-carrier local, intercity e internacional. Simulador de tarifas.",stats:[{icon:Et,value:"",label:"Carriers"},{icon:Dn,value:"",label:"Tramos"},{icon:br,value:"",label:"Zonas activas"}]},{id:"rutas",icon:ag,onClick:t("rutas"),gradient:"linear-gradient(135deg, #6366F1 0%, #4338CA 100%)",color:"#6366F1",badge:"Planificacin",label:"Rutas",description:"Gestin de rutas standard y personalizadas por proyecto. Mapa de paradas y progreso de entrega.",stats:[{icon:ag,value:"",label:"Rutas activas"},{icon:Dn,value:"",label:"Paradas"},{icon:Xt,value:"",label:"Completadas"}]},{id:"fulfillment",icon:rl,onClick:t("fulfillment"),gradient:"linear-gradient(135deg, #7C3AED 0%, #5B21B6 100%)",color:"#7C3AED",badge:"Depsito",label:"Fulfillment / Picking",description:"Wave picking, lotes de pedidos, empaque y procesamiento de rdenes en el depsito.",stats:[{icon:rl,value:"",label:"Waves"},{icon:xb,value:"",label:"En picking"},{icon:Rt,value:"",label:"Empacados"}]},{id:"produccion",icon:Rt,onClick:t("produccion"),gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#10B981",badge:"Armado  BOM",label:"Produccin / Armado",description:"rdenes de armado orientadas a ruta. BOM (Bill of Materials) para kits, canastas y combos.",stats:[{icon:Rt,value:"",label:"OA activas"},{icon:Jt,value:"",label:"Sin stock"},{icon:ft,value:"",label:"Completadas"}]},{id:"abastecimiento",icon:ir,onClick:t("abastecimiento"),gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"#F59E0B",badge:"MRP  OC",label:"Abastecimiento",description:"OC automticas por faltantes de stock. MRP para clculo de componentes necesarios por proyecto.",stats:[{icon:Jt,value:"",label:"Alertas crticas"},{icon:ir,value:"",label:"OC sugeridas"},{icon:Xt,value:"",label:"Valor a reponer"}]},{id:"mapa-envios",icon:Di,onClick:t("mapa-envios"),gradient:"linear-gradient(135deg, #EC4899 0%, #BE185D 100%)",color:"#EC4899",badge:"Geogrfico",label:"Mapa de Envos",description:"Vista geogrfica de envos activos por ruta y estado. Mapa interactivo con marcadores en tiempo real.",stats:[{icon:Dn,value:"",label:"En mapa"},{icon:At,value:"",label:"Por ruta"},{icon:Di,value:"",label:"En camino"}]},{id:"tracking-publico",icon:ft,onClick:t("tracking-publico"),gradient:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"#059669",badge:"Pblico",label:"Tracking Pblico",description:"Pgina pblica de seguimiento. Destinatarios rastrean su envo sin login, con timeline y notificaciones.",stats:[{icon:Et,value:"",label:"Consultas"},{icon:hn,value:"",label:"Satisfaccin"},{icon:ft,value:"",label:"Entregados"}]}],o=[{icon:Xt,label:"Optimizador IA",desc:"Optimizacin de rutas con inteligencia artificial"},{icon:br,label:"Prediccin demanda",desc:"Forecasting de pedidos por temporada"},{icon:Dn,label:"GPS de flota",desc:"Integracin con GPS de transportistas"},{icon:Ct,label:"Notif. push",desc:"Notificaciones push al destinatario en tiempo real"}];return n.jsx(vc,{hubIcon:At,title:"Logstica",subtitle:"Rutas  Envos  Transportistas  Produccin  Abastecimiento",sections:[{cards:r}],comingSoon:o,comingSoonText:"Optimizador de rutas con IA, prediccin de demanda, integracin con GPS de flota y notificaciones push al destinatario."})}const E6=`https://${Pr}.supabase.co/functions/v1/api/etiquetas`,C6={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function q5e(e){try{return await(await fetch(`${E6}${e}`,{headers:C6})).json()}catch(t){return console.error(`Etiquetas API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function H5e(e,t){try{return await(await fetch(`${E6}${e}`,{method:"POST",headers:C6,body:t?JSON.stringify(t):void 0})).json()}catch(r){return console.error(`Etiquetas API POST ${e}:`,r),{ok:!1,error:String(r)}}}async function G5e(e){try{return await(await fetch(`${E6}${e}`,{method:"DELETE",headers:C6})).json()}catch(t){return console.error(`Etiquetas API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function K5e(){const e=await q5e("");return!e.ok||!e.data?[]:Array.isArray(e.data)?e.data:[]}async function Y5e(e){const t=await H5e("",e);return!t.ok||!t.data?null:t.data}async function X5e(e){return(await G5e(`/${e}`)).ok}const Dr="#FF6835",qG=[{id:"gift",Icon:fp,label:"Regalo",cat:"general"},{id:"heart",Icon:zd,label:"Afecto",cat:"general"},{id:"star",Icon:hn,label:"Celebracin",cat:"general"},{id:"sparkles",Icon:ns,label:"Especial",cat:"general"},{id:"smile",Icon:C8,label:"Amistad",cat:"general"},{id:"award",Icon:Ry,label:"Logro",cat:"corporativo"},{id:"home",Icon:yb,label:"Hogar",cat:"corporativo"},{id:"coffee",Icon:WL,label:"Casual",cat:"general"},{id:"wine",Icon:tW,label:"Gourmet",cat:"canastas"},{id:"package",Icon:Rt,label:"Canasta",cat:"canastas"},{id:"flower",Icon:qL,label:"Natural",cat:"canastas"},{id:"treepine",Icon:eW,label:"Navidad",cat:"fiestas"},{id:"cake",Icon:NL,label:"Cumpleaos",cat:"fiestas"},{id:"sun",Icon:ZL,label:"Verano",cat:"fiestas"},{id:"music",Icon:XL,label:"Fiesta",cat:"fiestas"},{id:"send",Icon:Aa,label:"Corporativo",cat:"corporativo"}],X$={navidad:["{name}, que esta Navidad llegue cargada de todo lo que merecs. Con cario, {remitente}","{name}, te enviamos este regalo con mucha gratitud. Felices Fiestas para vos y tu familia! {remitente}","{name}, gracias por ser parte de este ao especial. Que la magia de las fiestas ilumine tu hogar. {remitente}"],cumpleanos:["{name}, Feliz cumpleaos! Este regalo viene con todo el cario y los mejores deseos. {remitente}","{name}, hoy es tu da y queremos celebrarlo con vos. Que sea un ao lleno de logros! {remitente}","{name}, los aos te sientan de maravilla. Feliz cumpleaos con todo nuestro afecto! {remitente}"],agradecimiento:["{name}, gracias por tu confianza y apoyo. Este detalle es una muestra de todo lo que significs para nosotros. {remitente}","{name}, trabajar con vos es un genuino placer. Gracias por este ao compartido. {remitente}","{name}, tu apoyo hace la diferencia. Recib este regalo como smbolo de nuestra gratitud. {remitente}"],corporativo:["{name}, en nombre de todo el equipo, gracias por este ao. Seguimos construyendo juntos. {remitente}","{name}, valoramos enormemente tu relacin con nosotros. Que este detalle refleje nuestra estima. {remitente}","{name}, la confianza que depositaste en nosotros nos impulsa cada da. Muchas gracias. {remitente}"],general:["{name}, pensamos en vos al preparar este envo. Esperamos que lo disfrutes. {remitente}","{name}, con mucho cario para vos. Que llegue con toda la buena onda. {remitente}","{name}, este paquete viene cargado de cario genuino. Que lo disfrutes! {remitente}"]},Ix=[{id:"general",label:"General"},{id:"navidad",label:"Navidad / Fiestas"},{id:"cumpleanos",label:"Cumpleaos"},{id:"agradecimiento",label:"Agradecimiento"},{id:"corporativo",label:"Corporativo"}],G1=[{id:"etiqueta",label:"Etiqueta Trmica",desc:"100150 mm  Impresin B&N",icon:Mi},{id:"tarjeta",label:"Tarjeta / PDF",desc:"A6 color  Para imprimir",icon:Ht},{id:"embebido",label:"QR Embebido",desc:"Solo el cdigo para imprenta",icon:Ro}],K1={pendiente:{label:"Sin escanear",color:"#D97706",bg:"#FFFBEB",icon:Ct},escaneada:{label:"Escaneada",color:"#2563EB",bg:"#EFF6FF",icon:yr},respondida:{label:"Respondida",color:"#059669",bg:"#F0FDF4",icon:ft}};function ep(e){return new Date(e).toLocaleDateString("es-UY",{day:"2-digit",month:"short",year:"numeric"})}function J5e(e,t,r){return e.replace(/{name}/g,t||"destinatario").replace(/{remitente}/g,r||"Remitente")}function k6({id:e,size:t=24,color:r="#111",strokeWidth:o=1.8}){const i=qG.find(s=>s.id===e);if(!i)return n.jsx(fp,{size:t,color:r,strokeWidth:o});const{Icon:a}=i;return n.jsx(a,{size:t,color:r,strokeWidth:o})}function Q5e({onNavigate:e}){const[t,r]=A.useState("resumen"),[o,i]=A.useState([]),[a,s]=A.useState(!0),[l,c]=A.useState(null),d=A.useCallback(async()=>{s(!0);try{const m=await K5e();i(m)}catch{ke.error("Error cargando etiquetas")}finally{s(!1)}},[]);A.useEffect(()=>{d()},[d]);const f=m=>{i(y=>[m,...y]),r("etiquetas"),ke.success(`Etiqueta ${m.token} creada correctamente`)},p=async m=>{if(confirm(`Eliminar etiqueta ${m}?`))try{if(!await X5e(m))throw new Error("No se pudo eliminar");i(b=>b.filter(v=>v.token!==m)),ke.success("Etiqueta eliminada")}catch{ke.error("Error eliminando etiqueta")}},h={total:o.length,escaneadas:o.filter(m=>m.estado!=="pendiente").length,respondidas:o.filter(m=>m.estado==="respondida").length,optins:o.filter(m=>m.optin_contacto).length},x=[{id:"resumen",label:"Resumen"},{id:"etiquetas",label:"Mis Etiquetas"},{id:"nueva",label:"+ Nueva Etiqueta"}];return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Ro,title:"Etiqueta Emotiva",subtitle:"Mensajes personalizados con QR para tus envos",actions:[{label:" Marketing",onClick:()=>e("marketing")},{label:"Nueva Etiqueta",primary:!0,onClick:()=>r("nueva")}]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",padding:"0 28px",flexShrink:0},children:[x.map(m=>{const y=t===m.id;return n.jsx("button",{onClick:()=>r(m.id),style:{padding:"14px 20px",border:"none",borderBottom:`3px solid ${y?Dr:"transparent"}`,backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",fontWeight:y?700:500,color:y?Dr:"#555",transition:"all 0.15s"},children:m.label},m.id)}),n.jsx("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"8px",padding:"0 0 0 16px"},children:n.jsx("button",{onClick:d,style:{padding:"6px",border:"none",background:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(_t,{size:15})})})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:[t==="resumen"&&n.jsx(Z5e,{etiquetas:o,kpis:h,loading:a,onVerDetalle:c,onNueva:()=>r("nueva")}),t==="etiquetas"&&n.jsx(t8e,{etiquetas:o,loading:a,onDelete:p,onVerDetalle:c}),t==="nueva"&&n.jsx(r8e,{onCreated:f,onCancel:()=>r("resumen")})]}),l&&n.jsx(s8e,{etiqueta:l,onClose:()=>c(null)})]})}function Z5e({etiquetas:e,kpis:t,loading:r,onVerDetalle:o,onNueva:i}){const a=e.slice(0,6);return n.jsxs("div",{style:{padding:"28px"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"28px"},children:[{label:"Total enviadas",value:t.total,color:Dr,Icon:Ro},{label:"Escaneadas",value:t.escaneadas,color:"#2563EB",Icon:yr},{label:"Respondidas",value:t.respondidas,color:"#059669",Icon:dc},{label:"Opt-ins capturados",value:t.optins,color:"#8B5CF6",Icon:So}].map(s=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"20px",display:"flex",gap:"14px",alignItems:"center"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:s.color+"18",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(s.Icon,{size:20,color:s.color,strokeWidth:2})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"28px",fontWeight:800,color:"#111",lineHeight:1},children:s.value}),n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:s.label})]})]},s.label))}),t.total>0&&n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"20px",marginBottom:"24px",display:"flex",gap:"32px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:"Tasa de escaneo"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"160px",height:"8px",backgroundColor:"#F0F0F0",borderRadius:"4px"},children:n.jsx("div",{style:{height:"100%",borderRadius:"4px",backgroundColor:"#2563EB",width:`${Math.round(t.escaneadas/t.total*100)}%`}})}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:700,color:"#2563EB"},children:[Math.round(t.escaneadas/t.total*100),"%"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:"Tasa de respuesta"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"160px",height:"8px",backgroundColor:"#F0F0F0",borderRadius:"4px"},children:n.jsx("div",{style:{height:"100%",borderRadius:"4px",backgroundColor:"#059669",width:`${Math.round(t.respondidas/t.total*100)}%`}})}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:700,color:"#059669"},children:[Math.round(t.respondidas/t.total*100),"%"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:"Opt-in contacto"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"160px",height:"8px",backgroundColor:"#F0F0F0",borderRadius:"4px"},children:n.jsx("div",{style:{height:"100%",borderRadius:"4px",backgroundColor:"#8B5CF6",width:`${Math.round(t.optins/t.total*100)}%`}})}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:700,color:"#8B5CF6"},children:[Math.round(t.optins/t.total*100),"%"]})]})]})]}),n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:n.jsx("h2",{style:{margin:0,fontSize:"15px",fontWeight:800,color:"#111"},children:"Recientes"})}),r?n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#9CA3AF"},children:"Cargando..."}):a.length===0?n.jsx(l8e,{onNueva:i}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:a.map(s=>n.jsx(e8e,{etiqueta:s,onVer:o},s.token))})]})}function e8e({etiqueta:e,onVer:t}){const r=K1[e.estado],o=r.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"18px",cursor:"pointer",transition:"all 0.15s"},onClick:()=>t(e),onMouseEnter:i=>{i.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",i.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:i=>{i.currentTarget.style.boxShadow="none",i.currentTarget.style.transform="none"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(k6,{id:e.icono,size:20,color:Dr})}),n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"3px 9px",borderRadius:"20px",fontSize:"11px",fontWeight:700,color:r.color,backgroundColor:r.bg},children:[n.jsx(o,{size:11}),r.label]})]}),n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:Dr,marginBottom:"2px"},children:e.token}),n.jsxs("div",{style:{fontSize:"13px",fontWeight:600,color:"#111",marginBottom:"4px"},children:["Para: ",e.destinatario_nombre]}),n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.mensaje}),e.respuesta&&n.jsxs("div",{style:{marginTop:"10px",padding:"8px 12px",backgroundColor:"#F0FDF4",borderRadius:"8px",border:"1px solid #BBF7D0"},children:[n.jsx("div",{style:{fontSize:"11px",fontWeight:700,color:"#059669",marginBottom:"2px"},children:" Respuesta recibida"}),n.jsx("div",{style:{fontSize:"11px",color:"#374151"},children:e.respuesta})]}),n.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"10px"},children:ep(e.created_at)})]})}function t8e({etiquetas:e,loading:t,onDelete:r,onVerDetalle:o}){const[i,a]=A.useState("todos"),s=i==="todos"?e:e.filter(l=>l.estado===i);return n.jsxs("div",{style:{padding:"28px"},children:[n.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:["todos","pendiente","escaneada","respondida"].map(l=>n.jsxs("button",{onClick:()=>a(l),style:{padding:"7px 16px",border:`1.5px solid ${i===l?Dr:"#E0E0E0"}`,borderRadius:"8px",backgroundColor:i===l?"#FFF4EC":"#fff",color:i===l?Dr:"#555",cursor:"pointer",fontSize:"13px",fontWeight:i===l?700:500},children:[l==="todos"?"Todas":K1[l].label," ","(",l==="todos"?e.length:e.filter(c=>c.estado===l).length,")"]},l))}),t?n.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#9CA3AF"},children:"Cargando..."}):s.length===0?n.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#9CA3AF",fontSize:"14px"},children:"No hay etiquetas con ese filtro"}):n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1.5px solid #E5E7EB"},children:["Token","Remitente  Destinatario","Ocasin","Mensaje","Estado","Creada","QR",""].map(l=>n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280",whiteSpace:"nowrap"},children:l},l))})}),n.jsx("tbody",{children:s.map((l,c)=>{var p;const d=K1[l.estado],f=d.icon;return n.jsxs("tr",{style:{borderBottom:c<s.length-1?"1px solid #F3F4F6":"none",cursor:"pointer"},onMouseEnter:h=>h.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:h=>h.currentTarget.style.backgroundColor="transparent",children:[n.jsx("td",{style:{padding:"14px",fontWeight:700,fontSize:"13px",color:Dr},onClick:()=>o(l),children:l.token}),n.jsxs("td",{style:{padding:"14px"},onClick:()=>o(l),children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#111"},children:l.remitente_nombre}),n.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[" ",l.destinatario_nombre]})]}),n.jsx("td",{style:{padding:"14px",fontSize:"12px",color:"#555",textTransform:"capitalize"},onClick:()=>o(l),children:((p=Ix.find(h=>h.id===l.ocasion))==null?void 0:p.label)||l.ocasion}),n.jsx("td",{style:{padding:"14px",maxWidth:"200px"},onClick:()=>o(l),children:n.jsx("div",{style:{fontSize:"12px",color:"#374151",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:l.mensaje})}),n.jsx("td",{style:{padding:"14px"},onClick:()=>o(l),children:n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"20px",fontSize:"11px",fontWeight:700,color:d.color,backgroundColor:d.bg},children:[n.jsx(f,{size:11}),d.label]})}),n.jsx("td",{style:{padding:"14px",fontSize:"12px",color:"#9CA3AF",whiteSpace:"nowrap"},onClick:()=>o(l),children:ep(l.created_at)}),n.jsx("td",{style:{padding:"14px"},children:n.jsx(ov,{value:`${window.location.origin}/m/${l.token}`,options:{size:48,margin:1},style:{borderRadius:"4px"}})}),n.jsx("td",{style:{padding:"14px"},children:n.jsx("button",{onClick:()=>r(l.token),style:{width:30,height:30,borderRadius:"8px",border:"1px solid #FEE2E2",backgroundColor:"#FFF5F5",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xr,{size:13,color:"#EF4444"})})})]},l.token)})})]})})]})}function r8e({onCreated:e,onCancel:t}){const[r,o]=A.useState(1),[i,a]=A.useState(!1),[s,l]=A.useState({envio_numero:"",remitente_nombre:"",destinatario_nombre:"",destinatario_email:"",destinatario_tel:"",ocasion:"general",mensaje:"",icono:"gift",formato:"etiqueta"}),c=(x,m)=>l(y=>({...y,[x]:m})),d=(X$[s.ocasion]||X$.general).map(x=>J5e(x,s.destinatario_nombre,s.remitente_nombre)),f={1:!!(s.remitente_nombre&&s.destinatario_nombre),2:!!s.mensaje,3:!!(s.icono&&s.formato),4:!0},p=async()=>{a(!0);try{const x=await Y5e(s);if(!x)throw new Error("No se pudo crear la etiqueta");e(x)}catch(x){ke.error(`Error al crear etiqueta: ${x}`)}finally{a(!1)}},h=["Destinatario","Mensaje","Visual","Vista previa"];return n.jsxs("div",{style:{padding:"28px",maxWidth:"820px",margin:"0 auto"},children:[n.jsx("div",{style:{marginBottom:"32px"},children:n.jsx("div",{style:{display:"flex",gap:"0"},children:h.map((x,m)=>{const y=m+1,b=r>y,v=r===y;return n.jsxs(Y.Fragment,{children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",flex:1},children:[n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:b?"#059669":v?Dr:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:b?n.jsx(ft,{size:18,color:"#fff"}):n.jsx("span",{style:{fontSize:"14px",fontWeight:700,color:v?"#fff":"#9CA3AF"},children:y})}),n.jsx("span",{style:{fontSize:"12px",fontWeight:v?700:500,color:v?Dr:b?"#059669":"#9CA3AF"},children:x})]}),m<h.length-1&&n.jsx("div",{style:{flex:1,height:"2px",marginTop:"17px",backgroundColor:b?"#059669":"#E5E7EB",transition:"all 0.2s"}})]},x)})})}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",padding:"32px",marginBottom:"24px"},children:[r===1&&n.jsx(n8e,{form:s,set:c}),r===2&&n.jsx(o8e,{form:s,set:c,sugerencias:d}),r===3&&n.jsx(i8e,{form:s,set:c}),r===4&&n.jsx(a8e,{form:s,saving:i,onSave:p})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsxs("button",{onClick:r===1?t:()=>o(r-1),style:{display:"flex",alignItems:"center",gap:"6px",padding:"11px 20px",border:"1.5px solid #E0E0E0",borderRadius:"10px",backgroundColor:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:600,color:"#555"},children:[n.jsx(f8,{size:15})," ",r===1?"Cancelar":"Anterior"]}),r<4?n.jsxs("button",{onClick:()=>o(r+1),disabled:!f[r],style:{display:"flex",alignItems:"center",gap:"6px",padding:"11px 24px",border:"none",borderRadius:"10px",backgroundColor:f[r]?Dr:"#E5E7EB",color:f[r]?"#fff":"#9CA3AF",cursor:f[r]?"pointer":"default",fontSize:"14px",fontWeight:700},children:["Siguiente ",n.jsx(rc,{size:15})]}):n.jsx("button",{onClick:p,disabled:i,style:{display:"flex",alignItems:"center",gap:"6px",padding:"11px 28px",border:"none",borderRadius:"10px",backgroundColor:i?"#E5E7EB":Dr,color:i?"#9CA3AF":"#fff",cursor:i?"default":"pointer",fontSize:"14px",fontWeight:700},children:i?"Guardando...":n.jsxs(n.Fragment,{children:[n.jsx(ft,{size:16})," Crear Etiqueta"]})})]})]})}function n8e({form:e,set:t}){return n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 6px",fontSize:"18px",fontWeight:800,color:"#111"},children:"Para quin es?"}),n.jsx("p",{style:{margin:"0 0 24px",fontSize:"14px",color:"#6B7280"},children:"Complet los datos del remitente y destinatario"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[n.jsx(gh,{label:"Nombre del remitente *",value:e.remitente_nombre,onChange:r=>t("remitente_nombre",r),placeholder:"Ej: Charlie, Mara Garca..."}),n.jsx(gh,{label:"N de envo (opcional)",value:e.envio_numero,onChange:r=>t("envio_numero",r),placeholder:"Ej: PEDX15000-ENV001"}),n.jsx(gh,{label:"Nombre del destinatario *",value:e.destinatario_nombre,onChange:r=>t("destinatario_nombre",r),placeholder:"Ej: Sonnet, Pedro Lpez..."}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"6px"},children:"Ocasin"}),n.jsx("select",{value:e.ocasion,onChange:r=>t("ocasion",r.target.value),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #E5E7EB",borderRadius:"10px",fontSize:"14px",color:"#111",backgroundColor:"#fff",outline:"none"},children:Ix.map(r=>n.jsx("option",{value:r.id,children:r.label},r.id))})]}),n.jsx(gh,{label:"Email del destinatario (opcional)",value:e.destinatario_email,onChange:r=>t("destinatario_email",r),placeholder:"ejemplo@email.com",type:"email"}),n.jsx(gh,{label:"Celular del destinatario (opcional)",value:e.destinatario_tel,onChange:r=>t("destinatario_tel",r),placeholder:"+598 99 123 456"})]})]})}function o8e({form:e,set:t,sugerencias:r}){var o;return n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 6px",fontSize:"18px",fontWeight:800,color:"#111"},children:"El mensaje"}),n.jsx("p",{style:{margin:"0 0 20px",fontSize:"14px",color:"#6B7280"},children:"Eleg una sugerencia y editala como quieras, o escrib uno propio"}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsxs("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"10px"},children:[' Sugerencias para "',(o=Ix.find(i=>i.id===e.ocasion))==null?void 0:o.label,'"']}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:r.map((i,a)=>{const s=e.mensaje===i;return n.jsxs("button",{onClick:()=>t("mensaje",i),style:{padding:"14px 16px",border:`2px solid ${s?Dr:"#E5E7EB"}`,borderRadius:"12px",backgroundColor:s?"#FFF4EC":"#FAFAFA",cursor:"pointer",textAlign:"left",fontSize:"13px",color:"#374151",lineHeight:"1.55",transition:"all 0.15s",fontFamily:"inherit"},children:[n.jsxs("span",{style:{fontWeight:700,color:s?Dr:"#9CA3AF",marginRight:"8px"},children:[a+1,"."]}),i]},a)})})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"6px"},children:["Tu mensaje ",e.mensaje&&"(edit libremente)"]}),n.jsx("textarea",{value:e.mensaje,onChange:i=>t("mensaje",i.target.value),placeholder:"Escrib tu mensaje personalizado...",rows:4,style:{width:"100%",padding:"12px 14px",border:`1.5px solid ${e.mensaje?Dr:"#E5E7EB"}`,borderRadius:"10px",fontSize:"14px",color:"#111",resize:"vertical",outline:"none",fontFamily:"inherit",lineHeight:"1.55",boxSizing:"border-box",transition:"border-color 0.15s"}}),n.jsxs("div",{style:{fontSize:"12px",color:"#9CA3AF",marginTop:"4px",textAlign:"right"},children:[e.mensaje.length," caracteres"]})]})]})}function i8e({form:e,set:t}){return n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 6px",fontSize:"18px",fontWeight:800,color:"#111"},children:"Visual e impresin"}),n.jsx("p",{style:{margin:"0 0 20px",fontSize:"14px",color:"#6B7280"},children:"Eleg un cono para la etiqueta (optimizados para impresin trmica B&N)"}),n.jsxs("div",{style:{marginBottom:"28px"},children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"10px"},children:"cono"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:"10px"},children:qG.map(({id:r,Icon:o,label:i})=>{const a=e.icono===r;return n.jsxs("button",{onClick:()=>t("icono",r),title:i,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"10px 8px",border:`2px solid ${a?Dr:"#E5E7EB"}`,borderRadius:"12px",backgroundColor:a?"#FFF4EC":"#FAFAFA",cursor:"pointer",transition:"all 0.15s"},children:[n.jsx(o,{size:24,color:a?Dr:"#6B7280",strokeWidth:1.8}),n.jsx("span",{style:{fontSize:"10px",color:a?Dr:"#9CA3AF",fontWeight:a?700:500},children:i})]},r)})})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"10px"},children:"Formato de salida"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:G1.map(r=>{const o=e.formato===r.id,i=r.icon;return n.jsxs("button",{onClick:()=>t("formato",r.id),style:{padding:"18px",border:`2px solid ${o?Dr:"#E5E7EB"}`,borderRadius:"14px",backgroundColor:o?"#FFF4EC":"#FAFAFA",cursor:"pointer",textAlign:"left",transition:"all 0.15s"},children:[n.jsx(i,{size:22,color:o?Dr:"#9CA3AF",strokeWidth:1.8,style:{marginBottom:"10px"}}),n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:o?Dr:"#111"},children:r.label}),n.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"3px"},children:r.desc})]},r.id)})})]})]})}function a8e({form:e,saving:t,onSave:r}){var o,i,a;return n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 6px",fontSize:"18px",fontWeight:800,color:"#111"},children:"Vista previa"}),n.jsx("p",{style:{margin:"0 0 24px",fontSize:"14px",color:"#6B7280"},children:"As ver tu etiqueta. Al guardar se genera el QR nico."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"28px",alignItems:"start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"10px"},children:(o=G1.find(s=>s.id===e.formato))==null?void 0:o.label}),n.jsx(HG,{form:e})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"10px"},children:"Resumen"}),n.jsx("div",{style:{backgroundColor:"#F9FAFB",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px",display:"flex",flexDirection:"column",gap:"10px"},children:[{label:"Remitente",value:e.remitente_nombre},{label:"Destinatario",value:e.destinatario_nombre},{label:"Ocasin",value:(i=Ix.find(s=>s.id===e.ocasion))==null?void 0:i.label},{label:"Formato",value:(a=G1.find(s=>s.id===e.formato))==null?void 0:a.label},{label:"Envo",value:e.envio_numero||" sin vincular"}].map(s=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:s.label}),n.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#111"},children:s.value})]},s.label))}),n.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#EFF6FF",borderRadius:"10px",border:"1px solid #BFDBFE"},children:[n.jsx("div",{style:{fontSize:"11px",fontWeight:700,color:"#2563EB",marginBottom:"3px"},children:" URL del mensaje"}),n.jsxs("div",{style:{fontSize:"11px",color:"#3B82F6",fontFamily:"monospace"},children:[window.location.origin,"/m/",n.jsx("strong",{children:"[token nico]"})]})]})]})]})]})}function HG({form:e,token:t}){return n.jsxs("div",{style:{border:"2px solid #111",borderRadius:"10px",padding:"20px",backgroundColor:"#fff",maxWidth:"280px",position:"relative"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"14px",paddingBottom:"12px",borderBottom:"1px dashed #ccc"},children:[n.jsx(k6,{id:e.icono,size:28,color:"#111",strokeWidth:2}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"9px",fontWeight:700,letterSpacing:"0.08em",color:"#555"},children:"CHARLIE MARKETPLACE"}),n.jsx("div",{style:{fontSize:"11px",fontWeight:800,color:"#111"},children:"ETIQUETA EMOTIVA"})]})]}),n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("div",{style:{fontSize:"9px",color:"#888",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.06em"},children:"Para"}),n.jsx("div",{style:{fontSize:"15px",fontWeight:800,color:"#111"},children:e.destinatario_nombre||"Destinatario"})]}),n.jsxs("div",{style:{fontSize:"11px",color:"#333",lineHeight:"1.5",marginBottom:"14px",paddingBottom:"12px",borderBottom:"1px dashed #ccc",fontStyle:"italic"},children:['"',e.mensaje?e.mensaje.length>80?e.mensaje.slice(0,80)+"...":e.mensaje:"Tu mensaje aparecer aqu...",'"']}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t?n.jsx(ov,{value:`${window.location.origin}/m/${t}`,options:{size:60,margin:1},style:{borderRadius:"6px"}}):n.jsx("div",{style:{width:60,height:60,border:"2px dashed #ccc",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ro,{size:24,color:"#ccc"})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"9px",fontWeight:700,color:"#555",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Escaneame"}),n.jsx("div",{style:{fontSize:"9px",color:"#888",lineHeight:1.4},children:"Tengo un mensaje especial para vos"}),t&&n.jsx("div",{style:{fontSize:"9px",color:"#888",fontFamily:"monospace",marginTop:"2px"},children:t})]})]})]})}function s8e({etiqueta:e,onClose:t}){var s,l;const r=K1[e.estado],o=r.icon,i=`${window.location.origin}/m/${e.token}`,a=()=>{navigator.clipboard.writeText(i),ke.success("Link copiado")};return n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"20px",width:"100%",maxWidth:"700px",maxHeight:"90vh",overflowY:"auto",padding:"32px",position:"relative"},children:[n.jsx("button",{onClick:t,style:{position:"absolute",top:"20px",right:"20px",width:"32px",height:"32px",borderRadius:"50%",border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ut,{size:16,color:"#6B7280"})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(k6,{id:e.icono,size:24,color:Dr})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:800,fontSize:"20px",color:"#111"},children:e.token}),n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"3px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:700,color:r.color,backgroundColor:r.bg,marginTop:"4px"},children:[n.jsx(o,{size:12}),r.label]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"12px"},children:"Datos"}),[{label:"Remitente",value:e.remitente_nombre},{label:"Destinatario",value:e.destinatario_nombre},{label:"Email",value:e.destinatario_email||""},{label:"Telfono",value:e.destinatario_tel||""},{label:"Ocasin",value:((s=Ix.find(c=>c.id===e.ocasion))==null?void 0:s.label)||e.ocasion},{label:"Formato",value:((l=G1.find(c=>c.id===e.formato))==null?void 0:l.label)||e.formato},{label:"Envo",value:e.envio_numero||" sin vincular"},{label:"Creada",value:ep(e.created_at)}].map(c=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #F3F4F6"},children:[n.jsx("span",{style:{fontSize:"13px",color:"#6B7280"},children:c.label}),n.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#111"},children:c.value})]},c.label)),n.jsx("div",{style:{marginTop:"16px",fontWeight:700,fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"10px"},children:"Tracking"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[n.jsx(Ok,{done:!0,icon:Ro,label:"Etiqueta creada",time:ep(e.created_at)}),n.jsx(Ok,{done:e.estado!=="pendiente",icon:yr,label:"Escaneada",time:e.scanned_at?ep(e.scanned_at):void 0}),n.jsx(Ok,{done:e.estado==="respondida",icon:dc,label:"Respondida",time:e.respondida_at?ep(e.respondida_at):void 0})]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"12px"},children:"QR Code"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[n.jsx(ov,{value:`${window.location.origin}/m/${e.token}`,options:{size:160,margin:2},style:{borderRadius:"10px",border:"1px solid #E5E7EB"}}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsxs("button",{onClick:a,style:{display:"flex",alignItems:"center",gap:"5px",padding:"7px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:600,color:"#555"},children:[n.jsx(ho,{size:13})," Copiar link"]}),n.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"5px",padding:"7px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:600,color:"#555",textDecoration:"none"},children:[n.jsx(gn,{size:13})," Ver pgina"]})]}),n.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",fontFamily:"monospace",textAlign:"center"},children:i})]}),n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"8px"},children:"Mensaje"}),n.jsxs("div",{style:{backgroundColor:"#FFFBEB",borderRadius:"10px",border:"1px solid #FEF3C7",padding:"14px",fontSize:"13px",color:"#374151",lineHeight:"1.6",fontStyle:"italic"},children:['"',e.mensaje,'"']}),e.respuesta&&n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsxs("div",{style:{fontWeight:700,fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"8px"},children:["Respuesta de ",e.respuesta_nombre]}),n.jsxs("div",{style:{backgroundColor:"#F0FDF4",borderRadius:"10px",border:"1px solid #BBF7D0",padding:"14px",fontSize:"13px",color:"#374151",lineHeight:"1.6"},children:['"',e.respuesta,'"']}),e.optin_contacto&&n.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#059669",fontWeight:600},children:[" Opt-in capturado: ",e.optin_contacto]})]})]})]}),n.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"16px"},children:"Etiqueta"}),n.jsx(HG,{form:e,token:e.token})]})]})})}function Ok({done:e,icon:t,label:r,time:o}){return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",opacity:e?1:.4},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:e?"#F0FDF4":"#F9FAFB",border:`1.5px solid ${e?"#10B981":"#E5E7EB"}`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(t,{size:13,color:e?"#059669":"#9CA3AF",strokeWidth:2})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:e?"#111":"#9CA3AF"},children:r}),o&&n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF",marginLeft:"8px"},children:o})]})]})}function gh({label:e,value:t,onChange:r,placeholder:o,type:i="text"}){return n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"6px"},children:e}),n.jsx("input",{type:i,value:t,onChange:a=>r(a.target.value),placeholder:o,style:{width:"100%",padding:"10px 14px",border:"1.5px solid #E5E7EB",borderRadius:"10px",fontSize:"14px",color:"#111",outline:"none",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.15s"},onFocus:a=>a.target.style.borderColor=Dr,onBlur:a=>a.target.style.borderColor="#E5E7EB"})]})}function l8e({onNueva:e}){return n.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"20px",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:n.jsx(zd,{size:28,color:Dr,strokeWidth:1.5})}),n.jsx("div",{style:{fontWeight:800,fontSize:"18px",color:"#111",marginBottom:"8px"},children:"Todava no hay etiquetas"}),n.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"24px"},children:"Cre tu primera Etiqueta Emotiva y hac que cada envo cuente"}),n.jsxs("button",{onClick:e,style:{padding:"12px 24px",backgroundColor:Dr,color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:700,display:"inline-flex",alignItems:"center",gap:"8px"},children:[n.jsx(Nt,{size:16})," Nueva Etiqueta"]})]})}const GG=`https://${Pr}.supabase.co/functions/v1/api/transportistas`,KG={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function J$(){const t=await(await fetch(`${GG}`,{headers:KG})).json();if(t.error)throw new Error(t.error);return t.data||[]}async function c8e(e){const r=await(await fetch(`${GG}/${e}/tramos`,{headers:KG})).json();if(r.error)throw new Error(r.error);return r.data||[]}const Ya="#FF6835",Q$={local:{label:"Local",color:"#059669",bg:"#ECFDF5"},nacional:{label:"Nacional",color:"#2563EB",bg:"#EFF6FF"},intercity:{label:"Intercity",color:"#7C3AED",bg:"#F5F3FF"},internacional:{label:"Internacional",color:"#D97706",bg:"#FFFBEB"}};function d8e({n:e}){return n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"2px"},children:[[1,2,3,4,5].map(t=>n.jsx(hn,{size:11,color:t<=Math.round(e)?"#F59E0B":"#E5E7EB",fill:t<=Math.round(e)?"#F59E0B":"none"},t)),n.jsx("span",{style:{fontSize:"11px",color:"#6B7280",marginLeft:"3px"},children:e})]})}function u8e({onNavigate:e}){const[t,r]=A.useState("transportistas"),[o,i]=A.useState(""),[a,s]=A.useState(null),[l,c]=A.useState([]),[d,f]=A.useState([]),[p,h]=A.useState(!1),[x,m]=A.useState(null);A.useEffect(()=>{y()},[]);const y=async()=>{h(!0),m(null);try{const[F,w]=await Promise.all([J$(),Promise.all((await J$()).map(_=>c8e(_.id))).then(_=>_.flat())]),k=F.map(_=>({id:_.id,nombre:_.nombre,tipo:_.tipo,logo:_.logo,contacto:_.contacto,email:_.email,telefono:_.telefono,rating:_.rating||0,enviosActivos:_.envios_activos||0,enviosTotales:_.envios_totales||0,activo:_.activo??_.estado==="activo",tiempoPromedio:_.tiempo_promedio,cobertura:Array.isArray(_.cobertura)?_.cobertura:[]})),E=new Map(F.map(_=>[_.id,_])),T=w.map(_=>{var z;return{id:_.id,carrierId:_.transportista_id,carrier:((z=E.get(_.transportista_id))==null?void 0:z.nombre)||"",origen:_.origen,destino:_.destino,tipo:_.tipo,tiempoEstimado:_.tiempo_estimado,tarifaBase:_.tarifa_base,tarifaKg:_.tarifa_kg,activo:_.activo??_.estado==="activo"}});c(k),f(T)}catch(F){m(F instanceof Error?F.message:"Error cargando datos"),console.error("Error cargando transportistas:",F)}finally{h(!1)}},b=l.filter(F=>F.activo).length,v=l.reduce((F,w)=>F+(w.enviosActivos||0),0),C=l.filter(F=>!o||F.nombre.toLowerCase().includes(o.toLowerCase())),S=d.filter(F=>!o||F.carrier.toLowerCase().includes(o.toLowerCase())||F.origen.toLowerCase().includes(o.toLowerCase())||F.destino.toLowerCase().includes(o.toLowerCase()));return p?n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:At,title:"Transportistas",subtitle:"Cargando...",actions:[{label:" Logstica",onClick:()=>e("logistica")}]}),n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ur,{size:32,color:Ya,style:{animation:"spin 1s linear infinite"}})})]}):x?n.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:n.jsx(Ze,{icon:At,title:"Transportistas",subtitle:`Error: ${x}`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:" Reintentar",primary:!0,onClick:y}]})}):n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:At,title:"Transportistas",subtitle:`${b} carriers activos  ${v} envos en curso`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:"+ Nuevo Carrier",primary:!0}]}),n.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"12px",padding:"20px 20px 0"},children:[{label:"Carriers Activos",value:b,icon:Et,color:Ya},{label:"Envos en curso",value:v,icon:At,color:"#2563EB"},{label:"Tramos configurados",value:d.filter(F=>F.activo).length,icon:Dn,color:"#7C3AED"},{label:"Rating promedio",value:l.length>0?(l.reduce((F,w)=>F+(w.rating||0),0)/l.length).toFixed(1)+"":"0",icon:hn,color:"#F59E0B"}].map(F=>{const w=F.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px",display:"flex",gap:"12px",alignItems:"center"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:`${F.color}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(w,{size:18,color:F.color})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"20px",fontWeight:800,color:"#111"},children:F.value}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:F.label})]})]},F.label)})}),n.jsxs("div",{style:{display:"flex",gap:"0",padding:"16px 20px 0",borderBottom:"1px solid #E5E7EB",backgroundColor:"#fff",marginTop:"16px"},children:[[["transportistas","Transportistas"],["tramos","Tramos & Zonas"],["tarifas","Simulador de Tarifas"]].map(([F,w])=>n.jsx("button",{onClick:()=>r(F),style:{padding:"10px 20px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",fontWeight:t===F?700:500,color:t===F?Ya:"#6B7280",borderBottom:t===F?`2px solid ${Ya}`:"2px solid transparent",transition:"all 0.15s"},children:w},F)),n.jsx("div",{style:{flex:1}}),n.jsxs("div",{style:{position:"relative",padding:"6px 0"},children:[n.jsx(tr,{size:13,color:"#9CA3AF",style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:o,onChange:F=>i(F.target.value),placeholder:"Buscar...",style:{paddingLeft:"30px",paddingRight:"12px",paddingTop:"7px",paddingBottom:"7px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"12px",outline:"none",width:"180px"}})]})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 20px"},children:[t==="transportistas"&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(340px,1fr))",gap:"12px"},children:[C.map(F=>{const w=Q$[F.tipo],k=(a==null?void 0:a.id)===F.id;return n.jsxs("div",{onClick:()=>s(k?null:F),style:{backgroundColor:"#fff",borderRadius:"12px",border:`1.5px solid ${k?Ya:F.activo?"#E5E7EB":"#F3F4F6"}`,padding:"18px",cursor:"pointer",opacity:F.activo?1:.6,boxShadow:k?`0 0 0 3px ${Ya}22`:"0 1px 4px rgba(0,0,0,0.04)",transition:"all 0.15s"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",flexShrink:0},children:F.logo}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"14px",fontWeight:800,color:"#111"},children:F.nombre}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:w.color,backgroundColor:w.bg,padding:"2px 7px",borderRadius:"10px"},children:w.label}),!F.activo&&n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:"#9CA3AF",backgroundColor:"#F3F4F6",padding:"2px 7px",borderRadius:"10px"},children:"Inactivo"})]}),n.jsx(d8e,{n:F.rating||0})]}),n.jsx("div",{style:{width:"36px",height:"20px",borderRadius:"10px",backgroundColor:F.activo?"#D1FAE5":"#F3F4F6",display:"flex",alignItems:"center",padding:"0 2px",cursor:"pointer",flexShrink:0,justifyContent:F.activo?"flex-end":"flex-start"},children:n.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:F.activo?"#059669":"#9CA3AF"}})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"12px"},children:[n.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:[" ",F.tiempoPromedio||""]}),n.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:[" ",F.enviosActivos||0," activos"]}),n.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:[" ",F.enviosTotales||0," totales"]}),n.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:[" ",F.telefono||""]})]}),F.cobertura&&F.cobertura.length>0&&n.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:F.cobertura.map(E=>n.jsx("span",{style:{fontSize:"10px",color:"#374151",backgroundColor:"#F3F4F6",padding:"2px 7px",borderRadius:"6px"},children:E},E))})]},F.id)}),n.jsxs("div",{style:{backgroundColor:"#FAFAFA",borderRadius:"12px",border:"2px dashed #E5E7EB",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",minHeight:"160px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Nt,{size:22,color:Ya})}),n.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:Ya},children:"Agregar Carrier"}),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF",textAlign:"center"},children:"Conectar nuevo transportista al sistema"})]})]}),t==="tramos"&&n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Carrier","Origen","Destino","Tipo","Tiempo Est.","Tarifa Base","$/Kg","Estado"].map(F=>n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontSize:"11px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #E5E7EB"},children:F},F))})}),n.jsx("tbody",{children:S.map((F,w)=>{const k=Q$[F.tipo];return n.jsxs("tr",{style:{borderBottom:w<S.length-1?"1px solid #F3F4F6":"none"},children:[n.jsx("td",{style:{padding:"12px 14px",fontSize:"13px",fontWeight:600,color:"#374151"},children:F.carrier}),n.jsx("td",{style:{padding:"12px 14px",fontSize:"12px",color:"#6B7280"},children:F.origen}),n.jsx("td",{style:{padding:"12px 14px",fontSize:"12px",color:"#374151",fontWeight:500},children:F.destino}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:k.color,backgroundColor:k.bg,padding:"3px 8px",borderRadius:"10px"},children:k.label})}),n.jsxs("td",{style:{padding:"12px 14px",fontSize:"12px",color:"#374151",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Ct,{size:11,color:"#9CA3AF"})," ",F.tiempoEstimado||""]}),n.jsxs("td",{style:{padding:"12px 14px",fontSize:"13px",fontWeight:700,color:"#111"},children:["$",(F.tarifaBase||0).toLocaleString("es-AR")]}),n.jsxs("td",{style:{padding:"12px 14px",fontSize:"12px",color:"#6B7280"},children:["$",F.tarifaKg||0,"/kg"]}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:F.activo?"#059669":"#9CA3AF",backgroundColor:F.activo?"#ECFDF5":"#F3F4F6",padding:"3px 8px",borderRadius:"10px"},children:F.activo?" Activo":" Inactivo"})})]},F.id)})})]})}),t==="tarifas"&&n.jsx("div",{style:{maxWidth:"560px"},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontSize:"15px",fontWeight:800,color:"#111"},children:"Simulador de Tarifa de Envo"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[[{label:"Peso (kg)",type:"number",placeholder:"Ej: 2.5"},{label:"Volumen (m)",type:"number",placeholder:"Ej: 0.02"},{label:"Cdigo Postal Origen",type:"text",placeholder:"Ej: C1001"},{label:"Cdigo Postal Destino",type:"text",placeholder:"Ej: 5000"}].map(F=>n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:700,color:"#374151",marginBottom:"6px"},children:F.label}),n.jsx("input",{type:F.type,placeholder:F.placeholder,style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"13px",outline:"none",boxSizing:"border-box"}})]},F.label)),n.jsx("button",{style:{marginTop:"6px",padding:"12px",border:"none",borderRadius:"10px",backgroundColor:Ya,color:"#fff",fontSize:"14px",fontWeight:700,cursor:"pointer"},children:"Calcular tarifas disponibles"})]}),n.jsxs("div",{style:{marginTop:"20px",padding:"14px",backgroundColor:"#F9FAFB",borderRadius:"10px",border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 10px",fontSize:"12px",fontWeight:700,color:"#374151"},children:"Tarifas estimadas:"}),[{carrier:"Express Delivery GBA",tiempo:"Same day",precio:1400},{carrier:"OCA",tiempo:"24-48h",precio:1680},{carrier:"Correo Argentino",tiempo:"3-4 das",precio:2450},{carrier:"Andreani",tiempo:"2-3 das",precio:2750}].map(F=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #E5E7EB"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#111"},children:F.carrier}),n.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:F.tiempo})]}),n.jsxs("div",{style:{fontSize:"14px",fontWeight:800,color:Ya},children:["$",F.precio.toLocaleString("es-AR")]})]},F.carrier))]})]})})]})]})]})}const YG=`https://${Pr}.supabase.co/functions/v1/api/rutas`,XG={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function p8e(e){try{const t=await fetch(`${YG}${e}`,{headers:XG}),r=await t.json();return t.ok?{ok:!0,data:r}:{ok:!1,error:r.error||"Error en la peticin"}}catch(t){return console.error(`Rutas API GET ${e}:`,t),{ok:!1,error:String(t)}}}async function f8e(e){try{const t=await fetch(`${YG}${e}`,{method:"DELETE",headers:XG}),r=await t.json();return t.ok?{ok:!0}:{ok:!1,error:r.error||"Error en la peticin"}}catch(t){return console.error(`Rutas API DELETE ${e}:`,t),{ok:!1,error:String(t)}}}async function h8e(e){const t=new URLSearchParams,r=await p8e(t.toString()?`?${t}`:"");return!r.ok||!r.data?[]:r.data.data||[]}async function g8e(e){return(await f8e(`/${e}`)).ok}const oa="#FF6835",I0={activa:{label:"Activa",color:"#059669",bg:"#ECFDF5"},pausada:{label:"Pausada",color:"#D97706",bg:"#FFFBEB"},planificada:{label:"Planificada",color:"#2563EB",bg:"#EFF6FF"},completada:{label:"Completada",color:"#6B7280",bg:"#F3F4F6"}};function x8e({onNavigate:e}){var C;const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(null),[l,c]=A.useState("todas"),[d,f]=A.useState(""),[p,h]=A.useState(null);A.useEffect(()=>{(async()=>{try{i(!0),s(null);const F=await h8e();r(F),F.length>0&&h(F[0])}catch(F){console.error("Error cargando rutas:",F),s(F instanceof Error?F.message:"Error cargando rutas")}finally{i(!1)}})()},[]);const x=t.filter(S=>!(l==="standard"&&S.tipo!=="standard"||l==="proyecto"&&S.tipo!=="proyecto"||d&&!S.nombre.toLowerCase().includes(d.toLowerCase())&&!S.zona.toLowerCase().includes(d.toLowerCase()))),m=t.filter(S=>S.estado==="activa").reduce((S,F)=>S+F.enviosTotales,0),y=async()=>{console.log("Crear nueva ruta")},b=async S=>{console.log("Editar ruta:",S)},v=async S=>{if(confirm("Ests seguro de eliminar esta ruta?"))try{await g8e(S),r(t.filter(F=>F.id!==S)),(p==null?void 0:p.id)===S&&h(null)}catch(F){console.error("Error eliminando ruta:",F),alert("Error al eliminar la ruta")}};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ag,title:"Rutas de Distribucin",subtitle:o?"Cargando...":a?`Error: ${a}`:`${t.filter(S=>S.estado==="activa").length} rutas activas  ${m} envos planificados`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:"+ Nueva Ruta",primary:!0,onClick:y}]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsxs("div",{style:{width:"380px",flexShrink:0,display:"flex",flexDirection:"column",borderRight:"1px solid #E5E7EB",backgroundColor:"#fff"},children:[n.jsxs("div",{style:{padding:"14px 16px",borderBottom:"1px solid #E5E7EB"},children:[n.jsxs("div",{style:{position:"relative",marginBottom:"10px"},children:[n.jsx(tr,{size:13,color:"#9CA3AF",style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:d,onChange:S=>f(S.target.value),placeholder:"Buscar ruta o zona...",style:{width:"100%",paddingLeft:"30px",paddingRight:"10px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"12px",outline:"none",boxSizing:"border-box"}})]}),n.jsx("div",{style:{display:"flex",gap:"0",borderRadius:"8px",backgroundColor:"#F3F4F6",padding:"3px"},children:[["todas","Todas"],["standard","Standard"],["proyecto","Proyecto"]].map(([S,F])=>n.jsx("button",{onClick:()=>c(S),style:{flex:1,padding:"6px 4px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"11px",fontWeight:700,backgroundColor:l===S?"#fff":"transparent",color:l===S?"#111":"#6B7280",boxShadow:l===S?"0 1px 4px rgba(0,0,0,0.08)":"none",transition:"all 0.15s"},children:F},S))})]}),n.jsx("div",{style:{flex:1,overflowY:"auto"},children:o?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6B7280",fontSize:"12px"},children:"Cargando rutas..."}):a?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#DC2626",fontSize:"12px"},children:a}):x.length===0?n.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#6B7280",fontSize:"12px"},children:["No hay rutas ",d?"que coincidan con la bsqueda":""]}):x.map(S=>{const F=I0[S.estado],w=(p==null?void 0:p.id)===S.id,k=S.paradas.filter(T=>T.estado==="entregado").length,E=Math.round(k/S.paradas.length*100);return n.jsxs("div",{onClick:()=>h(S),style:{padding:"14px 16px",borderBottom:"1px solid #F3F4F6",cursor:"pointer",backgroundColor:w?"#FFF4EC":"transparent",borderLeft:w?`3px solid ${oa}`:"3px solid transparent",transition:"all 0.1s"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px",marginBottom:"8px"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:S.tipo==="proyecto"?"#EFF6FF":"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:S.tipo==="proyecto"?n.jsx(rl,{size:14,color:"#2563EB"}):n.jsx(Di,{size:14,color:oa})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#111",lineHeight:1.3,marginBottom:"3px"},children:S.nombre}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:F.color,backgroundColor:F.bg,padding:"1px 6px",borderRadius:"8px"},children:F.label}),n.jsx("span",{style:{fontSize:"10px",color:"#9CA3AF"},children:S.carrier})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"11px",color:"#6B7280",marginBottom:"8px"},children:[n.jsxs("span",{children:[" ",S.paradas.length," paradas"]}),n.jsxs("span",{children:[" ",S.enviosTotales," envos"]}),n.jsxs("span",{children:[" ",S.kmsEstimados," km"]})]}),n.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#F3F4F6",borderRadius:"2px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${E}%`,height:"100%",backgroundColor:E===100?"#059669":oa,borderRadius:"2px",transition:"width 0.3s"}})}),n.jsxs("div",{style:{fontSize:"10px",color:"#9CA3AF",marginTop:"4px"},children:[k,"/",S.paradas.length," entregados (",E,"%)"]})]},S.id)})})]}),p?n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx("div",{style:{backgroundColor:"#fff",padding:"20px 24px",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"12px"},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"6px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"16px",fontWeight:800,color:"#111"},children:p.nombre}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:I0[p.estado].color,backgroundColor:I0[p.estado].bg,padding:"3px 8px",borderRadius:"10px"},children:I0[p.estado].label}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:p.tipo==="proyecto"?"#2563EB":oa,backgroundColor:p.tipo==="proyecto"?"#EFF6FF":"#FFF4EC",padding:"3px 8px",borderRadius:"10px"},children:p.tipo==="proyecto"?" Proyecto":" Standard"})]}),n.jsxs("div",{style:{display:"flex",gap:"20px",fontSize:"12px",color:"#6B7280",flexWrap:"wrap"},children:[n.jsxs("span",{children:[" ",p.carrier]}),n.jsxs("span",{children:[" ",p.zona]}),n.jsxs("span",{children:[" ",p.kmsEstimados," km"]}),n.jsxs("span",{children:[" ",p.tiempoEstimado]}),p.frecuencia&&n.jsxs("span",{children:[" ",p.frecuencia]}),p.fechaProxima&&n.jsxs("span",{style:{color:oa,fontWeight:700},children:[" Prxima: ",p.fechaProxima]})]}),p.observaciones&&n.jsxs("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:"#FFFBEB",borderRadius:"8px",fontSize:"12px",color:"#92400E",border:"1px solid #FDE68A"},children:[" ",p.observaciones]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[n.jsx("button",{onClick:()=>b(p),style:{padding:"8px 16px",border:`1.5px solid ${oa}`,borderRadius:"8px",backgroundColor:"transparent",color:oa,fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Editar"}),n.jsx("button",{onClick:()=>v(p.id),style:{padding:"8px 16px",border:"none",borderRadius:"8px",backgroundColor:"#DC2626",color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Eliminar"}),p.estado!=="activa"&&n.jsx("button",{style:{padding:"8px 16px",border:"none",borderRadius:"8px",backgroundColor:oa,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:" Iniciar ruta"})]})]})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px 24px"},children:[n.jsxs("h3",{style:{margin:"0 0 14px",fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:["Paradas (",((C=p.paradas)==null?void 0:C.length)||0,")"]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:p.paradas&&p.paradas.length>0?p.paradas.map((S,F)=>{const w=S.estado==="entregado",k=S.estado==="fallido";return n.jsxs("div",{style:{display:"flex",gap:"14px",alignItems:"flex-start"},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:800,backgroundColor:w?"#D1FAE5":k?"#FEE2E2":`${oa}18`,color:w?"#059669":k?"#DC2626":oa,border:`2px solid ${w?"#A7F3D0":k?"#FCA5A5":`${oa}40`}`},children:w?"":S.orden}),F<p.paradas.length-1&&n.jsx("div",{style:{width:"2px",height:"20px",backgroundColor:w?"#A7F3D0":"#E5E7EB",margin:"3px 0"}})]}),n.jsx("div",{style:{flex:1,padding:"12px 16px",borderRadius:"10px",border:"1px solid #E5E7EB",backgroundColor:w?"#F0FDF4":k?"#FFF5F5":"#fff",marginBottom:(F<p.paradas.length-1,"0")},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#111",marginBottom:"3px"},children:S.direccion}),n.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:[S.localidad,"  ",S.envios," envo",S.envios>1?"s":""]})]}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"3px 8px",borderRadius:"10px",color:w?"#059669":k?"#DC2626":"#D97706",backgroundColor:w?"#D1FAE5":k?"#FEE2E2":"#FFFBEB"},children:w?" Entregado":k?" Fallido":" Pendiente"})]})})]},S.id)}):n.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6B7280",fontSize:"12px"},children:"No hay paradas asignadas a esta ruta"})})]})]}):n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#9CA3AF",fontSize:"14px"},children:"Seleccion una ruta para ver el detalle"})]})]})}const JG=`https://${Pr}.supabase.co/functions/v1/api/fulfillment`,QG={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function m8e(e){const t=`${JG}/ordenes`,o=await(await fetch(t,{headers:QG})).json();if(o.error)throw new Error(o.error);return o.data||[]}async function y8e(e){const t=`${JG}/waves`,o=await(await fetch(t,{headers:QG})).json();if(o.error)throw new Error(o.error);return o.data||[]}const Go="#FF6835";function b8e({onNavigate:e}){var T;const[t,r]=A.useState("ordenes"),[o,i]=A.useState(""),[a,s]=A.useState("todos"),[l,c]=A.useState(null),[d,f]=A.useState([]),[p,h]=A.useState([]),[x,m]=A.useState(!1),[y,b]=A.useState(null);A.useEffect(()=>{v()},[]);const v=async()=>{m(!0),b(null);try{const[_,z]=await Promise.all([m8e(),y8e()]),B=_.map(D=>({id:D.id,numero:D.numero||"",pedido:D.pedido||"",cliente:D.cliente,estado:D.estado,prioridad:D.prioridad||"normal",items:D.items||0,zona:D.zona||"",tiempoEstimado:D.tiempo_estimado||"",fechaCreacion:D.fecha_creacion||D.created_at||"",wave:D.wave_id,operario:D.operario,lineas:Array.isArray(D.lineas)?D.lineas:[]})),P=z.map(D=>({id:D.id,nombre:D.nombre,ordenes:Array.isArray(D.ordenes)?D.ordenes.length:0,items:0,estado:D.estado,operarios:D.operarios||0,inicio:D.inicio}));f(B),h(P),B.length>0&&c(B[0])}catch(_){b(_ instanceof Error?_.message:"Error cargando datos"),console.error("Error cargando fulfillment:",_)}finally{m(!1)}},C=d,S=p,F={pendiente:{label:"Pendiente",color:"#6B7280",bg:"#F3F4F6",icon:Ct},en_picking:{label:"En Picking",color:"#2563EB",bg:"#EFF6FF",icon:Rt},listo_empacar:{label:"Listo Empacar",color:Go,bg:"#FFF4EC",icon:xb},empacado:{label:"Empacado",color:"#7C3AED",bg:"#F5F3FF",icon:Tee},despachado:{label:"Despachado",color:"#059669",bg:"#ECFDF5",icon:ct}},w={urgente:{label:" Urgente",color:"#DC2626"},alta:{label:" Alta",color:Go},normal:{label:" Normal",color:"#D97706"},baja:{label:" Baja",color:"#6B7280"}},k=C.filter(_=>!(a!=="todos"&&_.estado!==a||o&&!_.numero.toLowerCase().includes(o.toLowerCase())&&!_.cliente.toLowerCase().includes(o.toLowerCase()))),E={pendientes:C.filter(_=>_.estado==="pendiente").length,en_picking:C.filter(_=>_.estado==="en_picking").length,listo_empacar:C.filter(_=>_.estado==="listo_empacar").length,empacado:C.filter(_=>_.estado==="empacado").length,despachado:C.filter(_=>_.estado==="despachado").length};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:rl,title:"Fulfillment / Picking",subtitle:`${E.pendientes} pendientes  ${E.en_picking} en picking  ${E.listo_empacar} listos para empacar`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:" Crear Wave",primary:!0}]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:"0",padding:"16px 20px 0",overflowX:"auto"},children:Object.entries(F).map(([_,z],B)=>{const P=C.filter(I=>I.estado===_).length,D=z.icon;return n.jsxs(Y.Fragment,{children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"12px 16px",backgroundColor:"#fff",borderRadius:B===0?"12px 0 0 12px":B===4?"0 12px 12px 0":"0",border:"1px solid #E5E7EB",borderLeft:B>0?"0":"1px solid #E5E7EB",minWidth:"120px",flex:1},children:[n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",backgroundColor:z.bg,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"6px"},children:n.jsx(D,{size:16,color:z.color})}),n.jsx("div",{style:{fontSize:"22px",fontWeight:800,color:z.color},children:P}),n.jsx("div",{style:{fontSize:"10px",color:"#9CA3AF",textAlign:"center",marginTop:"2px"},children:z.label})]}),B<4&&n.jsx("div",{style:{display:"flex",alignItems:"center",zIndex:1},children:n.jsx(rc,{size:14,color:"#D1D5DB"})})]},_)})}),n.jsx("div",{style:{display:"flex",padding:"12px 20px 0",gap:"0",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",marginTop:"12px"},children:[["ordenes"," rdenes"],["waves"," Waves"],["empaque"," Empaque"]].map(([_,z])=>n.jsx("button",{onClick:()=>r(_),style:{padding:"10px 20px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",fontWeight:t===_?700:500,color:t===_?Go:"#6B7280",borderBottom:t===_?`2px solid ${Go}`:"2px solid transparent"},children:z},_))}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[t==="ordenes"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{width:"400px",flexShrink:0,display:"flex",flexDirection:"column",backgroundColor:"#fff",borderRight:"1px solid #E5E7EB"},children:[n.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #E5E7EB",display:"flex",gap:"8px"},children:[n.jsxs("div",{style:{position:"relative",flex:1},children:[n.jsx(tr,{size:13,color:"#9CA3AF",style:{position:"absolute",left:"9px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:o,onChange:_=>i(_.target.value),placeholder:"Buscar orden...",style:{width:"100%",paddingLeft:"28px",paddingRight:"8px",paddingTop:"7px",paddingBottom:"7px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"12px",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("select",{value:a,onChange:_=>s(_.target.value),style:{padding:"7px 10px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"12px",backgroundColor:"#fff"},children:[n.jsx("option",{value:"todos",children:"Todos"}),Object.entries(F).map(([_,z])=>n.jsx("option",{value:_,children:z.label},_))]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto"},children:k.map(_=>{const z=F[_.estado],B=w[_.prioridad],P=z.icon,D=(l==null?void 0:l.id)===_.id;return n.jsxs("div",{onClick:()=>c(_),style:{padding:"12px 14px",borderBottom:"1px solid #F3F4F6",cursor:"pointer",backgroundColor:D?"#FFF4EC":"transparent",borderLeft:D?`3px solid ${Go}`:"3px solid transparent"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",backgroundColor:z.bg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(P,{size:13,color:z.color})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#111"},children:_.numero}),n.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:[_.cliente,"  Zona ",_.zona]})]}),n.jsx("span",{style:{fontSize:"10px",color:B.color,fontWeight:700,flexShrink:0},children:B.label})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"space-between"},children:[n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:z.color,backgroundColor:z.bg,padding:"2px 8px",borderRadius:"8px"},children:z.label}),n.jsxs("div",{style:{display:"flex",gap:"10px",fontSize:"10px",color:"#9CA3AF"},children:[n.jsxs("span",{children:[" ",_.items," items"]}),_.operario&&n.jsxs("span",{children:[" ",_.operario]}),_.tiempoEstimado!==""&&n.jsxs("span",{children:[" ",_.tiempoEstimado]})]})]})]},_.id)})})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px 24px"},children:l?n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"16px",fontWeight:800,color:"#111"},children:l.numero}),n.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:F[l.estado].color,backgroundColor:F[l.estado].bg,padding:"3px 10px",borderRadius:"10px"},children:F[l.estado].label}),n.jsx("span",{style:{fontSize:"11px",color:w[l.prioridad].color,fontWeight:700},children:w[l.prioridad].label}),n.jsx("div",{style:{flex:1}}),l.estado==="pendiente"&&n.jsx("button",{style:{padding:"8px 16px",border:"none",borderRadius:"8px",backgroundColor:"#2563EB",color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:" Iniciar Picking"}),l.estado==="listo_empacar"&&n.jsx("button",{style:{padding:"8px 16px",border:"none",borderRadius:"8px",backgroundColor:Go,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:" Empacar"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginBottom:"20px"},children:[["Pedido",l.pedido],["Cliente",l.cliente],["Zona depsito",`Zona ${l.zona}`],["Wave",l.wave&&((T=S.find(_=>_.id===l.wave))==null?void 0:T.nombre)||""],["Operario",l.operario||"Sin asignar"],["T. estimado",l.tiempoEstimado]].map(([_,z])=>n.jsxs("div",{style:{backgroundColor:"#F9FAFB",borderRadius:"8px",padding:"10px 12px"},children:[n.jsx("div",{style:{fontSize:"10px",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:_}),n.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#111"},children:z})]},_))}),l.lineas.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("h3",{style:{margin:"0 0 12px",fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Lneas de Picking"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:l.lineas.map((_,z)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"10px",border:`1px solid ${_.pickeado?"#A7F3D0":"#E5E7EB"}`,backgroundColor:_.pickeado?"#F0FDF4":"#fff"},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",backgroundColor:_.pickeado?"#D1FAE5":"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:_.pickeado?n.jsx(rn,{size:14,color:"#059669"}):n.jsx(Rt,{size:14,color:"#9CA3AF"})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#111"},children:_.descripcion}),n.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"2px"},children:["SKU: ",_.sku,"  Ubicacin: ",n.jsx("strong",{style:{color:"#2563EB"},children:_.ubicacion})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsxs("span",{style:{fontSize:"14px",fontWeight:800,color:"#111"},children:["",_.cantidad]}),n.jsx("button",{style:{width:"28px",height:"28px",borderRadius:"8px",border:`1.5px solid ${_.pickeado?"#059669":"#E5E7EB"}`,backgroundColor:_.pickeado?"#059669":"#fff",color:_.pickeado?"#fff":"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:n.jsx(rn,{size:13})})]})]},z))})]})]}):n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"200px",color:"#9CA3AF"},children:"Seleccion una orden para ver el detalle"})})]}),t==="waves"&&n.jsx("div",{style:{flex:1,padding:"20px",overflowY:"auto"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(280px,1fr))",gap:"14px"},children:[S.map(_=>{const z={abierta:{color:"#2563EB",bg:"#EFF6FF",label:"Abierta"},en_proceso:{color:Go,bg:"#FFF4EC",label:"En proceso"},completada:{color:"#059669",bg:"#ECFDF5",label:"Completada"}}[_.estado];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:`1px solid ${_.estado==="en_proceso"?Go:"#E5E7EB"}`,padding:"20px",boxShadow:_.estado==="en_proceso"?`0 0 0 3px ${Go}22`:"none"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"14px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:800,color:"#111",marginBottom:"4px"},children:_.nombre}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:z.color,backgroundColor:z.bg,padding:"2px 8px",borderRadius:"10px"},children:z.label})]}),_.inicio&&n.jsxs("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:[" ",_.inicio]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginBottom:"14px"},children:[["rdenes",_.ordenes,""],["Items",_.items,""],["Operarios",_.operarios||"",""]].map(([B,P,D])=>n.jsxs("div",{style:{textAlign:"center",padding:"8px",backgroundColor:"#F9FAFB",borderRadius:"8px"},children:[n.jsxs("div",{style:{fontSize:"18px",fontWeight:800,color:"#111"},children:[D," ",P]}),n.jsx("div",{style:{fontSize:"10px",color:"#9CA3AF"},children:B})]},B))}),_.estado!=="completada"&&n.jsx("button",{style:{width:"100%",padding:"10px",border:"none",borderRadius:"8px",backgroundColor:_.estado==="abierta"?Go:"#F3F4F6",color:_.estado==="abierta"?"#fff":"#6B7280",fontSize:"13px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:_.estado==="abierta"?n.jsxs(n.Fragment,{children:[n.jsx(JL,{size:13})," Iniciar Wave"]}):n.jsxs(n.Fragment,{children:[n.jsx(wne,{size:13})," Pausar"]})})]},_.id)}),n.jsxs("div",{style:{backgroundColor:"#FAFAFA",borderRadius:"12px",border:"2px dashed #E5E7EB",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",minHeight:"180px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Nt,{size:22,color:Go})}),n.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:Go},children:"Nueva Wave"})]})]})}),t==="empaque"&&n.jsx("div",{style:{flex:1,padding:"20px",overflowY:"auto"},children:n.jsxs("div",{style:{maxWidth:"700px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"14px",fontWeight:800,color:"#111"},children:"Cola de Empaque"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:C.filter(_=>["listo_empacar","empacado"].includes(_.estado)).map(_=>{const z=F[_.estado],B=z.icon;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 14px",border:"1px solid #E5E7EB",borderRadius:"10px",backgroundColor:_.estado==="listo_empacar"?"#FFFBEB":"#F0FDF4"},children:[n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",backgroundColor:z.bg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(B,{size:16,color:z.color})}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{fontSize:"13px",fontWeight:700,color:"#111"},children:[_.numero,"  ",_.cliente]}),n.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:[_.items," items  Zona ",_.zona]})]}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:z.color,backgroundColor:z.bg,padding:"3px 10px",borderRadius:"10px"},children:z.label}),_.estado==="listo_empacar"&&n.jsx("button",{style:{padding:"8px 14px",border:"none",borderRadius:"8px",backgroundColor:Go,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:" Empacar"})]},_.id)})})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"14px",fontWeight:800,color:"#111"},children:"Materiales de Empaque"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[{nombre:"Caja 302015 cm",stock:124,alerta:!1},{nombre:"Caja 403020 cm",stock:78,alerta:!1},{nombre:"Sobre burbuja A4",stock:23,alerta:!0},{nombre:"Cinta de embalar",stock:8,alerta:!0},{nombre:"Film stretch",stock:5,alerta:!0},{nombre:"Relleno biodegradable",stock:340,alerta:!1}].map(_=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",border:`1px solid ${_.alerta?"#FCA5A5":"#E5E7EB"}`,borderRadius:"8px",backgroundColor:_.alerta?"#FFF5F5":"#fff"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:_.alerta?"#EF4444":"#059669",flexShrink:0}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#111"},children:_.nombre}),n.jsxs("div",{style:{fontSize:"11px",color:_.alerta?"#DC2626":"#9CA3AF"},children:["Stock: ",_.stock," u. ",_.alerta?" Bajo":""]})]})]},_.nombre))})]})]})})]})]})]})}const ZG=`https://${Pr}.supabase.co/functions/v1/api/produccion`,eK={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function v8e(e){const t=`${ZG}/articulos?activo=${e}`,o=await(await fetch(t,{headers:eK})).json();if(o.error)throw new Error(o.error);return o.data||[]}async function j8e(e){const t=`${ZG}/ordenes`,o=await(await fetch(t,{headers:eK})).json();if(o.error)throw new Error(o.error);return o.data||[]}const vo="#FF6835",S8e={pendiente:{label:"Pendiente",color:"#D97706",bg:"#FFFBEB"},en_proceso:{label:"En proceso",color:"#2563EB",bg:"#EFF6FF"},completada:{label:"Completada",color:"#059669",bg:"#ECFDF5"},cancelada:{label:"Cancelada",color:"#DC2626",bg:"#FEF2F2"}},O0={kit:{label:"Kit",emoji:"",color:"#7C3AED"},canasta:{label:"Canasta",emoji:"",color:vo},combo:{label:"Combo",emoji:"",color:"#2563EB"},pack:{label:"Pack",emoji:"",color:"#059669"}};function w8e({onNavigate:e}){const[t,r]=A.useState("ordenes"),[o,i]=A.useState(""),[a,s]=A.useState(null),[l,c]=A.useState(null),[d,f]=A.useState([]),[p,h]=A.useState([]),[x,m]=A.useState(!1),[y,b]=A.useState(null);A.useEffect(()=>{v()},[]);const v=async()=>{m(!0),b(null);try{const[E,T]=await Promise.all([v8e(!0),j8e()]),_=E.map(B=>({id:B.id,sku:B.sku,nombre:B.nombre,tipo:B.tipo,descripcion:B.descripcion,componentes:Array.isArray(B.componentes)?B.componentes:[],tiempoArmado:B.tiempo_armado||0,costoManoObra:B.costo_mano_obra||0,activo:B.activo??!0})),z=T.map(B=>({id:B.id,numero:B.numero||"",articuloId:B.articulo_id||"",articuloNombre:B.articulo_nombre||"",cantidad:B.cantidad,estado:B.estado,ruta:B.ruta,operario:B.operario,fechaPedido:B.fecha_pedido||"",fechaEntrega:B.fecha_entrega||"",prioridad:B.prioridad||"normal",notas:B.notas}));f(_),h(z),_.length>0&&s(_[0])}catch(E){b(E instanceof Error?E.message:"Error cargando datos"),console.error("Error cargando produccin:",E)}finally{m(!1)}},C=d,S=p,F=S.filter(E=>E.estado==="pendiente").length,w=S.filter(E=>E.estado==="en_proceso").length,k=C.flatMap(E=>E.componentes||[]).filter(E=>!E.disponible).length;return x?n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Rt,title:"Produccin / Armado",subtitle:"Cargando...",actions:[{label:" Logstica",onClick:()=>e("logistica")}]}),n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ur,{size:32,color:vo,style:{animation:"spin 1s linear infinite"}})})]}):y?n.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:n.jsx(Ze,{icon:Rt,title:"Produccin / Armado",subtitle:`Error: ${y}`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:" Reintentar",primary:!0,onClick:v}]})}):n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Rt,title:"Produccin / Armado",subtitle:`${F} rdenes pendientes  ${w} en proceso  ${k>0?` ${k} componentes sin stock`:"Stock OK"}`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:"+ Nueva OA",primary:!0}]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"12px",padding:"16px 20px 0"},children:[{label:"Artculos Compuestos",value:C.filter(E=>E.activo).length,icon:rl,color:"#7C3AED"},{label:"OA Pendientes",value:F,icon:Ct,color:"#D97706"},{label:"En Proceso",value:w,icon:Vte,color:"#2563EB"},{label:"Alertas de Stock",value:k,icon:Jt,color:k>0?"#DC2626":"#059669"}].map(E=>{const T=E.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px",display:"flex",gap:"12px",alignItems:"center"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:`${E.color}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(T,{size:18,color:E.color})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"22px",fontWeight:800,color:"#111"},children:E.value}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:E.label})]})]},E.label)})}),n.jsx("div",{style:{display:"flex",padding:"12px 20px 0",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",marginTop:"12px"},children:[["ordenes"," rdenes de Armado"],["bom"," BOM  Artculos"],["articulos"," Catlogo de Kits"]].map(([E,T])=>n.jsx("button",{onClick:()=>r(E),style:{padding:"10px 20px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",fontWeight:t===E?700:500,color:t===E?vo:"#6B7280",borderBottom:t===E?`2px solid ${vo}`:"2px solid transparent"},children:T},E))}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 20px"},children:[t==="ordenes"&&n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:S.map(E=>{const T=S8e[E.estado],_=C.find(P=>P.id===E.articuloId),z=_?O0[_.tipo]:null,B=_==null?void 0:_.componentes.some(P=>!P.disponible);return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:`1px solid ${B&&E.estado==="pendiente"?"#FCA5A5":"#E5E7EB"}`,padding:"16px 20px",display:"flex",gap:"16px",alignItems:"center"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",backgroundColor:`${vo}15`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",flexShrink:0},children:(z==null?void 0:z.emoji)||""}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap",marginBottom:"4px"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:800,color:"#111",fontFamily:"monospace"},children:E.numero}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:T.color,backgroundColor:T.bg,padding:"2px 8px",borderRadius:"10px"},children:T.label}),B&&E.estado==="pendiente"&&n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:"#DC2626",backgroundColor:"#FEE2E2",padding:"2px 8px",borderRadius:"10px"},children:" Sin stock"})]}),n.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"4px"},children:E.articuloNombre}),n.jsxs("div",{style:{display:"flex",gap:"14px",fontSize:"11px",color:"#9CA3AF",flexWrap:"wrap"},children:[n.jsxs("span",{children:[" ",E.cantidad," unidades"]}),E.ruta&&n.jsxs("span",{children:[" ",E.ruta]}),E.operario&&n.jsxs("span",{children:[" ",E.operario]}),n.jsxs("span",{children:[" Entrega: ",E.fechaEntrega]})]}),E.notas&&n.jsxs("div",{style:{marginTop:"6px",fontSize:"11px",color:"#92400E",backgroundColor:"#FFFBEB",padding:"4px 8px",borderRadius:"6px",display:"inline-block"},children:[" ",E.notas]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[E.estado==="pendiente"&&n.jsx("button",{style:{padding:"8px 14px",border:"none",borderRadius:"8px",backgroundColor:B?"#F3F4F6":vo,color:B?"#9CA3AF":"#fff",fontSize:"12px",fontWeight:700,cursor:B?"not-allowed":"pointer"},children:B?" Sin stock":" Iniciar"}),E.estado==="en_proceso"&&n.jsx("button",{style:{padding:"8px 14px",border:"none",borderRadius:"8px",backgroundColor:"#059669",color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:" Completar"})]})]},E.id)})}),t==="bom"&&n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("div",{style:{width:"260px",flexShrink:0,display:"flex",flexDirection:"column",gap:"8px"},children:C.map(E=>{const T=O0[E.tipo],_=E.componentes.some(B=>!B.disponible),z=(a==null?void 0:a.id)===E.id;return n.jsxs("div",{onClick:()=>s(E),style:{backgroundColor:"#fff",borderRadius:"10px",border:`1.5px solid ${z?vo:"#E5E7EB"}`,padding:"12px 14px",cursor:"pointer",boxShadow:z?`0 0 0 3px ${vo}22`:"none",transition:"all 0.15s"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsx("span",{style:{fontSize:"20px"},children:T.emoji}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#111",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:E.nombre}),n.jsxs("div",{style:{fontSize:"10px",color:"#9CA3AF"},children:["SKU: ",E.sku]})]}),_&&n.jsx(Jt,{size:14,color:"#DC2626"})]}),n.jsxs("div",{style:{fontSize:"10px",color:"#6B7280"},children:[E.componentes.length," componentes   ",E.tiempoArmado," min"]})]},E.id)})}),a&&n.jsx("div",{style:{flex:1},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[n.jsx("span",{style:{fontSize:"28px"},children:O0[a.tipo].emoji}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:800,color:"#111"},children:a.nombre}),n.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:a.descripcion}),n.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"11px",color:"#374151",marginTop:"4px"},children:[n.jsxs("span",{children:[" ",a.tiempoArmado," min/u"]}),n.jsxs("span",{children:[" $",a.costoManoObra.toLocaleString("es-AR")," mano de obra"]})]})]})]}),n.jsx("h4",{style:{margin:"0 0 12px",fontSize:"12px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Bill of Materials"}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["SKU","Componente","Cant.","Unidad","Stock actual","Estado"].map(E=>n.jsx("th",{style:{padding:"10px 12px",textAlign:"left",fontSize:"11px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.04em",borderBottom:"1px solid #E5E7EB"},children:E},E))})}),n.jsx("tbody",{children:a.componentes.map((E,T)=>n.jsxs("tr",{style:{borderBottom:T<a.componentes.length-1?"1px solid #F3F4F6":"none"},children:[n.jsx("td",{style:{padding:"10px 12px",fontSize:"11px",fontFamily:"monospace",color:"#6B7280"},children:E.sku}),n.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",fontWeight:500,color:"#111"},children:E.descripcion}),n.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",fontWeight:700,color:"#374151"},children:E.cantidad}),n.jsx("td",{style:{padding:"10px 12px",fontSize:"12px",color:"#6B7280"},children:E.unidad}),n.jsx("td",{style:{padding:"10px 12px",fontSize:"12px",color:E.stockActual===0?"#DC2626":"#374151",fontWeight:E.stockActual<20?700:400},children:E.stockActual}),n.jsx("td",{style:{padding:"10px 12px"},children:n.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"3px 8px",borderRadius:"10px",color:E.disponible?"#059669":"#DC2626",backgroundColor:E.disponible?"#ECFDF5":"#FEE2E2"},children:E.disponible?" OK":" Sin stock"})})]},E.sku))})]}),n.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"10px"},children:[n.jsx("button",{style:{padding:"10px 20px",border:`1.5px solid ${vo}`,borderRadius:"8px",backgroundColor:"transparent",color:vo,fontSize:"13px",fontWeight:700,cursor:"pointer"},children:"Editar BOM"}),n.jsx("button",{style:{padding:"10px 20px",border:"none",borderRadius:"8px",backgroundColor:vo,color:"#fff",fontSize:"13px",fontWeight:700,cursor:"pointer"},children:"+ Crear Orden de Armado"})]})]})})]}),t==="articulos"&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(280px,1fr))",gap:"14px"},children:[C.map(E=>{const T=O0[E.tipo],_=E.componentes.some(z=>!z.disponible);return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:`1px solid ${_?"#FCA5A5":"#E5E7EB"}`,padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"14px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",backgroundColor:`${T.color}15`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",flexShrink:0},children:T.emoji}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap",marginBottom:"3px"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:800,color:"#111"},children:E.nombre}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:T.color,backgroundColor:`${T.color}18`,padding:"1px 7px",borderRadius:"10px"},children:T.label}),_&&n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:"#DC2626",backgroundColor:"#FEE2E2",padding:"1px 7px",borderRadius:"10px"},children:" Stock"})]}),n.jsxs("div",{style:{fontSize:"10px",color:"#9CA3AF"},children:["SKU: ",E.sku]})]})]}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"10px",lineHeight:"1.5"},children:E.descripcion}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px",marginBottom:"12px"},children:[n.jsxs("div",{style:{fontSize:"11px",color:"#374151"},children:[" ",E.componentes.length," componentes"]}),n.jsxs("div",{style:{fontSize:"11px",color:"#374151"},children:[" ",E.tiempoArmado," min/u"]}),n.jsxs("div",{style:{fontSize:"11px",color:"#374151"},children:[" $",E.costoManoObra.toLocaleString()]}),n.jsxs("div",{style:{fontSize:"11px",color:"#374151"},children:[" ",E.componentes.filter(z=>z.disponible).length,"/",E.componentes.length," con stock"]})]}),n.jsx("button",{onClick:()=>{r("bom"),s(E)},style:{width:"100%",padding:"9px",border:`1.5px solid ${vo}`,borderRadius:"8px",backgroundColor:"transparent",color:vo,fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Ver BOM"})]},E.id)}),n.jsxs("div",{style:{backgroundColor:"#FAFAFA",borderRadius:"12px",border:"2px dashed #E5E7EB",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",minHeight:"200px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Nt,{size:22,color:vo})}),n.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:vo},children:"Nuevo Artculo Compuesto"}),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF",textAlign:"center"},children:"Kit  Canasta  Combo  Pack"})]})]})]})]})]})}const F6=`https://${Pr}.supabase.co/functions/v1/api/abastecimiento`,A6={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function E8e(e,t){let r=`${F6}/alertas`;const o=new URLSearchParams;o.append("activa",String(e)),o.toString()&&(r+=`?${o.toString()}`);const a=await(await fetch(r,{headers:A6})).json();if(a.error)throw new Error(a.error);return a.data||[]}async function C8e(e){const t=`${F6}/ordenes-compra`,o=await(await fetch(t,{headers:A6})).json();if(o.error)throw new Error(o.error);return o.data||[]}async function k8e(){const t=await(await fetch(`${F6}/mrp`,{headers:A6})).json();if(t.error)throw new Error(t.error);return t.data||[]}const ia="#FF6835",F8e={sugerida:{label:"Sugerida",color:"#D97706",bg:"#FFFBEB"},aprobada:{label:"Aprobada",color:"#2563EB",bg:"#EFF6FF"},enviada:{label:"Enviada",color:"#7C3AED",bg:"#F5F3FF"},recibida:{label:"Recibida",color:"#059669",bg:"#ECFDF5"},cancelada:{label:"Cancelada",color:"#DC2626",bg:"#FEF2F2"}};function A8e({onNavigate:e}){const[t,r]=A.useState("alertas"),[o,i]=A.useState(""),[a,s]=A.useState([]),[l,c]=A.useState([]),[d,f]=A.useState([]),[p,h]=A.useState(!1),[x,m]=A.useState(null);A.useEffect(()=>{y()},[]);const y=async()=>{h(!0),m(null);try{const[k,E,T]=await Promise.all([E8e(!0),C8e(),k8e()]),_=k.map(P=>({sku:P.sku||"",nombre:P.producto,categoria:P.categoria||"",stockActual:P.stock_actual||0,stockMinimo:P.stock_minimo||0,stockOptimo:P.stock_optimo||0,unidad:P.unidad||"u",proveedor:P.proveedor||"",tiempoReposicion:P.tiempo_reposicion||0,consumoPromDiario:P.consumo_prom_diario||0,diasRestantes:P.dias_restantes||0,nivel:P.nivel})),z=E.map(P=>({id:P.id,sku:P.sku||"",nombre:P.producto,proveedor:P.proveedor,cantidad:P.cantidad_sugerida||0,precioUnit:P.precio_unit||P.precio_estimado||0,total:P.total||(P.cantidad_sugerida||0)*(P.precio_unit||P.precio_estimado||0),motivoOC:P.motivo_oc||"",estado:P.estado,fechaSugerida:P.fecha_sugerida||P.created_at||""})),B=T.map(P=>({sku:P.sku||"",descripcion:P.componente,necesario:P.necesario||0,stockDisponible:P.stock_actual||0,aComprar:P.a_comprar||0,unidad:P.unidad||"u"}));s(_),c(z),f(B)}catch(k){m(k instanceof Error?k.message:"Error cargando datos"),console.error("Error cargando abastecimiento:",k)}finally{h(!1)}},b=a,v=l,C=d,S=b.filter(k=>k.nivel==="critico").length,F=b.filter(k=>k.nivel==="bajo").length,w=v.filter(k=>k.estado==="sugerida").reduce((k,E)=>k+E.total,0);return p?n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ir,title:"Abastecimiento",subtitle:"Cargando...",actions:[{label:" Logstica",onClick:()=>e("logistica")}]}),n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ur,{size:32,color:ia,style:{animation:"spin 1s linear infinite"}})})]}):x?n.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:n.jsx(Ze,{icon:ir,title:"Abastecimiento",subtitle:`Error: ${x}`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:" Reintentar",primary:!0,onClick:y}]})}):n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ir,title:"Abastecimiento",subtitle:`${S} alertas crticas  ${F} alertas bajas  OCs sugeridas: $${w.toLocaleString("es-AR")}`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:"+ OC Manual",primary:!0}]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"12px",padding:"16px 20px 0"},children:[{label:"Alertas Crticas",value:S,icon:Wr,color:"#DC2626"},{label:"Stock Bajo",value:F,icon:_oe,color:"#D97706"},{label:"OC Sugeridas",value:v.filter(k=>k.estado==="sugerida").length,icon:ir,color:"#2563EB"},{label:"Valor a Reponer",value:`$${(w/1e3).toFixed(0)}K`,icon:x8,color:ia}].map(k=>{const E=k.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:`1px solid ${k.color==="#DC2626"&&S>0?"#FCA5A5":"#E5E7EB"}`,padding:"16px",display:"flex",gap:"12px",alignItems:"center"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:`${k.color}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(E,{size:18,color:k.color})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"22px",fontWeight:800,color:"#111"},children:k.value}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:k.label})]})]},k.label)})}),n.jsx("div",{style:{display:"flex",padding:"12px 20px 0",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",marginTop:"12px"},children:[["alertas"," Alertas de Stock"],["oc_sugeridas"," OC Sugeridas"],["mrp"," MRP  Clculo"]].map(([k,E])=>n.jsxs("button",{onClick:()=>r(k),style:{padding:"10px 20px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",fontWeight:t===k?700:500,color:t===k?ia:"#6B7280",borderBottom:t===k?`2px solid ${ia}`:"2px solid transparent"},children:[E,k==="alertas"&&S>0&&n.jsx("span",{style:{marginLeft:"6px",fontSize:"10px",fontWeight:800,color:"#DC2626",backgroundColor:"#FEE2E2",padding:"1px 6px",borderRadius:"10px"},children:S})]},k))}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 20px"},children:[t==="alertas"&&n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:b.sort((k,E)=>k.nivel==="critico"?-1:E.nivel==="critico"?1:0).map(k=>{const E=Math.min(100,Math.round(k.stockActual/k.stockOptimo*100)),T=k.nivel==="critico"?"#DC2626":k.nivel==="bajo"?"#D97706":"#059669",_=k.nivel==="critico"?"#FFF5F5":k.nivel==="bajo"?"#FFFDF0":"#fff",z=k.nivel==="critico"?"#FCA5A5":k.nivel==="bajo"?"#FDE68A":"#E5E7EB";return n.jsx("div",{style:{backgroundColor:_,borderRadius:"12px",border:`1px solid ${z}`,padding:"16px 20px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:`${T}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:k.nivel==="critico"?n.jsx(Wr,{size:18,color:T}):k.nivel==="bajo"?n.jsx(Jt,{size:18,color:T}):n.jsx(ct,{size:18,color:T})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:800,color:"#111"},children:k.nombre}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:T,backgroundColor:`${T}18`,padding:"2px 8px",borderRadius:"10px",textTransform:"uppercase"},children:k.nivel}),n.jsxs("span",{style:{fontSize:"10px",color:"#9CA3AF"},children:["SKU: ",k.sku]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"11px",color:"#6B7280",marginBottom:"10px",flexWrap:"wrap"},children:[n.jsxs("span",{children:[" Stock actual: ",n.jsxs("strong",{style:{color:k.nivel==="critico"?"#DC2626":"#111"},children:[k.stockActual," ",k.unidad]})]}),n.jsxs("span",{children:[" Mnimo: ",k.stockMinimo]}),n.jsxs("span",{children:[" ptimo: ",k.stockOptimo]}),n.jsxs("span",{children:[" Proveedor: ",k.proveedor]}),n.jsxs("span",{children:[" Reposicin: ",k.tiempoReposicion," das"]}),k.diasRestantes<=k.tiempoReposicion&&n.jsxs("span",{style:{color:"#DC2626",fontWeight:700},children:[" Quedan ",k.diasRestantes," da",k.diasRestantes!==1?"s":"","!"]})]}),n.jsxs("div",{style:{marginBottom:"8px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[n.jsx("span",{style:{fontSize:"10px",color:"#9CA3AF"},children:"Nivel de stock"}),n.jsxs("span",{style:{fontSize:"10px",fontWeight:700,color:T},children:[E,"%"]})]}),n.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"#F3F4F6",borderRadius:"3px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${E}%`,height:"100%",backgroundColor:T,borderRadius:"3px",transition:"width 0.3s"}})})]})]}),n.jsx("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:k.nivel!=="ok"&&n.jsx("button",{style:{padding:"8px 14px",border:"none",borderRadius:"8px",backgroundColor:k.nivel==="critico"?"#DC2626":ia,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:k.nivel==="critico"?" OC Urgente":" Sugerir OC"})})]})},k.sku)})}),t==="oc_sugeridas"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[n.jsxs("span",{style:{fontSize:"13px",color:"#6B7280"},children:[v.length," rdenes de compra  Total: ",n.jsxs("strong",{style:{color:"#111"},children:["$",v.reduce((k,E)=>k+E.total,0).toLocaleString("es-AR")]})]}),n.jsxs("button",{style:{padding:"8px 16px",border:"none",borderRadius:"8px",backgroundColor:ia,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(pt,{size:13})," Aprobar todas las sugeridas"]})]}),v.map(k=>{const E=F8e[k.estado];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px 20px",display:"flex",gap:"16px",alignItems:"center"},children:[n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:800,color:"#111"},children:k.nombre}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:E.color,backgroundColor:E.bg,padding:"2px 8px",borderRadius:"10px"},children:E.label}),n.jsxs("span",{style:{fontSize:"10px",color:"#9CA3AF"},children:["SKU: ",k.sku]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"11px",color:"#6B7280",flexWrap:"wrap"},children:[n.jsxs("span",{children:[" ",k.proveedor]}),n.jsxs("span",{children:[" ",k.cantidad," u  $",k.precioUnit.toLocaleString("es-AR")]}),n.jsxs("span",{style:{color:"#111",fontWeight:700},children:[" Total: $",k.total.toLocaleString("es-AR")]}),n.jsxs("span",{children:[" ",k.motivoOC]}),n.jsxs("span",{children:[" ",k.fechaSugerida]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[k.estado==="sugerida"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{style:{padding:"8px 14px",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#fff",color:"#DC2626",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Rechazar"}),n.jsx("button",{style:{padding:"8px 14px",border:"none",borderRadius:"8px",backgroundColor:"#2563EB",color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:" Aprobar"})]}),k.estado==="aprobada"&&n.jsx("button",{style:{padding:"8px 14px",border:"none",borderRadius:"8px",backgroundColor:ia,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Enviar a Proveedor"})]})]},k.id)})]}),t==="mrp"&&n.jsx("div",{style:{maxWidth:"800px"},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px",marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[n.jsx(si,{size:18,color:ia}),n.jsx("h3",{style:{margin:0,fontSize:"14px",fontWeight:800,color:"#111"},children:"MRP  Clculo de Requerimientos"}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{style:{padding:"8px 16px",border:"none",borderRadius:"8px",backgroundColor:ia,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(_t,{size:13})," Recalcular"]})]}),n.jsxs("div",{style:{padding:"12px",backgroundColor:"#FFF4EC",borderRadius:"8px",border:"1px solid #FED7AA",marginBottom:"16px",fontSize:"12px",color:"#92400E"},children:[" Basado en: ",n.jsx("strong",{children:"OA-2024-001  120 Canastas Navideas"}),"  Fecha de entrega: 20/12/2024"]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["SKU","Componente","Necesario","Disponible","A Comprar","Estado"].map(k=>n.jsx("th",{style:{padding:"10px 12px",textAlign:"left",fontSize:"11px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #E5E7EB"},children:k},k))})}),n.jsx("tbody",{children:C.map((k,E)=>{const T=k.aComprar===0;return n.jsxs("tr",{style:{borderBottom:E<C.length-1?"1px solid #F3F4F6":"none",backgroundColor:T?"transparent":"#FFFBEB"},children:[n.jsx("td",{style:{padding:"10px 12px",fontSize:"11px",fontFamily:"monospace",color:"#6B7280"},children:k.sku}),n.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",fontWeight:500,color:"#111"},children:k.descripcion}),n.jsxs("td",{style:{padding:"10px 12px",fontSize:"13px",fontWeight:700,color:"#374151"},children:[k.necesario," ",k.unidad]}),n.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",color:k.stockDisponible>=k.necesario?"#059669":"#D97706",fontWeight:600},children:k.stockDisponible}),n.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",fontWeight:800,color:k.aComprar>0?"#DC2626":"#059669"},children:k.aComprar>0?`${k.aComprar}`:" 0"}),n.jsx("td",{style:{padding:"10px 12px"},children:T?n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:"#059669",backgroundColor:"#ECFDF5",padding:"3px 8px",borderRadius:"10px"},children:" Stock OK"}):n.jsx("button",{style:{fontSize:"10px",fontWeight:700,color:"#fff",backgroundColor:ia,padding:"3px 10px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Crear OC"})})]},k.sku)})})]}),n.jsxs("div",{style:{marginTop:"16px",padding:"14px",backgroundColor:"#F9FAFB",borderRadius:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"3px"},children:"Componentes a comprar"}),n.jsxs("div",{style:{fontSize:"18px",fontWeight:800,color:"#DC2626"},children:[C.filter(k=>k.aComprar>0).length," de ",C.length," necesitan OC"]})]}),n.jsx("button",{style:{padding:"10px 20px",border:"none",borderRadius:"10px",backgroundColor:ia,color:"#fff",fontSize:"13px",fontWeight:700,cursor:"pointer"},children:"Generar todas las OC necesarias"})]})]})})]})]})]})}const _8e=`https://${Pr}.supabase.co/functions/v1/api/mapa-envios`,R8e={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function T8e(e,t){let r=_8e;const o=new URLSearchParams;o.toString()&&(r+=`?${o.toString()}`);const a=await(await fetch(r,{headers:R8e})).json();if(a.error)throw new Error(a.error);return a.data||[]}const P8e={lat:-34.9011,lng:-56.1645},z8e=13;function tK({center:e=P8e,zoom:t=z8e,markers:r=[],route:o,height:i="400px",className:a="",onMapReady:s,onMarkerClick:l}){const c=A.useRef(null),d=A.useRef(null),f=A.useRef([]),p=A.useRef(null),h=A.useRef(null),[x,m]=A.useState(!0),[y,b]=A.useState(null);return A.useEffect(()=>{let v=!0;async function C(){try{if(await Bx(),await zx(1e4),!v||!c.current)return;if(!fc())throw new Error("Google Maps API no est disponible");const S=window.google,F=new S.maps.Map(c.current,{center:e,zoom:t,language:"es",region:"UY",mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!0});d.current=F,m(!1),s==null||s(F),o&&(p.current=new S.maps.DirectionsService,h.current=new S.maps.DirectionsRenderer({map:F,suppressMarkers:!1}))}catch(S){console.error("[GoogleMap] Error inicializando mapa:",S),b(S instanceof Error?S.message:"Error cargando el mapa"),m(!1)}}return C(),()=>{v=!1}},[]),A.useEffect(()=>{d.current&&(d.current.setCenter(e),d.current.setZoom(t))},[e.lat,e.lng,t]),A.useEffect(()=>{if(!d.current||!fc())return;const v=window.google;f.current.forEach(C=>C.setMap(null)),f.current=[],r.forEach(C=>{const S=new v.maps.Marker({position:{lat:C.lat,lng:C.lng},map:d.current,title:C.title,label:C.label,icon:C.icon||(C.color?{path:v.maps.SymbolPath.CIRCLE,scale:8,fillColor:C.color,fillOpacity:1,strokeColor:"#fff",strokeWeight:2}:void 0)});(C.onClick||l)&&S.addListener("click",()=>{var F;(F=C.onClick)==null||F.call(C),l==null||l(C)}),f.current.push(S)})},[r,l]),A.useEffect(()=>{if(!o||!p.current||!h.current)return;const v=window.google,C={origin:{lat:o.origin.lat,lng:o.origin.lng},destination:{lat:o.destination.lat,lng:o.destination.lng},travelMode:v.maps.TravelMode.DRIVING,language:"es",region:"AR"};o.waypoints&&o.waypoints.length>0&&(C.waypoints=o.waypoints.map(S=>({location:{lat:S.lat,lng:S.lng},stopover:!0}))),p.current.route(C,(S,F)=>{if(F==="OK"&&h.current){if(h.current.setDirections(S),o.color){const w=S.routes[0];w&&new v.maps.Polyline({path:w.overview_path,strokeColor:w.color,strokeWeight:4}).setMap(d.current)}}else console.error("[GoogleMap] Error calculando ruta:",F)})},[o]),y?n.jsx("div",{className:`flex items-center justify-center bg-gray-100 rounded-md ${a}`,style:{height:i},children:n.jsxs("div",{className:"text-center text-gray-600",children:[n.jsx("p",{className:"font-medium",children:"Error cargando el mapa"}),n.jsx("p",{className:"text-sm mt-1",children:y})]})}):n.jsxs("div",{className:`relative ${a}`,style:{height:i},children:[x&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-md z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Cargando mapa..."})]})}),n.jsx("div",{ref:c,className:"w-full h-full rounded-md",style:{minHeight:"200px"}})]})}const Qc="#FF6835",Dk={lat:-34.9011,lng:-56.1645},B8e=12,Ml={deposito:{color:"#374151",label:"Depsito",icon:Rt,size:18},en_transito:{color:"#7C3AED",label:"En trnsito",icon:At,size:14},en_reparto:{color:Qc,label:"En reparto",icon:Di,size:14},entregado:{color:"#059669",label:"Entregado",icon:ct,size:13},fallido:{color:"#DC2626",label:"Fallido",icon:Jt,size:14}};function I8e({onNavigate:e}){const[t,r]=A.useState("todos"),[o,i]=A.useState(null),[a,s]=A.useState([]),[l,c]=A.useState(!1),[d,f]=A.useState(null);A.useEffect(()=>{p()},[]);const p=async()=>{c(!0),f(null);try{const y=(await T8e()).map(b=>({id:b.id,tipo:b.tipo,numero:b.numero||"",lat:b.lat||(b.x?void 0:Dk.lat),lng:b.lng||(b.y?void 0:Dk.lng),x:b.x,y:b.y,cliente:b.cliente||"",carrier:b.carrier||"",localidad:b.localidad||"",provincia:b.provincia||""}));s(y)}catch(m){f(m instanceof Error?m.message:"Error cargando datos"),console.error("Error cargando mapa de envos:",m)}finally{c(!1)}},h=a,x={en_transito:h.filter(m=>m.tipo==="en_transito").length,en_reparto:h.filter(m=>m.tipo==="en_reparto").length,entregado:h.filter(m=>m.tipo==="entregado").length,fallido:h.filter(m=>m.tipo==="fallido").length};return l?n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Di,title:"Mapa de Envos",subtitle:"Cargando...",actions:[{label:" Logstica",onClick:()=>e("logistica")}]}),n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ur,{size:32,color:Qc,style:{animation:"spin 1s linear infinite"}})})]}):d?n.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:n.jsx(Ze,{icon:Di,title:"Mapa de Envos",subtitle:`Error: ${d}`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:" Reintentar",primary:!0,onClick:p}]})}):n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Di,title:"Mapa de Envos",subtitle:`${x.en_transito} en trnsito  ${x.en_reparto} en reparto  ${x.entregado} entregados  ${x.fallido} fallidos`,actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:" Actualizar",onClick:p}]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsxs("div",{style:{width:"260px",flexShrink:0,backgroundColor:"#fff",borderRight:"1px solid #E5E7EB",display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"14px 16px",borderBottom:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 10px",fontSize:"11px",fontWeight:700,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Filtrar por estado"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[{id:"todos",label:"Todos los envos",count:h.filter(m=>m.tipo!=="deposito").length},{id:"en_transito",label:"En trnsito",count:x.en_transito},{id:"en_reparto",label:"En reparto",count:x.en_reparto},{id:"entregado",label:"Entregados",count:x.entregado},{id:"fallido",label:"Fallidos",count:x.fallido}].map(m=>{const y=m.id!=="todos"?Ml[m.id]:{color:"#374151"},b=t===m.id;return n.jsxs("button",{onClick:()=>r(m.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",border:`1px solid ${b?y.color:"#E5E7EB"}`,borderRadius:"8px",backgroundColor:b?`${y.color}12`:"#fff",cursor:"pointer",transition:"all 0.15s"},children:[n.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:y.color,flexShrink:0}}),n.jsx("span",{style:{fontSize:"12px",fontWeight:b?700:500,color:b?y.color:"#374151",flex:1,textAlign:"left"},children:m.label}),n.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:"#6B7280",backgroundColor:"#F3F4F6",padding:"1px 6px",borderRadius:"8px"},children:m.count})]},m.id)})})]}),n.jsxs("div",{style:{padding:"14px 16px",borderBottom:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 10px",fontSize:"11px",fontWeight:700,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Leyenda"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[Object.entries(Ml).filter(([m])=>m!=="deposito").map(([m,y])=>{const b=y.icon;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:y.color,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(b,{size:10,color:"#fff"})}),n.jsx("span",{style:{fontSize:"12px",color:"#374151"},children:y.label})]},m)}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#374151",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(Rt,{size:10,color:"#fff"})}),n.jsx("span",{style:{fontSize:"12px",color:"#374151"},children:"Depsito / origen"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[n.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:Qc,boxShadow:`0 0 0 4px ${Qc}30`,flexShrink:0,marginLeft:"5px"}}),n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF",marginLeft:"5px"},children:"Pulso = en reparto activo"})]})]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"8px 0"},children:h.filter(m=>m.tipo!=="deposito"&&(t==="todos"||m.tipo===t)).map(m=>{const y=Ml[m.tipo],b=(o==null?void 0:o.id)===m.id;return n.jsxs("div",{onClick:()=>i(b?null:m),style:{display:"flex",gap:"10px",alignItems:"center",padding:"10px 16px",cursor:"pointer",backgroundColor:b?"#FFF4EC":"transparent",borderLeft:b?`3px solid ${Qc}`:"3px solid transparent"},children:[n.jsx("div",{style:{width:"26px",height:"26px",borderRadius:"50%",backgroundColor:y.color,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(y.icon,{size:11,color:"#fff"})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"11px",fontWeight:700,color:"#111",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m.numero}),n.jsxs("div",{style:{fontSize:"10px",color:"#9CA3AF"},children:[m.localidad,"  ",m.carrier]})]})]},m.id)})})]}),n.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[(()=>{const y=h.filter(S=>S.tipo!=="deposito"&&(t==="todos"||S.tipo===t)&&S.lat!==void 0&&S.lng!==void 0).map(S=>{const F=Ml[S.tipo];return{id:S.id,lat:S.lat,lng:S.lng,title:`${S.numero} - ${F.label}`,color:F.color,onClick:()=>i(S)}});h.filter(S=>S.tipo==="deposito"&&S.lat!==void 0&&S.lng!==void 0).forEach(S=>{y.push({id:S.id,lat:S.lat,lng:S.lng,title:`Depsito ${S.numero}`,color:"#374151",onClick:()=>i(S)})});let v=Dk,C=B8e;if(y.length>0){const S=y.map(P=>P.lat),F=y.map(P=>P.lng),w=Math.min(...S),k=Math.max(...S),E=Math.min(...F),T=Math.max(...F);v={lat:(w+k)/2,lng:(E+T)/2};const _=k-w,z=T-E,B=Math.max(_,z);B>.5?C=10:B>.2?C=11:B>.1?C=12:B>.05?C=13:C=14}return n.jsx(tK,{center:v,zoom:C,markers:y,height:"100%",onMarkerClick:S=>{const F=h.find(w=>w.id===S.id);F&&i(F)}})})(),o&&o.tipo!=="deposito"&&n.jsxs("div",{style:{position:"absolute",bottom:"20px",right:"20px",backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px",width:"240px",boxShadow:"0 4px 20px rgba(0,0,0,0.12)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:Ml[o.tipo].color,display:"flex",alignItems:"center",justifyContent:"center"},children:Y.createElement(Ml[o.tipo].icon,{size:13,color:"#fff"})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#111"},children:o.numero}),n.jsx("div",{style:{fontSize:"10px",color:"#9CA3AF"},children:Ml[o.tipo].label})]}),n.jsx("button",{onClick:()=>i(null),style:{marginLeft:"auto",border:"none",background:"none",cursor:"pointer",color:"#9CA3AF",fontSize:"16px",lineHeight:1},children:""})]}),[["Cliente",o.cliente],["Carrier",o.carrier],["Localidad",o.localidad],["Provincia",o.provincia]].map(([m,y])=>n.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"11px",marginBottom:"5px"},children:[n.jsx("span",{style:{color:"#9CA3AF",width:"65px",flexShrink:0},children:m}),n.jsx("span",{style:{color:"#111",fontWeight:500},children:y})]},m)),n.jsx("button",{onClick:()=>e("envios"),style:{marginTop:"10px",width:"100%",padding:"8px",border:`1.5px solid ${Qc}`,borderRadius:"8px",backgroundColor:"transparent",color:Qc,fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Ver detalle del envo "})]}),n.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",display:"flex",flexDirection:"column",gap:"6px"},children:Object.entries(x).map(([m,y])=>{if(y===0)return null;const b=Ml[m];return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",backgroundColor:"rgba(255,255,255,0.92)",padding:"5px 10px",borderRadius:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:`1px solid ${b.color}30`},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:b.color}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:b.color},children:y}),n.jsx("span",{style:{fontSize:"11px",color:"#374151"},children:b.label})]},m)})})]})]})]})}const O8e=`https://${Pr}.supabase.co/functions/v1/api/tracking`,D8e={"Content-Type":"application/json",Authorization:`Bearer ${jr}`};async function M8e(e){const r=await(await fetch(`${O8e}/envios/codigo/${e}`,{headers:D8e})).json();if(r.error)throw new Error(r.error);return r.data}const Vs="#FF6835",Mk={creado:{color:"#6B7280",bg:"#F3F4F6",icon:Rt},despachado:{color:"#2563EB",bg:"#EFF6FF",icon:At},en_transito:{color:"#7C3AED",bg:"#F5F3FF",icon:Di},en_deposito:{color:"#D97706",bg:"#FFFBEB",icon:Dn},en_reparto:{color:Vs,bg:"#FFF4EC",icon:At},entregado:{color:"#059669",bg:"#ECFDF5",icon:ct},fallido:{color:"#DC2626",bg:"#FEF2F2",icon:nn}};function $8e({data:e,onCopy:t}){const r=Mk[e.estadoTipo],o=r.icon,i=["creado","despachado","en_transito","en_deposito","en_reparto","entregado"],a=i.indexOf(e.estadoTipo),s={creado:"Creado",despachado:"Despachado",en_transito:"En trnsito",en_deposito:"En depsito",en_reparto:"En reparto",entregado:"Entregado"};return n.jsxs("div",{style:{maxWidth:"640px",margin:"0 auto"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.06)",marginBottom:"16px"},children:[n.jsx("div",{style:{backgroundColor:r.bg,padding:"24px",borderBottom:`3px solid ${r.color}`},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[n.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"50%",backgroundColor:r.color,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(o,{size:24,color:"#fff"})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"20px",fontWeight:800,color:r.color,marginBottom:"3px"},children:e.estado}),n.jsx("div",{style:{fontSize:"13px",color:"#6B7280"},children:e.estadoTipo==="entregado"?" Envo completado exitosamente":e.estadoTipo==="en_reparto"?" En camino a tu domicilio hoy":`Fecha estimada de entrega: ${e.fechaEstimada}`})]})]})}),e.estadoTipo!=="fallido"&&n.jsx("div",{style:{padding:"20px 24px",borderBottom:"1px solid #F3F4F6"},children:n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0"},children:i.map((l,c)=>{const d=c<=a,f=c===a;return n.jsxs(Y.Fragment,{children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:c===0||c===i.length-1?0:1},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:d?r.color:"#E5E7EB",display:"flex",alignItems:"center",justifyContent:"center",border:f?`3px solid ${r.color}`:"none",boxShadow:f?`0 0 0 3px ${r.color}30`:"none",transition:"all 0.2s",flexShrink:0},children:d&&!f?n.jsx(ct,{size:14,color:"#fff"}):n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:d?"#fff":"#D1D5DB"}})}),n.jsx("div",{style:{fontSize:"9px",fontWeight:d?700:400,color:d?r.color:"#9CA3AF",marginTop:"4px",textAlign:"center",whiteSpace:"nowrap"},children:s[l]})]}),c<i.length-1&&n.jsx("div",{style:{flex:1,height:"3px",backgroundColor:c<a?r.color:"#E5E7EB",transition:"background 0.3s",marginBottom:"18px",minWidth:"20px"}})]},l)})})}),n.jsx("div",{style:{padding:"20px 24px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px",borderBottom:"1px solid #F3F4F6"},children:[[" Nmero",e.numero],[" Carrier",e.carrier],[" Origen",e.origen],[" Destino",e.destino],[" Destinatario",e.destinatario],[" Peso",e.peso]].map(([l,c])=>n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"10px",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"3px"},children:l}),n.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#111"},children:c})]},l))}),n.jsxs("div",{style:{padding:"20px 24px"},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"14px"},children:"Historial"}),n.jsx("div",{style:{position:"relative"},children:e.eventos.map((l,c)=>{const d=Mk[l.tipo]||Mk.creado,f=c===0,p=d.icon;return n.jsxs("div",{style:{display:"flex",gap:"14px",paddingBottom:"16px",position:"relative"},children:[c<e.eventos.length-1&&n.jsx("div",{style:{position:"absolute",left:"14px",top:"28px",bottom:0,width:"2px",backgroundColor:"#F3F4F6"}}),n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:f?d.color:"#F3F4F6",border:`2px solid ${f?d.color:"#E5E7EB"}`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,zIndex:1},children:n.jsx(p,{size:12,color:f?"#fff":"#9CA3AF"})}),n.jsxs("div",{style:{flex:1,paddingTop:"4px"},children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:f?700:500,color:f?"#111":"#374151"},children:l.descripcion}),n.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"2px"},children:[l.ubicacion,"  ",l.fecha,", ",l.hora]})]})]},c)})})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px 20px",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx(Kr,{size:18,color:Vs,style:{flexShrink:0}}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"2px"},children:"Link de tracking pblico para el destinatario"}),n.jsxs("div",{style:{fontSize:"12px",color:"#2563EB",fontFamily:"monospace",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["https://tutienda.com/tracking/",e.numero]})]}),n.jsxs("button",{onClick:t,style:{display:"flex",alignItems:"center",gap:"6px",padding:"7px 14px",border:`1.5px solid ${Vs}`,borderRadius:"8px",backgroundColor:"transparent",color:Vs,fontSize:"12px",fontWeight:700,cursor:"pointer",flexShrink:0},children:[n.jsx(ho,{size:13})," Copiar link"]})]})]})}const N8e=["ENV-15000-001","AND789012","ENV-15001-001","CA123456789AR"];function L8e({onNavigate:e}){const[t,r]=A.useState(""),[o,i]=A.useState(null),[a,s]=A.useState(!1),[l,c]=A.useState(!1),[d,f]=A.useState(!1),[p,h]=A.useState(null),x=async y=>{const b=y.trim();if(b){f(!0),h(null),s(!1);try{const v=await M8e(b),C={numero:v.numero||v.codigo,trackingExterno:v.tracking_externo||"",carrier:v.carrier||"",estado:v.estado||"",estadoTipo:v.estado_tipo||"creado",origen:v.origen||"",destino:v.destino||"",destinatario:v.destinatario||"",peso:v.peso||"",fechaEstimada:v.fecha_estimada||"",eventos:(v.eventos||[]).map(S=>({fecha:S.fecha?new Date(S.fecha).toLocaleDateString("es-AR",{day:"numeric",month:"short"}):"",hora:S.hora||(S.fecha?new Date(S.fecha).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}):""),tipo:S.tipo||"info",descripcion:S.descripcion,ubicacion:S.ubicacion||S.lugar||""}))};i(C),s(!1)}catch(v){i(null),s(!0),h(v instanceof Error?v.message:"Error buscando envo"),console.error("Error buscando tracking:",v)}finally{f(!1)}}},m=()=>{c(!0),setTimeout(()=>c(!1),2e3)};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Dn,title:"Tracking Pblico",subtitle:"Seguimiento de envos para destinatarios  Pgina pblica de consulta",actions:[{label:" Logstica",onClick:()=>e("logistica")},{label:" Ver pgina pblica",primary:!0}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA",padding:"28px 20px"},children:[n.jsx("div",{style:{maxWidth:"640px",margin:"0 auto 24px"},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",padding:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.06)"},children:[n.jsx("h2",{style:{margin:"0 0 6px",fontSize:"18px",fontWeight:800,color:"#111"},children:"Dnde est mi paquete?"}),n.jsx("p",{style:{margin:"0 0 18px",fontSize:"13px",color:"#6B7280"},children:"Ingres el nmero de envo o cdigo de seguimiento del carrier"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("div",{style:{position:"relative",flex:1},children:[n.jsx(tr,{size:16,color:"#9CA3AF",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:t,onChange:y=>r(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(t),placeholder:"Ej: ENV-15000-001 o CA123456789AR",style:{width:"100%",paddingLeft:"44px",paddingRight:"14px",paddingTop:"12px",paddingBottom:"12px",border:"1.5px solid #E5E7EB",borderRadius:"10px",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("button",{onClick:()=>x(t),disabled:d,style:{padding:"12px 22px",border:"none",borderRadius:"10px",backgroundColor:d?"#9CA3AF":Vs,color:"#fff",fontSize:"14px",fontWeight:700,cursor:d?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[d?n.jsx(ur,{size:15,style:{animation:"spin 1s linear infinite"}}):n.jsx(tr,{size:15})," ",d?"Buscando...":"Buscar"]})]}),n.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"6px",flexWrap:"wrap",alignItems:"center"},children:[n.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:"Ejemplos:"}),N8e.map(y=>n.jsx("button",{onClick:()=>{r(y),x(y)},style:{fontSize:"11px",fontWeight:600,color:"#2563EB",backgroundColor:"#EFF6FF",padding:"3px 8px",borderRadius:"6px",border:"none",cursor:"pointer",fontFamily:"monospace"},children:y},y))]})]})}),o&&!d&&n.jsx($8e,{data:o,onCopy:m}),a&&!d&&n.jsxs("div",{style:{maxWidth:"480px",margin:"0 auto",textAlign:"center",padding:"40px 24px"},children:[n.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#FEE2E2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:n.jsx(Rt,{size:28,color:"#DC2626"})}),n.jsx("h3",{style:{margin:"0 0 8px",fontSize:"16px",fontWeight:800,color:"#111"},children:"Envo no encontrado"}),n.jsxs("p",{style:{margin:"0 0 20px",fontSize:"13px",color:"#6B7280",lineHeight:"1.6"},children:["No encontramos un envo con el nmero ",n.jsxs("strong",{children:['"',t,'"']}),". Verific el nmero e intent de nuevo."]}),n.jsx("button",{onClick:()=>{r(""),s(!1)},style:{padding:"10px 24px",border:`1.5px solid ${Vs}`,borderRadius:"8px",backgroundColor:"transparent",color:Vs,fontSize:"13px",fontWeight:700,cursor:"pointer"},children:"Buscar otro"})]}),!o&&!a&&!d&&n.jsxs("div",{style:{maxWidth:"640px",margin:"0 auto"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Cmo funciona el tracking pblico"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[{icon:Kr,title:"Pgina pblica",desc:"Los destinatarios pueden ver el estado sin loguearse"},{icon:gb,title:"Notificaciones",desc:"Email y WhatsApp automticos en cada cambio de estado"},{icon:Ro,title:"QR de seguimiento",desc:"QR en cada paquete para escaneo inmediato"},{icon:Di,title:"Tiempo real",desc:"El estado se actualiza automticamente con el carrier"}].map(y=>{const b=y.icon;return n.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[n.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"10px",backgroundColor:"#FFF4EC",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(b,{size:16,color:Vs})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#111"},children:y.title}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"2px",lineHeight:"1.4"},children:y.desc})]})]},y.title)})})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Notificaciones automticas al destinatario"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[{estado:" Despachado",activo:!0,canales:"Email + WhatsApp"},{estado:" En reparto",activo:!0,canales:"WhatsApp"},{estado:" Entregado",activo:!0,canales:"Email + WhatsApp"},{estado:" Intento fallido",activo:!0,canales:"Email + WhatsApp + SMS"}].map(y=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 14px",backgroundColor:"#F9FAFB",borderRadius:"8px"},children:[n.jsx("span",{style:{fontSize:"13px",flex:1},children:y.estado}),n.jsx("span",{style:{fontSize:"11px",color:"#6B7280"},children:y.canales}),n.jsx("div",{style:{width:"32px",height:"18px",borderRadius:"9px",backgroundColor:y.activo?Vs:"#E5E7EB",display:"flex",alignItems:"center",padding:"0 2px",justifyContent:y.activo?"flex-end":"flex-start"},children:n.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:"#fff"}})})]},y.estado))})]})]}),l&&n.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#111",color:"#fff",padding:"10px 18px",borderRadius:"10px",fontSize:"13px",fontWeight:600,zIndex:999},children:" Link copiado al portapapeles"})]})]})}const Ko="#FF6835",$l=[{id:"k1",keyword:"ropa online argentina",posicion:4,posicionAnterior:7,volumeMensual:18e3,dificultad:72,ctr:3.2,impressiones:42e3,clics:1344,url:"/tienda/ropa"},{id:"k2",keyword:"comprar remeras al por mayor",posicion:2,posicionAnterior:3,volumeMensual:5400,dificultad:58,ctr:8.7,impressiones:12e3,clics:1044,url:"/mayorista"},{id:"k3",keyword:"marketplace segunda mano",posicion:11,posicionAnterior:9,volumeMensual:9800,dificultad:65,ctr:.8,impressiones:28e3,clics:224,url:"/segunda-mano"},{id:"k4",keyword:"zapatillas deportivas mujer",posicion:6,posicionAnterior:6,volumeMensual:22e3,dificultad:80,ctr:2.1,impressiones:55e3,clics:1155,url:"/calzado/mujer"},{id:"k5",keyword:"indumentaria de trabajo",posicion:1,posicionAnterior:2,volumeMensual:7200,dificultad:45,ctr:14.2,impressiones:16e3,clics:2272,url:"/trabajo"},{id:"k6",keyword:"canasta navidea empresas",posicion:3,posicionAnterior:5,volumeMensual:12e3,dificultad:52,ctr:6.5,impressiones:28e3,clics:1820,url:"/canastas"},{id:"k7",keyword:"kit regalo corporativo",posicion:8,posicionAnterior:8,volumeMensual:4300,dificultad:48,ctr:1.4,impressiones:9800,clics:137,url:"/kits"},{id:"k8",keyword:"envios a todo el pais",posicion:15,posicionAnterior:20,volumeMensual:8800,dificultad:70,ctr:.4,impressiones:22e3,clics:88,url:"/envios"}],D0=[{id:"p1",titulo:"Tienda de Ropa Online | Charlie Marketplace",url:"/tienda/ropa",score:88,problemas:[],keywords:["ropa online","moda argentina"],traficoOrganico:2840,posicionPromedio:4.2},{id:"p2",titulo:"Compra al Por Mayor | Mayorista",url:"/mayorista",score:76,problemas:["Meta description muy corta","Faltan keywords en H2"],keywords:["ropa mayorista","comprar al por mayor"],traficoOrganico:1890,posicionPromedio:2.8},{id:"p3",titulo:"Segunda Mano  Artculos Usados",url:"/segunda-mano",score:61,problemas:["Velocidad de carga alta (4.2s)","Falta schema markup","Imgenes sin alt text"],keywords:["segunda mano","artculos usados"],traficoOrganico:780,posicionPromedio:11.3},{id:"p4",titulo:"Indumentaria de Trabajo y Seguridad",url:"/trabajo",score:94,problemas:[],keywords:["ropa de trabajo","indumentaria industrial"],traficoOrganico:3120,posicionPromedio:1.4},{id:"p5",titulo:"Canastas y Kits de Regalo Corporativo",url:"/canastas",score:82,problemas:["Ttulo demasiado largo (72 car.)"],keywords:["canasta navidea","kit regalo empresa"],traficoOrganico:2240,posicionPromedio:3.1}],W8e=[{id:"b1",dominio:"mercadolibre.com.ar",url:"https://vendedores.mercadolibre.com.ar/...",autoridad:92,tipo:"dofollow",estado:"activo",fechaDeteccion:"15/01/2024"},{id:"b2",dominio:"lanacion.com.ar",url:"https://lanacion.com.ar/economia/...",autoridad:88,tipo:"dofollow",estado:"activo",fechaDeteccion:"10/01/2024"},{id:"b3",dominio:"infobae.com",url:"https://infobae.com/...",autoridad:85,tipo:"nofollow",estado:"activo",fechaDeteccion:"05/01/2024"},{id:"b4",dominio:"pyme.com.ar",url:"https://pyme.com.ar/moda/...",autoridad:52,tipo:"dofollow",estado:"nuevo",fechaDeteccion:"17/01/2024"},{id:"b5",dominio:"modaargentina.net",url:"https://modaargentina.net/...",autoridad:38,tipo:"dofollow",estado:"perdido",fechaDeteccion:"01/12/2023"},{id:"b6",dominio:"blogmoda.ar",url:"https://blogmoda.ar/...",autoridad:29,tipo:"dofollow",estado:"activo",fechaDeteccion:"20/12/2023"}],V8e=[{cat:"Tcnico",label:"Core Web Vitals  LCP",valor:"1.8s",estado:"ok",desc:"Buen rendimiento  menor a 2.5s"},{cat:"Tcnico",label:"Core Web Vitals  CLS",valor:"0.03",estado:"ok",desc:"Sin cambios de layout inesperados"},{cat:"Tcnico",label:"Core Web Vitals  FID",valor:"12ms",estado:"ok",desc:"Respuesta interactiva excelente"},{cat:"Tcnico",label:"Velocidad mobile",valor:"62/100",estado:"warn",desc:"Mejorable  optimizar imgenes"},{cat:"Tcnico",label:"HTTPS",valor:"",estado:"ok",desc:"SSL activo y vlido"},{cat:"Contenido",label:"Pginas sin meta description",valor:"12",estado:"warn",desc:"12 URLs sin meta description"},{cat:"Contenido",label:"Imgenes sin alt text",valor:"38",estado:"error",desc:"38 imgenes sin texto alternativo"},{cat:"Contenido",label:"Contenido duplicado",valor:"3 pg.",estado:"warn",desc:"3 pginas con contenido similar"},{cat:"Tcnico",label:"Sitemap XML",valor:"",estado:"ok",desc:"Actualizado  248 URLs indexadas"},{cat:"Tcnico",label:"Robots.txt",valor:"",estado:"ok",desc:"Configurado correctamente"},{cat:"Backlinks",label:"Domain Authority (DA)",valor:"41/100",estado:"warn",desc:"Creciendo  objetivo: 55+ en 6 meses"},{cat:"Backlinks",label:"Backlinks totales",valor:"1.248",estado:"ok",desc:"Perfil sano de backlinks"}];function U8e({actual:e,anterior:t}){return e<t?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2px",color:"#059669",fontSize:"11px",fontWeight:700},children:[n.jsx(hb,{size:11}),"+",t-e]}):e>t?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2px",color:"#DC2626",fontSize:"11px",fontWeight:700},children:[n.jsx(u8,{size:11}),"-",e-t]}):n.jsx("div",{style:{color:"#9CA3AF",fontSize:"11px"},children:n.jsx(bb,{size:11})})}function $k({score:e}){const t=e>=90?"#059669":e>=70?"#D97706":"#DC2626";return n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",border:`3px solid ${t}`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx("span",{style:{fontSize:"12px",fontWeight:800,color:t},children:e})})}function q8e({onNavigate:e}){const[t,r]=A.useState("overview"),[o,i]=A.useState(""),[a,s]=A.useState(null),l=$l.reduce((h,x)=>h+x.clics,0),c=$l.reduce((h,x)=>h+x.impressiones,0),d=(l/c*100).toFixed(1),f=($l.reduce((h,x)=>h+x.posicion,0)/$l.length).toFixed(1),p=Math.round(D0.reduce((h,x)=>h+x.score,0)/D0.length);return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:tr,title:"SEO",subtitle:`${$l.length} keywords monitoreadas  ${l.toLocaleString()} clics/mes  CTR promedio ${d}%`,actions:[{label:" Marketing",onClick:()=>e("marketing")},{label:" Sincronizar GSC",primary:!0}]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5,1fr)",gap:"12px",padding:"16px 20px 0"},children:[{label:"Clics Orgnicos",value:l.toLocaleString(),sub:"/mes",icon:yr,color:Ko},{label:"Impressiones",value:`${(c/1e3).toFixed(0)}K`,sub:"/mes",icon:Kr,color:"#2563EB"},{label:"CTR Promedio",value:`${d}%`,sub:"click-through rate",icon:lg,color:"#7C3AED"},{label:"Posicin Media",value:`#${f}`,sub:"ranking promedio",icon:x8,color:"#D97706"},{label:"Health Score",value:`${p}/100`,sub:"estado on-page",icon:pt,color:p>=80?"#059669":"#DC2626"}].map(h=>{const x=h.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"16px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{fontSize:"11px",color:"#6B7280"},children:h.label}),n.jsx(x,{size:14,color:h.color})]}),n.jsx("div",{style:{fontSize:"22px",fontWeight:800,color:"#111"},children:h.value}),n.jsx("div",{style:{fontSize:"10px",color:"#9CA3AF",marginTop:"2px"},children:h.sub})]},h.label)})}),n.jsx("div",{style:{display:"flex",padding:"12px 20px 0",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",marginTop:"12px"},children:[["overview"," Overview"],["keywords"," Keywords"],["paginas"," Pginas"],["backlinks"," Backlinks"],["salud"," Salud SEO"]].map(([h,x])=>n.jsx("button",{onClick:()=>r(h),style:{padding:"10px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",fontWeight:t===h?700:500,color:t===h?Ko:"#6B7280",borderBottom:t===h?`2px solid ${Ko}`:"2px solid transparent"},children:x},h))}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 20px"},children:[t==="overview"&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Top Keywords por Clics"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[...$l].sort((h,x)=>x.clics-h.clics).slice(0,5).map(h=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"8px",backgroundColor:h.posicion<=3?"#ECFDF5":h.posicion<=10?"#FFF4EC":"#FEF2F2",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsxs("span",{style:{fontSize:"11px",fontWeight:800,color:h.posicion<=3?"#059669":h.posicion<=10?Ko:"#DC2626"},children:["#",h.posicion]})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#111",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.keyword}),n.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#F3F4F6",borderRadius:"2px",marginTop:"4px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${Math.min(100,h.clics/2500*100)}%`,height:"100%",backgroundColor:Ko,borderRadius:"2px"}})})]}),n.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#374151",flexShrink:0},children:h.clics.toLocaleString()})]},h.id))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Salud de Pginas"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:D0.map(h=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx($k,{score:h.score}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#111",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.titulo}),n.jsx("div",{style:{fontSize:"10px",color:"#9CA3AF"},children:h.problemas.length===0?" Sin problemas":` ${h.problemas.length} problema${h.problemas.length>1?"s":""}`})]})]},h.id))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px",gridColumn:"1 / -1"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[n.jsx(pt,{size:16,color:Ko}),n.jsx("h3",{style:{margin:0,fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Sugerencias IA para mejorar el posicionamiento"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[{prio:"",titulo:"Agregar alt text a 38 imgenes",desc:"Impacto alto en rankings de imgenes y accesibilidad",accion:"Generar con IA"},{prio:"",titulo:"Optimizar meta descriptions",desc:"12 pginas sin meta  CTR puede subir 2-3%",accion:"Sugerir con IA"},{prio:"",titulo:"Mejorar velocidad mobile",desc:"Comprimir imgenes > 200KB para ganar 1.2s",accion:"Optimizar"},{prio:"",titulo:"Publicar 3 artculos de blog",desc:"Keywords de cola larga sin contenido an",accion:"Redactar con IA"},{prio:"",titulo:"Agregar schema markup",desc:"Rich snippets aumentan CTR en 15% promedio",accion:"Implementar"},{prio:"",titulo:"Construir 5 backlinks nuevos",desc:"DA 40+ con guest posts en medios especializados",accion:"Ver oportunidades"}].map(h=>n.jsxs("div",{style:{padding:"12px 14px",backgroundColor:"#F9FAFB",borderRadius:"10px",border:"1px solid #E5E7EB"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",marginBottom:"6px"},children:[n.jsx("span",{style:{fontSize:"14px",flexShrink:0},children:h.prio}),n.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#111",lineHeight:"1.4"},children:h.titulo})]}),n.jsx("p",{style:{margin:"0 0 10px",fontSize:"11px",color:"#6B7280",lineHeight:"1.4"},children:h.desc}),n.jsx("button",{style:{fontSize:"11px",fontWeight:700,color:Ko,backgroundColor:"#FFF4EC",border:`1px solid ${Ko}40`,padding:"4px 10px",borderRadius:"6px",cursor:"pointer"},children:h.accion})]},h.titulo))})]})]}),t==="keywords"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"14px",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"300px"},children:[n.jsx(tr,{size:13,color:"#9CA3AF",style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:o,onChange:h=>i(h.target.value),placeholder:"Filtrar keywords...",style:{width:"100%",paddingLeft:"30px",paddingRight:"10px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"12px",outline:"none",boxSizing:"border-box"}})]}),n.jsxs("button",{style:{padding:"8px 14px",border:"none",borderRadius:"8px",backgroundColor:Ko,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Nt,{size:13})," Agregar keyword"]})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Keyword","Posicin","Cambio","Volumen/mes","Dificultad","CTR","Clics","URL"].map(h=>n.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontSize:"11px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #E5E7EB",whiteSpace:"nowrap"},children:h},h))})}),n.jsx("tbody",{children:$l.filter(h=>!o||h.keyword.includes(o.toLowerCase())).map((h,x)=>{const m=h.posicion<=3?"#059669":h.posicion<=10?Ko:"#DC2626",y=h.dificultad>=70?"#DC2626":h.dificultad>=50?"#D97706":"#059669";return n.jsxs("tr",{style:{borderBottom:x<$l.length-1?"1px solid #F3F4F6":"none"},children:[n.jsx("td",{style:{padding:"12px 14px",fontSize:"13px",fontWeight:600,color:"#111",maxWidth:"220px"},children:n.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.keyword})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"34px",height:"26px",borderRadius:"8px",backgroundColor:`${m}18`,fontSize:"13px",fontWeight:800,color:m},children:["#",h.posicion]})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx(U8e,{actual:h.posicion,anterior:h.posicionAnterior})}),n.jsx("td",{style:{padding:"12px 14px",fontSize:"12px",color:"#374151",fontWeight:500},children:h.volumeMensual.toLocaleString()}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("div",{style:{flex:1,maxWidth:"60px",height:"5px",backgroundColor:"#F3F4F6",borderRadius:"3px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${h.dificultad}%`,height:"100%",backgroundColor:y,borderRadius:"3px"}})}),n.jsx("span",{style:{fontSize:"11px",color:y,fontWeight:700},children:h.dificultad})]})}),n.jsxs("td",{style:{padding:"12px 14px",fontSize:"12px",color:"#374151"},children:[h.ctr,"%"]}),n.jsx("td",{style:{padding:"12px 14px",fontSize:"13px",fontWeight:700,color:"#111"},children:h.clics.toLocaleString()}),n.jsx("td",{style:{padding:"12px 14px",fontSize:"11px",color:"#6B7280",maxWidth:"120px"},children:n.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.url})})]},h.id)})})]})})]}),t==="paginas"&&n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"10px"},children:D0.map(h=>n.jsx("div",{onClick:()=>s(h.id===(a==null?void 0:a.id)?null:h),style:{backgroundColor:"#fff",borderRadius:"12px",border:`1.5px solid ${(a==null?void 0:a.id)===h.id?Ko:"#E5E7EB"}`,padding:"16px 20px",cursor:"pointer",boxShadow:(a==null?void 0:a.id)===h.id?`0 0 0 3px ${Ko}22`:"none",transition:"all 0.15s"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[n.jsx($k,{score:h.score}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#111",marginBottom:"3px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.titulo}),n.jsx("div",{style:{fontSize:"11px",color:"#2563EB",marginBottom:"4px"},children:h.url}),n.jsxs("div",{style:{display:"flex",gap:"14px",fontSize:"11px",color:"#6B7280",flexWrap:"wrap"},children:[n.jsxs("span",{children:[" ",h.traficoOrganico.toLocaleString()," visitas/mes"]}),n.jsxs("span",{children:[" Pos. media #",h.posicionPromedio]}),h.problemas.length>0&&n.jsxs("span",{style:{color:"#D97706"},children:[" ",h.problemas.length," problema",h.problemas.length>1?"s":""]}),h.problemas.length===0&&n.jsx("span",{style:{color:"#059669"},children:" Sin problemas"})]})]})]})},h.id))}),a&&n.jsxs("div",{style:{width:"300px",flexShrink:0,backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px",height:"fit-content"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[n.jsx($k,{score:a.score}),n.jsx("div",{style:{flex:1,minWidth:0},children:n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#111",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.url})})]}),a.problemas.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("h4",{style:{margin:"0 0 10px",fontSize:"12px",fontWeight:700,color:"#D97706",textTransform:"uppercase",letterSpacing:"0.05em"},children:" Problemas detectados"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:"14px"},children:a.problemas.map((h,x)=>n.jsx("div",{style:{fontSize:"12px",color:"#D97706",padding:"6px 10px",backgroundColor:"#FFFBEB",borderRadius:"6px",border:"1px solid #FDE68A"},children:h},x))})]}),n.jsx("h4",{style:{margin:"0 0 10px",fontSize:"12px",fontWeight:700,color:"#374151",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Keywords posicionadas"}),n.jsx("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:a.keywords.map(h=>n.jsx("span",{style:{fontSize:"11px",color:"#374151",backgroundColor:"#F3F4F6",padding:"3px 8px",borderRadius:"6px",border:"1px solid #E5E7EB"},children:h},h))}),n.jsx("button",{style:{marginTop:"14px",width:"100%",padding:"9px",border:"none",borderRadius:"8px",backgroundColor:Ko,color:"#fff",fontSize:"12px",fontWeight:700,cursor:"pointer"},children:"Optimizar con IA"})]})]}),t==="backlinks"&&n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:W8e.map(h=>{const x={activo:{color:"#059669",bg:"#ECFDF5",label:" Activo"},perdido:{color:"#DC2626",bg:"#FEF2F2",label:" Perdido"},nuevo:{color:"#2563EB",bg:"#EFF6FF",label:" Nuevo"}}[h.estado];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"14px 20px",display:"flex",alignItems:"center",gap:"14px"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"20px"},children:""}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"3px",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:"#111"},children:h.dominio}),n.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:x.color,backgroundColor:x.bg,padding:"2px 8px",borderRadius:"10px"},children:x.label}),n.jsx("span",{style:{fontSize:"10px",color:h.tipo==="dofollow"?"#059669":"#9CA3AF",backgroundColor:h.tipo==="dofollow"?"#ECFDF5":"#F3F4F6",padding:"2px 6px",borderRadius:"6px",fontWeight:600},children:h.tipo})]}),n.jsx("div",{style:{fontSize:"11px",color:"#2563EB",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.url}),n.jsxs("div",{style:{fontSize:"10px",color:"#9CA3AF",marginTop:"2px"},children:["Detectado: ",h.fechaDeteccion]})]}),n.jsxs("div",{style:{textAlign:"center",flexShrink:0},children:[n.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:h.autoridad>=70?"#059669":h.autoridad>=40?"#D97706":"#DC2626"},children:h.autoridad}),n.jsx("div",{style:{fontSize:"9px",color:"#9CA3AF",textTransform:"uppercase"},children:"DA"})]})]},h.id)})}),t==="salud"&&n.jsx("div",{style:{maxWidth:"800px"},children:["Tcnico","Contenido","Backlinks"].map(h=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px",marginBottom:"14px"},children:[n.jsx("h3",{style:{margin:"0 0 14px",fontSize:"13px",fontWeight:800,color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:h}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:V8e.filter(x=>x.cat===h).map(x=>{const[m,y,b]=x.estado==="ok"?[ct,"#059669","#ECFDF5"]:x.estado==="warn"?[Jt,"#D97706","#FFFBEB"]:[Jt,"#DC2626","#FEF2F2"],v=m;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 14px",backgroundColor:"#F9FAFB",borderRadius:"8px",border:`1px solid ${x.estado==="error"?"#FCA5A5":x.estado==="warn"?"#FDE68A":"#E5E7EB"}`},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:b,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(v,{size:15,color:y})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#111"},children:x.label}),n.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"1px"},children:x.desc})]}),n.jsx("div",{style:{fontSize:"14px",fontWeight:800,color:y,flexShrink:0},children:x.valor})]},x.label)})})]},h))})]})]})]})}function bn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,o;r<e.length;r++)(o=bn(e[r]))!==""&&(t+=(t&&" ")+o);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var H8e={value:()=>{}};function Sv(){for(var e=0,t=arguments.length,r={},o;e<t;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Ey(r)}function Ey(e){this._=e}function G8e(e,t){return e.trim().split(/^|\s+/).map(function(r){var o="",i=r.indexOf(".");if(i>=0&&(o=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Ey.prototype=Sv.prototype={constructor:Ey,on:function(e,t){var r=this._,o=G8e(e+"",r),i,a=-1,s=o.length;if(arguments.length<2){for(;++a<s;)if((i=(e=o[a]).type)&&(i=K8e(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=o[a]).type)r[i]=Z$(r[i],e.name,t);else if(t==null)for(i in r)r[i]=Z$(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ey(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),o=0,i,a;o<i;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],o=0,i=a.length;o<i;++o)a[o].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(t,r)}};function K8e(e,t){for(var r=0,o=e.length,i;r<o;++r)if((i=e[r]).name===t)return i.value}function Z$(e,t,r){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=H8e,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:t,value:r}),e}var _5="http://www.w3.org/1999/xhtml";const eN={svg:"http://www.w3.org/2000/svg",xhtml:_5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wv(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),eN.hasOwnProperty(t)?{space:eN[t],local:e}:e}function Y8e(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===_5&&t.documentElement.namespaceURI===_5?t.createElement(e):t.createElementNS(r,e)}}function X8e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function rK(e){var t=wv(e);return(t.local?X8e:Y8e)(t)}function J8e(){}function _6(e){return e==null?J8e:function(){return this.querySelector(e)}}function Q8e(e){typeof e!="function"&&(e=_6(e));for(var t=this._groups,r=t.length,o=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=o[i]=new Array(s),c,d,f=0;f<s;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d);return new ui(o,this._parents)}function Z8e(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function e_e(){return[]}function nK(e){return e==null?e_e:function(){return this.querySelectorAll(e)}}function t_e(e){return function(){return Z8e(e.apply(this,arguments))}}function r_e(e){typeof e=="function"?e=t_e(e):e=nK(e);for(var t=this._groups,r=t.length,o=[],i=[],a=0;a<r;++a)for(var s=t[a],l=s.length,c,d=0;d<l;++d)(c=s[d])&&(o.push(e.call(c,c.__data__,d,s)),i.push(c));return new ui(o,i)}function oK(e){return function(){return this.matches(e)}}function iK(e){return function(t){return t.matches(e)}}var n_e=Array.prototype.find;function o_e(e){return function(){return n_e.call(this.children,e)}}function i_e(){return this.firstElementChild}function a_e(e){return this.select(e==null?i_e:o_e(typeof e=="function"?e:iK(e)))}var s_e=Array.prototype.filter;function l_e(){return Array.from(this.children)}function c_e(e){return function(){return s_e.call(this.children,e)}}function d_e(e){return this.selectAll(e==null?l_e:c_e(typeof e=="function"?e:iK(e)))}function u_e(e){typeof e!="function"&&(e=oK(e));for(var t=this._groups,r=t.length,o=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=o[i]=[],c,d=0;d<s;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&l.push(c);return new ui(o,this._parents)}function aK(e){return new Array(e.length)}function p_e(){return new ui(this._enter||this._groups.map(aK),this._parents)}function Y1(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Y1.prototype={constructor:Y1,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function f_e(e){return function(){return e}}function h_e(e,t,r,o,i,a){for(var s=0,l,c=t.length,d=a.length;s<d;++s)(l=t[s])?(l.__data__=a[s],o[s]=l):r[s]=new Y1(e,a[s]);for(;s<c;++s)(l=t[s])&&(i[s]=l)}function g_e(e,t,r,o,i,a,s){var l,c,d=new Map,f=t.length,p=a.length,h=new Array(f),x;for(l=0;l<f;++l)(c=t[l])&&(h[l]=x=s.call(c,c.__data__,l,t)+"",d.has(x)?i[l]=c:d.set(x,c));for(l=0;l<p;++l)x=s.call(e,a[l],l,a)+"",(c=d.get(x))?(o[l]=c,c.__data__=a[l],d.delete(x)):r[l]=new Y1(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&d.get(h[l])===c&&(i[l]=c)}function x_e(e){return e.__data__}function m_e(e,t){if(!arguments.length)return Array.from(this,x_e);var r=t?g_e:h_e,o=this._parents,i=this._groups;typeof e!="function"&&(e=f_e(e));for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),d=0;d<a;++d){var f=o[d],p=i[d],h=p.length,x=y_e(e.call(f,f&&f.__data__,d,o)),m=x.length,y=l[d]=new Array(m),b=s[d]=new Array(m),v=c[d]=new Array(h);r(f,p,y,b,v,x,t);for(var C=0,S=0,F,w;C<m;++C)if(F=y[C]){for(C>=S&&(S=C+1);!(w=b[S])&&++S<m;);F._next=w||null}}return s=new ui(s,o),s._enter=l,s._exit=c,s}function y_e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function b_e(){return new ui(this._exit||this._groups.map(aK),this._parents)}function v_e(e,t,r){var o=this.enter(),i=this,a=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),o&&i?o.merge(i).order():i}function j_e(e){for(var t=e.selection?e.selection():e,r=this._groups,o=t._groups,i=r.length,a=o.length,s=Math.min(i,a),l=new Array(i),c=0;c<s;++c)for(var d=r[c],f=o[c],p=d.length,h=l[c]=new Array(p),x,m=0;m<p;++m)(x=d[m]||f[m])&&(h[m]=x);for(;c<i;++c)l[c]=r[c];return new ui(l,this._parents)}function S_e(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o=e[t],i=o.length-1,a=o[i],s;--i>=0;)(s=o[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function w_e(e){e||(e=E_e);function t(p,h){return p&&h?e(p.__data__,h.__data__):!p-!h}for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a){for(var s=r[a],l=s.length,c=i[a]=new Array(l),d,f=0;f<l;++f)(d=s[f])&&(c[f]=d);c.sort(t)}return new ui(i,this._parents).order()}function E_e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function C_e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function k_e(){return Array.from(this)}function F_e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],i=0,a=o.length;i<a;++i){var s=o[i];if(s)return s}return null}function A_e(){let e=0;for(const t of this)++e;return e}function __e(){return!this.node()}function R_e(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var i=t[r],a=0,s=i.length,l;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function T_e(e){return function(){this.removeAttribute(e)}}function P_e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function z_e(e,t){return function(){this.setAttribute(e,t)}}function B_e(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function I_e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function O_e(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function D_e(e,t){var r=wv(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((t==null?r.local?P_e:T_e:typeof t=="function"?r.local?O_e:I_e:r.local?B_e:z_e)(r,t))}function sK(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function M_e(e){return function(){this.style.removeProperty(e)}}function $_e(e,t,r){return function(){this.style.setProperty(e,t,r)}}function N_e(e,t,r){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function L_e(e,t,r){return arguments.length>1?this.each((t==null?M_e:typeof t=="function"?N_e:$_e)(e,t,r??"")):Lp(this.node(),e)}function Lp(e,t){return e.style.getPropertyValue(t)||sK(e).getComputedStyle(e,null).getPropertyValue(t)}function W_e(e){return function(){delete this[e]}}function V_e(e,t){return function(){this[e]=t}}function U_e(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function q_e(e,t){return arguments.length>1?this.each((t==null?W_e:typeof t=="function"?U_e:V_e)(e,t)):this.node()[e]}function lK(e){return e.trim().split(/^|\s+/)}function R6(e){return e.classList||new cK(e)}function cK(e){this._node=e,this._names=lK(e.getAttribute("class")||"")}cK.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function dK(e,t){for(var r=R6(e),o=-1,i=t.length;++o<i;)r.add(t[o])}function uK(e,t){for(var r=R6(e),o=-1,i=t.length;++o<i;)r.remove(t[o])}function H_e(e){return function(){dK(this,e)}}function G_e(e){return function(){uK(this,e)}}function K_e(e,t){return function(){(t.apply(this,arguments)?dK:uK)(this,e)}}function Y_e(e,t){var r=lK(e+"");if(arguments.length<2){for(var o=R6(this.node()),i=-1,a=r.length;++i<a;)if(!o.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?K_e:t?H_e:G_e)(r,t))}function X_e(){this.textContent=""}function J_e(e){return function(){this.textContent=e}}function Q_e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Z_e(e){return arguments.length?this.each(e==null?X_e:(typeof e=="function"?Q_e:J_e)(e)):this.node().textContent}function e6e(){this.innerHTML=""}function t6e(e){return function(){this.innerHTML=e}}function r6e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function n6e(e){return arguments.length?this.each(e==null?e6e:(typeof e=="function"?r6e:t6e)(e)):this.node().innerHTML}function o6e(){this.nextSibling&&this.parentNode.appendChild(this)}function i6e(){return this.each(o6e)}function a6e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s6e(){return this.each(a6e)}function l6e(e){var t=typeof e=="function"?e:rK(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function c6e(){return null}function d6e(e,t){var r=typeof e=="function"?e:rK(e),o=t==null?c6e:typeof t=="function"?t:_6(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function u6e(){var e=this.parentNode;e&&e.removeChild(this)}function p6e(){return this.each(u6e)}function f6e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function h6e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function g6e(e){return this.select(e?h6e:f6e)}function x6e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function m6e(e){return function(t){e.call(this,t,this.__data__)}}function y6e(e){return e.trim().split(/^|\s+/).map(function(t){var r="",o=t.indexOf(".");return o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),{type:t,name:r}})}function b6e(e){return function(){var t=this.__on;if(t){for(var r=0,o=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++o]=a;++o?t.length=o:delete this.__on}}}function v6e(e,t,r){return function(){var o=this.__on,i,a=m6e(t);if(o){for(var s=0,l=o.length;s<l;++s)if((i=o[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},o?o.push(i):this.__on=[i]}}function j6e(e,t,r){var o=y6e(e+""),i,a=o.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,f;c<d;++c)for(i=0,f=l[c];i<a;++i)if((s=o[i]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?v6e:b6e,i=0;i<a;++i)this.each(l(o[i],t,r));return this}function pK(e,t,r){var o=sK(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,r):(i=o.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function S6e(e,t){return function(){return pK(this,e,t)}}function w6e(e,t){return function(){return pK(this,e,t.apply(this,arguments))}}function E6e(e,t){return this.each((typeof t=="function"?w6e:S6e)(e,t))}function*C6e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],i=0,a=o.length,s;i<a;++i)(s=o[i])&&(yield s)}var fK=[null];function ui(e,t){this._groups=e,this._parents=t}function Ox(){return new ui([[document.documentElement]],fK)}function k6e(){return this}ui.prototype=Ox.prototype={constructor:ui,select:Q8e,selectAll:r_e,selectChild:a_e,selectChildren:d_e,filter:u_e,data:m_e,enter:p_e,exit:b_e,join:v_e,merge:j_e,selection:k6e,order:S_e,sort:w_e,call:C_e,nodes:k_e,node:F_e,size:A_e,empty:__e,each:R_e,attr:D_e,style:L_e,property:q_e,classed:Y_e,text:Z_e,html:n6e,raise:i6e,lower:s6e,append:l6e,insert:d6e,remove:p6e,clone:g6e,datum:x6e,on:j6e,dispatch:E6e,[Symbol.iterator]:C6e};function ii(e){return typeof e=="string"?new ui([[document.querySelector(e)]],[document.documentElement]):new ui([[e]],fK)}function F6e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function fa(e,t){if(e=F6e(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const A6e={passive:!1},Xg={capture:!0,passive:!1};function Nk(e){e.stopImmediatePropagation()}function up(e){e.preventDefault(),e.stopImmediatePropagation()}function hK(e){var t=e.document.documentElement,r=ii(e).on("dragstart.drag",up,Xg);"onselectstart"in t?r.on("selectstart.drag",up,Xg):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function gK(e,t){var r=e.document.documentElement,o=ii(e).on("dragstart.drag",null);t&&(o.on("click.drag",up,Xg),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const M0=e=>()=>e;function R5(e,{sourceEvent:t,subject:r,target:o,identifier:i,active:a,x:s,y:l,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}R5.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function _6e(e){return!e.ctrlKey&&!e.button}function R6e(){return this.parentNode}function T6e(e,t){return t??{x:e.x,y:e.y}}function P6e(){return navigator.maxTouchPoints||"ontouchstart"in this}function xK(){var e=_6e,t=R6e,r=T6e,o=P6e,i={},a=Sv("start","drag","end"),s=0,l,c,d,f,p=0;function h(F){F.on("mousedown.drag",x).filter(o).on("touchstart.drag",b).on("touchmove.drag",v,A6e).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(F,w){if(!(f||!e.call(this,F,w))){var k=S(this,t.call(this,F,w),F,w,"mouse");k&&(ii(F.view).on("mousemove.drag",m,Xg).on("mouseup.drag",y,Xg),hK(F.view),Nk(F),d=!1,l=F.clientX,c=F.clientY,k("start",F))}}function m(F){if(up(F),!d){var w=F.clientX-l,k=F.clientY-c;d=w*w+k*k>p}i.mouse("drag",F)}function y(F){ii(F.view).on("mousemove.drag mouseup.drag",null),gK(F.view,d),up(F),i.mouse("end",F)}function b(F,w){if(e.call(this,F,w)){var k=F.changedTouches,E=t.call(this,F,w),T=k.length,_,z;for(_=0;_<T;++_)(z=S(this,E,F,w,k[_].identifier,k[_]))&&(Nk(F),z("start",F,k[_]))}}function v(F){var w=F.changedTouches,k=w.length,E,T;for(E=0;E<k;++E)(T=i[w[E].identifier])&&(up(F),T("drag",F,w[E]))}function C(F){var w=F.changedTouches,k=w.length,E,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),E=0;E<k;++E)(T=i[w[E].identifier])&&(Nk(F),T("end",F,w[E]))}function S(F,w,k,E,T,_){var z=a.copy(),B=fa(_||k,w),P,D,I;if((I=r.call(F,new R5("beforestart",{sourceEvent:k,target:h,identifier:T,active:s,x:B[0],y:B[1],dx:0,dy:0,dispatch:z}),E))!=null)return P=I.x-B[0]||0,D=I.y-B[1]||0,function N(M,V,L){var W=B,G;switch(M){case"start":i[T]=N,G=s++;break;case"end":delete i[T],--s;case"drag":B=fa(L||V,w),G=s;break}z.call(M,F,new R5(M,{sourceEvent:V,subject:I,target:h,identifier:T,active:G,x:B[0]+P,y:B[1]+D,dx:B[0]-W[0],dy:B[1]-W[1],dispatch:z}),E)}}return h.filter=function(F){return arguments.length?(e=typeof F=="function"?F:M0(!!F),h):e},h.container=function(F){return arguments.length?(t=typeof F=="function"?F:M0(F),h):t},h.subject=function(F){return arguments.length?(r=typeof F=="function"?F:M0(F),h):r},h.touchable=function(F){return arguments.length?(o=typeof F=="function"?F:M0(!!F),h):o},h.on=function(){var F=a.on.apply(a,arguments);return F===a?h:F},h.clickDistance=function(F){return arguments.length?(p=(F=+F)*F,h):Math.sqrt(p)},h}var Wp=0,Ph=0,xh=0,mK=1e3,X1,zh,J1=0,_d=0,Ev=0,Jg=typeof performance=="object"&&performance.now?performance:Date,yK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function T6(){return _d||(yK(z6e),_d=Jg.now()+Ev)}function z6e(){_d=0}function Q1(){this._call=this._time=this._next=null}Q1.prototype=bK.prototype={constructor:Q1,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?T6():+r)+(t==null?0:+t),!this._next&&zh!==this&&(zh?zh._next=this:X1=this,zh=this),this._call=e,this._time=r,T5()},stop:function(){this._call&&(this._call=null,this._time=1/0,T5())}};function bK(e,t,r){var o=new Q1;return o.restart(e,t,r),o}function B6e(){T6(),++Wp;for(var e=X1,t;e;)(t=_d-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wp}function tN(){_d=(J1=Jg.now())+Ev,Wp=Ph=0;try{B6e()}finally{Wp=0,O6e(),_d=0}}function I6e(){var e=Jg.now(),t=e-J1;t>mK&&(Ev-=t,J1=e)}function O6e(){for(var e,t=X1,r,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:X1=r);zh=e,T5(o)}function T5(e){if(!Wp){Ph&&(Ph=clearTimeout(Ph));var t=e-_d;t>24?(e<1/0&&(Ph=setTimeout(tN,e-Jg.now()-Ev)),xh&&(xh=clearInterval(xh))):(xh||(J1=Jg.now(),xh=setInterval(I6e,mK)),Wp=1,yK(tN))}}function rN(e,t,r){var o=new Q1;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,r),o}var D6e=Sv("start","end","cancel","interrupt"),M6e=[],vK=0,nN=1,P5=2,Cy=3,oN=4,z5=5,ky=6;function Cv(e,t,r,o,i,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;$6e(e,r,{name:t,index:o,group:i,on:D6e,tween:M6e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vK})}function P6(e,t){var r=Ma(e,t);if(r.state>vK)throw new Error("too late; already scheduled");return r}function ys(e,t){var r=Ma(e,t);if(r.state>Cy)throw new Error("too late; already running");return r}function Ma(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function $6e(e,t,r){var o=e.__transition,i;o[t]=r,r.timer=bK(a,0,r.time);function a(d){r.state=nN,r.timer.restart(s,r.delay,r.time),r.delay<=d&&s(d-r.delay)}function s(d){var f,p,h,x;if(r.state!==nN)return c();for(f in o)if(x=o[f],x.name===r.name){if(x.state===Cy)return rN(s);x.state===oN?(x.state=ky,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete o[f]):+f<t&&(x.state=ky,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete o[f])}if(rN(function(){r.state===Cy&&(r.state=oN,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=P5,r.on.call("start",e,e.__data__,r.index,r.group),r.state===P5){for(r.state=Cy,i=new Array(h=r.tween.length),f=0,p=-1;f<h;++f)(x=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=x);i.length=p+1}}function l(d){for(var f=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(c),r.state=z5,1),p=-1,h=i.length;++p<h;)i[p].call(e,f);r.state===z5&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=ky,r.timer.stop(),delete o[t];for(var d in o)return;delete e.__transition}}function Fy(e,t){var r=e.__transition,o,i,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((o=r[s]).name!==t){a=!1;continue}i=o.state>P5&&o.state<z5,o.state=ky,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[s]}a&&delete e.__transition}}function N6e(e){return this.each(function(){Fy(this,e)})}function L6e(e,t){var r,o;return function(){var i=ys(this,e),a=i.tween;if(a!==r){o=r=a;for(var s=0,l=o.length;s<l;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}i.tween=o}}function W6e(e,t,r){var o,i;if(typeof r!="function")throw new Error;return function(){var a=ys(this,e),s=a.tween;if(s!==o){i=(o=s).slice();for(var l={name:t,value:r},c=0,d=i.length;c<d;++c)if(i[c].name===t){i[c]=l;break}c===d&&i.push(l)}a.tween=i}}function V6e(e,t){var r=this._id;if(e+="",arguments.length<2){for(var o=Ma(this.node(),r).tween,i=0,a=o.length,s;i<a;++i)if((s=o[i]).name===e)return s.value;return null}return this.each((t==null?L6e:W6e)(r,e,t))}function z6(e,t,r){var o=e._id;return e.each(function(){var i=ys(this,o);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Ma(i,o).value[t]}}function jK(e,t){var r;return(typeof t=="number"?ga:t instanceof Cd?Jy:(r=Cd(t))?(t=r,Jy):hV)(e,t)}function U6e(e){return function(){this.removeAttribute(e)}}function q6e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H6e(e,t,r){var o,i=r+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===o?a:a=t(o=s,r)}}function G6e(e,t,r){var o,i=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===o?a:a=t(o=s,r)}}function K6e(e,t,r){var o,i,a;return function(){var s,l=r(this),c;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=l+"",s===c?null:s===o&&c===i?a:(i=c,a=t(o=s,l)))}}function Y6e(e,t,r){var o,i,a;return function(){var s,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=l+"",s===c?null:s===o&&c===i?a:(i=c,a=t(o=s,l)))}}function X6e(e,t){var r=wv(e),o=r==="transform"?aue:jK;return this.attrTween(e,typeof t=="function"?(r.local?Y6e:K6e)(r,o,z6(this,"attr."+e,t)):t==null?(r.local?q6e:U6e)(r):(r.local?G6e:H6e)(r,o,t))}function J6e(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Q6e(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Z6e(e,t){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&Q6e(e,a)),r}return i._value=t,i}function e4e(e,t){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&J6e(e,a)),r}return i._value=t,i}function t4e(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var o=wv(e);return this.tween(r,(o.local?Z6e:e4e)(o,t))}function r4e(e,t){return function(){P6(this,e).delay=+t.apply(this,arguments)}}function n4e(e,t){return t=+t,function(){P6(this,e).delay=t}}function o4e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?r4e:n4e)(t,e)):Ma(this.node(),t).delay}function i4e(e,t){return function(){ys(this,e).duration=+t.apply(this,arguments)}}function a4e(e,t){return t=+t,function(){ys(this,e).duration=t}}function s4e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?i4e:a4e)(t,e)):Ma(this.node(),t).duration}function l4e(e,t){if(typeof t!="function")throw new Error;return function(){ys(this,e).ease=t}}function c4e(e){var t=this._id;return arguments.length?this.each(l4e(t,e)):Ma(this.node(),t).ease}function d4e(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ys(this,e).ease=r}}function u4e(e){if(typeof e!="function")throw new Error;return this.each(d4e(this._id,e))}function p4e(e){typeof e!="function"&&(e=oK(e));for(var t=this._groups,r=t.length,o=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=o[i]=[],c,d=0;d<s;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&l.push(c);return new sl(o,this._parents,this._name,this._id)}function f4e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,o=t.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c=t[l],d=r[l],f=c.length,p=s[l]=new Array(f),h,x=0;x<f;++x)(h=c[x]||d[x])&&(p[x]=h);for(;l<o;++l)s[l]=t[l];return new sl(s,this._parents,this._name,this._id)}function h4e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function g4e(e,t,r){var o,i,a=h4e(t)?P6:ys;return function(){var s=a(this,e),l=s.on;l!==o&&(i=(o=l).copy()).on(t,r),s.on=i}}function x4e(e,t){var r=this._id;return arguments.length<2?Ma(this.node(),r).on.on(e):this.each(g4e(r,e,t))}function m4e(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function y4e(){return this.on("end.remove",m4e(this._id))}function b4e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=_6(e));for(var o=this._groups,i=o.length,a=new Array(i),s=0;s<i;++s)for(var l=o[s],c=l.length,d=a[s]=new Array(c),f,p,h=0;h<c;++h)(f=l[h])&&(p=e.call(f,f.__data__,h,l))&&("__data__"in f&&(p.__data__=f.__data__),d[h]=p,Cv(d[h],t,r,h,d,Ma(f,r)));return new sl(a,this._parents,t,r)}function v4e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=nK(e));for(var o=this._groups,i=o.length,a=[],s=[],l=0;l<i;++l)for(var c=o[l],d=c.length,f,p=0;p<d;++p)if(f=c[p]){for(var h=e.call(f,f.__data__,p,c),x,m=Ma(f,r),y=0,b=h.length;y<b;++y)(x=h[y])&&Cv(x,t,r,y,h,m);a.push(h),s.push(f)}return new sl(a,s,t,r)}var j4e=Ox.prototype.constructor;function S4e(){return new j4e(this._groups,this._parents)}function w4e(e,t){var r,o,i;return function(){var a=Lp(this,e),s=(this.style.removeProperty(e),Lp(this,e));return a===s?null:a===r&&s===o?i:i=t(r=a,o=s)}}function SK(e){return function(){this.style.removeProperty(e)}}function E4e(e,t,r){var o,i=r+"",a;return function(){var s=Lp(this,e);return s===i?null:s===o?a:a=t(o=s,r)}}function C4e(e,t,r){var o,i,a;return function(){var s=Lp(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Lp(this,e))),s===c?null:s===o&&c===i?a:(i=c,a=t(o=s,l))}}function k4e(e,t){var r,o,i,a="style."+t,s="end."+a,l;return function(){var c=ys(this,e),d=c.on,f=c.value[a]==null?l||(l=SK(t)):void 0;(d!==r||i!==f)&&(o=(r=d).copy()).on(s,i=f),c.on=o}}function F4e(e,t,r){var o=(e+="")=="transform"?iue:jK;return t==null?this.styleTween(e,w4e(e,o)).on("end.style."+e,SK(e)):typeof t=="function"?this.styleTween(e,C4e(e,o,z6(this,"style."+e,t))).each(k4e(this._id,e)):this.styleTween(e,E4e(e,o,t),r).on("end.style."+e,null)}function A4e(e,t,r){return function(o){this.style.setProperty(e,t.call(this,o),r)}}function _4e(e,t,r){var o,i;function a(){var s=t.apply(this,arguments);return s!==i&&(o=(i=s)&&A4e(e,s,r)),o}return a._value=t,a}function R4e(e,t,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,_4e(e,t,r??""))}function T4e(e){return function(){this.textContent=e}}function P4e(e){return function(){var t=e(this);this.textContent=t??""}}function z4e(e){return this.tween("text",typeof e=="function"?P4e(z6(this,"text",e)):T4e(e==null?"":e+""))}function B4e(e){return function(t){this.textContent=e.call(this,t)}}function I4e(e){var t,r;function o(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&B4e(i)),t}return o._value=e,o}function O4e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,I4e(e))}function D4e(){for(var e=this._name,t=this._id,r=wK(),o=this._groups,i=o.length,a=0;a<i;++a)for(var s=o[a],l=s.length,c,d=0;d<l;++d)if(c=s[d]){var f=Ma(c,t);Cv(c,e,r,d,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new sl(o,this._parents,e,r)}function M4e(){var e,t,r=this,o=r._id,i=r.size();return new Promise(function(a,s){var l={value:s},c={value:function(){--i===0&&a()}};r.each(function(){var d=ys(this,o),f=d.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),d.on=t}),i===0&&a()})}var $4e=0;function sl(e,t,r,o){this._groups=e,this._parents=t,this._name=r,this._id=o}function wK(){return++$4e}var Os=Ox.prototype;sl.prototype={constructor:sl,select:b4e,selectAll:v4e,selectChild:Os.selectChild,selectChildren:Os.selectChildren,filter:p4e,merge:f4e,selection:S4e,transition:D4e,call:Os.call,nodes:Os.nodes,node:Os.node,size:Os.size,empty:Os.empty,each:Os.each,on:x4e,attr:X6e,attrTween:t4e,style:F4e,styleTween:R4e,text:z4e,textTween:O4e,remove:y4e,tween:V6e,delay:o4e,duration:s4e,ease:c4e,easeVarying:u4e,end:M4e,[Symbol.iterator]:Os[Symbol.iterator]};function N4e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var L4e={time:null,delay:0,duration:250,ease:N4e};function W4e(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function V4e(e){var t,r;e instanceof sl?(t=e._id,e=e._name):(t=wK(),(r=L4e).time=T6(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,a=0;a<i;++a)for(var s=o[a],l=s.length,c,d=0;d<l;++d)(c=s[d])&&Cv(c,e,t,d,s,r||W4e(c,t));return new sl(o,this._parents,e,t)}Ox.prototype.interrupt=N6e;Ox.prototype.transition=V4e;const $0=e=>()=>e;function U4e(e,{sourceEvent:t,target:r,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function Gs(e,t,r){this.k=e,this.x=t,this.y=r}Gs.prototype={constructor:Gs,scale:function(e){return e===1?this:new Gs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var kv=new Gs(1,0,0);EK.prototype=Gs.prototype;function EK(e){for(;!e.__zoom;)if(!(e=e.parentNode))return kv;return e.__zoom}function Lk(e){e.stopImmediatePropagation()}function mh(e){e.preventDefault(),e.stopImmediatePropagation()}function q4e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function H4e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function iN(){return this.__zoom||kv}function G4e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function K4e(){return navigator.maxTouchPoints||"ontouchstart"in this}function Y4e(e,t,r){var o=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function CK(){var e=q4e,t=H4e,r=Y4e,o=G4e,i=K4e,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=hy,d=Sv("start","zoom","end"),f,p,h,x=500,m=150,y=0,b=10;function v(I){I.property("__zoom",iN).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",B).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(I,N,M,V){var L=I.selection?I.selection():I;L.property("__zoom",iN),I!==L?w(I,N,M,V):L.interrupt().each(function(){k(this,arguments).event(V).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},v.scaleBy=function(I,N,M,V){v.scaleTo(I,function(){var L=this.__zoom.k,W=typeof N=="function"?N.apply(this,arguments):N;return L*W},M,V)},v.scaleTo=function(I,N,M,V){v.transform(I,function(){var L=t.apply(this,arguments),W=this.__zoom,G=M==null?F(L):typeof M=="function"?M.apply(this,arguments):M,U=W.invert(G),H=typeof N=="function"?N.apply(this,arguments):N;return r(S(C(W,H),G,U),L,s)},M,V)},v.translateBy=function(I,N,M,V){v.transform(I,function(){return r(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),s)},null,V)},v.translateTo=function(I,N,M,V,L){v.transform(I,function(){var W=t.apply(this,arguments),G=this.__zoom,U=V==null?F(W):typeof V=="function"?V.apply(this,arguments):V;return r(kv.translate(U[0],U[1]).scale(G.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof M=="function"?-M.apply(this,arguments):-M),W,s)},V,L)};function C(I,N){return N=Math.max(a[0],Math.min(a[1],N)),N===I.k?I:new Gs(N,I.x,I.y)}function S(I,N,M){var V=N[0]-M[0]*I.k,L=N[1]-M[1]*I.k;return V===I.x&&L===I.y?I:new Gs(I.k,V,L)}function F(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function w(I,N,M,V){I.on("start.zoom",function(){k(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(V).end()}).tween("zoom",function(){var L=this,W=arguments,G=k(L,W).event(V),U=t.apply(L,W),H=M==null?F(U):typeof M=="function"?M.apply(L,W):M,K=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),ne=L.__zoom,Q=typeof N=="function"?N.apply(L,W):N,pe=c(ne.invert(H).concat(K/ne.k),Q.invert(H).concat(K/Q.k));return function(X){if(X===1)X=Q;else{var se=pe(X),ae=K/se[2];X=new Gs(ae,H[0]-se[0]*ae,H[1]-se[1]*ae)}G.zoom(null,X)}})}function k(I,N,M){return!M&&I.__zooming||new E(I,N)}function E(I,N){this.that=I,this.args=N,this.active=0,this.sourceEvent=null,this.extent=t.apply(I,N),this.taps=0}E.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,N){return this.mouse&&I!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var N=ii(this.that).datum();d.call(I,this.that,new U4e(I,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:d}),N)}};function T(I,...N){if(!e.apply(this,arguments))return;var M=k(this,N).event(I),V=this.__zoom,L=Math.max(a[0],Math.min(a[1],V.k*Math.pow(2,o.apply(this,arguments)))),W=fa(I);if(M.wheel)(M.mouse[0][0]!==W[0]||M.mouse[0][1]!==W[1])&&(M.mouse[1]=V.invert(M.mouse[0]=W)),clearTimeout(M.wheel);else{if(V.k===L)return;M.mouse=[W,V.invert(W)],Fy(this),M.start()}mh(I),M.wheel=setTimeout(G,m),M.zoom("mouse",r(S(C(V,L),M.mouse[0],M.mouse[1]),M.extent,s));function G(){M.wheel=null,M.end()}}function _(I,...N){if(h||!e.apply(this,arguments))return;var M=I.currentTarget,V=k(this,N,!0).event(I),L=ii(I.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",K,!0),W=fa(I,M),G=I.clientX,U=I.clientY;hK(I.view),Lk(I),V.mouse=[W,this.__zoom.invert(W)],Fy(this),V.start();function H(ne){if(mh(ne),!V.moved){var Q=ne.clientX-G,pe=ne.clientY-U;V.moved=Q*Q+pe*pe>y}V.event(ne).zoom("mouse",r(S(V.that.__zoom,V.mouse[0]=fa(ne,M),V.mouse[1]),V.extent,s))}function K(ne){L.on("mousemove.zoom mouseup.zoom",null),gK(ne.view,V.moved),mh(ne),V.event(ne).end()}}function z(I,...N){if(e.apply(this,arguments)){var M=this.__zoom,V=fa(I.changedTouches?I.changedTouches[0]:I,this),L=M.invert(V),W=M.k*(I.shiftKey?.5:2),G=r(S(C(M,W),V,L),t.apply(this,N),s);mh(I),l>0?ii(this).transition().duration(l).call(w,G,V,I):ii(this).call(v.transform,G,V,I)}}function B(I,...N){if(e.apply(this,arguments)){var M=I.touches,V=M.length,L=k(this,N,I.changedTouches.length===V).event(I),W,G,U,H;for(Lk(I),G=0;G<V;++G)U=M[G],H=fa(U,this),H=[H,this.__zoom.invert(H),U.identifier],L.touch0?!L.touch1&&L.touch0[2]!==H[2]&&(L.touch1=H,L.taps=0):(L.touch0=H,W=!0,L.taps=1+!!f);f&&(f=clearTimeout(f)),W&&(L.taps<2&&(p=H[0],f=setTimeout(function(){f=null},x)),Fy(this),L.start())}}function P(I,...N){if(this.__zooming){var M=k(this,N).event(I),V=I.changedTouches,L=V.length,W,G,U,H;for(mh(I),W=0;W<L;++W)G=V[W],U=fa(G,this),M.touch0&&M.touch0[2]===G.identifier?M.touch0[0]=U:M.touch1&&M.touch1[2]===G.identifier&&(M.touch1[0]=U);if(G=M.that.__zoom,M.touch1){var K=M.touch0[0],ne=M.touch0[1],Q=M.touch1[0],pe=M.touch1[1],X=(X=Q[0]-K[0])*X+(X=Q[1]-K[1])*X,se=(se=pe[0]-ne[0])*se+(se=pe[1]-ne[1])*se;G=C(G,Math.sqrt(X/se)),U=[(K[0]+Q[0])/2,(K[1]+Q[1])/2],H=[(ne[0]+pe[0])/2,(ne[1]+pe[1])/2]}else if(M.touch0)U=M.touch0[0],H=M.touch0[1];else return;M.zoom("touch",r(S(G,U,H),M.extent,s))}}function D(I,...N){if(this.__zooming){var M=k(this,N).event(I),V=I.changedTouches,L=V.length,W,G;for(Lk(I),h&&clearTimeout(h),h=setTimeout(function(){h=null},x),W=0;W<L;++W)G=V[W],M.touch0&&M.touch0[2]===G.identifier?delete M.touch0:M.touch1&&M.touch1[2]===G.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(G=fa(G,this),Math.hypot(p[0]-G[0],p[1]-G[1])<b)){var U=ii(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return v.wheelDelta=function(I){return arguments.length?(o=typeof I=="function"?I:$0(+I),v):o},v.filter=function(I){return arguments.length?(e=typeof I=="function"?I:$0(!!I),v):e},v.touchable=function(I){return arguments.length?(i=typeof I=="function"?I:$0(!!I),v):i},v.extent=function(I){return arguments.length?(t=typeof I=="function"?I:$0([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),v):t},v.scaleExtent=function(I){return arguments.length?(a[0]=+I[0],a[1]=+I[1],v):[a[0],a[1]]},v.translateExtent=function(I){return arguments.length?(s[0][0]=+I[0][0],s[1][0]=+I[1][0],s[0][1]=+I[0][1],s[1][1]=+I[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(I){return arguments.length?(r=I,v):r},v.duration=function(I){return arguments.length?(l=+I,v):l},v.interpolate=function(I){return arguments.length?(c=I,v):c},v.on=function(){var I=d.on.apply(d,arguments);return I===d?v:I},v.clickDistance=function(I){return arguments.length?(y=(I=+I)*I,v):Math.sqrt(y)},v.tapDistance=function(I){return arguments.length?(b=+I,v):b},v}const hs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Qg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],kK=["Enter"," ","Escape"],FK={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Vp;(function(e){e.Strict="strict",e.Loose="loose"})(Vp||(Vp={}));var yd;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yd||(yd={}));var Zg;(function(e){e.Partial="partial",e.Full="full"})(Zg||(Zg={}));const AK={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Zl;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Zl||(Zl={}));var Z1;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Z1||(Z1={}));var st;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(st||(st={}));const aN={[st.Left]:st.Right,[st.Right]:st.Left,[st.Top]:st.Bottom,[st.Bottom]:st.Top};function _K(e){return e===null?null:e?"valid":"invalid"}const RK=e=>"id"in e&&"source"in e&&"target"in e,X4e=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),B6=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Dx=(e,t=[0,0])=>{const{width:r,height:o}=ul(e),i=e.origin??t,a=r*i[0],s=o*i[1];return{x:e.position.x-a,y:e.position.y-s}},J4e=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((o,i)=>{const a=typeof i=="string";let s=!t.nodeLookup&&!a?i:void 0;t.nodeLookup&&(s=a?t.nodeLookup.get(i):B6(i)?i:t.nodeLookup.get(i.id));const l=s?eb(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Fv(o,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Av(r)},Mx=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(r=Fv(r,eb(i)),o=!0)}),o?Av(r):{x:0,y:0,width:0,height:0}},I6=(e,t,[r,o,i]=[0,0,1],a=!1,s=!1)=>{const l={...Nx(t,[r,o,i]),width:t.width/i,height:t.height/i},c=[];for(const d of e.values()){const{measured:f,selectable:p=!0,hidden:h=!1}=d;if(s&&!p||h)continue;const x=f.width??d.width??d.initialWidth??null,m=f.height??d.height??d.initialHeight??null,y=ex(l,qp(d)),b=(x??0)*(m??0),v=a&&y>0;(!d.internals.handleBounds||v||y>=b||d.dragging)&&c.push(d)}return c},Q4e=(e,t)=>{const r=new Set;return e.forEach(o=>{r.add(o.id)}),t.filter(o=>r.has(o.source)||r.has(o.target))};function Z4e(e,t){const r=new Map,o=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!o||o.has(i.id))&&r.set(i.id,i)}),r}async function e3e({nodes:e,width:t,height:r,panZoom:o,minZoom:i,maxZoom:a},s){if(e.size===0)return Promise.resolve(!0);const l=Z4e(e,s),c=Mx(l),d=O6(c,t,r,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??a,(s==null?void 0:s.padding)??.1);return await o.setViewport(d,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function TK({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:o=[0,0],nodeExtent:i,onError:a}){const s=r.get(e),l=s.parentId?r.get(s.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??o;let p=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!l)a==null||a("005",hs.error005());else{const x=l.measured.width,m=l.measured.height;x&&m&&(p=[[c,d],[c+x,d+m]])}else l&&Hp(s.extent)&&(p=[[s.extent[0][0]+c,s.extent[0][1]+d],[s.extent[1][0]+c,s.extent[1][1]+d]]);const h=Hp(p)?Rd(t,p,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(a==null||a("015",hs.error015())),{position:{x:h.x-c+(s.measured.width??0)*f[0],y:h.y-d+(s.measured.height??0)*f[1]},positionAbsolute:h}}async function t3e({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:o,onBeforeDelete:i}){const a=new Set(e.map(h=>h.id)),s=[];for(const h of r){if(h.deletable===!1)continue;const x=a.has(h.id),m=!x&&h.parentId&&s.find(y=>y.id===h.parentId);(x||m)&&s.push(h)}const l=new Set(t.map(h=>h.id)),c=o.filter(h=>h.deletable!==!1),f=Q4e(s,c);for(const h of c)l.has(h.id)&&!f.find(m=>m.id===h.id)&&f.push(h);if(!i)return{edges:f,nodes:s};const p=await i({nodes:s,edges:f});return typeof p=="boolean"?p?{edges:f,nodes:s}:{edges:[],nodes:[]}:p}const Up=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Rd=(e={x:0,y:0},t,r)=>({x:Up(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Up(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function PK(e,t,r){const{width:o,height:i}=ul(r),{x:a,y:s}=r.internals.positionAbsolute;return Rd(e,[[a,s],[a+o,s+i]],t)}const sN=(e,t,r)=>e<t?Up(Math.abs(e-t),1,t)/t:e>r?-Up(Math.abs(e-r),1,t)/t:0,zK=(e,t,r=15,o=40)=>{const i=sN(e.x,o,t.width-o)*r,a=sN(e.y,o,t.height-o)*r;return[i,a]},Fv=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),B5=({x:e,y:t,width:r,height:o})=>({x:e,y:t,x2:e+r,y2:t+o}),Av=({x:e,y:t,x2:r,y2:o})=>({x:e,y:t,width:r-e,height:o-t}),qp=(e,t=[0,0])=>{var i,a;const{x:r,y:o}=B6(e)?e.internals.positionAbsolute:Dx(e,t);return{x:r,y:o,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0}},eb=(e,t=[0,0])=>{var i,a;const{x:r,y:o}=B6(e)?e.internals.positionAbsolute:Dx(e,t);return{x:r,y:o,x2:r+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:o+(((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0)}},BK=(e,t)=>Av(Fv(B5(e),B5(t))),ex=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*o)},lN=e=>ma(e.width)&&ma(e.height)&&ma(e.x)&&ma(e.y),ma=e=>!isNaN(e)&&isFinite(e),r3e=(e,t)=>{},$x=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Nx=({x:e,y:t},[r,o,i],a=!1,s=[1,1])=>{const l={x:(e-r)/i,y:(t-o)/i};return a?$x(l,s):l},tb=({x:e,y:t},[r,o,i])=>({x:e*i+r,y:t*i+o});function ju(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function n3e(e,t,r){if(typeof e=="string"||typeof e=="number"){const o=ju(e,r),i=ju(e,t);return{top:o,right:i,bottom:o,left:i,x:i*2,y:o*2}}if(typeof e=="object"){const o=ju(e.top??e.y??0,r),i=ju(e.bottom??e.y??0,r),a=ju(e.left??e.x??0,t),s=ju(e.right??e.x??0,t);return{top:o,right:s,bottom:i,left:a,x:a+s,y:o+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function o3e(e,t,r,o,i,a){const{x:s,y:l}=tb(e,[t,r,o]),{x:c,y:d}=tb({x:e.x+e.width,y:e.y+e.height},[t,r,o]),f=i-c,p=a-d;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(p)}}const O6=(e,t,r,o,i,a)=>{const s=n3e(a,t,r),l=(t-s.x)/e.width,c=(r-s.y)/e.height,d=Math.min(l,c),f=Up(d,o,i),p=e.x+e.width/2,h=e.y+e.height/2,x=t/2-p*f,m=r/2-h*f,y=o3e(e,x,m,f,t,r),b={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:x-b.left+b.right,y:m-b.top+b.bottom,zoom:f}},tx=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Hp(e){return e!=null&&e!=="parent"}function ul(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function IK(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function OK(e,t={width:0,height:0},r,o,i){const a={...e},s=o.get(r);if(s){const l=s.origin||i;a.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],a.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return a}function cN(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function i3e(){let e,t;return{promise:new Promise((o,i)=>{e=o,t=i}),resolve:e,reject:t}}function a3e(e){return{...FK,...e||{}}}function Yh(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:o,containerBounds:i}){const{x:a,y:s}=ya(e),l=Nx({x:a-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},o),{x:c,y:d}=r?$x(l,t):l;return{xSnapped:c,ySnapped:d,...l}}const D6=e=>({width:e.offsetWidth,height:e.offsetHeight}),DK=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},s3e=["INPUT","SELECT","TEXTAREA"];function MK(e){var o,i;const t=((i=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:s3e.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const $K=e=>"clientX"in e,ya=(e,t)=>{var a,s;const r=$K(e),o=r?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,i=r?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},dN=(e,t,r,o,i)=>{const a=t.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(l.left-r.left)/o,y:(l.top-r.top)/o,...D6(s)}})};function NK({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:l}){const c=e*.125+i*.375+s*.375+r*.125,d=t*.125+a*.375+l*.375+o*.125,f=Math.abs(c-e),p=Math.abs(d-t);return[c,d,f,p]}function N0(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function uN({pos:e,x1:t,y1:r,x2:o,y2:i,c:a}){switch(e){case st.Left:return[t-N0(t-o,a),r];case st.Right:return[t+N0(o-t,a),r];case st.Top:return[t,r-N0(r-i,a)];case st.Bottom:return[t,r+N0(i-r,a)]}}function LK({sourceX:e,sourceY:t,sourcePosition:r=st.Bottom,targetX:o,targetY:i,targetPosition:a=st.Top,curvature:s=.25}){const[l,c]=uN({pos:r,x1:e,y1:t,x2:o,y2:i,c:s}),[d,f]=uN({pos:a,x1:o,y1:i,x2:e,y2:t,c:s}),[p,h,x,m]=NK({sourceX:e,sourceY:t,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${c} ${d},${f} ${o},${i}`,p,h,x,m]}function WK({sourceX:e,sourceY:t,targetX:r,targetY:o}){const i=Math.abs(r-e)/2,a=r<e?r+i:r-i,s=Math.abs(o-t)/2,l=o<t?o+s:o-s;return[a,l,i,s]}function l3e({sourceNode:e,targetNode:t,selected:r=!1,zIndex:o=0,elevateOnSelect:i=!1,zIndexMode:a="basic"}){if(a==="manual")return o;const s=i&&r?o+1e3:o,l=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+l}function c3e({sourceNode:e,targetNode:t,width:r,height:o,transform:i}){const a=Fv(eb(e),eb(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:o/i[2]};return ex(s,Av(a))>0}const d3e=({source:e,sourceHandle:t,target:r,targetHandle:o})=>`xy-edge__${e}${t||""}-${r}${o||""}`,u3e=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),VK=(e,t,r={})=>{if(!e.source||!e.target)return t;const o=r.getEdgeId||d3e;let i;return RK(e)?i={...e}:i={...e,id:o(e)},u3e(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function UK({sourceX:e,sourceY:t,targetX:r,targetY:o}){const[i,a,s,l]=WK({sourceX:e,sourceY:t,targetX:r,targetY:o});return[`M ${e},${t}L ${r},${o}`,i,a,s,l]}const pN={[st.Left]:{x:-1,y:0},[st.Right]:{x:1,y:0},[st.Top]:{x:0,y:-1},[st.Bottom]:{x:0,y:1}},p3e=({source:e,sourcePosition:t=st.Bottom,target:r})=>t===st.Left||t===st.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},fN=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function f3e({source:e,sourcePosition:t=st.Bottom,target:r,targetPosition:o=st.Top,center:i,offset:a,stepPosition:s}){const l=pN[t],c=pN[o],d={x:e.x+l.x*a,y:e.y+l.y*a},f={x:r.x+c.x*a,y:r.y+c.y*a},p=p3e({source:d,sourcePosition:t,target:f}),h=p.x!==0?"x":"y",x=p[h];let m=[],y,b;const v={x:0,y:0},C={x:0,y:0},[,,S,F]=WK({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[h]*c[h]===-1){h==="x"?(y=i.x??d.x+(f.x-d.x)*s,b=i.y??(d.y+f.y)/2):(y=i.x??(d.x+f.x)/2,b=i.y??d.y+(f.y-d.y)*s);const k=[{x:y,y:d.y},{x:y,y:f.y}],E=[{x:d.x,y:b},{x:f.x,y:b}];l[h]===x?m=h==="x"?k:E:m=h==="x"?E:k}else{const k=[{x:d.x,y:f.y}],E=[{x:f.x,y:d.y}];if(h==="x"?m=l.x===x?E:k:m=l.y===x?k:E,t===o){const P=Math.abs(e[h]-r[h]);if(P<=a){const D=Math.min(a-1,a-P);l[h]===x?v[h]=(d[h]>e[h]?-1:1)*D:C[h]=(f[h]>r[h]?-1:1)*D}}if(t!==o){const P=h==="x"?"y":"x",D=l[h]===c[P],I=d[P]>f[P],N=d[P]<f[P];(l[h]===1&&(!D&&I||D&&N)||l[h]!==1&&(!D&&N||D&&I))&&(m=h==="x"?k:E)}const T={x:d.x+v.x,y:d.y+v.y},_={x:f.x+C.x,y:f.y+C.y},z=Math.max(Math.abs(T.x-m[0].x),Math.abs(_.x-m[0].x)),B=Math.max(Math.abs(T.y-m[0].y),Math.abs(_.y-m[0].y));z>=B?(y=(T.x+_.x)/2,b=m[0].y):(y=m[0].x,b=(T.y+_.y)/2)}return[[e,{x:d.x+v.x,y:d.y+v.y},...m,{x:f.x+C.x,y:f.y+C.y},r],y,b,S,F]}function h3e(e,t,r,o){const i=Math.min(fN(e,t)/2,fN(t,r)/2,o),{x:a,y:s}=t;if(e.x===a&&a===r.x||e.y===s&&s===r.y)return`L${a} ${s}`;if(e.y===s){const d=e.x<r.x?-1:1,f=e.y<r.y?1:-1;return`L ${a+i*d},${s}Q ${a},${s} ${a},${s+i*f}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${a},${s+i*c}Q ${a},${s} ${a+i*l},${s}`}function I5({sourceX:e,sourceY:t,sourcePosition:r=st.Bottom,targetX:o,targetY:i,targetPosition:a=st.Top,borderRadius:s=5,centerX:l,centerY:c,offset:d=20,stepPosition:f=.5}){const[p,h,x,m,y]=f3e({source:{x:e,y:t},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:l,y:c},offset:d,stepPosition:f});return[p.reduce((v,C,S)=>{let F="";return S>0&&S<p.length-1?F=h3e(p[S-1],C,p[S+1],s):F=`${S===0?"M":"L"}${C.x} ${C.y}`,v+=F,v},""),h,x,m,y]}function hN(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function g3e(e){var p;const{sourceNode:t,targetNode:r}=e;if(!hN(t)||!hN(r))return null;const o=t.internals.handleBounds||gN(t.handles),i=r.internals.handleBounds||gN(r.handles),a=xN((o==null?void 0:o.source)??[],e.sourceHandle),s=xN(e.connectionMode===Vp.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!a||!s)return(p=e.onError)==null||p.call(e,"008",hs.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(a==null?void 0:a.position)||st.Bottom,c=(s==null?void 0:s.position)||st.Top,d=Td(t,a,l),f=Td(r,s,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function gN(e){if(!e)return null;const t=[],r=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&r.push(o);return{source:t,target:r}}function Td(e,t,r=st.Left,o=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,a=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??ul(e);if(o)return{x:i+s/2,y:a+l/2};switch((t==null?void 0:t.position)??r){case st.Top:return{x:i+s/2,y:a};case st.Right:return{x:i+s,y:a+l/2};case st.Bottom:return{x:i+s/2,y:a+l};case st.Left:return{x:i,y:a+l/2}}}function xN(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function O5(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function x3e(e,{id:t,defaultColor:r,defaultMarkerStart:o,defaultMarkerEnd:i}){const a=new Set;return e.reduce((s,l)=>([l.markerStart||o,l.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const d=O5(c,t);a.has(d)||(s.push({id:d,color:c.color||r,...c}),a.add(d))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const qK=1e3,m3e=10,M6={nodeOrigin:[0,0],nodeExtent:Qg,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},y3e={...M6,checkEquality:!0};function $6(e,t){const r={...e};for(const o in t)t[o]!==void 0&&(r[o]=t[o]);return r}function b3e(e,t,r){const o=$6(M6,r);for(const i of e.values())if(i.parentId)L6(i,e,t,o);else{const a=Dx(i,o.nodeOrigin),s=Hp(i.extent)?i.extent:o.nodeExtent,l=Rd(a,s,ul(i));i.internals.positionAbsolute=l}}function v3e(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],o=[];for(const i of e.handles){const a={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?r.push(a):i.type==="target"&&o.push(a)}return{source:r,target:o}}function N6(e){return e==="manual"}function D5(e,t,r,o={}){var d,f;const i=$6(y3e,o),a={i:0},s=new Map(t),l=i!=null&&i.elevateNodesOnSelect&&!N6(i.zIndexMode)?qK:0;let c=e.length>0;t.clear(),r.clear();for(const p of e){let h=s.get(p.id);if(i.checkEquality&&p===(h==null?void 0:h.internals.userNode))t.set(p.id,h);else{const x=Dx(p,i.nodeOrigin),m=Hp(p.extent)?p.extent:i.nodeExtent,y=Rd(x,m,ul(p));h={...i.defaults,...p,measured:{width:(d=p.measured)==null?void 0:d.width,height:(f=p.measured)==null?void 0:f.height},internals:{positionAbsolute:y,handleBounds:v3e(p,h),z:HK(p,l,i.zIndexMode),userNode:p}},t.set(p.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),p.parentId&&L6(h,t,r,o,a)}return c}function j3e(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function L6(e,t,r,o,i){const{elevateNodesOnSelect:a,nodeOrigin:s,nodeExtent:l,zIndexMode:c}=$6(M6,o),d=e.parentId,f=t.get(d);if(!f){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}j3e(e,r),i&&!f.parentId&&f.internals.rootParentIndex===void 0&&c==="auto"&&(f.internals.rootParentIndex=++i.i,f.internals.z=f.internals.z+i.i*m3e),i&&f.internals.rootParentIndex!==void 0&&(i.i=f.internals.rootParentIndex);const p=a&&!N6(c)?qK:0,{x:h,y:x,z:m}=S3e(e,f,s,l,p,c),{positionAbsolute:y}=e.internals,b=h!==y.x||x!==y.y;(b||m!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:h,y:x}:y,z:m}})}function HK(e,t,r){const o=ma(e.zIndex)?e.zIndex:0;return N6(r)?o:o+(e.selected?t:0)}function S3e(e,t,r,o,i,a){const{x:s,y:l}=t.internals.positionAbsolute,c=ul(e),d=Dx(e,r),f=Hp(e.extent)?Rd(d,e.extent,c):d;let p=Rd({x:s+f.x,y:l+f.y},o,c);e.extent==="parent"&&(p=PK(p,c,t));const h=HK(e,i,a),x=t.internals.z??0;return{x:p.x,y:p.y,z:x>=h?x+1:h}}function W6(e,t,r,o=[0,0]){var s;const i=[],a=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const d=((s=a.get(l.parentId))==null?void 0:s.expandedRect)??qp(c),f=BK(d,l.rect);a.set(l.parentId,{expandedRect:f,parent:c})}return a.size>0&&a.forEach(({expandedRect:l,parent:c},d)=>{var S;const f=c.internals.positionAbsolute,p=ul(c),h=c.origin??o,x=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,m=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,y=Math.max(p.width,Math.round(l.width)),b=Math.max(p.height,Math.round(l.height)),v=(y-p.width)*h[0],C=(b-p.height)*h[1];(x>0||m>0||v||C)&&(i.push({id:d,type:"position",position:{x:c.position.x-x+v,y:c.position.y-m+C}}),(S=r.get(d))==null||S.forEach(F=>{e.some(w=>w.id===F.id)||i.push({id:F.id,type:"position",position:{x:F.position.x+x,y:F.position.y+m}})})),(p.width<l.width||p.height<l.height||x||m)&&i.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:y+(x?h[0]*x-v:0),height:b+(m?h[1]*m-C:0)}})}),i}function w3e(e,t,r,o,i,a,s){const l=o==null?void 0:o.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const d=[],f=window.getComputedStyle(l),{m22:p}=new window.DOMMatrixReadOnly(f.transform),h=[];for(const x of e.values()){const m=t.get(x.id);if(!m)continue;if(m.hidden){t.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),c=!0;continue}const y=D6(x.nodeElement),b=m.measured.width!==y.width||m.measured.height!==y.height;if(!!(y.width&&y.height&&(b||!m.internals.handleBounds||x.force))){const C=x.nodeElement.getBoundingClientRect(),S=Hp(m.extent)?m.extent:a;let{positionAbsolute:F}=m.internals;m.parentId&&m.extent==="parent"?F=PK(F,y,t.get(m.parentId)):S&&(F=Rd(F,S,y));const w={...m,measured:y,internals:{...m.internals,positionAbsolute:F,handleBounds:{source:dN("source",x.nodeElement,C,p,m.id),target:dN("target",x.nodeElement,C,p,m.id)}}};t.set(m.id,w),m.parentId&&L6(w,t,r,{nodeOrigin:i,zIndexMode:s}),c=!0,b&&(d.push({id:m.id,type:"dimensions",dimensions:y}),m.expandParent&&m.parentId&&h.push({id:m.id,parentId:m.parentId,rect:qp(w,i)}))}}if(h.length>0){const x=W6(h,t,r,i);d.push(...x)}return{changes:d,updatedInternals:c}}async function E3e({delta:e,panZoom:t,transform:r,translateExtent:o,width:i,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[i,a]],o),l=!!s&&(s.x!==r[0]||s.y!==r[1]||s.k!==r[2]);return Promise.resolve(l)}function mN(e,t,r,o,i,a){let s=i;const l=o.get(s)||new Map;o.set(s,l.set(r,t)),s=`${i}-${e}`;const c=o.get(s)||new Map;if(o.set(s,c.set(r,t)),a){s=`${i}-${e}-${a}`;const d=o.get(s)||new Map;o.set(s,d.set(r,t))}}function GK(e,t,r){e.clear(),t.clear();for(const o of r){const{source:i,target:a,sourceHandle:s=null,targetHandle:l=null}=o,c={edgeId:o.id,source:i,target:a,sourceHandle:s,targetHandle:l},d=`${i}-${s}--${a}-${l}`,f=`${a}-${l}--${i}-${s}`;mN("source",c,f,e,i,s),mN("target",c,d,e,a,l),t.set(o.id,o)}}function KK(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:KK(r,t):!1}function yN(e,t,r){var i;let o=e;do{if((i=o==null?void 0:o.matches)!=null&&i.call(o,t))return!0;if(o===r)return!1;o=o==null?void 0:o.parentElement}while(o);return!1}function C3e(e,t,r,o){const i=new Map;for(const[a,s]of e)if((s.selected||s.id===o)&&(!s.parentId||!KK(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(a);l&&i.set(a,{id:a,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function Wk({nodeId:e,dragItems:t,nodeLookup:r,dragging:o=!0}){var s,l,c;const i=[];for(const[d,f]of t){const p=(s=r.get(d))==null?void 0:s.internals.userNode;p&&i.push({...p,position:f.position,dragging:o})}if(!e)return[i[0],i];const a=(l=r.get(e))==null?void 0:l.internals.userNode;return[a?{...a,position:((c=t.get(e))==null?void 0:c.position)||a.position,dragging:o}:i[0],i]}function k3e({dragItems:e,snapGrid:t,x:r,y:o}){const i=e.values().next().value;if(!i)return null;const a={x:r-i.distance.x,y:o-i.distance.y},s=$x(a,t);return{x:s.x-a.x,y:s.y-a.y}}function F3e({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:o,onDragStop:i}){let a={x:null,y:null},s=0,l=new Map,c=!1,d={x:0,y:0},f=null,p=!1,h=null,x=!1,m=!1,y=null;function b({noDragClassName:C,handleSelector:S,domNode:F,isSelectable:w,nodeId:k,nodeClickDistance:E=0}){h=ii(F);function T({x:P,y:D}){const{nodeLookup:I,nodeExtent:N,snapGrid:M,snapToGrid:V,nodeOrigin:L,onNodeDrag:W,onSelectionDrag:G,onError:U,updateNodePositions:H}=t();a={x:P,y:D};let K=!1;const ne=l.size>1,Q=ne&&N?B5(Mx(l)):null,pe=ne&&V?k3e({dragItems:l,snapGrid:M,x:P,y:D}):null;for(const[X,se]of l){if(!I.has(X))continue;let ae={x:P-se.distance.x,y:D-se.distance.y};V&&(ae=pe?{x:Math.round(ae.x+pe.x),y:Math.round(ae.y+pe.y)}:$x(ae,M));let ye=null;if(ne&&N&&!se.extent&&Q){const{positionAbsolute:Se}=se.internals,Ae=Se.x-Q.x+N[0][0],te=Se.x+se.measured.width-Q.x2+N[1][0],he=Se.y-Q.y+N[0][1],Te=Se.y+se.measured.height-Q.y2+N[1][1];ye=[[Ae,he],[te,Te]]}const{position:ie,positionAbsolute:re}=TK({nodeId:X,nextPosition:ae,nodeLookup:I,nodeExtent:ye||N,nodeOrigin:L,onError:U});K=K||se.position.x!==ie.x||se.position.y!==ie.y,se.position=ie,se.internals.positionAbsolute=re}if(m=m||K,!!K&&(H(l,!0),y&&(o||W||!k&&G))){const[X,se]=Wk({nodeId:k,dragItems:l,nodeLookup:I});o==null||o(y,l,X,se),W==null||W(y,X,se),k||G==null||G(y,se)}}async function _(){if(!f)return;const{transform:P,panBy:D,autoPanSpeed:I,autoPanOnNodeDrag:N}=t();if(!N){c=!1,cancelAnimationFrame(s);return}const[M,V]=zK(d,f,I);(M!==0||V!==0)&&(a.x=(a.x??0)-M/P[2],a.y=(a.y??0)-V/P[2],await D({x:M,y:V})&&T(a)),s=requestAnimationFrame(_)}function z(P){var ne;const{nodeLookup:D,multiSelectionActive:I,nodesDraggable:N,transform:M,snapGrid:V,snapToGrid:L,selectNodesOnDrag:W,onNodeDragStart:G,onSelectionDragStart:U,unselectNodesAndEdges:H}=t();p=!0,(!W||!w)&&!I&&k&&((ne=D.get(k))!=null&&ne.selected||H()),w&&W&&k&&(e==null||e(k));const K=Yh(P.sourceEvent,{transform:M,snapGrid:V,snapToGrid:L,containerBounds:f});if(a=K,l=C3e(D,N,K,k),l.size>0&&(r||G||!k&&U)){const[Q,pe]=Wk({nodeId:k,dragItems:l,nodeLookup:D});r==null||r(P.sourceEvent,l,Q,pe),G==null||G(P.sourceEvent,Q,pe),k||U==null||U(P.sourceEvent,pe)}}const B=xK().clickDistance(E).on("start",P=>{const{domNode:D,nodeDragThreshold:I,transform:N,snapGrid:M,snapToGrid:V}=t();f=(D==null?void 0:D.getBoundingClientRect())||null,x=!1,m=!1,y=P.sourceEvent,I===0&&z(P),a=Yh(P.sourceEvent,{transform:N,snapGrid:M,snapToGrid:V,containerBounds:f}),d=ya(P.sourceEvent,f)}).on("drag",P=>{const{autoPanOnNodeDrag:D,transform:I,snapGrid:N,snapToGrid:M,nodeDragThreshold:V,nodeLookup:L}=t(),W=Yh(P.sourceEvent,{transform:I,snapGrid:N,snapToGrid:M,containerBounds:f});if(y=P.sourceEvent,(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||k&&!L.has(k))&&(x=!0),!x){if(!c&&D&&p&&(c=!0,_()),!p){const G=ya(P.sourceEvent,f),U=G.x-d.x,H=G.y-d.y;Math.sqrt(U*U+H*H)>V&&z(P)}(a.x!==W.xSnapped||a.y!==W.ySnapped)&&l&&p&&(d=ya(P.sourceEvent,f),T(W))}}).on("end",P=>{if(!(!p||x)&&(c=!1,p=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:D,updateNodePositions:I,onNodeDragStop:N,onSelectionDragStop:M}=t();if(m&&(I(l,!1),m=!1),i||N||!k&&M){const[V,L]=Wk({nodeId:k,dragItems:l,nodeLookup:D,dragging:!1});i==null||i(P.sourceEvent,l,V,L),N==null||N(P.sourceEvent,V,L),k||M==null||M(P.sourceEvent,L)}}}).filter(P=>{const D=P.target;return!P.button&&(!C||!yN(D,`.${C}`,F))&&(!S||yN(D,S,F))});h.call(B)}function v(){h==null||h.on(".drag",null)}return{update:b,destroy:v}}function A3e(e,t,r){const o=[],i={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const a of t.values())ex(i,qp(a))>0&&o.push(a);return o}const _3e=250;function R3e(e,t,r,o){var l,c;let i=[],a=1/0;const s=A3e(e,r,t+_3e);for(const d of s){const f=[...((l=d.internals.handleBounds)==null?void 0:l.source)??[],...((c=d.internals.handleBounds)==null?void 0:c.target)??[]];for(const p of f){if(o.nodeId===p.nodeId&&o.type===p.type&&o.id===p.id)continue;const{x:h,y:x}=Td(d,p,p.position,!0),m=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(x-e.y,2));m>t||(m<a?(i=[{...p,x:h,y:x}],a=m):m===a&&i.push({...p,x:h,y:x}))}}if(!i.length)return null;if(i.length>1){const d=o.type==="source"?"target":"source";return i.find(f=>f.type===d)??i[0]}return i[0]}function YK(e,t,r,o,i,a=!1){var d,f,p;const s=o.get(e);if(!s)return null;const l=i==="strict"?(d=s.internals.handleBounds)==null?void 0:d[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((p=s.internals.handleBounds)==null?void 0:p.target)??[]],c=(r?l==null?void 0:l.find(h=>h.id===r):l==null?void 0:l[0])??null;return c&&a?{...c,...Td(s,c,c.position,!0)}:c}function XK(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function T3e(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const JK=()=>!0;function P3e(e,{connectionMode:t,connectionRadius:r,handleId:o,nodeId:i,edgeUpdaterType:a,isTarget:s,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:f,flowId:p,panBy:h,cancelConnection:x,onConnectStart:m,onConnect:y,onConnectEnd:b,isValidConnection:v=JK,onReconnectEnd:C,updateConnection:S,getTransform:F,getFromHandle:w,autoPanSpeed:k,dragThreshold:E=1,handleDomNode:T}){const _=DK(e.target);let z=0,B;const{x:P,y:D}=ya(e),I=XK(a,T),N=l==null?void 0:l.getBoundingClientRect();let M=!1;if(!N||!I)return;const V=YK(i,I,o,c,t);if(!V)return;let L=ya(e,N),W=!1,G=null,U=!1,H=null;function K(){if(!f||!N)return;const[ie,re]=zK(L,N,k);h({x:ie,y:re}),z=requestAnimationFrame(K)}const ne={...V,nodeId:i,type:I,position:V.position},Q=c.get(i);let X={inProgress:!0,isValid:null,from:Td(Q,ne,st.Left,!0),fromHandle:ne,fromPosition:ne.position,fromNode:Q,to:L,toHandle:null,toPosition:aN[ne.position],toNode:null,pointer:L};function se(){M=!0,S(X),m==null||m(e,{nodeId:i,handleId:o,handleType:I})}E===0&&se();function ae(ie){if(!M){const{x:Te,y:rt}=ya(ie),it=Te-P,kt=rt-D;if(!(it*it+kt*kt>E*E))return;se()}if(!w()||!ne){ye(ie);return}const re=F();L=ya(ie,N),B=R3e(Nx(L,re,!1,[1,1]),r,c,ne),W||(K(),W=!0);const Se=QK(ie,{handle:B,connectionMode:t,fromNodeId:i,fromHandleId:o,fromType:s?"target":"source",isValidConnection:v,doc:_,lib:d,flowId:p,nodeLookup:c});H=Se.handleDomNode,G=Se.connection,U=T3e(!!B,Se.isValid);const Ae=c.get(i),te=Ae?Td(Ae,ne,st.Left,!0):X.from,he={...X,from:te,isValid:U,to:Se.toHandle&&U?tb({x:Se.toHandle.x,y:Se.toHandle.y},re):L,toHandle:Se.toHandle,toPosition:U&&Se.toHandle?Se.toHandle.position:aN[ne.position],toNode:Se.toHandle?c.get(Se.toHandle.nodeId):null,pointer:L};S(he),X=he}function ye(ie){if(!("touches"in ie&&ie.touches.length>0)){if(M){(B||H)&&G&&U&&(y==null||y(G));const{inProgress:re,...Se}=X,Ae={...Se,toPosition:X.toHandle?X.toPosition:null};b==null||b(ie,Ae),a&&(C==null||C(ie,Ae))}x(),cancelAnimationFrame(z),W=!1,U=!1,G=null,H=null,_.removeEventListener("mousemove",ae),_.removeEventListener("mouseup",ye),_.removeEventListener("touchmove",ae),_.removeEventListener("touchend",ye)}}_.addEventListener("mousemove",ae),_.addEventListener("mouseup",ye),_.addEventListener("touchmove",ae),_.addEventListener("touchend",ye)}function QK(e,{handle:t,connectionMode:r,fromNodeId:o,fromHandleId:i,fromType:a,doc:s,lib:l,flowId:c,isValidConnection:d=JK,nodeLookup:f}){const p=a==="target",h=t?s.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:m}=ya(e),y=s.elementFromPoint(x,m),b=y!=null&&y.classList.contains(`${l}-flow__handle`)?y:h,v={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const C=XK(void 0,b),S=b.getAttribute("data-nodeid"),F=b.getAttribute("data-handleid"),w=b.classList.contains("connectable"),k=b.classList.contains("connectableend");if(!S||!C)return v;const E={source:p?S:o,sourceHandle:p?F:i,target:p?o:S,targetHandle:p?i:F};v.connection=E;const _=w&&k&&(r===Vp.Strict?p&&C==="source"||!p&&C==="target":S!==o||F!==i);v.isValid=_&&d(E),v.toHandle=YK(S,C,F,f,r,!0)}return v}const M5={onPointerDown:P3e,isValid:QK};function z3e({domNode:e,panZoom:t,getTransform:r,getViewScale:o}){const i=ii(e);function a({translateExtent:l,width:c,height:d,zoomStep:f=1,pannable:p=!0,zoomable:h=!0,inversePan:x=!1}){const m=S=>{if(S.sourceEvent.type!=="wheel"||!t)return;const F=r(),w=S.sourceEvent.ctrlKey&&tx()?10:1,k=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*f,E=F[2]*Math.pow(2,k*w);t.scaleTo(E)};let y=[0,0];const b=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(y=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},v=S=>{const F=r();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!t)return;const w=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],k=[w[0]-y[0],w[1]-y[1]];y=w;const E=o()*Math.max(F[2],Math.log(F[2]))*(x?-1:1),T={x:F[0]-k[0]*E,y:F[1]-k[1]*E},_=[[0,0],[c,d]];t.setViewportConstrained({x:T.x,y:T.y,zoom:F[2]},_,l)},C=CK().on("start",b).on("zoom",p?v:null).on("zoom.wheel",h?m:null);i.call(C,{})}function s(){i.on("zoom",null)}return{update:a,destroy:s,pointer:fa}}const _v=e=>({x:e.x,y:e.y,zoom:e.k}),Vk=({x:e,y:t,zoom:r})=>kv.translate(e,t).scale(r),tp=(e,t)=>e.target.closest(`.${t}`),ZK=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),B3e=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Uk=(e,t=0,r=B3e,o=()=>{})=>{const i=typeof t=="number"&&t>0;return i||o(),i?e.transition().duration(t).ease(r).on("end",o):e},eY=e=>{const t=e.ctrlKey&&tx()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function I3e({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:o,panOnScrollMode:i,panOnScrollSpeed:a,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return f=>{if(tp(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const p=r.property("__zoom").k||1;if(f.ctrlKey&&s){const b=fa(f),v=eY(f),C=p*Math.pow(2,v);o.scaleTo(r,C,b,f);return}const h=f.deltaMode===1?20:1;let x=i===yd.Vertical?0:f.deltaX*h,m=i===yd.Horizontal?0:f.deltaY*h;!tx()&&f.shiftKey&&i!==yd.Vertical&&(x=f.deltaY*h,m=0),o.translateBy(r,-(x/p)*a,-(m/p)*a,{internal:!0});const y=_v(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(f,y),e.panScrollTimeout=setTimeout(()=>{d==null||d(f,y),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,y))}}function O3e({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(o,i){const a=o.type==="wheel",s=!t&&a&&!o.ctrlKey,l=tp(o,e);if(o.ctrlKey&&a&&l&&o.preventDefault(),s||l)return null;o.preventDefault(),r.call(this,o,i)}}function D3e({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return o=>{var a,s,l;if((a=o.sourceEvent)!=null&&a.internal)return;const i=_v(o.transform);e.mouseButton=((s=o.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((l=o.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(o.sourceEvent,i))}}function M3e({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:o,onPanZoom:i}){return a=>{var s,l;e.usedRightMouseButton=!!(r&&ZK(t,e.mouseButton??0)),(s=a.sourceEvent)!=null&&s.sync||o([a.transform.x,a.transform.y,a.transform.k]),i&&!((l=a.sourceEvent)!=null&&l.internal)&&(i==null||i(a.sourceEvent,_v(a.transform)))}}function $3e({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:o,onPanZoomEnd:i,onPaneContextMenu:a}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,a&&ZK(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&a(s.sourceEvent),e.usedRightMouseButton=!1,o(!1),i)){const c=_v(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,c)},r?150:0)}}}function N3e({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:o,panOnScroll:i,zoomOnDoubleClick:a,userSelectionActive:s,noWheelClassName:l,noPanClassName:c,lib:d,connectionInProgress:f}){return p=>{var b;const h=e||t,x=r&&p.ctrlKey,m=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(tp(p,`${d}-flow__node`)||tp(p,`${d}-flow__edge`)))return!0;if(!o&&!h&&!i&&!a&&!r||s||f&&!m||tp(p,l)&&m||tp(p,c)&&(!m||i&&m&&!e)||!r&&p.ctrlKey&&m)return!1;if(!r&&p.type==="touchstart"&&((b=p.touches)==null?void 0:b.length)>1)return p.preventDefault(),!1;if(!h&&!i&&!x&&m||!o&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(o)&&!o.includes(p.button)&&p.type==="mousedown")return!1;const y=Array.isArray(o)&&o.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||m)&&y}}function L3e({domNode:e,minZoom:t,maxZoom:r,translateExtent:o,viewport:i,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:c}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),p=CK().scaleExtent([t,r]).translateExtent(o),h=ii(e).call(p);C({x:i.x,y:i.y,zoom:Up(i.zoom,t,r)},[[0,0],[f.width,f.height]],o);const x=h.on("wheel.zoom"),m=h.on("dblclick.zoom");p.wheelDelta(eY);function y(B,P){return h?new Promise(D=>{p==null||p.interpolate((P==null?void 0:P.interpolate)==="linear"?Js:hy).transform(Uk(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>D(!0)),B)}):Promise.resolve(!1)}function b({noWheelClassName:B,noPanClassName:P,onPaneContextMenu:D,userSelectionActive:I,panOnScroll:N,panOnDrag:M,panOnScrollMode:V,panOnScrollSpeed:L,preventScrolling:W,zoomOnPinch:G,zoomOnScroll:U,zoomOnDoubleClick:H,zoomActivationKeyPressed:K,lib:ne,onTransformChange:Q,connectionInProgress:pe,paneClickDistance:X,selectionOnDrag:se}){I&&!d.isZoomingOrPanning&&v();const ae=N&&!K&&!I;p.clickDistance(se?1/0:!ma(X)||X<0?0:X);const ye=ae?I3e({zoomPanValues:d,noWheelClassName:B,d3Selection:h,d3Zoom:p,panOnScrollMode:V,panOnScrollSpeed:L,zoomOnPinch:G,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:l}):O3e({noWheelClassName:B,preventScrolling:W,d3ZoomHandler:x});if(h.on("wheel.zoom",ye,{passive:!1}),!I){const re=D3e({zoomPanValues:d,onDraggingChange:c,onPanZoomStart:s});p.on("start",re);const Se=M3e({zoomPanValues:d,panOnDrag:M,onPaneContextMenu:!!D,onPanZoom:a,onTransformChange:Q});p.on("zoom",Se);const Ae=$3e({zoomPanValues:d,panOnDrag:M,panOnScroll:N,onPaneContextMenu:D,onPanZoomEnd:l,onDraggingChange:c});p.on("end",Ae)}const ie=N3e({zoomActivationKeyPressed:K,panOnDrag:M,zoomOnScroll:U,panOnScroll:N,zoomOnDoubleClick:H,zoomOnPinch:G,userSelectionActive:I,noPanClassName:P,noWheelClassName:B,lib:ne,connectionInProgress:pe});p.filter(ie),H?h.on("dblclick.zoom",m):h.on("dblclick.zoom",null)}function v(){p.on("zoom",null)}async function C(B,P,D){const I=Vk(B),N=p==null?void 0:p.constrain()(I,P,D);return N&&await y(N),new Promise(M=>M(N))}async function S(B,P){const D=Vk(B);return await y(D,P),new Promise(I=>I(D))}function F(B){if(h){const P=Vk(B),D=h.property("__zoom");(D.k!==B.zoom||D.x!==B.x||D.y!==B.y)&&(p==null||p.transform(h,P,null,{sync:!0}))}}function w(){const B=h?EK(h.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function k(B,P){return h?new Promise(D=>{p==null||p.interpolate((P==null?void 0:P.interpolate)==="linear"?Js:hy).scaleTo(Uk(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>D(!0)),B)}):Promise.resolve(!1)}function E(B,P){return h?new Promise(D=>{p==null||p.interpolate((P==null?void 0:P.interpolate)==="linear"?Js:hy).scaleBy(Uk(h,P==null?void 0:P.duration,P==null?void 0:P.ease,()=>D(!0)),B)}):Promise.resolve(!1)}function T(B){p==null||p.scaleExtent(B)}function _(B){p==null||p.translateExtent(B)}function z(B){const P=!ma(B)||B<0?0:B;p==null||p.clickDistance(P)}return{update:b,destroy:v,setViewport:S,setViewportConstrained:C,getViewport:w,scaleTo:k,scaleBy:E,setScaleExtent:T,setTranslateExtent:_,syncViewport:F,setClickDistance:z}}var Gp;(function(e){e.Line="line",e.Handle="handle"})(Gp||(Gp={}));function W3e({width:e,prevWidth:t,height:r,prevHeight:o,affectsX:i,affectsY:a}){const s=e-t,l=r-o,c=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&i&&(c[0]=c[0]*-1),l&&a&&(c[1]=c[1]*-1),c}function bN(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),o=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:o,affectsY:i}}function Nl(e,t){return Math.max(0,t-e)}function Ll(e,t){return Math.max(0,e-t)}function L0(e,t,r){return Math.max(0,t-e,e-r)}function vN(e,t){return e?!t:t}function V3e(e,t,r,o,i,a,s,l){let{affectsX:c,affectsY:d}=t;const{isHorizontal:f,isVertical:p}=t,h=f&&p,{xSnapped:x,ySnapped:m}=r,{minWidth:y,maxWidth:b,minHeight:v,maxHeight:C}=o,{x:S,y:F,width:w,height:k,aspectRatio:E}=e;let T=Math.floor(f?x-e.pointerX:0),_=Math.floor(p?m-e.pointerY:0);const z=w+(c?-T:T),B=k+(d?-_:_),P=-a[0]*w,D=-a[1]*k;let I=L0(z,y,b),N=L0(B,v,C);if(s){let L=0,W=0;c&&T<0?L=Nl(S+T+P,s[0][0]):!c&&T>0&&(L=Ll(S+z+P,s[1][0])),d&&_<0?W=Nl(F+_+D,s[0][1]):!d&&_>0&&(W=Ll(F+B+D,s[1][1])),I=Math.max(I,L),N=Math.max(N,W)}if(l){let L=0,W=0;c&&T>0?L=Ll(S+T,l[0][0]):!c&&T<0&&(L=Nl(S+z,l[1][0])),d&&_>0?W=Ll(F+_,l[0][1]):!d&&_<0&&(W=Nl(F+B,l[1][1])),I=Math.max(I,L),N=Math.max(N,W)}if(i){if(f){const L=L0(z/E,v,C)*E;if(I=Math.max(I,L),s){let W=0;!c&&!d||c&&!d&&h?W=Ll(F+D+z/E,s[1][1])*E:W=Nl(F+D+(c?T:-T)/E,s[0][1])*E,I=Math.max(I,W)}if(l){let W=0;!c&&!d||c&&!d&&h?W=Nl(F+z/E,l[1][1])*E:W=Ll(F+(c?T:-T)/E,l[0][1])*E,I=Math.max(I,W)}}if(p){const L=L0(B*E,y,b)/E;if(N=Math.max(N,L),s){let W=0;!c&&!d||d&&!c&&h?W=Ll(S+B*E+P,s[1][0])/E:W=Nl(S+(d?_:-_)*E+P,s[0][0])/E,N=Math.max(N,W)}if(l){let W=0;!c&&!d||d&&!c&&h?W=Nl(S+B*E,l[1][0])/E:W=Ll(S+(d?_:-_)*E,l[0][0])/E,N=Math.max(N,W)}}}_=_+(_<0?N:-N),T=T+(T<0?I:-I),i&&(h?z>B*E?_=(vN(c,d)?-T:T)/E:T=(vN(c,d)?-_:_)*E:f?(_=T/E,d=c):(T=_*E,c=d));const M=c?S+T:S,V=d?F+_:F;return{width:w+(c?-T:T),height:k+(d?-_:_),x:a[0]*T*(c?-1:1)+M,y:a[1]*_*(d?-1:1)+V}}const tY={width:0,height:0,x:0,y:0},U3e={...tY,pointerX:0,pointerY:0,aspectRatio:1};function q3e(e){return[[0,0],[e.measured.width,e.measured.height]]}function H3e(e,t,r){const o=t.position.x+e.position.x,i=t.position.y+e.position.y,a=e.measured.width??0,s=e.measured.height??0,l=r[0]*a,c=r[1]*s;return[[o-l,i-c],[o+a-l,i+s-c]]}function G3e({domNode:e,nodeId:t,getStoreItems:r,onChange:o,onEnd:i}){const a=ii(e);let s={controlDirection:bN("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:d,boundaries:f,keepAspectRatio:p,resizeDirection:h,onResizeStart:x,onResize:m,onResizeEnd:y,shouldResize:b}){let v={...tY},C={...U3e};s={boundaries:f,resizeDirection:h,keepAspectRatio:p,controlDirection:bN(d)};let S,F=null,w=[],k,E,T,_=!1;const z=xK().on("start",B=>{const{nodeLookup:P,transform:D,snapGrid:I,snapToGrid:N,nodeOrigin:M,paneDomNode:V}=r();if(S=P.get(t),!S)return;F=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:L,ySnapped:W}=Yh(B.sourceEvent,{transform:D,snapGrid:I,snapToGrid:N,containerBounds:F});v={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},C={...v,pointerX:L,pointerY:W,aspectRatio:v.width/v.height},k=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(k=P.get(S.parentId),E=k&&S.extent==="parent"?q3e(k):void 0),w=[],T=void 0;for(const[G,U]of P)if(U.parentId===t&&(w.push({id:G,position:{...U.position},extent:U.extent}),U.extent==="parent"||U.expandParent)){const H=H3e(U,S,U.origin??M);T?T=[[Math.min(H[0][0],T[0][0]),Math.min(H[0][1],T[0][1])],[Math.max(H[1][0],T[1][0]),Math.max(H[1][1],T[1][1])]]:T=H}x==null||x(B,{...v})}).on("drag",B=>{const{transform:P,snapGrid:D,snapToGrid:I,nodeOrigin:N}=r(),M=Yh(B.sourceEvent,{transform:P,snapGrid:D,snapToGrid:I,containerBounds:F}),V=[];if(!S)return;const{x:L,y:W,width:G,height:U}=v,H={},K=S.origin??N,{width:ne,height:Q,x:pe,y:X}=V3e(C,s.controlDirection,M,s.boundaries,s.keepAspectRatio,K,E,T),se=ne!==G,ae=Q!==U,ye=pe!==L&&se,ie=X!==W&&ae;if(!ye&&!ie&&!se&&!ae)return;if((ye||ie||K[0]===1||K[1]===1)&&(H.x=ye?pe:v.x,H.y=ie?X:v.y,v.x=H.x,v.y=H.y,w.length>0)){const te=pe-L,he=X-W;for(const Te of w)Te.position={x:Te.position.x-te+K[0]*(ne-G),y:Te.position.y-he+K[1]*(Q-U)},V.push(Te)}if((se||ae)&&(H.width=se&&(!s.resizeDirection||s.resizeDirection==="horizontal")?ne:v.width,H.height=ae&&(!s.resizeDirection||s.resizeDirection==="vertical")?Q:v.height,v.width=H.width,v.height=H.height),k&&S.expandParent){const te=K[0]*(H.width??0);H.x&&H.x<te&&(v.x=te,C.x=C.x-(H.x-te));const he=K[1]*(H.height??0);H.y&&H.y<he&&(v.y=he,C.y=C.y-(H.y-he))}const re=W3e({width:v.width,prevWidth:G,height:v.height,prevHeight:U,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),Se={...v,direction:re};(b==null?void 0:b(B,Se))!==!1&&(_=!0,m==null||m(B,Se),o(H,V))}).on("end",B=>{_&&(y==null||y(B,{...v}),i==null||i({...v}),_=!1)});a.call(z)}function c(){a.on(".drag",null)}return{update:l,destroy:c}}var qk={exports:{}},Hk={},Gk={exports:{}},Kk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN;function K3e(){if(jN)return Kk;jN=1;var e=dx();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:t,o=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function l(p,h){var x=h(),m=o({inst:{value:x,getSnapshot:h}}),y=m[0].inst,b=m[1];return a(function(){y.value=x,y.getSnapshot=h,c(y)&&b({inst:y})},[p,x,h]),i(function(){return c(y)&&b({inst:y}),p(function(){c(y)&&b({inst:y})})},[p]),s(x),x}function c(p){var h=p.getSnapshot;p=p.value;try{var x=h();return!r(p,x)}catch{return!0}}function d(p,h){return h()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Kk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Kk}var SN;function Y3e(){return SN||(SN=1,Gk.exports=K3e()),Gk.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function X3e(){if(wN)return Hk;wN=1;var e=dx(),t=Y3e();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var o=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Hk.useSyncExternalStoreWithSelector=function(d,f,p,h,x){var m=a(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=l(function(){function v(k){if(!C){if(C=!0,S=k,k=h(k),x!==void 0&&y.hasValue){var E=y.value;if(x(E,k))return F=E}return F=k}if(E=F,o(S,k))return E;var T=h(k);return x!==void 0&&x(E,T)?(S=k,E):(S=k,F=T)}var C=!1,S,F,w=p===void 0?null:p;return[function(){return v(f())},w===null?void 0:function(){return v(w())}]},[f,p,h,x]);var b=i(d,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=b},[b]),c(b),b},Hk}var EN;function J3e(){return EN||(EN=1,qk.exports=X3e()),qk.exports}var Q3e=J3e();const Z3e=nr(Q3e),e7e={},CN=e=>{let t;const r=new Set,o=(f,p)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const x=t;t=p??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,x))}},i=()=>t,c={setState:o,getState:i,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(e7e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(o,i,c);return c},t7e=e=>e?CN(e):CN,{useDebugValue:r7e}=Y,{useSyncExternalStoreWithSelector:n7e}=Z3e,o7e=e=>e;function rY(e,t=o7e,r){const o=n7e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return r7e(o),o}const kN=(e,t)=>{const r=t7e(e),o=(i,a=t)=>rY(r,i,a);return Object.assign(o,r),o},i7e=(e,t)=>e?kN(e,t):kN;function Vr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,i]of e)if(!Object.is(i,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}const Rv=A.createContext(null),a7e=Rv.Provider,nY=hs.error001();function Gt(e,t){const r=A.useContext(Rv);if(r===null)throw new Error(nY);return rY(r,e,t)}function Ur(){const e=A.useContext(Rv);if(e===null)throw new Error(nY);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const FN={display:"none"},s7e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},oY="react-flow__node-desc",iY="react-flow__edge-desc",l7e="react-flow__aria-live",c7e=e=>e.ariaLiveMessage,d7e=e=>e.ariaLabelConfig;function u7e({rfId:e}){const t=Gt(c7e);return n.jsx("div",{id:`${l7e}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:s7e,children:t})}function p7e({rfId:e,disableKeyboardA11y:t}){const r=Gt(d7e);return n.jsxs(n.Fragment,{children:[n.jsx("div",{id:`${oY}-${e}`,style:FN,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),n.jsx("div",{id:`${iY}-${e}`,style:FN,children:r["edge.a11yDescription.default"]}),!t&&n.jsx(u7e,{rfId:e})]})}const Kp=A.forwardRef(({position:e="top-left",children:t,className:r,style:o,...i},a)=>{const s=`${e}`.split("-");return n.jsx("div",{className:bn(["react-flow__panel",r,...s]),style:o,ref:a,...i,children:t})});Kp.displayName="Panel";function f7e({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:n.jsx(Kp,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:n.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const h7e=e=>{const t=[],r=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&r.push(o);return{selectedNodes:t,selectedEdges:r}},W0=e=>e.id;function g7e(e,t){return Vr(e.selectedNodes.map(W0),t.selectedNodes.map(W0))&&Vr(e.selectedEdges.map(W0),t.selectedEdges.map(W0))}function x7e({onSelectionChange:e}){const t=Ur(),{selectedNodes:r,selectedEdges:o}=Gt(h7e,g7e);return A.useEffect(()=>{const i={nodes:r,edges:o};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(a=>a(i))},[r,o,e]),null}const m7e=e=>!!e.onSelectionChangeHandlers;function y7e({onSelectionChange:e}){const t=Gt(m7e);return e||t?n.jsx(x7e,{onSelectionChange:e}):null}const aY=[0,0],b7e={x:0,y:0,zoom:1},v7e=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],AN=[...v7e,"rfId"],j7e=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),_N={translateExtent:Qg,nodeOrigin:aY,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function S7e(e){const{setNodes:t,setEdges:r,setMinZoom:o,setMaxZoom:i,setTranslateExtent:a,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c}=Gt(j7e,Vr),d=Ur();A.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=_N,l()}),[]);const f=A.useRef(_N);return A.useEffect(()=>{for(const p of AN){const h=e[p],x=f.current[p];h!==x&&(typeof e[p]>"u"||(p==="nodes"?t(h):p==="edges"?r(h):p==="minZoom"?o(h):p==="maxZoom"?i(h):p==="translateExtent"?a(h):p==="nodeExtent"?s(h):p==="ariaLabelConfig"?d.setState({ariaLabelConfig:a3e(h)}):p==="fitView"?d.setState({fitViewQueued:h}):p==="fitViewOptions"?d.setState({fitViewOptions:h}):d.setState({[p]:h})))}f.current=e},AN.map(p=>e[p])),null}function RN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function w7e(e){var o;const[t,r]=A.useState(e==="system"?null:e);return A.useEffect(()=>{if(e!=="system"){r(e);return}const i=RN(),a=()=>r(i!=null&&i.matches?"dark":"light");return a(),i==null||i.addEventListener("change",a),()=>{i==null||i.removeEventListener("change",a)}},[e]),t!==null?t:(o=RN())!=null&&o.matches?"dark":"light"}const TN=typeof document<"u"?document:null;function rx(e=null,t={target:TN,actInsideInputWithModifier:!0}){const[r,o]=A.useState(!1),i=A.useRef(!1),a=A.useRef(new Set([])),[s,l]=A.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((p,h)=>p.concat(...h),[]);return[d,f]}return[[],[]]},[e]);return A.useEffect(()=>{const c=(t==null?void 0:t.target)??TN,d=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=x=>{var b,v;if(i.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!i.current||i.current&&!d)&&MK(x))return!1;const y=zN(x.code,l);if(a.current.add(x[y]),PN(s,a.current,!1)){const C=((v=(b=x.composedPath)==null?void 0:b.call(x))==null?void 0:v[0])||x.target,S=(C==null?void 0:C.nodeName)==="BUTTON"||(C==null?void 0:C.nodeName)==="A";t.preventDefault!==!1&&(i.current||!S)&&x.preventDefault(),o(!0)}},p=x=>{const m=zN(x.code,l);PN(s,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(x[m]),x.key==="Meta"&&a.current.clear(),i.current=!1},h=()=>{a.current.clear(),o(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",p),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",p),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,o]),r}function PN(e,t,r){return e.filter(o=>r||o.length===t.size).some(o=>o.every(i=>t.has(i)))}function zN(e,t){return t.includes(e)?"code":"key"}const E7e=()=>{const e=Ur();return A.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[o,i,a],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??o,y:t.y??i,zoom:t.zoom??a},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,o]=e.getState().transform;return{x:t,y:r,zoom:o}},setCenter:async(t,r,o)=>e.getState().setCenter(t,r,o),fitBounds:async(t,r)=>{const{width:o,height:i,minZoom:a,maxZoom:s,panZoom:l}=e.getState(),c=O6(t,o,i,a,s,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:o,snapGrid:i,snapToGrid:a,domNode:s}=e.getState();if(!s)return t;const{x:l,y:c}=s.getBoundingClientRect(),d={x:t.x-l,y:t.y-c},f=r.snapGrid??i,p=r.snapToGrid??a;return Nx(d,o,p,f)},flowToScreenPosition:t=>{const{transform:r,domNode:o}=e.getState();if(!o)return t;const{x:i,y:a}=o.getBoundingClientRect(),s=tb(t,r);return{x:s.x+i,y:s.y+a}}}),[])};function sY(e,t){const r=[],o=new Map,i=[];for(const a of e)if(a.type==="add"){i.push(a);continue}else if(a.type==="remove"||a.type==="replace")o.set(a.id,[a]);else{const s=o.get(a.id);s?s.push(a):o.set(a.id,[a])}for(const a of t){const s=o.get(a.id);if(!s){r.push(a);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){r.push({...s[0].item});continue}const l={...a};for(const c of s)C7e(c,l);r.push(l)}return i.length&&i.forEach(a=>{a.index!==void 0?r.splice(a.index,0,{...a.item}):r.push({...a.item})}),r}function C7e(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function lY(e,t){return sY(e,t)}function cY(e,t){return sY(e,t)}function Zc(e,t){return{id:e,type:"select",selected:t}}function rp(e,t=new Set,r=!1){const o=[];for(const[i,a]of e){const s=t.has(i);!(a.selected===void 0&&!s)&&a.selected!==s&&(r&&(a.selected=s),o.push(Zc(a.id,s)))}return o}function BN({items:e=[],lookup:t}){var i;const r=[],o=new Map(e.map(a=>[a.id,a]));for(const[a,s]of e.entries()){const l=t.get(s.id),c=((i=l==null?void 0:l.internals)==null?void 0:i.userNode)??l;c!==void 0&&c!==s&&r.push({id:s.id,item:s,type:"replace"}),c===void 0&&r.push({item:s,type:"add",index:a})}for(const[a]of t)o.get(a)===void 0&&r.push({id:a,type:"remove"});return r}function IN(e){return{id:e.id,type:"remove"}}const ON=e=>X4e(e),k7e=e=>RK(e);function dY(e){return A.forwardRef(e)}const F7e=typeof window<"u"?A.useLayoutEffect:A.useEffect;function DN(e){const[t,r]=A.useState(BigInt(0)),[o]=A.useState(()=>A7e(()=>r(i=>i+BigInt(1))));return F7e(()=>{const i=o.get();i.length&&(e(i),o.reset())},[t]),o}function A7e(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const uY=A.createContext(null);function _7e({children:e}){const t=Ur(),r=A.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:f,onNodesChange:p,nodeLookup:h,fitViewQueued:x,onNodesChangeMiddlewareMap:m}=t.getState();let y=c;for(const v of l)y=typeof v=="function"?v(y):v;let b=BN({items:y,lookup:h});for(const v of m.values())b=v(b);f&&d(y),b.length>0?p==null||p(b):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:v,nodes:C,setNodes:S}=t.getState();v&&S(C)})},[]),o=DN(r),i=A.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:p,edgeLookup:h}=t.getState();let x=c;for(const m of l)x=typeof m=="function"?m(x):m;f?d(x):p&&p(BN({items:x,lookup:h}))},[]),a=DN(i),s=A.useMemo(()=>({nodeQueue:o,edgeQueue:a}),[]);return n.jsx(uY.Provider,{value:s,children:e})}function R7e(){const e=A.useContext(uY);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const T7e=e=>!!e.panZoom;function Tv(){const e=E7e(),t=Ur(),r=R7e(),o=Gt(T7e),i=A.useMemo(()=>{const a=p=>t.getState().nodeLookup.get(p),s=p=>{r.nodeQueue.push(p)},l=p=>{r.edgeQueue.push(p)},c=p=>{var v,C;const{nodeLookup:h,nodeOrigin:x}=t.getState(),m=ON(p)?p:h.get(p.id),y=m.parentId?OK(m.position,m.measured,m.parentId,h,x):m.position,b={...m,position:y,width:((v=m.measured)==null?void 0:v.width)??m.width,height:((C=m.measured)==null?void 0:C.height)??m.height};return qp(b)},d=(p,h,x={replace:!1})=>{s(m=>m.map(y=>{if(y.id===p){const b=typeof h=="function"?h(y):h;return x.replace&&ON(b)?b:{...y,...b}}return y}))},f=(p,h,x={replace:!1})=>{l(m=>m.map(y=>{if(y.id===p){const b=typeof h=="function"?h(y):h;return x.replace&&k7e(b)?b:{...y,...b}}return y}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>{var h;return(h=a(p))==null?void 0:h.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(h=>({...h}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:s,setEdges:l,addNodes:p=>{const h=Array.isArray(p)?p:[p];r.nodeQueue.push(x=>[...x,...h])},addEdges:p=>{const h=Array.isArray(p)?p:[p];r.edgeQueue.push(x=>[...x,...h])},toObject:()=>{const{nodes:p=[],edges:h=[],transform:x}=t.getState(),[m,y,b]=x;return{nodes:p.map(v=>({...v})),edges:h.map(v=>({...v})),viewport:{x:m,y,zoom:b}}},deleteElements:async({nodes:p=[],edges:h=[]})=>{const{nodes:x,edges:m,onNodesDelete:y,onEdgesDelete:b,triggerNodeChanges:v,triggerEdgeChanges:C,onDelete:S,onBeforeDelete:F}=t.getState(),{nodes:w,edges:k}=await t3e({nodesToRemove:p,edgesToRemove:h,nodes:x,edges:m,onBeforeDelete:F}),E=k.length>0,T=w.length>0;if(E){const _=k.map(IN);b==null||b(k),C(_)}if(T){const _=w.map(IN);y==null||y(w),v(_)}return(T||E)&&(S==null||S({nodes:w,edges:k})),{deletedNodes:w,deletedEdges:k}},getIntersectingNodes:(p,h=!0,x)=>{const m=lN(p),y=m?p:c(p),b=x!==void 0;return y?(x||t.getState().nodes).filter(v=>{const C=t.getState().nodeLookup.get(v.id);if(C&&!m&&(v.id===p.id||!C.internals.positionAbsolute))return!1;const S=qp(b?v:C),F=ex(S,y);return h&&F>0||F>=S.width*S.height||F>=y.width*y.height}):[]},isNodeIntersecting:(p,h,x=!0)=>{const y=lN(p)?p:c(p);if(!y)return!1;const b=ex(y,h);return x&&b>0||b>=h.width*h.height||b>=y.width*y.height},updateNode:d,updateNodeData:(p,h,x={replace:!1})=>{d(p,m=>{const y=typeof h=="function"?h(m):h;return x.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},x)},updateEdge:f,updateEdgeData:(p,h,x={replace:!1})=>{f(p,m=>{const y=typeof h=="function"?h(m):h;return x.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},x)},getNodesBounds:p=>{const{nodeLookup:h,nodeOrigin:x}=t.getState();return J4e(p,{nodeLookup:h,nodeOrigin:x})},getHandleConnections:({type:p,id:h,nodeId:x})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${x}-${p}${h?`-${h}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:p,handleId:h,nodeId:x})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${x}${p?h?`-${p}-${h}`:`-${p}`:""}`))==null?void 0:m.values())??[])},fitView:async p=>{const h=t.getState().fitViewResolver??i3e();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:h}),r.nodeQueue.push(x=>[...x]),h.promise}}},[]);return A.useMemo(()=>({...i,...e,viewportInitialized:o}),[o])}const MN=e=>e.selected,P7e=typeof window<"u"?window:void 0;function z7e({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Ur(),{deleteElements:o}=Tv(),i=rx(e,{actInsideInputWithModifier:!1}),a=rx(t,{target:P7e});A.useEffect(()=>{if(i){const{edges:s,nodes:l}=r.getState();o({nodes:l.filter(MN),edges:s.filter(MN)}),r.setState({nodesSelectionActive:!1})}},[i]),A.useEffect(()=>{r.setState({multiSelectionActive:a})},[a])}function B7e(e){const t=Ur();A.useEffect(()=>{const r=()=>{var i,a,s,l;if(!e.current||!(((a=(i=e.current).checkVisibility)==null?void 0:a.call(i))??!0))return!1;const o=D6(e.current);(o.height===0||o.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",hs.error004())),t.setState({width:o.width||500,height:o.height||500})};if(e.current){r(),window.addEventListener("resize",r);const o=new ResizeObserver(()=>r());return o.observe(e.current),()=>{window.removeEventListener("resize",r),o&&e.current&&o.unobserve(e.current)}}},[])}const Pv={position:"absolute",width:"100%",height:"100%",top:0,left:0},I7e=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function O7e({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:o=!1,panOnScrollSpeed:i=.5,panOnScrollMode:a=yd.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:f,maxZoom:p,zoomActivationKeyCode:h,preventScrolling:x=!0,children:m,noWheelClassName:y,noPanClassName:b,onViewportChange:v,isControlledViewport:C,paneClickDistance:S,selectionOnDrag:F}){const w=Ur(),k=A.useRef(null),{userSelectionActive:E,lib:T,connectionInProgress:_}=Gt(I7e,Vr),z=rx(h),B=A.useRef();B7e(k);const P=A.useCallback(D=>{v==null||v({x:D[0],y:D[1],zoom:D[2]}),C||w.setState({transform:D})},[v,C]);return A.useEffect(()=>{if(k.current){B.current=L3e({domNode:k.current,minZoom:f,maxZoom:p,translateExtent:d,viewport:c,onDraggingChange:M=>w.setState(V=>V.paneDragging===M?V:{paneDragging:M}),onPanZoomStart:(M,V)=>{const{onViewportChangeStart:L,onMoveStart:W}=w.getState();W==null||W(M,V),L==null||L(V)},onPanZoom:(M,V)=>{const{onViewportChange:L,onMove:W}=w.getState();W==null||W(M,V),L==null||L(V)},onPanZoomEnd:(M,V)=>{const{onViewportChangeEnd:L,onMoveEnd:W}=w.getState();W==null||W(M,V),L==null||L(V)}});const{x:D,y:I,zoom:N}=B.current.getViewport();return w.setState({panZoom:B.current,transform:[D,I,N],domNode:k.current.closest(".react-flow")}),()=>{var M;(M=B.current)==null||M.destroy()}}},[]),A.useEffect(()=>{var D;(D=B.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:o,panOnScrollSpeed:i,panOnScrollMode:a,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:z,preventScrolling:x,noPanClassName:b,userSelectionActive:E,noWheelClassName:y,lib:T,onTransformChange:P,connectionInProgress:_,selectionOnDrag:F,paneClickDistance:S})},[e,t,r,o,i,a,s,l,z,x,b,E,y,T,P,_,F,S]),n.jsx("div",{className:"react-flow__renderer",ref:k,style:Pv,children:m})}const D7e=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function M7e(){const{userSelectionActive:e,userSelectionRect:t}=Gt(D7e,Vr);return e&&t?n.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Yk=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},$7e=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function N7e({isSelecting:e,selectionKeyPressed:t,selectionMode:r=Zg.Full,panOnDrag:o,paneClickDistance:i,selectionOnDrag:a,onSelectionStart:s,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:f,onPaneMouseEnter:p,onPaneMouseMove:h,onPaneMouseLeave:x,children:m}){const y=Ur(),{userSelectionActive:b,elementsSelectable:v,dragging:C,connectionInProgress:S}=Gt($7e,Vr),F=v&&(e||b),w=A.useRef(null),k=A.useRef(),E=A.useRef(new Set),T=A.useRef(new Set),_=A.useRef(!1),z=L=>{if(_.current||S){_.current=!1;return}c==null||c(L),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},B=L=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){L.preventDefault();return}d==null||d(L)},P=f?L=>f(L):void 0,D=L=>{_.current&&(L.stopPropagation(),_.current=!1)},I=L=>{var Q,pe;const{domNode:W}=y.getState();if(k.current=W==null?void 0:W.getBoundingClientRect(),!k.current)return;const G=L.target===w.current;if(!G&&!!L.target.closest(".nokey")||!e||!(a&&G||t)||L.button!==0||!L.isPrimary)return;(pe=(Q=L.target)==null?void 0:Q.setPointerCapture)==null||pe.call(Q,L.pointerId),_.current=!1;const{x:K,y:ne}=ya(L.nativeEvent,k.current);y.setState({userSelectionRect:{width:0,height:0,startX:K,startY:ne,x:K,y:ne}}),G||(L.stopPropagation(),L.preventDefault())},N=L=>{const{userSelectionRect:W,transform:G,nodeLookup:U,edgeLookup:H,connectionLookup:K,triggerNodeChanges:ne,triggerEdgeChanges:Q,defaultEdgeOptions:pe,resetSelectedElements:X}=y.getState();if(!k.current||!W)return;const{x:se,y:ae}=ya(L.nativeEvent,k.current),{startX:ye,startY:ie}=W;if(!_.current){const he=t?0:i;if(Math.hypot(se-ye,ae-ie)<=he)return;X(),s==null||s(L)}_.current=!0;const re={startX:ye,startY:ie,x:se<ye?se:ye,y:ae<ie?ae:ie,width:Math.abs(se-ye),height:Math.abs(ae-ie)},Se=E.current,Ae=T.current;E.current=new Set(I6(U,re,G,r===Zg.Partial,!0).map(he=>he.id)),T.current=new Set;const te=(pe==null?void 0:pe.selectable)??!0;for(const he of E.current){const Te=K.get(he);if(Te)for(const{edgeId:rt}of Te.values()){const it=H.get(rt);it&&(it.selectable??te)&&T.current.add(rt)}}if(!cN(Se,E.current)){const he=rp(U,E.current,!0);ne(he)}if(!cN(Ae,T.current)){const he=rp(H,T.current);Q(he)}y.setState({userSelectionRect:re,userSelectionActive:!0,nodesSelectionActive:!1})},M=L=>{var W,G;L.button===0&&((G=(W=L.target)==null?void 0:W.releasePointerCapture)==null||G.call(W,L.pointerId),!b&&L.target===w.current&&y.getState().userSelectionRect&&(z==null||z(L)),y.setState({userSelectionActive:!1,userSelectionRect:null}),_.current&&(l==null||l(L),y.setState({nodesSelectionActive:E.current.size>0})))},V=o===!0||Array.isArray(o)&&o.includes(0);return n.jsxs("div",{className:bn(["react-flow__pane",{draggable:V,dragging:C,selection:e}]),onClick:F?void 0:Yk(z,w),onContextMenu:Yk(B,w),onWheel:Yk(P,w),onPointerEnter:F?void 0:p,onPointerMove:F?N:h,onPointerUp:F?M:void 0,onPointerDownCapture:F?I:void 0,onClickCapture:F?D:void 0,onPointerLeave:x,ref:w,style:Pv,children:[m,n.jsx(M7e,{})]})}function $5({id:e,store:t,unselect:r=!1,nodeRef:o}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeLookup:l,onError:c}=t.getState(),d=l.get(e);if(!d){c==null||c("012",hs.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&s)&&(a({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var f;return(f=o==null?void 0:o.current)==null?void 0:f.blur()})):i([e])}function pY({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:o,nodeId:i,isSelectable:a,nodeClickDistance:s}){const l=Ur(),[c,d]=A.useState(!1),f=A.useRef();return A.useEffect(()=>{f.current=F3e({getStoreItems:()=>l.getState(),onNodeMouseDown:p=>{$5({id:p,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),A.useEffect(()=>{if(!(t||!e.current||!f.current))return f.current.update({noDragClassName:r,handleSelector:o,domNode:e.current,isSelectable:a,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=f.current)==null||p.destroy()}},[r,o,t,a,e,i,s]),c}const L7e=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function fY(){const e=Ur();return A.useCallback(r=>{const{nodeExtent:o,snapToGrid:i,snapGrid:a,nodesDraggable:s,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:f}=e.getState(),p=new Map,h=L7e(s),x=i?a[0]:5,m=i?a[1]:5,y=r.direction.x*x*r.factor,b=r.direction.y*m*r.factor;for(const[,v]of d){if(!h(v))continue;let C={x:v.internals.positionAbsolute.x+y,y:v.internals.positionAbsolute.y+b};i&&(C=$x(C,a));const{position:S,positionAbsolute:F}=TK({nodeId:v.id,nextPosition:C,nodeLookup:d,nodeExtent:o,nodeOrigin:f,onError:l});v.position=S,v.internals.positionAbsolute=F,p.set(v.id,v)}c(p)},[])}const V6=A.createContext(null),W7e=V6.Provider;V6.Consumer;const hY=()=>A.useContext(V6),V7e=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),U7e=(e,t,r)=>o=>{const{connectionClickStartHandle:i,connectionMode:a,connection:s}=o,{fromHandle:l,toHandle:c,isValid:d}=s,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===r,isPossibleEndHandle:a===Vp.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:f&&d}};function q7e({type:e="source",position:t=st.Top,isValidConnection:r,isConnectable:o=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:s,onConnect:l,children:c,className:d,onMouseDown:f,onTouchStart:p,...h},x){var N,M;const m=s||null,y=e==="target",b=Ur(),v=hY(),{connectOnClick:C,noPanClassName:S,rfId:F}=Gt(V7e,Vr),{connectingFrom:w,connectingTo:k,clickConnecting:E,isPossibleEndHandle:T,connectionInProcess:_,clickConnectionInProcess:z,valid:B}=Gt(U7e(v,m,e),Vr);v||(M=(N=b.getState()).onError)==null||M.call(N,"010",hs.error010());const P=V=>{const{defaultEdgeOptions:L,onConnect:W,hasDefaultEdges:G}=b.getState(),U={...L,...V};if(G){const{edges:H,setEdges:K}=b.getState();K(VK(U,H))}W==null||W(U),l==null||l(U)},D=V=>{if(!v)return;const L=$K(V.nativeEvent);if(i&&(L&&V.button===0||!L)){const W=b.getState();M5.onPointerDown(V.nativeEvent,{handleDomNode:V.currentTarget,autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:y,handleId:m,nodeId:v,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:(...G)=>{var U,H;return(H=(U=b.getState()).onConnectEnd)==null?void 0:H.call(U,...G)},updateConnection:W.updateConnection,onConnect:P,isValidConnection:r||((...G)=>{var U,H;return((H=(U=b.getState()).isValidConnection)==null?void 0:H.call(U,...G))??!0}),getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed,dragThreshold:W.connectionDragThreshold})}L?f==null||f(V):p==null||p(V)},I=V=>{const{onClickConnectStart:L,onClickConnectEnd:W,connectionClickStartHandle:G,connectionMode:U,isValidConnection:H,lib:K,rfId:ne,nodeLookup:Q,connection:pe}=b.getState();if(!v||!G&&!i)return;if(!G){L==null||L(V.nativeEvent,{nodeId:v,handleId:m,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:v,type:e,id:m}});return}const X=DK(V.target),se=r||H,{connection:ae,isValid:ye}=M5.isValid(V.nativeEvent,{handle:{nodeId:v,id:m,type:e},connectionMode:U,fromNodeId:G.nodeId,fromHandleId:G.id||null,fromType:G.type,isValidConnection:se,flowId:ne,doc:X,lib:K,nodeLookup:Q});ye&&ae&&P(ae);const ie=structuredClone(pe);delete ie.inProgress,ie.toPosition=ie.toHandle?ie.toHandle.position:null,W==null||W(V,ie),b.setState({connectionClickStartHandle:null})};return n.jsx("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":t,"data-id":`${F}-${v}-${m}-${e}`,className:bn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,d,{source:!y,target:y,connectable:o,connectablestart:i,connectableend:a,clickconnecting:E,connectingfrom:w,connectingto:k,valid:B,connectionindicator:o&&(!_||T)&&(_||z?a:i)}]),onMouseDown:D,onTouchStart:D,onClick:C?I:void 0,ref:x,...h,children:c})}const ts=A.memo(dY(q7e));function H7e({data:e,isConnectable:t,sourcePosition:r=st.Bottom}){return n.jsxs(n.Fragment,{children:[e==null?void 0:e.label,n.jsx(ts,{type:"source",position:r,isConnectable:t})]})}function G7e({data:e,isConnectable:t,targetPosition:r=st.Top,sourcePosition:o=st.Bottom}){return n.jsxs(n.Fragment,{children:[n.jsx(ts,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,n.jsx(ts,{type:"source",position:o,isConnectable:t})]})}function K7e(){return null}function Y7e({data:e,isConnectable:t,targetPosition:r=st.Top}){return n.jsxs(n.Fragment,{children:[n.jsx(ts,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const rb={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},$N={input:H7e,default:G7e,output:Y7e,group:K7e};function X7e(e){var t,r,o,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((o=e.style)==null?void 0:o.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const J7e=e=>{const{width:t,height:r,x:o,y:i}=Mx(e.nodeLookup,{filter:a=>!!a.selected});return{width:ma(t)?t:null,height:ma(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${i}px)`}};function Q7e({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const o=Ur(),{width:i,height:a,transformString:s,userSelectionActive:l}=Gt(J7e,Vr),c=fY(),d=A.useRef(null);A.useEffect(()=>{var x;r||(x=d.current)==null||x.focus({preventScroll:!0})},[r]);const f=!l&&i!==null&&a!==null;if(pY({nodeRef:d,disabled:!f}),!f)return null;const p=e?x=>{const m=o.getState().nodes.filter(y=>y.selected);e(x,m)}:void 0,h=x=>{Object.prototype.hasOwnProperty.call(rb,x.key)&&(x.preventDefault(),c({direction:rb[x.key],factor:x.shiftKey?4:1}))};return n.jsx("div",{className:bn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:n.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:i,height:a}})})}const NN=typeof window<"u"?window:void 0,Z7e=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function gY({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:h,onSelectionEnd:x,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:v,zoomOnScroll:C,zoomOnPinch:S,panOnScroll:F,panOnScrollSpeed:w,panOnScrollMode:k,zoomOnDoubleClick:E,panOnDrag:T,defaultViewport:_,translateExtent:z,minZoom:B,maxZoom:P,preventScrolling:D,onSelectionContextMenu:I,noWheelClassName:N,noPanClassName:M,disableKeyboardA11y:V,onViewportChange:L,isControlledViewport:W}){const{nodesSelectionActive:G,userSelectionActive:U}=Gt(Z7e,Vr),H=rx(d,{target:NN}),K=rx(y,{target:NN}),ne=K||T,Q=K||F,pe=f&&ne!==!0,X=H||U||pe;return z7e({deleteKeyCode:c,multiSelectionKeyCode:m}),n.jsx(O7e,{onPaneContextMenu:a,elementsSelectable:v,zoomOnScroll:C,zoomOnPinch:S,panOnScroll:Q,panOnScrollSpeed:w,panOnScrollMode:k,zoomOnDoubleClick:E,panOnDrag:!H&&ne,defaultViewport:_,translateExtent:z,minZoom:B,maxZoom:P,zoomActivationKeyCode:b,preventScrolling:D,noWheelClassName:N,noPanClassName:M,onViewportChange:L,isControlledViewport:W,paneClickDistance:l,selectionOnDrag:pe,children:n.jsxs(N7e,{onSelectionStart:h,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:ne,isSelecting:!!X,selectionMode:p,selectionKeyPressed:H,paneClickDistance:l,selectionOnDrag:pe,children:[e,G&&n.jsx(Q7e,{onSelectionContextMenu:I,noPanClassName:M,disableKeyboardA11y:V})]})})}gY.displayName="FlowRenderer";const eRe=A.memo(gY),tRe=e=>t=>e?I6(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function rRe(e){return Gt(A.useCallback(tRe(e),[e]),Vr)}const nRe=e=>e.updateNodeInternals;function oRe(){const e=Gt(nRe),[t]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const o=new Map;r.forEach(i=>{const a=i.target.getAttribute("data-id");o.set(a,{id:a,nodeElement:i.target,force:!0})}),e(o)}));return A.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function iRe({node:e,nodeType:t,hasDimensions:r,resizeObserver:o}){const i=Ur(),a=A.useRef(null),s=A.useRef(null),l=A.useRef(e.sourcePosition),c=A.useRef(e.targetPosition),d=A.useRef(t),f=r&&!!e.internals.handleBounds;return A.useEffect(()=>{a.current&&!e.hidden&&(!f||s.current!==a.current)&&(s.current&&(o==null||o.unobserve(s.current)),o==null||o.observe(a.current),s.current=a.current)},[f,e.hidden]),A.useEffect(()=>()=>{s.current&&(o==null||o.unobserve(s.current),s.current=null)},[]),A.useEffect(()=>{if(a.current){const p=d.current!==t,h=l.current!==e.sourcePosition,x=c.current!==e.targetPosition;(p||h||x)&&(d.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),a}function aRe({id:e,onClick:t,onMouseEnter:r,onMouseMove:o,onMouseLeave:i,onContextMenu:a,onDoubleClick:s,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:f,resizeObserver:p,noDragClassName:h,noPanClassName:x,disableKeyboardA11y:m,rfId:y,nodeTypes:b,nodeClickDistance:v,onError:C}){const{node:S,internals:F,isParent:w}=Gt(se=>{const ae=se.nodeLookup.get(e),ye=se.parentLookup.has(e);return{node:ae,internals:ae.internals,isParent:ye}},Vr);let k=S.type||"default",E=(b==null?void 0:b[k])||$N[k];E===void 0&&(C==null||C("003",hs.error003(k)),k="default",E=(b==null?void 0:b.default)||$N.default);const T=!!(S.draggable||l&&typeof S.draggable>"u"),_=!!(S.selectable||c&&typeof S.selectable>"u"),z=!!(S.connectable||d&&typeof S.connectable>"u"),B=!!(S.focusable||f&&typeof S.focusable>"u"),P=Ur(),D=IK(S),I=iRe({node:S,nodeType:k,hasDimensions:D,resizeObserver:p}),N=pY({nodeRef:I,disabled:S.hidden||!T,noDragClassName:h,handleSelector:S.dragHandle,nodeId:e,isSelectable:_,nodeClickDistance:v}),M=fY();if(S.hidden)return null;const V=ul(S),L=X7e(S),W=_||T||t||r||o||i,G=r?se=>r(se,{...F.userNode}):void 0,U=o?se=>o(se,{...F.userNode}):void 0,H=i?se=>i(se,{...F.userNode}):void 0,K=a?se=>a(se,{...F.userNode}):void 0,ne=s?se=>s(se,{...F.userNode}):void 0,Q=se=>{const{selectNodesOnDrag:ae,nodeDragThreshold:ye}=P.getState();_&&(!ae||!T||ye>0)&&$5({id:e,store:P,nodeRef:I}),t&&t(se,{...F.userNode})},pe=se=>{if(!(MK(se.nativeEvent)||m)){if(kK.includes(se.key)&&_){const ae=se.key==="Escape";$5({id:e,store:P,unselect:ae,nodeRef:I})}else if(T&&S.selected&&Object.prototype.hasOwnProperty.call(rb,se.key)){se.preventDefault();const{ariaLabelConfig:ae}=P.getState();P.setState({ariaLiveMessage:ae["node.a11yDescription.ariaLiveMessage"]({direction:se.key.replace("Arrow","").toLowerCase(),x:~~F.positionAbsolute.x,y:~~F.positionAbsolute.y})}),M({direction:rb[se.key],factor:se.shiftKey?4:1})}}},X=()=>{var Ae;if(m||!((Ae=I.current)!=null&&Ae.matches(":focus-visible")))return;const{transform:se,width:ae,height:ye,autoPanOnNodeFocus:ie,setCenter:re}=P.getState();if(!ie)return;I6(new Map([[e,S]]),{x:0,y:0,width:ae,height:ye},se,!0).length>0||re(S.position.x+V.width/2,S.position.y+V.height/2,{zoom:se[2]})};return n.jsx("div",{className:bn(["react-flow__node",`react-flow__node-${k}`,{[x]:T},S.className,{selected:S.selected,selectable:_,parent:w,draggable:T,dragging:N}]),ref:I,style:{zIndex:F.z,transform:`translate(${F.positionAbsolute.x}px,${F.positionAbsolute.y}px)`,pointerEvents:W?"all":"none",visibility:D?"visible":"hidden",...S.style,...L},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:U,onMouseLeave:H,onContextMenu:K,onClick:Q,onDoubleClick:ne,onKeyDown:B?pe:void 0,tabIndex:B?0:void 0,onFocus:B?X:void 0,role:S.ariaRole??(B?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${oY}-${y}`,"aria-label":S.ariaLabel,...S.domAttributes,children:n.jsx(W7e,{value:e,children:n.jsx(E,{id:e,data:S.data,type:k,positionAbsoluteX:F.positionAbsolute.x,positionAbsoluteY:F.positionAbsolute.y,selected:S.selected??!1,selectable:_,draggable:T,deletable:S.deletable??!0,isConnectable:z,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:N,dragHandle:S.dragHandle,zIndex:F.z,parentId:S.parentId,...V})})})}var sRe=A.memo(aRe);const lRe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function xY(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,onError:a}=Gt(lRe,Vr),s=rRe(e.onlyRenderVisibleElements),l=oRe();return n.jsx("div",{className:"react-flow__nodes",style:Pv,children:s.map(c=>n.jsx(sRe,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},c))})}xY.displayName="NodeRenderer";const cRe=A.memo(xY);function dRe(e){return Gt(A.useCallback(r=>{if(!e)return r.edges.map(i=>i.id);const o=[];if(r.width&&r.height)for(const i of r.edges){const a=r.nodeLookup.get(i.source),s=r.nodeLookup.get(i.target);a&&s&&c3e({sourceNode:a,targetNode:s,width:r.width,height:r.height,transform:r.transform})&&o.push(i.id)}return o},[e]),Vr)}const uRe=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return n.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},pRe=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return n.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},LN={[Z1.Arrow]:uRe,[Z1.ArrowClosed]:pRe};function fRe(e){const t=Ur();return A.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call(LN,e)?LN[e]:((a=(i=t.getState()).onError)==null||a.call(i,"009",hs.error009(e)),null)},[e])}const hRe=({id:e,type:t,color:r,width:o=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const c=fRe(t);return c?n.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0",children:n.jsx(c,{color:r,strokeWidth:s})}):null},mY=({defaultColor:e,rfId:t})=>{const r=Gt(a=>a.edges),o=Gt(a=>a.defaultEdgeOptions),i=A.useMemo(()=>x3e(r,{id:t,defaultColor:e,defaultMarkerStart:o==null?void 0:o.markerStart,defaultMarkerEnd:o==null?void 0:o.markerEnd}),[r,o,t,e]);return i.length?n.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:n.jsx("defs",{children:i.map(a=>n.jsx(hRe,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};mY.displayName="MarkerDefinitions";var gRe=A.memo(mY);function yY({x:e,y:t,label:r,labelStyle:o,labelShowBg:i=!0,labelBgStyle:a,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...f}){const[p,h]=A.useState({x:1,y:0,width:0,height:0}),x=bn(["react-flow__edge-textwrapper",d]),m=A.useRef(null);return A.useEffect(()=>{if(m.current){const y=m.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),r?n.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...f,children:[i&&n.jsx("rect",{width:p.width+2*s[0],x:-s[0],y:-s[1],height:p.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),n.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:m,style:o,children:r}),c]}):null}yY.displayName="EdgeText";const xRe=A.memo(yY);function zv({path:e,labelX:t,labelY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...f}){return n.jsxs(n.Fragment,{children:[n.jsx("path",{...f,d:e,fill:"none",className:bn(["react-flow__edge-path",f.className])}),d?n.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,o&&ma(t)&&ma(r)?n.jsx(xRe,{x:t,y:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function WN({pos:e,x1:t,y1:r,x2:o,y2:i}){return e===st.Left||e===st.Right?[.5*(t+o),r]:[t,.5*(r+i)]}function bY({sourceX:e,sourceY:t,sourcePosition:r=st.Bottom,targetX:o,targetY:i,targetPosition:a=st.Top}){const[s,l]=WN({pos:r,x1:e,y1:t,x2:o,y2:i}),[c,d]=WN({pos:a,x1:o,y1:i,x2:e,y2:t}),[f,p,h,x]=NK({sourceX:e,sourceY:t,targetX:o,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${s},${l} ${c},${d} ${o},${i}`,f,p,h,x]}function vY(e){return A.memo(({id:t,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:x,style:m,markerEnd:y,markerStart:b,interactionWidth:v})=>{const[C,S,F]=bY({sourceX:r,sourceY:o,sourcePosition:s,targetX:i,targetY:a,targetPosition:l}),w=e.isInternal?void 0:t;return n.jsx(zv,{id:w,path:C,labelX:S,labelY:F,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:x,style:m,markerEnd:y,markerStart:b,interactionWidth:v})})}const mRe=vY({isInternal:!1}),jY=vY({isInternal:!0});mRe.displayName="SimpleBezierEdge";jY.displayName="SimpleBezierEdgeInternal";function SY(e){return A.memo(({id:t,sourceX:r,sourceY:o,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,sourcePosition:x=st.Bottom,targetPosition:m=st.Top,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:C})=>{const[S,F,w]=I5({sourceX:r,sourceY:o,sourcePosition:x,targetX:i,targetY:a,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset,stepPosition:v==null?void 0:v.stepPosition}),k=e.isInternal?void 0:t;return n.jsx(zv,{id:k,path:S,labelX:F,labelY:w,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:y,markerStart:b,interactionWidth:C})})}const wY=SY({isInternal:!1}),EY=SY({isInternal:!0});wY.displayName="SmoothStepEdge";EY.displayName="SmoothStepEdgeInternal";function CY(e){return A.memo(({id:t,...r})=>{var i;const o=e.isInternal?void 0:t;return n.jsx(wY,{...r,id:o,pathOptions:A.useMemo(()=>{var a;return{borderRadius:0,offset:(a=r.pathOptions)==null?void 0:a.offset}},[(i=r.pathOptions)==null?void 0:i.offset])})})}const yRe=CY({isInternal:!1}),kY=CY({isInternal:!0});yRe.displayName="StepEdge";kY.displayName="StepEdgeInternal";function FY(e){return A.memo(({id:t,sourceX:r,sourceY:o,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:x,markerStart:m,interactionWidth:y})=>{const[b,v,C]=UK({sourceX:r,sourceY:o,targetX:i,targetY:a}),S=e.isInternal?void 0:t;return n.jsx(zv,{id:S,path:b,labelX:v,labelY:C,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:x,markerStart:m,interactionWidth:y})})}const bRe=FY({isInternal:!1}),AY=FY({isInternal:!0});bRe.displayName="StraightEdge";AY.displayName="StraightEdgeInternal";function _Y(e){return A.memo(({id:t,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s=st.Bottom,targetPosition:l=st.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:x,style:m,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:C})=>{const[S,F,w]=LK({sourceX:r,sourceY:o,sourcePosition:s,targetX:i,targetY:a,targetPosition:l,curvature:v==null?void 0:v.curvature}),k=e.isInternal?void 0:t;return n.jsx(zv,{id:k,path:S,labelX:F,labelY:w,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:x,style:m,markerEnd:y,markerStart:b,interactionWidth:C})})}const vRe=_Y({isInternal:!1}),RY=_Y({isInternal:!0});vRe.displayName="BezierEdge";RY.displayName="BezierEdgeInternal";const VN={default:RY,straight:AY,step:kY,smoothstep:EY,simplebezier:jY},UN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},jRe=(e,t,r)=>r===st.Left?e-t:r===st.Right?e+t:e,SRe=(e,t,r)=>r===st.Top?e-t:r===st.Bottom?e+t:e,qN="react-flow__edgeupdater";function HN({position:e,centerX:t,centerY:r,radius:o=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:l}){return n.jsx("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:bn([qN,`${qN}-${l}`]),cx:jRe(t,o,e),cy:SRe(r,o,e),r:o,stroke:"transparent",fill:"transparent"})}function wRe({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:o,sourceY:i,targetX:a,targetY:s,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,setReconnecting:h,setUpdateHover:x}){const m=Ur(),y=(F,w)=>{if(F.button!==0)return;const{autoPanOnConnect:k,domNode:E,connectionMode:T,connectionRadius:_,lib:z,onConnectStart:B,cancelConnection:P,nodeLookup:D,rfId:I,panBy:N,updateConnection:M}=m.getState(),V=w.type==="target",L=(U,H)=>{h(!1),p==null||p(U,r,w.type,H)},W=U=>d==null?void 0:d(r,U),G=(U,H)=>{h(!0),f==null||f(F,r,w.type),B==null||B(U,H)};M5.onPointerDown(F.nativeEvent,{autoPanOnConnect:k,connectionMode:T,connectionRadius:_,domNode:E,handleId:w.id,nodeId:w.nodeId,nodeLookup:D,isTarget:V,edgeUpdaterType:w.type,lib:z,flowId:I,cancelConnection:P,panBy:N,isValidConnection:(...U)=>{var H,K;return((K=(H=m.getState()).isValidConnection)==null?void 0:K.call(H,...U))??!0},onConnect:W,onConnectStart:G,onConnectEnd:(...U)=>{var H,K;return(K=(H=m.getState()).onConnectEnd)==null?void 0:K.call(H,...U)},onReconnectEnd:L,updateConnection:M,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold,handleDomNode:F.currentTarget})},b=F=>y(F,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),v=F=>y(F,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),C=()=>x(!0),S=()=>x(!1);return n.jsxs(n.Fragment,{children:[(e===!0||e==="source")&&n.jsx(HN,{position:l,centerX:o,centerY:i,radius:t,onMouseDown:b,onMouseEnter:C,onMouseOut:S,type:"source"}),(e===!0||e==="target")&&n.jsx(HN,{position:c,centerX:a,centerY:s,radius:t,onMouseDown:v,onMouseEnter:C,onMouseOut:S,type:"target"})]})}function ERe({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:o,onClick:i,onDoubleClick:a,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:f,onReconnect:p,onReconnectStart:h,onReconnectEnd:x,rfId:m,edgeTypes:y,noPanClassName:b,onError:v,disableKeyboardA11y:C}){let S=Gt(re=>re.edgeLookup.get(e));const F=Gt(re=>re.defaultEdgeOptions);S=F?{...F,...S}:S;let w=S.type||"default",k=(y==null?void 0:y[w])||VN[w];k===void 0&&(v==null||v("011",hs.error011(w)),w="default",k=(y==null?void 0:y.default)||VN.default);const E=!!(S.focusable||t&&typeof S.focusable>"u"),T=typeof p<"u"&&(S.reconnectable||r&&typeof S.reconnectable>"u"),_=!!(S.selectable||o&&typeof S.selectable>"u"),z=A.useRef(null),[B,P]=A.useState(!1),[D,I]=A.useState(!1),N=Ur(),{zIndex:M,sourceX:V,sourceY:L,targetX:W,targetY:G,sourcePosition:U,targetPosition:H}=Gt(A.useCallback(re=>{const Se=re.nodeLookup.get(S.source),Ae=re.nodeLookup.get(S.target);if(!Se||!Ae)return{zIndex:S.zIndex,...UN};const te=g3e({id:e,sourceNode:Se,targetNode:Ae,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:re.connectionMode,onError:v});return{zIndex:l3e({selected:S.selected,zIndex:S.zIndex,sourceNode:Se,targetNode:Ae,elevateOnSelect:re.elevateEdgesOnSelect,zIndexMode:re.zIndexMode}),...te||UN}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),Vr),K=A.useMemo(()=>S.markerStart?`url('#${O5(S.markerStart,m)}')`:void 0,[S.markerStart,m]),ne=A.useMemo(()=>S.markerEnd?`url('#${O5(S.markerEnd,m)}')`:void 0,[S.markerEnd,m]);if(S.hidden||V===null||L===null||W===null||G===null)return null;const Q=re=>{var he;const{addSelectedEdges:Se,unselectNodesAndEdges:Ae,multiSelectionActive:te}=N.getState();_&&(N.setState({nodesSelectionActive:!1}),S.selected&&te?(Ae({nodes:[],edges:[S]}),(he=z.current)==null||he.blur()):Se([e])),i&&i(re,S)},pe=a?re=>{a(re,{...S})}:void 0,X=s?re=>{s(re,{...S})}:void 0,se=l?re=>{l(re,{...S})}:void 0,ae=c?re=>{c(re,{...S})}:void 0,ye=d?re=>{d(re,{...S})}:void 0,ie=re=>{var Se;if(!C&&kK.includes(re.key)&&_){const{unselectNodesAndEdges:Ae,addSelectedEdges:te}=N.getState();re.key==="Escape"?((Se=z.current)==null||Se.blur(),Ae({edges:[S]})):te([e])}};return n.jsx("svg",{style:{zIndex:M},children:n.jsxs("g",{className:bn(["react-flow__edge",`react-flow__edge-${w}`,S.className,b,{selected:S.selected,animated:S.animated,inactive:!_&&!i,updating:B,selectable:_}]),onClick:Q,onDoubleClick:pe,onContextMenu:X,onMouseEnter:se,onMouseMove:ae,onMouseLeave:ye,onKeyDown:E?ie:void 0,tabIndex:E?0:void 0,role:S.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":E?`${iY}-${m}`:void 0,ref:z,...S.domAttributes,children:[!D&&n.jsx(k,{id:e,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:_,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:V,sourceY:L,targetX:W,targetY:G,sourcePosition:U,targetPosition:H,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:K,markerEnd:ne,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),T&&n.jsx(wRe,{edge:S,isReconnectable:T,reconnectRadius:f,onReconnect:p,onReconnectStart:h,onReconnectEnd:x,sourceX:V,sourceY:L,targetX:W,targetY:G,sourcePosition:U,targetPosition:H,setUpdateHover:P,setReconnecting:I})]})})}var CRe=A.memo(ERe);const kRe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function TY({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:o,noPanClassName:i,onReconnect:a,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:p,onEdgeDoubleClick:h,onReconnectStart:x,onReconnectEnd:m,disableKeyboardA11y:y}){const{edgesFocusable:b,edgesReconnectable:v,elementsSelectable:C,onError:S}=Gt(kRe,Vr),F=dRe(t);return n.jsxs("div",{className:"react-flow__edges",children:[n.jsx(gRe,{defaultColor:e,rfId:r}),F.map(w=>n.jsx(CRe,{id:w,edgesFocusable:b,edgesReconnectable:v,elementsSelectable:C,noPanClassName:i,onReconnect:a,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:f,reconnectRadius:p,onDoubleClick:h,onReconnectStart:x,onReconnectEnd:m,rfId:r,onError:S,edgeTypes:o,disableKeyboardA11y:y},w))]})}TY.displayName="EdgeRenderer";const FRe=A.memo(TY),ARe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function _Re({children:e}){const t=Gt(ARe);return n.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function RRe(e){const t=Tv(),r=A.useRef(!1);A.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const TRe=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function PRe(e){const t=Gt(TRe),r=Ur();return A.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function zRe(e){return e.connection.inProgress?{...e.connection,to:Nx(e.connection.to,e.transform)}:{...e.connection}}function BRe(e){return zRe}function IRe(e){const t=BRe();return Gt(t,Vr)}const ORe=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function DRe({containerStyle:e,style:t,type:r,component:o}){const{nodesConnectable:i,width:a,height:s,isValid:l,inProgress:c}=Gt(ORe,Vr);return!(a&&i&&c)?null:n.jsx("svg",{style:e,width:a,height:s,className:"react-flow__connectionline react-flow__container",children:n.jsx("g",{className:bn(["react-flow__connection",_K(l)]),children:n.jsx(PY,{style:t,type:r,CustomComponent:o,isValid:l})})})}const PY=({style:e,type:t=Zl.Bezier,CustomComponent:r,isValid:o})=>{const{inProgress:i,from:a,fromNode:s,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:p,toPosition:h,pointer:x}=IRe();if(!i)return;if(r)return n.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:a.x,fromY:a.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:h,connectionStatus:_K(o),toNode:f,toHandle:p,pointer:x});let m="";const y={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:h};switch(t){case Zl.Bezier:[m]=LK(y);break;case Zl.SimpleBezier:[m]=bY(y);break;case Zl.Step:[m]=I5({...y,borderRadius:0});break;case Zl.SmoothStep:[m]=I5(y);break;default:[m]=UK(y)}return n.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:e})};PY.displayName="ConnectionLine";const MRe={};function GN(e=MRe){A.useRef(e),Ur(),A.useEffect(()=>{},[e])}function $Re(){Ur(),A.useRef(!1),A.useEffect(()=>{},[])}function zY({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:o,onEdgeClick:i,onNodeDoubleClick:a,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:h,onSelectionEnd:x,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:b,connectionLineContainerStyle:v,selectionKeyCode:C,selectionOnDrag:S,selectionMode:F,multiSelectionKeyCode:w,panActivationKeyCode:k,zoomActivationKeyCode:E,deleteKeyCode:T,onlyRenderVisibleElements:_,elementsSelectable:z,defaultViewport:B,translateExtent:P,minZoom:D,maxZoom:I,preventScrolling:N,defaultMarkerColor:M,zoomOnScroll:V,zoomOnPinch:L,panOnScroll:W,panOnScrollSpeed:G,panOnScrollMode:U,zoomOnDoubleClick:H,panOnDrag:K,onPaneClick:ne,onPaneMouseEnter:Q,onPaneMouseMove:pe,onPaneMouseLeave:X,onPaneScroll:se,onPaneContextMenu:ae,paneClickDistance:ye,nodeClickDistance:ie,onEdgeContextMenu:re,onEdgeMouseEnter:Se,onEdgeMouseMove:Ae,onEdgeMouseLeave:te,reconnectRadius:he,onReconnect:Te,onReconnectStart:rt,onReconnectEnd:it,noDragClassName:kt,noWheelClassName:Pt,noPanClassName:jt,disableKeyboardA11y:zt,nodeExtent:fr,rfId:Bt,viewport:ar,onViewportChange:Sr}){return GN(e),GN(t),$Re(),RRe(r),PRe(ar),n.jsx(eRe,{onPaneClick:ne,onPaneMouseEnter:Q,onPaneMouseMove:pe,onPaneMouseLeave:X,onPaneContextMenu:ae,onPaneScroll:se,paneClickDistance:ye,deleteKeyCode:T,selectionKeyCode:C,selectionOnDrag:S,selectionMode:F,onSelectionStart:h,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:k,zoomActivationKeyCode:E,elementsSelectable:z,zoomOnScroll:V,zoomOnPinch:L,zoomOnDoubleClick:H,panOnScroll:W,panOnScrollSpeed:G,panOnScrollMode:U,panOnDrag:K,defaultViewport:B,translateExtent:P,minZoom:D,maxZoom:I,onSelectionContextMenu:p,preventScrolling:N,noDragClassName:kt,noWheelClassName:Pt,noPanClassName:jt,disableKeyboardA11y:zt,onViewportChange:Sr,isControlledViewport:!!ar,children:n.jsxs(_Re,{children:[n.jsx(FRe,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:Te,onReconnectStart:rt,onReconnectEnd:it,onlyRenderVisibleElements:_,onEdgeContextMenu:re,onEdgeMouseEnter:Se,onEdgeMouseMove:Ae,onEdgeMouseLeave:te,reconnectRadius:he,defaultMarkerColor:M,noPanClassName:jt,disableKeyboardA11y:zt,rfId:Bt}),n.jsx(DRe,{style:y,type:m,component:b,containerStyle:v}),n.jsx("div",{className:"react-flow__edgelabel-renderer"}),n.jsx(cRe,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:ie,onlyRenderVisibleElements:_,noPanClassName:jt,noDragClassName:kt,disableKeyboardA11y:zt,nodeExtent:fr,rfId:Bt}),n.jsx("div",{className:"react-flow__viewport-portal"})]})})}zY.displayName="GraphView";const NRe=A.memo(zY),KN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:c=.5,maxZoom:d=2,nodeOrigin:f,nodeExtent:p,zIndexMode:h="basic"}={})=>{const x=new Map,m=new Map,y=new Map,b=new Map,v=o??t??[],C=r??e??[],S=f??[0,0],F=p??Qg;GK(y,b,v);const w=D5(C,x,m,{nodeOrigin:S,nodeExtent:F,zIndexMode:h});let k=[0,0,1];if(s&&i&&a){const E=Mx(x,{filter:B=>!!((B.width||B.initialWidth)&&(B.height||B.initialHeight))}),{x:T,y:_,zoom:z}=O6(E,i,a,c,d,(l==null?void 0:l.padding)??.1);k=[T,_,z]}return{rfId:"1",width:i??0,height:a??0,transform:k,nodes:C,nodesInitialized:w,nodeLookup:x,parentLookup:m,edges:v,edgeLookup:b,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:c,maxZoom:d,translateExtent:Qg,nodeExtent:F,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Vp.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...AK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:r3e,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:FK,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},LRe=({nodes:e,edges:t,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:p,zIndexMode:h})=>i7e((x,m)=>{async function y(){const{nodeLookup:b,panZoom:v,fitViewOptions:C,fitViewResolver:S,width:F,height:w,minZoom:k,maxZoom:E}=m();v&&(await e3e({nodes:b,width:F,height:w,panZoom:v,minZoom:k,maxZoom:E},C),S==null||S.resolve(!0),x({fitViewResolver:null}))}return{...KN({nodes:e,edges:t,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:p,defaultNodes:r,defaultEdges:o,zIndexMode:h}),setNodes:b=>{const{nodeLookup:v,parentLookup:C,nodeOrigin:S,elevateNodesOnSelect:F,fitViewQueued:w,zIndexMode:k}=m(),E=D5(b,v,C,{nodeOrigin:S,nodeExtent:p,elevateNodesOnSelect:F,checkEquality:!0,zIndexMode:k});w&&E?(y(),x({nodes:b,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:b,nodesInitialized:E})},setEdges:b=>{const{connectionLookup:v,edgeLookup:C}=m();GK(v,C,b),x({edges:b})},setDefaultNodesAndEdges:(b,v)=>{if(b){const{setNodes:C}=m();C(b),x({hasDefaultNodes:!0})}if(v){const{setEdges:C}=m();C(v),x({hasDefaultEdges:!0})}},updateNodeInternals:b=>{const{triggerNodeChanges:v,nodeLookup:C,parentLookup:S,domNode:F,nodeOrigin:w,nodeExtent:k,debug:E,fitViewQueued:T,zIndexMode:_}=m(),{changes:z,updatedInternals:B}=w3e(b,C,S,F,w,k,_);B&&(b3e(C,S,{nodeOrigin:w,nodeExtent:k,zIndexMode:_}),T?(y(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(z==null?void 0:z.length)>0&&(E&&console.log("React Flow: trigger node changes",z),v==null||v(z)))},updateNodePositions:(b,v=!1)=>{const C=[];let S=[];const{nodeLookup:F,triggerNodeChanges:w,connection:k,updateConnection:E,onNodesChangeMiddlewareMap:T}=m();for(const[_,z]of b){const B=F.get(_),P=!!(B!=null&&B.expandParent&&(B!=null&&B.parentId)&&(z!=null&&z.position)),D={id:_,type:"position",position:P?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:v};if(B&&k.inProgress&&k.fromNode.id===B.id){const I=Td(B,k.fromHandle,st.Left,!0);E({...k,from:I})}P&&B.parentId&&C.push({id:_,parentId:B.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),S.push(D)}if(C.length>0){const{parentLookup:_,nodeOrigin:z}=m(),B=W6(C,F,_,z);S.push(...B)}for(const _ of T.values())S=_(S);w(S)},triggerNodeChanges:b=>{const{onNodesChange:v,setNodes:C,nodes:S,hasDefaultNodes:F,debug:w}=m();if(b!=null&&b.length){if(F){const k=lY(b,S);C(k)}w&&console.log("React Flow: trigger node changes",b),v==null||v(b)}},triggerEdgeChanges:b=>{const{onEdgesChange:v,setEdges:C,edges:S,hasDefaultEdges:F,debug:w}=m();if(b!=null&&b.length){if(F){const k=cY(b,S);C(k)}w&&console.log("React Flow: trigger edge changes",b),v==null||v(b)}},addSelectedNodes:b=>{const{multiSelectionActive:v,edgeLookup:C,nodeLookup:S,triggerNodeChanges:F,triggerEdgeChanges:w}=m();if(v){const k=b.map(E=>Zc(E,!0));F(k);return}F(rp(S,new Set([...b]),!0)),w(rp(C))},addSelectedEdges:b=>{const{multiSelectionActive:v,edgeLookup:C,nodeLookup:S,triggerNodeChanges:F,triggerEdgeChanges:w}=m();if(v){const k=b.map(E=>Zc(E,!0));w(k);return}w(rp(C,new Set([...b]))),F(rp(S,new Set,!0))},unselectNodesAndEdges:({nodes:b,edges:v}={})=>{const{edges:C,nodes:S,nodeLookup:F,triggerNodeChanges:w,triggerEdgeChanges:k}=m(),E=b||S,T=v||C,_=[];for(const B of E){if(!B.selected)continue;const P=F.get(B.id);P&&(P.selected=!1),_.push(Zc(B.id,!1))}const z=[];for(const B of T)B.selected&&z.push(Zc(B.id,!1));w(_),k(z)},setMinZoom:b=>{const{panZoom:v,maxZoom:C}=m();v==null||v.setScaleExtent([b,C]),x({minZoom:b})},setMaxZoom:b=>{const{panZoom:v,minZoom:C}=m();v==null||v.setScaleExtent([C,b]),x({maxZoom:b})},setTranslateExtent:b=>{var v;(v=m().panZoom)==null||v.setTranslateExtent(b),x({translateExtent:b})},resetSelectedElements:()=>{const{edges:b,nodes:v,triggerNodeChanges:C,triggerEdgeChanges:S,elementsSelectable:F}=m();if(!F)return;const w=v.reduce((E,T)=>T.selected?[...E,Zc(T.id,!1)]:E,[]),k=b.reduce((E,T)=>T.selected?[...E,Zc(T.id,!1)]:E,[]);C(w),S(k)},setNodeExtent:b=>{const{nodes:v,nodeLookup:C,parentLookup:S,nodeOrigin:F,elevateNodesOnSelect:w,nodeExtent:k,zIndexMode:E}=m();b[0][0]===k[0][0]&&b[0][1]===k[0][1]&&b[1][0]===k[1][0]&&b[1][1]===k[1][1]||(D5(v,C,S,{nodeOrigin:F,nodeExtent:b,elevateNodesOnSelect:w,checkEquality:!1,zIndexMode:E}),x({nodeExtent:b}))},panBy:b=>{const{transform:v,width:C,height:S,panZoom:F,translateExtent:w}=m();return E3e({delta:b,panZoom:F,transform:v,translateExtent:w,width:C,height:S})},setCenter:async(b,v,C)=>{const{width:S,height:F,maxZoom:w,panZoom:k}=m();if(!k)return Promise.resolve(!1);const E=typeof(C==null?void 0:C.zoom)<"u"?C.zoom:w;return await k.setViewport({x:S/2-b*E,y:F/2-v*E,zoom:E},{duration:C==null?void 0:C.duration,ease:C==null?void 0:C.ease,interpolate:C==null?void 0:C.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...AK}})},updateConnection:b=>{x({connection:b})},reset:()=>x({...KN()})}},Object.is);function BY({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:a,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:c,fitView:d,nodeOrigin:f,nodeExtent:p,zIndexMode:h,children:x}){const[m]=A.useState(()=>LRe({nodes:e,edges:t,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:d,minZoom:s,maxZoom:l,fitViewOptions:c,nodeOrigin:f,nodeExtent:p,zIndexMode:h}));return n.jsx(a7e,{value:m,children:n.jsx(_7e,{children:x})})}function WRe({children:e,nodes:t,edges:r,defaultNodes:o,defaultEdges:i,width:a,height:s,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:h,zIndexMode:x}){return A.useContext(Rv)?n.jsx(n.Fragment,{children:e}):n.jsx(BY,{initialNodes:t,initialEdges:r,defaultNodes:o,defaultEdges:i,initialWidth:a,initialHeight:s,fitView:l,initialFitViewOptions:c,initialMinZoom:d,initialMaxZoom:f,nodeOrigin:p,nodeExtent:h,zIndexMode:x,children:e})}const VRe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function URe({nodes:e,edges:t,defaultNodes:r,defaultEdges:o,className:i,nodeTypes:a,edgeTypes:s,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:p,onMoveEnd:h,onConnect:x,onConnectStart:m,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,onNodeMouseEnter:C,onNodeMouseMove:S,onNodeMouseLeave:F,onNodeContextMenu:w,onNodeDoubleClick:k,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:_,onNodesDelete:z,onEdgesDelete:B,onDelete:P,onSelectionChange:D,onSelectionDragStart:I,onSelectionDrag:N,onSelectionDragStop:M,onSelectionContextMenu:V,onSelectionStart:L,onSelectionEnd:W,onBeforeDelete:G,connectionMode:U,connectionLineType:H=Zl.Bezier,connectionLineStyle:K,connectionLineComponent:ne,connectionLineContainerStyle:Q,deleteKeyCode:pe="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:se=!1,selectionMode:ae=Zg.Full,panActivationKeyCode:ye="Space",multiSelectionKeyCode:ie=tx()?"Meta":"Control",zoomActivationKeyCode:re=tx()?"Meta":"Control",snapToGrid:Se,snapGrid:Ae,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:he,nodesDraggable:Te,autoPanOnNodeFocus:rt,nodesConnectable:it,nodesFocusable:kt,nodeOrigin:Pt=aY,edgesFocusable:jt,edgesReconnectable:zt,elementsSelectable:fr=!0,defaultViewport:Bt=b7e,minZoom:ar=.5,maxZoom:Sr=2,translateExtent:Lt=Qg,preventScrolling:le=!0,nodeExtent:be,defaultMarkerColor:we="#b1b1b7",zoomOnScroll:$e=!0,zoomOnPinch:Be=!0,panOnScroll:Pe=!1,panOnScrollSpeed:Ne=.5,panOnScrollMode:Fe=yd.Free,zoomOnDoubleClick:Je=!0,panOnDrag:Qe=!0,onPaneClick:J,onPaneMouseEnter:je,onPaneMouseMove:Ie,onPaneMouseLeave:We,onPaneScroll:Wt,onPaneContextMenu:Ve,paneClickDistance:Kt=1,nodeClickDistance:dt=0,children:sr,onReconnect:ut,onReconnectStart:qt,onReconnectEnd:mr,onEdgeContextMenu:$n,onEdgeDoubleClick:ee,onEdgeMouseEnter:ue,onEdgeMouseMove:xe,onEdgeMouseLeave:Ce,reconnectRadius:Oe=10,onNodesChange:Le,onEdgesChange:He,noDragClassName:qe="nodrag",noWheelClassName:Ge="nowheel",noPanClassName:Ke="nopan",fitView:vt,fitViewOptions:nt,connectOnClick:Ft,attributionPosition:Ot,proOptions:Jr,defaultEdgeOptions:qr,elevateNodesOnSelect:sn=!0,elevateEdgesOnSelect:Qt=!1,disableKeyboardA11y:Nn=!1,autoPanOnConnect:or,autoPanOnNodeDrag:bs,autoPanSpeed:Po,connectionRadius:go,isValidConnection:$a,onError:vs,style:fi,id:hi,nodeDragThreshold:Ln,connectionDragThreshold:$t,viewport:lr,onViewportChange:Na,width:qi,height:wr,colorMode:Hi="light",debug:js,onScroll:gi,ariaLabelConfig:Ld,zIndexMode:Wx="basic",...Mv},pf){const Wd=hi||"1",ff=w7e(Hi),Sc=A.useCallback(Vx=>{Vx.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),gi==null||gi(Vx)},[gi]);return n.jsx("div",{"data-testid":"rf__wrapper",...Mv,onScroll:Sc,style:{...fi,...VRe},ref:pf,className:bn(["react-flow",i,ff]),id:hi,role:"application",children:n.jsxs(WRe,{nodes:e,edges:t,width:qi,height:wr,fitView:vt,fitViewOptions:nt,minZoom:ar,maxZoom:Sr,nodeOrigin:Pt,nodeExtent:be,zIndexMode:Wx,children:[n.jsx(NRe,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:C,onNodeMouseMove:S,onNodeMouseLeave:F,onNodeContextMenu:w,onNodeDoubleClick:k,nodeTypes:a,edgeTypes:s,connectionLineType:H,connectionLineStyle:K,connectionLineComponent:ne,connectionLineContainerStyle:Q,selectionKeyCode:X,selectionOnDrag:se,selectionMode:ae,deleteKeyCode:pe,multiSelectionKeyCode:ie,panActivationKeyCode:ye,zoomActivationKeyCode:re,onlyRenderVisibleElements:te,defaultViewport:Bt,translateExtent:Lt,minZoom:ar,maxZoom:Sr,preventScrolling:le,zoomOnScroll:$e,zoomOnPinch:Be,zoomOnDoubleClick:Je,panOnScroll:Pe,panOnScrollSpeed:Ne,panOnScrollMode:Fe,panOnDrag:Qe,onPaneClick:J,onPaneMouseEnter:je,onPaneMouseMove:Ie,onPaneMouseLeave:We,onPaneScroll:Wt,onPaneContextMenu:Ve,paneClickDistance:Kt,nodeClickDistance:dt,onSelectionContextMenu:V,onSelectionStart:L,onSelectionEnd:W,onReconnect:ut,onReconnectStart:qt,onReconnectEnd:mr,onEdgeContextMenu:$n,onEdgeDoubleClick:ee,onEdgeMouseEnter:ue,onEdgeMouseMove:xe,onEdgeMouseLeave:Ce,reconnectRadius:Oe,defaultMarkerColor:we,noDragClassName:qe,noWheelClassName:Ge,noPanClassName:Ke,rfId:Wd,disableKeyboardA11y:Nn,nodeExtent:be,viewport:lr,onViewportChange:Na}),n.jsx(S7e,{nodes:e,edges:t,defaultNodes:r,defaultEdges:o,onConnect:x,onConnectStart:m,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,nodesDraggable:Te,autoPanOnNodeFocus:rt,nodesConnectable:it,nodesFocusable:kt,edgesFocusable:jt,edgesReconnectable:zt,elementsSelectable:fr,elevateNodesOnSelect:sn,elevateEdgesOnSelect:Qt,minZoom:ar,maxZoom:Sr,nodeExtent:be,onNodesChange:Le,onEdgesChange:He,snapToGrid:Se,snapGrid:Ae,connectionMode:U,translateExtent:Lt,connectOnClick:Ft,defaultEdgeOptions:qr,fitView:vt,fitViewOptions:nt,onNodesDelete:z,onEdgesDelete:B,onDelete:P,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:_,onSelectionDrag:N,onSelectionDragStart:I,onSelectionDragStop:M,onMove:f,onMoveStart:p,onMoveEnd:h,noPanClassName:Ke,nodeOrigin:Pt,rfId:Wd,autoPanOnConnect:or,autoPanOnNodeDrag:bs,autoPanSpeed:Po,onError:vs,connectionRadius:go,isValidConnection:$a,selectNodesOnDrag:he,nodeDragThreshold:Ln,connectionDragThreshold:$t,onBeforeDelete:G,debug:js,ariaLabelConfig:Ld,zIndexMode:Wx}),n.jsx(y7e,{onSelectionChange:D}),sr,n.jsx(f7e,{proOptions:Jr,position:Ot}),n.jsx(p7e,{rfId:Wd,disableKeyboardA11y:Nn})]})})}var qRe=dY(URe);function HRe(e){const[t,r]=A.useState(e),o=A.useCallback(i=>r(a=>lY(i,a)),[]);return[t,r,o]}function GRe(e){const[t,r]=A.useState(e),o=A.useCallback(i=>r(a=>cY(i,a)),[]);return[t,r,o]}function KRe({dimensions:e,lineWidth:t,variant:r,className:o}){return n.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:bn(["react-flow__background-pattern",r,o])})}function YRe({radius:e,className:t}){return n.jsx("circle",{cx:e,cy:e,r:e,className:bn(["react-flow__background-pattern","dots",t])})}var tl;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(tl||(tl={}));const XRe={[tl.Dots]:1,[tl.Lines]:1,[tl.Cross]:6},JRe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function IY({id:e,variant:t=tl.Dots,gap:r=20,size:o,lineWidth:i=1,offset:a=0,color:s,bgColor:l,style:c,className:d,patternClassName:f}){const p=A.useRef(null),{transform:h,patternId:x}=Gt(JRe,Vr),m=o||XRe[t],y=t===tl.Dots,b=t===tl.Cross,v=Array.isArray(r)?r:[r,r],C=[v[0]*h[2]||1,v[1]*h[2]||1],S=m*h[2],F=Array.isArray(a)?a:[a,a],w=b?[S,S]:C,k=[F[0]*h[2]||1+w[0]/2,F[1]*h[2]||1+w[1]/2],E=`${x}${e||""}`;return n.jsxs("svg",{className:bn(["react-flow__background",d]),style:{...c,...Pv,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:p,"data-testid":"rf__background",children:[n.jsx("pattern",{id:E,x:h[0]%C[0],y:h[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:y?n.jsx(YRe,{radius:S/2,className:f}):n.jsx(KRe,{dimensions:w,lineWidth:i,variant:t,className:f})}),n.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}IY.displayName="Background";const QRe=A.memo(IY);function ZRe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:n.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function eTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:n.jsx("path",{d:"M0 0h32v4.2H0z"})})}function tTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:n.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function rTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function nTe(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function V0({children:e,className:t,...r}){return n.jsx("button",{type:"button",className:bn(["react-flow__controls-button",t]),...r,children:e})}const oTe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function OY({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:s,onFitView:l,onInteractiveChange:c,className:d,children:f,position:p="bottom-left",orientation:h="vertical","aria-label":x}){const m=Ur(),{isInteractive:y,minZoomReached:b,maxZoomReached:v,ariaLabelConfig:C}=Gt(oTe,Vr),{zoomIn:S,zoomOut:F,fitView:w}=Tv(),k=()=>{S(),a==null||a()},E=()=>{F(),s==null||s()},T=()=>{w(i),l==null||l()},_=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)},z=h==="horizontal"?"horizontal":"vertical";return n.jsxs(Kp,{className:bn(["react-flow__controls",z,d]),position:p,style:e,"data-testid":"rf__controls","aria-label":x??C["controls.ariaLabel"],children:[t&&n.jsxs(n.Fragment,{children:[n.jsx(V0,{onClick:k,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:v,children:n.jsx(ZRe,{})}),n.jsx(V0,{onClick:E,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:b,children:n.jsx(eTe,{})})]}),r&&n.jsx(V0,{className:"react-flow__controls-fitview",onClick:T,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:n.jsx(tTe,{})}),o&&n.jsx(V0,{className:"react-flow__controls-interactive",onClick:_,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:y?n.jsx(nTe,{}):n.jsx(rTe,{})}),f]})}OY.displayName="Controls";const iTe=A.memo(OY);function aTe({id:e,x:t,y:r,width:o,height:i,style:a,color:s,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:p,selected:h,onClick:x}){const{background:m,backgroundColor:y}=a||{},b=s||m||y;return n.jsx("rect",{className:bn(["react-flow__minimap-node",{selected:h},d]),x:t,y:r,rx:f,ry:f,width:o,height:i,style:{fill:b,stroke:l,strokeWidth:c},shapeRendering:p,onClick:x?v=>x(v,e):void 0})}const sTe=A.memo(aTe),lTe=e=>e.nodes.map(t=>t.id),Xk=e=>e instanceof Function?e:()=>e;function cTe({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:a=sTe,onClick:s}){const l=Gt(lTe,Vr),c=Xk(t),d=Xk(e),f=Xk(r),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return n.jsx(n.Fragment,{children:l.map(h=>n.jsx(uTe,{id:h,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:o,nodeStrokeWidth:i,NodeComponent:a,onClick:s,shapeRendering:p},h))})}function dTe({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:o,nodeBorderRadius:i,nodeStrokeWidth:a,shapeRendering:s,NodeComponent:l,onClick:c}){const{node:d,x:f,y:p,width:h,height:x}=Gt(m=>{const y=m.nodeLookup.get(e);if(!y)return{node:void 0,x:0,y:0,width:0,height:0};const b=y.internals.userNode,{x:v,y:C}=y.internals.positionAbsolute,{width:S,height:F}=ul(b);return{node:b,x:v,y:C,width:S,height:F}},Vr);return!d||d.hidden||!IK(d)?null:n.jsx(l,{x:f,y:p,width:h,height:x,style:d.style,selected:!!d.selected,className:o(d),color:t(d),borderRadius:i,strokeColor:r(d),strokeWidth:a,shapeRendering:s,onClick:c,id:d.id})}const uTe=A.memo(dTe);var pTe=A.memo(cTe);const fTe=200,hTe=150,gTe=e=>!e.hidden,xTe=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?BK(Mx(e.nodeLookup,{filter:gTe}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},mTe="react-flow__minimap-desc";function DY({style:e,className:t,nodeStrokeColor:r,nodeColor:o,nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:f,maskStrokeWidth:p,position:h="bottom-right",onClick:x,onNodeClick:m,pannable:y=!1,zoomable:b=!1,ariaLabel:v,inversePan:C,zoomStep:S=1,offsetScale:F=5}){const w=Ur(),k=A.useRef(null),{boundingRect:E,viewBB:T,rfId:_,panZoom:z,translateExtent:B,flowWidth:P,flowHeight:D,ariaLabelConfig:I}=Gt(xTe,Vr),N=(e==null?void 0:e.width)??fTe,M=(e==null?void 0:e.height)??hTe,V=E.width/N,L=E.height/M,W=Math.max(V,L),G=W*N,U=W*M,H=F*W,K=E.x-(G-E.width)/2-H,ne=E.y-(U-E.height)/2-H,Q=G+H*2,pe=U+H*2,X=`${mTe}-${_}`,se=A.useRef(0),ae=A.useRef();se.current=W,A.useEffect(()=>{if(k.current&&z)return ae.current=z3e({domNode:k.current,panZoom:z,getTransform:()=>w.getState().transform,getViewScale:()=>se.current}),()=>{var Se;(Se=ae.current)==null||Se.destroy()}},[z]),A.useEffect(()=>{var Se;(Se=ae.current)==null||Se.update({translateExtent:B,width:P,height:D,inversePan:C,pannable:y,zoomStep:S,zoomable:b})},[y,b,C,S,B,P,D]);const ye=x?Se=>{var he;const[Ae,te]=((he=ae.current)==null?void 0:he.pointer(Se))||[0,0];x(Se,{x:Ae,y:te})}:void 0,ie=m?A.useCallback((Se,Ae)=>{const te=w.getState().nodeLookup.get(Ae).internals.userNode;m(Se,te)},[]):void 0,re=v??I["minimap.ariaLabel"];return n.jsx(Kp,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*W:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:bn(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:n.jsxs("svg",{width:N,height:M,viewBox:`${K} ${ne} ${Q} ${pe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":X,ref:k,onClick:ye,children:[re&&n.jsx("title",{id:X,children:re}),n.jsx(pTe,{onClick:ie,nodeColor:o,nodeStrokeColor:r,nodeBorderRadius:a,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:l}),n.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-H},${ne-H}h${Q+H*2}v${pe+H*2}h${-Q-H*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}DY.displayName="MiniMap";const yTe=A.memo(DY),bTe=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,vTe={[Gp.Line]:"right",[Gp.Handle]:"bottom-right"};function jTe({nodeId:e,position:t,variant:r=Gp.Handle,className:o,style:i=void 0,children:a,color:s,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:h,autoScale:x=!0,shouldResize:m,onResizeStart:y,onResize:b,onResizeEnd:v}){const C=hY(),S=typeof e=="string"?e:C,F=Ur(),w=A.useRef(null),k=r===Gp.Handle,E=Gt(A.useCallback(bTe(k&&x),[k,x]),Vr),T=A.useRef(null),_=t??vTe[r];A.useEffect(()=>{if(!(!w.current||!S))return T.current||(T.current=G3e({domNode:w.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:B,transform:P,snapGrid:D,snapToGrid:I,nodeOrigin:N,domNode:M}=F.getState();return{nodeLookup:B,transform:P,snapGrid:D,snapToGrid:I,nodeOrigin:N,paneDomNode:M}},onChange:(B,P)=>{const{triggerNodeChanges:D,nodeLookup:I,parentLookup:N,nodeOrigin:M}=F.getState(),V=[],L={x:B.x,y:B.y},W=I.get(S);if(W&&W.expandParent&&W.parentId){const G=W.origin??M,U=B.width??W.measured.width??0,H=B.height??W.measured.height??0,K={id:W.id,parentId:W.parentId,rect:{width:U,height:H,...OK({x:B.x??W.position.x,y:B.y??W.position.y},{width:U,height:H},W.parentId,I,G)}},ne=W6([K],I,N,M);V.push(...ne),L.x=B.x?Math.max(G[0]*U,B.x):void 0,L.y=B.y?Math.max(G[1]*H,B.y):void 0}if(L.x!==void 0&&L.y!==void 0){const G={id:S,type:"position",position:{...L}};V.push(G)}if(B.width!==void 0&&B.height!==void 0){const U={id:S,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:B.width,height:B.height}};V.push(U)}for(const G of P){const U={...G,type:"position"};V.push(U)}D(V)},onEnd:({width:B,height:P})=>{const D={id:S,type:"dimensions",resizing:!1,dimensions:{width:B,height:P}};F.getState().triggerNodeChanges([D])}})),T.current.update({controlPosition:_,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:f},keepAspectRatio:p,resizeDirection:h,onResizeStart:y,onResize:b,onResizeEnd:v,shouldResize:m}),()=>{var B;(B=T.current)==null||B.destroy()}},[_,l,c,d,f,p,y,b,v,m]);const z=_.split("-");return n.jsx("div",{className:bn(["react-flow__resize-control","nodrag",...z,r,o]),ref:w,style:{...i,scale:E,...s&&{[k?"backgroundColor":"borderColor"]:s}},children:a})}A.memo(jTe);const Su=`https://${za}.supabase.co/functions/v1/api/ideas`,wu={"Content-Type":"application/json",Authorization:`Bearer ${Ca}`},Vt="#FF6835",YN=[{id:"general",label:"General",color:"#9CA3AF"},{id:"depends",label:"Depende de",color:"#FF6835"},{id:"blocks",label:"Bloquea",color:"#EF4444"},{id:"enables",label:"Habilita",color:"#10B981"},{id:"part_of",label:"Parte de",color:"#3B82F6"}],STe=[{id:"ecommerce",label:"eCommerce",emoji:"",color:"#3B82F6",modules:[{id:"ecommerce",label:"eCommerce"},{id:"pedidos",label:"Pedidos"},{id:"pagos",label:"Pagos & Transacciones"},{id:"departamentos",label:"Departamentos"},{id:"clientes",label:"Clientes"},{id:"storefront",label:"Portal del Cliente"},{id:"secondhand",label:"Second Hand"}]},{id:"logistica",label:"Logstica",emoji:"",color:"#10B981",modules:[{id:"logistica",label:"Hub Logstico"},{id:"envios",label:"Envos"},{id:"transportistas",label:"Transportistas"},{id:"rutas",label:"Rutas"},{id:"fulfillment",label:"Fulfillment"},{id:"produccion",label:"Produccin / Armado"},{id:"abastecimiento",label:"Abastecimiento"},{id:"mapa-envios",label:"Mapa de Envos"},{id:"tracking-publico",label:"Tracking Pblico"}]},{id:"marketing",label:"Marketing",emoji:"",color:"#F59E0B",modules:[{id:"marketing",label:"Dashboard Marketing"},{id:"mailing",label:"Email / Mailing"},{id:"google-ads",label:"Google Ads"},{id:"seo",label:"SEO"},{id:"fidelizacion",label:"Fidelizacin"},{id:"rueda-sorteos",label:"Rueda de Sorteos"},{id:"etiqueta-emotiva",label:"Etiqueta Emotiva"}]},{id:"rrss",label:"RRSS",emoji:"",color:"#EC4899",modules:[{id:"redes-sociales",label:"Centro Operativo"},{id:"migracion-rrss",label:"Migracin RRSS"}]},{id:"gestion",label:"Gestin",emoji:"",color:"#6B7280",modules:[{id:"gestion",label:"Resumen ERP"},{id:"erp-inventario",label:"Inventario"},{id:"erp-facturacion",label:"Facturacin"},{id:"erp-compras",label:"Compras"},{id:"erp-crm",label:"CRM"},{id:"erp-contabilidad",label:"Contabilidad"},{id:"erp-rrhh",label:"RRHH"},{id:"proyectos",label:"Proyectos"},{id:"personas",label:"Personas"},{id:"organizaciones",label:"Organizaciones"}]},{id:"herramientas",label:"Herramientas",emoji:"",color:"#8B5CF6",modules:[{id:"qr-generator",label:"Generador QR"},{id:"herramientas",label:"Hub Herramientas"}]},{id:"sistema",label:"Sistema",emoji:"",color:"#1F2937",modules:[{id:"sistema",label:"Configuracin"},{id:"metodos-pago",label:"Mtodos de Pago"},{id:"metodos-envio",label:"Mtodos de Envo"},{id:"integraciones",label:"Integraciones"},{id:"diseno",label:"Diseo / Marca"}]}];function MY(e){const t=Cke.get(e);return!t||!t.isReal?"pending":t.hasSupabase?"completed-db":"ui-only"}const N5={"completed-db":{color:"#10B981",label:" DB"},"ui-only":{color:"#3B82F6",label:" UI"},pending:{color:"#9CA3AF",label:" Pend."},idea:{color:"#FF6835",label:" Idea"}};function wTe({id:e,data:t,selected:r}){const o=t,[i,a]=A.useState(!1),[s,l]=A.useState(o.text??""),[c,d]=A.useState(!1),[f,p]=A.useState(o.area||""),[h,x]=A.useState(""),m=N5[o.status]??N5.pending,y=()=>{a(!1),o.onChange&&o.onChange(e,s)},b=async()=>{if(!o.ideaId||!o.text){ke.error("Idea sin ID o texto");return}try{await Nke({idea_id:o.ideaId,idea_texto:o.text,idea_area:f||o.area||"general",notas:h||void 0}),ke.success(" Idea enviada al Roadmap para aprobacin"),d(!1),o.onPromote&&o.onPromote(o.ideaId,o.text,f||o.area||"general")}catch(v){console.error("[IdeasBoard] Error promoviendo idea:",v),ke.error(" Error al promover idea")}};return n.jsxs("div",{style:{width:180,minHeight:90,backgroundColor:"#FFFFFF",borderRadius:10,border:r?`2px solid ${Vt}`:"1.5px solid #E5E7EB",boxShadow:r?`0 0 0 3px ${Vt}33`:"0 2px 8px rgba(0,0,0,0.08)",overflow:"hidden",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',position:"relative"},children:[n.jsx("div",{style:{height:4,backgroundColor:o.familyColor??Vt}}),n.jsx(ts,{type:"target",position:st.Top,style:{background:"#9CA3AF",width:8,height:8}}),n.jsx(ts,{type:"source",position:st.Bottom,style:{background:"#9CA3AF",width:8,height:8}}),n.jsx(ts,{type:"target",position:st.Left,style:{background:"#9CA3AF",width:8,height:8}}),n.jsx(ts,{type:"source",position:st.Right,style:{background:"#9CA3AF",width:8,height:8}}),n.jsxs("div",{style:{padding:"8px 10px"},children:[o.family&&n.jsx("p",{style:{margin:"0 0 3px",fontSize:"0.62rem",fontWeight:"700",color:o.familyColor??Vt,textTransform:"uppercase",letterSpacing:"0.06em"},children:o.family}),n.jsx("p",{style:{margin:"0 0 5px",fontSize:"0.78rem",fontWeight:"700",color:"#111827",lineHeight:1.3},children:o.label}),i?n.jsxs("div",{children:[n.jsx("textarea",{value:s,onChange:v=>l(v.target.value),autoFocus:!0,rows:3,style:{width:"100%",fontSize:"0.72rem",border:`1px solid ${Vt}`,borderRadius:5,padding:"4px 6px",resize:"none",outline:"none",fontFamily:"inherit",boxSizing:"border-box"}}),n.jsxs("button",{onClick:y,style:{marginTop:3,padding:"2px 8px",backgroundColor:Vt,color:"#fff",border:"none",borderRadius:5,fontSize:"0.68rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(rn,{size:10,style:{display:"inline",marginRight:3}}),"OK"]})]}):o.text&&n.jsx("p",{style:{margin:"0 0 5px",fontSize:"0.72rem",color:"#6B7280",lineHeight:1.4},children:o.text}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:4},children:[n.jsx("span",{style:{fontSize:"0.62rem",fontWeight:"700",color:m.color,backgroundColor:`${m.color}18`,padding:"2px 6px",borderRadius:4},children:m.label}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[o.status==="idea"&&o.ideaId&&n.jsx("button",{onClick:v=>{v.stopPropagation(),d(!0)},title:"Promover a mdulo",style:{background:"none",border:"none",cursor:"pointer",padding:"2px 4px",color:Vt,display:"flex",alignItems:"center"},children:n.jsx(hb,{size:11})}),o.editable&&!i&&n.jsx("button",{onClick:()=>{l(o.text??""),a(!0)},style:{background:"none",border:"none",cursor:"pointer",padding:"2px 4px",color:"#9CA3AF",display:"flex",alignItems:"center"},children:n.jsx(w8,{size:11})}),o.timestamp&&n.jsx("span",{style:{fontSize:"0.58rem",color:"#D1D5DB"},children:new Date(o.timestamp).toLocaleDateString("es-UY",{day:"2-digit",month:"2-digit"})})]})]})]}),c&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>d(!1),children:n.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:12,padding:24,maxWidth:400,width:"90%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},onClick:v=>v.stopPropagation(),children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"1.1rem",fontWeight:"700",color:"#111827"},children:"Promover a modulo"}),n.jsx("p",{style:{margin:"0 0 16px",fontSize:"0.875rem",color:"#6B7280"},children:o.text}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{display:"block",marginBottom:6,fontSize:"0.8rem",fontWeight:"600",color:"#374151"},children:"Area / Categoria"}),n.jsx("input",{type:"text",value:f,onChange:v=>p(v.target.value),placeholder:o.area||"general",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:6,fontSize:"0.875rem"}})]}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{display:"block",marginBottom:6,fontSize:"0.8rem",fontWeight:"600",color:"#374151"},children:"Notas (opcional)"}),n.jsx("textarea",{value:h,onChange:v=>x(v.target.value),placeholder:"Notas adicionales...",rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:6,fontSize:"0.875rem",resize:"vertical"}})]}),n.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[n.jsx("button",{onClick:()=>d(!1),style:{padding:"8px 16px",border:"1px solid #D1D5DB",borderRadius:6,backgroundColor:"#FFFFFF",color:"#374151",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),n.jsx("button",{onClick:b,style:{padding:"8px 16px",border:"none",borderRadius:6,backgroundColor:Vt,color:"#FFFFFF",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer"},children:"Promover"})]})]})})]})}function ETe({data:e}){const t=e,[r,o]=A.useState(!1),i=t.linkType==="parent";return n.jsxs("div",{onClick:()=>{var a;return(a=t.onNavigate)==null?void 0:a.call(t,t.canvasId)},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{width:44,height:44,borderRadius:"50%",border:`2.5px solid ${Vt}`,backgroundColor:r?`${Vt}22`:"#FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:`0 2px 8px ${Vt}33`,transition:"all 0.15s",position:"relative",userSelect:"none"},title:`${i?"Canvas padre":"Canvas hijo"}: ${t.canvasName}`,children:[n.jsx(ts,{type:"target",position:st.Top,style:{opacity:0,width:4,height:4}}),n.jsx(ts,{type:"source",position:st.Bottom,style:{opacity:0,width:4,height:4}}),i?n.jsx("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:Vt}}):n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",children:[n.jsx("line",{x1:"7",y1:"1",x2:"7",y2:"13",stroke:Vt,strokeWidth:"2.2",strokeLinecap:"round"}),n.jsx("line",{x1:"1",y1:"7",x2:"13",y2:"7",stroke:Vt,strokeWidth:"2.2",strokeLinecap:"round"})]}),r&&n.jsxs("div",{style:{position:"absolute",bottom:50,left:"50%",transform:"translateX(-50%)",backgroundColor:"#1F2937",color:"#fff",fontSize:"0.68rem",fontWeight:"600",padding:"4px 8px",borderRadius:6,whiteSpace:"nowrap",pointerEvents:"none",zIndex:100},children:[i?"(o)":"(+)"," ",t.canvasName]})]})}const CTe={sticker:wTe,canvasLink:ETe};function kTe({canvasNodes:e,onDragStart:t,onAddIdea:r}){const[o,i]=A.useState({}),a=new Set(e.filter(l=>l.type==="sticker").map(l=>l.data.moduleId)),s=l=>i(c=>({...c,[l]:!c[l]}));return n.jsxs("div",{style:{width:220,backgroundColor:"#FFFFFF",borderRight:"1px solid #E5E7EB",display:"flex",flexDirection:"column",overflow:"hidden",flexShrink:0},children:[n.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #E5E7EB",backgroundColor:"#F9FAFB"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.72rem",fontWeight:"800",color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Mdulos del Sistema"}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.65rem",color:"#9CA3AF"},children:"Arrastr al canvas"})]}),n.jsxs("button",{onClick:r,style:{margin:"10px 10px 6px",padding:"8px 12px",backgroundColor:`${Vt}12`,border:`1.5px dashed ${Vt}66`,borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:7,color:Vt,fontSize:"0.78rem",fontWeight:"700",transition:"all 0.15s"},onMouseEnter:l=>l.currentTarget.style.backgroundColor=`${Vt}22`,onMouseLeave:l=>l.currentTarget.style.backgroundColor=`${Vt}12`,children:[n.jsx(ba,{size:14}),"Nueva Idea"]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"4px 0 12px"},children:STe.map(l=>n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>s(l.id),style:{width:"100%",display:"flex",alignItems:"center",gap:8,padding:"7px 14px",border:"none",background:"none",cursor:"pointer",textAlign:"left"},children:[n.jsx("span",{style:{fontSize:"0.85rem"},children:l.emoji}),n.jsx("span",{style:{flex:1,fontSize:"0.75rem",fontWeight:"700",color:"#374151"},children:l.label}),n.jsxs("span",{style:{fontSize:"0.65rem",color:"#9CA3AF",marginRight:2},children:[l.modules.filter(c=>a.has(c.id)).length,"/",l.modules.length]}),o[l.id]?n.jsx(Yn,{size:12,color:"#9CA3AF"}):n.jsx(Xr,{size:12,color:"#9CA3AF"})]}),o[l.id]&&n.jsx("div",{style:{paddingBottom:4},children:l.modules.map(c=>{const d=MY(c.id),f=N5[d],p=a.has(c.id);return n.jsxs("div",{draggable:!p,onDragStart:h=>!p&&t(h,l,c),style:{display:"flex",alignItems:"center",gap:8,padding:"5px 14px 5px 30px",cursor:p?"default":"grab",opacity:p?.45:1,transition:"background 0.1s"},onMouseEnter:h=>!p&&(h.currentTarget.style.backgroundColor="#F9FAFB"),onMouseLeave:h=>h.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:7,height:7,borderRadius:"50%",backgroundColor:f.color,flexShrink:0}}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#374151",flex:1,lineHeight:1.3},children:c.label}),p&&n.jsx("span",{style:{fontSize:"0.58rem",color:"#D1D5DB"},children:""})]},c.id)})})]},l.id))})]})}const FTe=["General","Logstica","Pagos","Tiendas","Redes Sociales","Servicios","eCommerce","Marketing","ERP","Sistema","Herramientas"];function ATe({onClose:e,onSave:t,ideas:r}){const[o,i]=A.useState("General"),[a,s]=A.useState(""),l=r.filter(c=>c.area===o).slice(0,4);return n.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#FFFFFF",borderRadius:14,border:"1.5px solid #E5E7EB",boxShadow:"0 20px 60px rgba(0,0,0,0.18)",width:360,zIndex:1e3,overflow:"hidden"},children:[n.jsxs("div",{style:{backgroundColor:Vt,padding:"14px 18px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx(ba,{size:16,color:"#fff"}),n.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"0.9rem"},children:"Nueva Idea"})]}),n.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",color:"rgba(255,255,255,0.8)",display:"flex"},children:n.jsx(Ut,{size:16})})]}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsx("label",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#374151",display:"block",marginBottom:5},children:"Area"}),n.jsx("select",{value:o,onChange:c=>i(c.target.value),style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.82rem",outline:"none",marginBottom:12,color:"#111827"},children:FTe.map(c=>n.jsx("option",{value:c,children:c},c))}),n.jsx("label",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#374151",display:"block",marginBottom:5},children:"Idea"}),n.jsx("textarea",{value:a,onChange:c=>s(c.target.value),placeholder:"Escrib tu idea...",rows:3,style:{width:"100%",padding:"8px 10px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.82rem",resize:"none",outline:"none",fontFamily:"inherit",color:"#111827",boxSizing:"border-box"},onFocus:c=>c.target.style.borderColor=Vt,onBlur:c=>c.target.style.borderColor="#E5E7EB"}),l.length>0&&n.jsxs("div",{style:{marginTop:12},children:[n.jsxs("p",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",margin:"0 0 6px",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Recientes en ",o]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:5},children:l.map(c=>n.jsxs("div",{style:{padding:"6px 9px",backgroundColor:"#F9FAFB",borderRadius:7,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#374151",lineHeight:1.4},children:c.text.length>60?c.text.slice(0,60)+"":c.text}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.62rem",color:"#9CA3AF"},children:new Date(c.timestamp).toLocaleString("es-UY",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]},c.id))})]}),n.jsx("button",{disabled:!a.trim(),onClick:()=>{t(o,a),e()},style:{marginTop:14,width:"100%",padding:"10px",backgroundColor:a.trim()?Vt:"#E5E7EB",color:a.trim()?"#fff":"#9CA3AF",border:"none",borderRadius:8,fontSize:"0.85rem",fontWeight:"700",cursor:a.trim()?"pointer":"not-allowed",transition:"all 0.15s"},children:"Guardar en canvas"})]})]})}function _Te({canvases:e,activeCanvas:t,onNewCanvas:r,onSelectCanvas:o,onUpdateCanvas:i,onLinkCanvas:a,ideas:s,onSaveIdea:l}){const c=Tv(),[d,f,p]=HRe([]),[h,x,m]=GRe([]),[y,b]=A.useState(YN[0]),[v,C]=A.useState(!1),[S,F]=A.useState(!1),[w,k]=A.useState(!1),[E,T]=A.useState(""),_=A.useRef(null);A.useEffect(()=>{t&&(f(t.nodes??[]),x(t.edges??[]))},[t==null?void 0:t.id]);const z=A.useCallback((Q,pe)=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{i(Q,pe)},1200)},[i]),B=A.useCallback(Q=>{p(Q)},[p]),P=A.useCallback(Q=>{m(Q)},[m]),D=A.useCallback(Q=>{const pe={...Q,id:`e-${Date.now()}`,style:{stroke:y.color,strokeWidth:2},type:"default",animated:!1};x(X=>{const se=VK(pe,X);return z(d,se),se})},[y,d,z]),I=A.useCallback(()=>{f(Q=>(z(Q,h),Q))},[h,z]),N=A.useCallback(Q=>{Q.preventDefault();const pe=Q.dataTransfer.getData("application/reactflow");if(!pe)return;const{family:X,mod:se}=JSON.parse(pe),ae=c.screenToFlowPosition({x:Q.clientX,y:Q.clientY}),ye=MY(se.id),ie={id:`${se.id}-${Date.now()}`,type:"sticker",position:ae,data:{label:se.label,family:X.label,familyColor:X.color,moduleId:se.id,status:ye,editable:ye==="pending",text:"",onChange:M}};f(re=>{const Se=[...re,ie];return z(Se,h),Se})},[c,h,z]),M=A.useCallback((Q,pe)=>{f(X=>{const se=X.map(ae=>ae.id===Q?{...ae,data:{...ae.data,text:pe}}:ae);return z(se,h),se})},[h,z]),V=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},L=(Q,pe,X)=>{Q.dataTransfer.setData("application/reactflow",JSON.stringify({family:pe,mod:X})),Q.dataTransfer.effectAllowed="move"},W=async(Q,pe)=>{const X=await l(Q,pe);if(!X)return;const se=c.screenToFlowPosition({x:window.innerWidth/2+Math.random()*100-50,y:window.innerHeight/2+Math.random()*100-50}),ae={id:`idea-${X.id}`,type:"sticker",position:se,data:{label:Q,text:pe,area:Q,family:` Idea  ${Q}`,familyColor:Vt,status:"idea",editable:!0,ideaId:X.id,timestamp:X.timestamp,onChange:M}};f(ye=>{const ie=[...ye,ae];return z(ie,h),ie})},G=()=>{if(!E.trim()){k(!1);return}i(d,h,E),k(!1)},U=()=>{f(Q=>{const pe=Q.filter(X=>!X.selected);return x(X=>{const se=X.filter(ae=>pe.some(ye=>ye.id===ae.source)&&pe.some(ye=>ye.id===ae.target));return z(pe,se),se}),pe})},H=(t==null?void 0:t.name)??"Sin canvas",K=e.find(Q=>Q.id===(t==null?void 0:t.parentId)),ne=e.filter(Q=>Q.parentId===(t==null?void 0:t.id));return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},children:[n.jsxs("div",{style:{height:54,backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 18px",gap:12,flexShrink:0,zIndex:10},children:[n.jsxs("div",{style:{position:"relative"},children:[n.jsxs("button",{onClick:()=>F(Q=>!Q),style:{display:"flex",alignItems:"center",gap:7,padding:"6px 12px",border:"1.5px solid #E5E7EB",borderRadius:8,backgroundColor:"#F9FAFB",cursor:"pointer",fontSize:"0.82rem",fontWeight:"700",color:"#111827"},children:[n.jsx(rl,{size:14,color:Vt}),w?n.jsx("input",{value:E,onChange:Q=>T(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&G(),Q.key==="Escape"&&k(!1)},autoFocus:!0,style:{border:"none",outline:"none",background:"none",fontSize:"0.82rem",fontWeight:"700",width:120},onClick:Q=>Q.stopPropagation()}):H,n.jsx(Yn,{size:12,color:"#9CA3AF"})]}),S&&n.jsxs("div",{style:{position:"absolute",top:40,left:0,backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:10,boxShadow:"0 8px 30px rgba(0,0,0,0.12)",minWidth:200,zIndex:100},children:[e.map(Q=>n.jsxs("button",{onClick:()=>{o(Q.id),F(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:8,padding:"9px 14px",border:"none",background:Q.id===(t==null?void 0:t.id)?`${Vt}12`:"none",cursor:"pointer",fontSize:"0.8rem",color:"#111827",textAlign:"left"},children:[n.jsx(rl,{size:13,color:Q.id===(t==null?void 0:t.id)?Vt:"#9CA3AF"}),Q.name,Q.id===(t==null?void 0:t.id)&&n.jsx("span",{style:{marginLeft:"auto",color:Vt,fontSize:"0.65rem"},children:"Activo"})]},Q.id)),n.jsx("div",{style:{borderTop:"1px solid #E5E7EB",padding:"6px 8px"},children:n.jsxs("button",{onClick:()=>{r(),F(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:7,padding:"7px 6px",border:"none",background:"none",cursor:"pointer",fontSize:"0.78rem",color:Vt,fontWeight:"700"},children:[n.jsx(Nt,{size:13})," Nuevo Canvas"]})})]})]}),n.jsx("button",{onClick:()=>{T(H),k(!0),F(!1)},title:"Renombrar canvas",style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",display:"flex",padding:5},children:n.jsx(w8,{size:14})}),n.jsx("div",{style:{width:1,height:24,backgroundColor:"#E5E7EB"}}),K&&n.jsxs("button",{onClick:()=>o(K.id),title:`Canvas padre: ${K.name}`,style:{display:"flex",alignItems:"center",gap:5,padding:"5px 10px",border:`1.5px solid ${Vt}66`,borderRadius:20,backgroundColor:`${Vt}0D`,color:Vt,fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx("span",{style:{width:14,height:14,borderRadius:"50%",border:`2px solid ${Vt}`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("div",{style:{width:5,height:5,borderRadius:"50%",backgroundColor:Vt}})}),K.name]}),ne.map(Q=>n.jsxs("button",{onClick:()=>o(Q.id),title:`Canvas hijo: ${Q.name}`,style:{display:"flex",alignItems:"center",gap:5,padding:"5px 10px",border:"1.5px solid #3B82F666",borderRadius:20,backgroundColor:"#3B82F60D",color:"#3B82F6",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx("span",{style:{width:14,height:14,borderRadius:"50%",border:"2px solid #3B82F6",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsxs("svg",{width:"7",height:"7",viewBox:"0 0 7 7",children:[n.jsx("line",{x1:"3.5",y1:"0.5",x2:"3.5",y2:"6.5",stroke:"#3B82F6",strokeWidth:"1.5",strokeLinecap:"round"}),n.jsx("line",{x1:"0.5",y1:"3.5",x2:"6.5",y2:"3.5",stroke:"#3B82F6",strokeWidth:"1.5",strokeLinecap:"round"})]})}),Q.name]},Q.id)),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[n.jsxs("button",{onClick:U,title:"Eliminar seleccionados",style:{display:"flex",alignItems:"center",gap:5,padding:"6px 10px",border:"1.5px solid #FECACA",borderRadius:7,backgroundColor:"#FFF5F5",color:"#EF4444",fontSize:"0.75rem",fontWeight:"600",cursor:"pointer"},children:[n.jsx(xr,{size:13})," Borrar"]}),n.jsxs("button",{onClick:()=>z(d,h),title:"Guardar ahora",style:{display:"flex",alignItems:"center",gap:5,padding:"6px 12px",border:"none",borderRadius:7,backgroundColor:Vt,color:"#fff",fontSize:"0.75rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(To,{size:13})," Guardar"]})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",position:"relative"},children:[n.jsx(kTe,{canvasNodes:d,onDragStart:L,onAddIdea:()=>C(!0)}),n.jsx("div",{style:{flex:1,position:"relative"},children:n.jsxs(qRe,{nodes:d,edges:h,onNodesChange:B,onEdgesChange:P,onConnect:D,onNodeDragStop:I,onDrop:N,onDragOver:V,nodeTypes:CTe,fitView:!0,fitViewOptions:{padding:.2},onClick:()=>F(!1),minZoom:.2,maxZoom:2,children:[n.jsx(QRe,{variant:tl.Dots,gap:20,size:1,color:"#E5E7EB"}),n.jsx(iTe,{style:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),n.jsx(yTe,{nodeColor:Q=>{const pe=Q.data;return(pe==null?void 0:pe.familyColor)??Vt},style:{backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB"}}),n.jsx(Kp,{position:"bottom-center",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:30,padding:"6px 14px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"},children:[n.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",marginRight:4},children:"Conector:"}),YN.map(Q=>n.jsx("button",{onClick:()=>b(Q),title:Q.label,style:{width:22,height:22,borderRadius:"50%",backgroundColor:Q.color,border:y.id===Q.id?"3px solid #111827":"2px solid transparent",cursor:"pointer",transition:"all 0.15s",transform:y.id===Q.id?"scale(1.25)":"scale(1)",outline:"none"}},Q.id)),n.jsx("div",{style:{width:1,height:18,backgroundColor:"#E5E7EB",margin:"0 4px"}}),n.jsx("span",{style:{fontSize:"0.68rem",color:y.color,fontWeight:"700"},children:y.label})]})}),d.length===0&&n.jsx(Kp,{position:"top-center",children:n.jsxs("div",{style:{marginTop:60,textAlign:"center",backgroundColor:"#FFFFFF",border:"1.5px dashed #E5E7EB",borderRadius:14,padding:"28px 40px"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontSize:"0.9rem",fontWeight:"700",color:"#374151",margin:"0 0 4px"},children:"Canvas vaco"}),n.jsxs("p",{style:{fontSize:"0.78rem",color:"#9CA3AF",margin:0},children:["Arrastr mdulos desde el panel izquierdo",n.jsx("br",{}),"o cre una nueva idea"]})]})})]})}),v&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(0,0,0,0.3)",zIndex:999},onClick:()=>C(!1)}),n.jsx(ATe,{onClose:()=>C(!1),onSave:W,ideas:s})]})]})]})}function RTe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(null),[a,s]=A.useState(null),[l,c]=A.useState([]),[d,f]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const v=await fetch(`${Su}/canvases`,{headers:wu}),{canvases:C}=await v.json();if(C!=null&&C.length)r(C),i(C[0].id);else{const S=await p("Mi Canvas Principal");S&&(r([S]),i(S.id))}}catch(v){console.error("[IdeasBoard] Error cargando canvases:",v)}finally{f(!1)}})()},[]),A.useEffect(()=>{(async()=>{try{const v=await fetch(`${Su}/ideas`,{headers:wu}),{ideas:C}=await v.json();c(C??[])}catch(v){console.error("[IdeasBoard] Error cargando ideas:",v)}})()},[]),A.useEffect(()=>{o&&(async()=>{try{const v=await fetch(`${Su}/canvases/${o}`,{headers:wu}),{canvas:C}=await v.json();s(C??null)}catch(v){console.error("[IdeasBoard] Error cargando canvas activo:",v)}})()},[o]);const p=async(v,C)=>{try{const S=await fetch(`${Su}/canvases`,{method:"POST",headers:wu,body:JSON.stringify({name:v,parentId:C??null})}),{canvas:F}=await S.json();return F}catch(S){return console.error("[IdeasBoard] Error creando canvas:",S),null}},h=async()=>{const v=`Canvas ${t.length+1}`,C=await p(v);C&&(r(S=>[...S,C]),i(C.id))},x=v=>{i(v)},m=async(v,C,S)=>{if(o)try{const F={nodes:v,edges:C};S&&(F.name=S);const w=await fetch(`${Su}/canvases/${o}`,{method:"PUT",headers:wu,body:JSON.stringify(F)}),{canvas:k}=await w.json();S&&r(E=>E.map(T=>T.id===o?{...T,name:S}:T)),s(k)}catch(F){console.error("[IdeasBoard] Error guardando canvas:",F)}},y=async v=>{if(v==="child"){const C=`Sub-canvas de ${(a==null?void 0:a.name)??"este canvas"}`,S=await p(C,o??void 0);S&&r(F=>[...F,S])}},b=async(v,C)=>{try{const S=await fetch(`${Su}/ideas`,{method:"POST",headers:wu,body:JSON.stringify({area:v,text:C})}),{idea:F}=await S.json();return c(w=>[F,...w]),F}catch(S){return console.error("[IdeasBoard] Error guardando idea:",S),null}};return d?n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#F8F9FA"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx(_t,{size:32,color:Vt,style:{animation:"spin 1s linear infinite"}}),n.jsx("p",{style:{color:"#6B7280",marginTop:12,fontSize:"0.875rem"},children:"Cargando Registro de Ideas"})]})}):n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ba,title:"Registro de Ideas",subtitle:`Canvas visual de modulos e ideas - ${t.length} canvas${t.length!==1?"es":""}`,actions:[{label:" Herramientas",onClick:()=>e("herramientas")}]}),n.jsx("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:n.jsx(BY,{children:n.jsx(_Te,{canvases:t,activeCanvas:a,onNewCanvas:h,onSelectCanvas:x,onUpdateCanvas:m,onLinkCanvas:y,ideas:l,onSaveIdea:b})})})]})}const aa="#FF6835",TTe={plexo:{emoji:"",countries:[""],region:"uy",apiMode:"api",recommended:!0},mercadopago:{emoji:"",countries:["","","",""],region:"latam",apiMode:"api"}};function PTe(e){const t=TTe[e.nombre]||{},r=e.config;let o="pending";return e.estado==="activo"?o="connected":e.estado==="error"?o="pending":e.estado==="configurando"&&(o="sandbox"),{id:e.id,emoji:t.emoji||"",name:e.proveedor,description:`${e.proveedor} - ${e.nombre}`,countries:t.countries||[""],region:t.region||"global",apiMode:t.apiMode||"api",status:o,badge:r.badge,category:r.category,docsUrl:r.docsUrl,recommended:t.recommended||r.recommended||!1}}const zTe={connected:{label:"Conectada",color:"#10B981",bg:"#D1FAE5",Icon:ct},sandbox:{label:"Sandbox",color:"#F59E0B",bg:"#FEF3C7",Icon:Jt},pending:{label:"Sin conectar",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},"coming-soon":{label:"Prximamente",color:"#3B82F6",bg:"#DBEAFE",Icon:pt}},BTe={api:{label:"Con API",color:"#10B981",bg:"#D1FAE5"},"no-api":{label:"Va pasarela",color:"#8B5CF6",bg:"#EDE9FE"},redirect:{label:"Redireccin",color:"#F59E0B",bg:"#FEF3C7"}};function ITe({onNavigate:e}){const[t,r]=A.useState("all"),[o,i]=A.useState("all"),[a,s]=A.useState(null),[l,c]=A.useState([]),[d,f]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const b=await Ni({tipo:"pagos"});c(b)}catch(b){console.error("Error cargando integraciones de pagos:",b)}finally{f(!1)}})()},[]);const p=l.map(PTe),h=p.filter(y=>{const b=t==="all"||y.region===t||t==="latam"&&y.region==="global",v=o==="all"||(o==="api"?y.apiMode==="api":y.apiMode!=="api");return b&&v}),x=p.filter(y=>y.status==="connected").length,m=p.filter(y=>y.status==="sandbox").length;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:mn,title:"Pasarela de Pagos",subtitle:"Cobros online  Uruguay first, expansin Latam progresiva",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Proveedores",value:d?"...":p.length,color:"#111827"},{label:"Conectadas",value:d?"...":x,color:"#10B981"},{label:"Sandbox",value:d?"...":m,color:"#F59E0B"},{label:"Uruguay ",value:d?"...":p.filter(y=>y.region==="uy").length,color:aa}].map((y,b)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:y.color},children:y.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:y.label})]},b))}),n.jsxs("div",{style:{display:"flex",gap:8,marginBottom:20,flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#6B7280",alignSelf:"center",marginRight:4},children:"Regin:"}),["all","uy","latam","global"].map(y=>n.jsx("button",{onClick:()=>r(y),style:{padding:"5px 12px",borderRadius:20,cursor:"pointer",backgroundColor:t===y?aa:"#fff",color:t===y?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600",border:`1.5px solid ${t===y?aa:"#E5E7EB"}`},children:{all:"Todos",uy:" Uruguay",latam:" Latam",global:" Global"}[y]},y)),n.jsx("div",{style:{width:1,height:28,backgroundColor:"#E5E7EB",alignSelf:"center",margin:"0 4px"}}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#6B7280",alignSelf:"center",marginRight:4},children:"Integracin:"}),["all","api","no-api"].map(y=>n.jsx("button",{onClick:()=>i(y),style:{padding:"5px 12px",borderRadius:20,cursor:"pointer",backgroundColor:o===y?"#1F2937":"#fff",color:o===y?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600",border:`1.5px solid ${o===y?"#1F2937":"#E5E7EB"}`},children:{all:"Todos",api:" Con API","no-api":" Sin API directo"}[y]},y))]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:h.map(y=>{const b=zTe[y.status],v=BTe[y.apiMode],C=b.Icon,S=a===y.id;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:y.recommended?`1.5px solid ${aa}`:"1px solid #E5E7EB",overflow:"hidden",transition:"box-shadow 0.15s",boxShadow:y.recommended?`0 0 0 4px ${aa}12`:"none"},children:[n.jsx("div",{style:{height:3,backgroundColor:b.color}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:y.emoji}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap"},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:y.name}),y.recommended&&n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3,padding:"2px 7px",backgroundColor:`${aa}18`,color:aa,borderRadius:4,fontSize:"0.62rem",fontWeight:"700"},children:[n.jsx(hn,{size:9,fill:aa})," Recomendado UY"]})]}),n.jsxs("div",{style:{display:"flex",gap:5,marginTop:4,flexWrap:"wrap"},children:[y.countries.map((F,w)=>n.jsx("span",{style:{fontSize:"0.75rem"},children:F},w)),n.jsx("span",{style:{padding:"1px 7px",borderRadius:4,fontSize:"0.62rem",fontWeight:"700",backgroundColor:v.bg,color:v.color},children:v.label})]})]})]}),n.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.78rem",color:"#6B7280",lineHeight:1.5},children:y.description}),y.badge&&y.apiMode!=="api"&&n.jsxs("div",{style:{marginBottom:10,padding:"6px 10px",backgroundColor:"#F9FAFB",borderRadius:7,fontSize:"0.72rem",color:"#6B7280"},children:[" ",y.badge]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:b.bg,color:b.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(C,{size:11})," ",b.label]}),n.jsxs("div",{style:{display:"flex",gap:6},children:[y.docsUrl&&n.jsxs("a",{href:y.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"5px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.72rem",fontWeight:"600",textDecoration:"none"},children:[n.jsx(gn,{size:11})," Docs"]}),y.status!=="coming-soon"&&y.apiMode==="api"&&n.jsxs("button",{onClick:()=>s(S?null:y.id),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:y.status==="connected"?"#F3F4F6":aa,color:y.status==="connected"?"#374151":"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," ",y.status==="connected"?"Config":"Conectar"]})]})]}),S&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Credenciales API  ",y.name]}),["Public Key / Client ID","Secret Key / Access Token"].map((F,w)=>n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:F}),n.jsx("input",{type:w===1?"password":"text",placeholder:`${F}...`,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:k=>k.target.style.borderColor=aa,onBlur:k=>k.target.style.borderColor="#E5E7EB"})]},w)),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[n.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:aa,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar y probar conexin"}),n.jsx("button",{onClick:()=>s(null),style:{padding:"8px 12px",backgroundColor:"#fff",color:"#9CA3AF",border:"1px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",cursor:"pointer"},children:"Cancelar"})]})]})]})]},y.id)})}),h.length===0&&n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600"},children:"Sin resultados para ese filtro"})]})]})]})}const Wl="#FF6835",OTe={google_maps:{emoji:"",countries:[""],region:"global",apiMode:"api"}};function DTe(e){const t=OTe[e.nombre]||{},r=e.config;let o="pending";return e.estado==="activo"?o="connected":e.estado==="error"?o="pending":e.estado==="configurando"&&(o="sandbox"),{id:e.id,emoji:t.emoji||"",name:e.proveedor,description:`${e.proveedor} - ${e.nombre}`,countries:t.countries||[""],region:t.region||"global",apiMode:t.apiMode||"api",status:o,badge:r.badge,trackingUrlPattern:r.trackingUrlPattern,docsUrl:r.docsUrl,recommended:r.recommended||!1}}const Jk=[{id:"maps-js",emoji:"",name:"Maps JavaScript API",description:"Renderiz mapas interactivos en el mdulo Mapa de Envos, tracking en vivo de repartidores y visualizacin de zonas de cobertura.",unlocks:["Mapa de Envos","Zonas de cobertura","Tracking en vivo"],docsUrl:"https://developers.google.com/maps/documentation/javascript",required:!0},{id:"geocoding",emoji:"",name:"Geocoding API",description:"Convierte automticamente las direcciones de tus clientes en coordenadas lat/lng para geocodificar domicilios al crear pedidos.",unlocks:["Geocodificado de domicilios","Validacin de direcciones","Coordenadas en pedidos"],docsUrl:"https://developers.google.com/maps/documentation/geocoding",required:!0},{id:"places",emoji:"",name:"Places API",description:"Autocompletado de direcciones al cargar un pedido o registrar un cliente. Reduce errores y acelera la carga de datos.",unlocks:["Autocompletado de direccin","Bsqueda de sucursales","Datos de lugar"],docsUrl:"https://developers.google.com/maps/documentation/places/web-service",required:!0},{id:"distance-matrix",emoji:"",name:"Distance Matrix API",description:"Calcula distancias y tiempos de viaje entre mltiples orgenes y destinos. Esencial para cotizar envos y optimizar asignacin de repartidores.",unlocks:["Cotizacin de envos","Tiempo estimado de entrega","Asignacin de repartidores"],docsUrl:"https://developers.google.com/maps/documentation/distance-matrix",required:!1},{id:"directions",emoji:"",name:"Directions API",description:"Genera la ruta ptima para los repartidores incluyendo mltiples paradas ordenadas. Integracin con el mdulo de Rutas.",unlocks:["Rutas de reparto","Mltiples paradas","Optimizacin de orden"],docsUrl:"https://developers.google.com/maps/documentation/directions",required:!1},{id:"routes",emoji:"",name:"Routes API",description:"La nueva generacin de Directions. Soporta optimizacin avanzada de waypoints, trfico en tiempo real y preferencias de ruta (peajes, autopistas).",unlocks:["Rutas avanzadas","Trfico en tiempo real","Optimizacin de waypoints"],docsUrl:"https://developers.google.com/maps/documentation/routes",required:!1}],MTe={connected:{label:"Conectado",color:"#10B981",bg:"#D1FAE5",Icon:ct},sandbox:{label:"Sandbox",color:"#F59E0B",bg:"#FEF3C7",Icon:Jt},pending:{label:"Sin conectar",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},"coming-soon":{label:"Prximamente",color:"#3B82F6",bg:"#DBEAFE",Icon:pt}};function $Te({onNavigate:e}){const[t,r]=A.useState("all"),[o,i]=A.useState("all"),[a,s]=A.useState(null),[l,c]=A.useState({}),[d,f]=A.useState(null),[p,h]=A.useState(""),[x,m]=A.useState(!1),[y,b]=A.useState(!1),[v,C]=A.useState([]),[S,F]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const D=await Ni({tipo:"logistica"});C(D)}catch(D){console.error("Error cargando integraciones de logstica:",D)}finally{F(!1)}})()},[]);const w=v.map(DTe),k=w.filter(P=>{const D=t==="all"||P.region===t,I=o==="all"||P.apiMode===o;return D&&I}),E=k.filter(P=>P.apiMode==="no-api"),T=k.filter(P=>P.apiMode==="api"),_=(P,D)=>{navigator.clipboard.writeText(D).catch(()=>{}),f(P),setTimeout(()=>f(null),1500)},z=()=>{p.trim()&&(b(!0),setTimeout(()=>b(!1),2500))},B=({carrier:P})=>{const D=MTe[P.status],I=D.Icon,N=a===P.id;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:P.recommended?`1.5px solid ${Wl}`:"1px solid #E5E7EB",overflow:"hidden",boxShadow:P.recommended?`0 0 0 4px ${Wl}12`:"none"},children:[n.jsx("div",{style:{height:3,backgroundColor:P.apiMode==="api"?"#10B981":"#F59E0B"}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:P.emoji}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap",marginBottom:4},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:P.name}),P.recommended&&n.jsx("span",{style:{padding:"2px 7px",backgroundColor:`${Wl}18`,color:Wl,borderRadius:4,fontSize:"0.62rem",fontWeight:"700"},children:" Recomendado"})]}),n.jsxs("div",{style:{display:"flex",gap:5,flexWrap:"wrap"},children:[P.countries.map((M,V)=>n.jsx("span",{style:{fontSize:"0.75rem"},children:M},V)),n.jsx("span",{style:{padding:"1px 7px",borderRadius:4,fontSize:"0.62rem",fontWeight:"700",backgroundColor:P.apiMode==="api"?"#D1FAE5":"#FEF3C7",color:P.apiMode==="api"?"#10B981":"#92400E"},children:P.apiMode==="api"?" Con API":" Sin API"})]})]})]}),n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.78rem",color:"#6B7280",lineHeight:1.5},children:P.description}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:D.bg,color:D.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(I,{size:11})," ",D.label]}),n.jsxs("div",{style:{display:"flex",gap:6},children:[P.docsUrl&&n.jsxs("a",{href:P.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"5px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.72rem",fontWeight:"600",textDecoration:"none"},children:[n.jsx(gn,{size:11})," Docs"]}),n.jsxs("button",{onClick:()=>s(N?null:P.id),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:Wl,color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," ",P.apiMode==="api"?"Conectar":"Configurar"]})]})]}),N&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[P.apiMode==="api"?n.jsxs(n.Fragment,{children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Credenciales API  ",P.name]}),["API Key / Client ID","Secret / Token"].map((M,V)=>n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:M}),n.jsx("input",{type:V===1?"password":"text",placeholder:`${M}...`,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:L=>L.target.style.borderColor=Wl,onBlur:L=>L.target.style.borderColor="#E5E7EB"})]},V))]}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{style:{margin:"0 0 4px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Configuracin de seguimiento  ",P.name]}),n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",color:"#6B7280"},children:["Us ",n.jsx("code",{style:{backgroundColor:"#E5E7EB",padding:"1px 5px",borderRadius:4,fontFamily:"monospace"},children:"{codigo}"})," como placeholder del nmero de seguimiento."]}),n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:"URL de Tracking"}),n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsx("input",{value:l[P.id]??P.trackingUrlPattern??"",onChange:M=>c(V=>({...V,[P.id]:M.target.value})),placeholder:"https://tracking.carrier.com/{codigo}",style:{flex:1,padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",outline:"none",backgroundColor:"#fff",fontFamily:"monospace"},onFocus:M=>M.target.style.borderColor="#F59E0B",onBlur:M=>M.target.style.borderColor="#E5E7EB"}),n.jsx("button",{onClick:()=>_(P.id,l[P.id]??P.trackingUrlPattern??""),style:{padding:"7px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:4,color:"#374151",fontSize:"0.72rem"},children:d===P.id?n.jsx(rn,{size:13,color:"#10B981"}):n.jsx(ho,{size:13})})]})]}),(l[P.id]??P.trackingUrlPattern)&&n.jsxs("div",{style:{marginTop:8,padding:"8px 10px",backgroundColor:"#FEF9C3",borderRadius:7,fontSize:"0.72rem",color:"#92400E"},children:[n.jsx("strong",{children:"Preview:"})," ",n.jsx("code",{style:{fontFamily:"monospace"},children:(l[P.id]??P.trackingUrlPattern??"").replace("{codigo}","UY1234567890")})]})]}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[n.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:Wl,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar configuracin"}),n.jsx("button",{onClick:()=>s(null),style:{padding:"8px 12px",backgroundColor:"#fff",color:"#9CA3AF",border:"1px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",cursor:"pointer"},children:"Cancelar"})]})]})]})]})};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:At,title:"Logstica",subtitle:"Carriers, Google Maps Platform y rutas  Uruguay first, Latam progresivo",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:24},children:[{label:"Carriers disponibles",value:S?"...":w.length,color:"#111827"},{label:"Google APIs",value:Jk.length,color:"#4285F4"},{label:"Con API",value:S?"...":w.filter(P=>P.apiMode==="api").length,color:"#10B981"},{label:"Uruguay ",value:S?"...":w.filter(P=>P.region==="uy").length,color:Wl}].map((P,D)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:P.color},children:P.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:P.label})]},D))}),n.jsxs("div",{style:{marginBottom:28},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[n.jsxs("h3",{style:{margin:0,fontSize:"0.82rem",fontWeight:"800",color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em",display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:6,backgroundColor:"#EFF6FF"},children:n.jsx(ag,{size:14,color:"#4285F4"})}),"Google Maps Platform  Mapas, Rutas y Geocoding"]}),n.jsxs("button",{onClick:()=>m(P=>!P),style:{display:"flex",alignItems:"center",gap:6,padding:"6px 14px",borderRadius:8,backgroundColor:y?"#10B981":"#4285F4",color:"#fff",border:"none",cursor:"pointer",fontSize:"0.78rem",fontWeight:"700",transition:"background 0.2s"},children:[n.jsx(vd,{size:13}),y?" API Key guardada":x?"Cerrar":"Configurar API Key"]})]}),n.jsxs("div",{style:{marginBottom:14,padding:"12px 18px",backgroundColor:"#EFF6FF",border:"1.5px solid #BFDBFE",borderRadius:10,display:"flex",alignItems:"flex-start",gap:10},children:[n.jsx("span",{style:{fontSize:"1.1rem",marginTop:1},children:""}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"700",fontSize:"0.85rem",color:"#1D4ED8"},children:"Una sola API Key activa todas las APIs de Google Maps"}),n.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.78rem",color:"#1E40AF",lineHeight:1.5},children:["Activ las APIs que necesits en"," ",n.jsx("a",{href:"https://console.cloud.google.com/apis/library",target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB",fontWeight:"700"},children:"Google Cloud Console"})," ","y peg tu API Key ac. Las APIs marcadas con ",n.jsx("strong",{children:" Esencial"})," son necesarias para el funcionamiento bsico del mdulo de envos."]})]})]}),x&&n.jsxs("div",{style:{marginBottom:16,padding:"18px 20px",backgroundColor:"#fff",borderRadius:12,border:"1.5px solid #BFDBFE"},children:[n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.8rem",fontWeight:"700",color:"#1D4ED8"},children:"Google Maps Platform  API Key"}),n.jsxs("p",{style:{margin:"0 0 14px",fontSize:"0.74rem",color:"#6B7280"},children:["Cre una API Key en"," ",n.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB"},children:"console.cloud.google.com/apis/credentials"})," ","y restringila a los dominios de tu app."]}),n.jsxs("div",{style:{marginBottom:12},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:4,textTransform:"uppercase",letterSpacing:"0.05em"},children:"API Key"}),n.jsx("input",{type:"password",value:p,onChange:P=>h(P.target.value),placeholder:"AIzaSy...",style:{width:"100%",padding:"9px 12px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.9rem",outline:"none",boxSizing:"border-box",fontFamily:"monospace",backgroundColor:"#F9FAFB"},onFocus:P=>P.target.style.borderColor="#4285F4",onBlur:P=>P.target.style.borderColor="#E5E7EB"})]}),n.jsxs("div",{style:{marginBottom:16,padding:"10px 14px",backgroundColor:"#F9FAFB",borderRadius:8,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:"APIs a activar en Google Cloud Console:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:Jk.map(P=>n.jsxs("span",{style:{padding:"3px 9px",borderRadius:4,fontSize:"0.68rem",fontWeight:"600",backgroundColor:P.required?"#DBEAFE":"#F3F4F6",color:P.required?"#1D4ED8":"#6B7280"},children:[P.required?" ":"",P.name]},P.id))})]}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:z,disabled:!p.trim(),style:{flex:1,padding:"9px",backgroundColor:p.trim()?"#4285F4":"#E5E7EB",color:p.trim()?"#fff":"#9CA3AF",border:"none",borderRadius:8,fontSize:"0.8rem",fontWeight:"700",cursor:p.trim()?"pointer":"not-allowed"},children:"Guardar API Key y probar conexin"}),n.jsxs("a",{href:"https://console.cloud.google.com/apis/library",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:5,padding:"9px 14px",borderRadius:8,border:"1px solid #BFDBFE",backgroundColor:"#EFF6FF",color:"#1D4ED8",fontSize:"0.78rem",fontWeight:"600",textDecoration:"none"},children:[n.jsx(gn,{size:13})," Cloud Console"]})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:12},children:Jk.map(P=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:P.required?"1.5px solid #BFDBFE":"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsx("div",{style:{height:3,backgroundColor:P.required?"#4285F4":"#9CA3AF"}}),n.jsxs("div",{style:{padding:"14px 16px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:11,marginBottom:8},children:[n.jsx("div",{style:{width:38,height:38,borderRadius:9,backgroundColor:"#EFF6FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",flexShrink:0},children:P.emoji}),n.jsx("div",{style:{flex:1},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:2,flexWrap:"wrap"},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.9rem"},children:P.name}),P.required&&n.jsx("span",{style:{padding:"1px 7px",backgroundColor:"#DBEAFE",color:"#1D4ED8",borderRadius:4,fontSize:"0.6rem",fontWeight:"800"},children:" ESENCIAL"})]})})]}),n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.76rem",color:"#6B7280",lineHeight:1.5},children:P.description}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:5,marginBottom:10},children:P.unlocks.map(D=>n.jsxs("span",{style:{padding:"2px 8px",backgroundColor:"#EFF6FF",color:"#2563EB",borderRadius:4,fontSize:"0.66rem",fontWeight:"600"},children:[" ",D]},D))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:y?"#10B981":"#9CA3AF",fontWeight:"600",display:"flex",alignItems:"center",gap:4},children:y?n.jsxs(n.Fragment,{children:[n.jsx(ct,{size:12})," Activa"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ct,{size:12})," Sin API Key"]})}),n.jsxs("a",{href:P.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.7rem",fontWeight:"600",textDecoration:"none"},children:[n.jsx(gn,{size:10})," Docs"]})]})]})]},P.id))})]}),n.jsxs("div",{style:{marginBottom:20,padding:"12px 18px",backgroundColor:"#FFFBEB",border:"1.5px solid #FDE68A",borderRadius:10,display:"flex",alignItems:"center",gap:10},children:[n.jsx(_F,{size:18,color:"#F59E0B",style:{flexShrink:0}}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"700",fontSize:"0.85rem",color:"#92400E"},children:"Carriers sin API"}),n.jsx("span",{style:{fontSize:"0.8rem",color:"#78350F",marginLeft:8},children:"Configur la URL de tracking del carrier y nosotros armamos el link automtico para el comprador. Sin webhooks, sin cdigo."})]})]}),n.jsxs("div",{style:{display:"flex",gap:8,marginBottom:20,flexWrap:"wrap"},children:[n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#6B7280",alignSelf:"center",marginRight:4},children:"Pas:"}),["all","uy","ar","global"].map(P=>n.jsx("button",{onClick:()=>r(P),style:{padding:"5px 12px",borderRadius:20,border:`1.5px solid ${t===P?"#10B981":"#E5E7EB"}`,cursor:"pointer",backgroundColor:t===P?"#10B981":"#fff",color:t===P?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600"},children:{all:"Todos",uy:" Uruguay",ar:" Argentina",global:" Global"}[P]},P)),n.jsx("div",{style:{width:1,height:28,backgroundColor:"#E5E7EB",alignSelf:"center",margin:"0 4px"}}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#6B7280",alignSelf:"center",marginRight:4},children:"Tipo:"}),["all","api","no-api"].map(P=>n.jsx("button",{onClick:()=>i(P),style:{padding:"5px 12px",borderRadius:20,border:`1.5px solid ${o===P?"#1F2937":"#E5E7EB"}`,cursor:"pointer",backgroundColor:o===P?"#1F2937":"#fff",color:o===P?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600"},children:{all:"Todos",api:" Con API","no-api":" Sin API"}[P]},P))]}),T.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("h3",{style:{fontSize:"0.8rem",fontWeight:"800",color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em",margin:"0 0 12px",display:"flex",alignItems:"center",gap:7},children:[n.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",backgroundColor:"#10B981"}})," Con API  Tracking automtico"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14,marginBottom:28},children:T.map(P=>n.jsx(B,{carrier:P},P.id))})]}),E.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("h3",{style:{fontSize:"0.8rem",fontWeight:"800",color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em",margin:"0 0 12px",display:"flex",alignItems:"center",gap:7},children:[n.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",backgroundColor:"#F59E0B"}})," Sin API  Tracking manual con URL configurable"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:E.map(P=>n.jsx(B,{carrier:P},P.id))})]}),k.length===0&&n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600"},children:"Sin resultados para ese filtro"})]})]})]})}const U0="#FF6835",yh=[{id:"ml",emoji:"",name:"Mercado Libre",description:"El marketplace ms grande de Latam. Sincronizacin de productos, stock e inventario en tiempo real.",countries:["","","",""],status:"pending",syncFeatures:["Productos","Stock","Pedidos","Precios"],recommended:!0,category:"marketplace",docsUrl:"https://developers.mercadolibre.com",badge:"API oficial"},{id:"tiendanube",emoji:"",name:"TiendaNube",description:"Plataforma de eCommerce lder en Argentina y Uruguay. Webhooks en tiempo real.",countries:["",""],status:"pending",syncFeatures:["Productos","Stock","Pedidos","Clientes"],category:"platform",docsUrl:"https://tiendanube.com/api-developers",badge:"UY + AR"},{id:"woocommerce",emoji:"",name:"WooCommerce",description:"Plugin de WordPress ms usado a nivel global. API REST estable con autenticacin OAuth.",countries:[""],status:"pending",syncFeatures:["Productos","Stock","Pedidos","Categoras"],category:"platform",docsUrl:"https://woocommerce.github.io/woocommerce-rest-api-docs"},{id:"shopify",emoji:"",name:"Shopify",description:"Plataforma de eCommerce global. GraphQL + REST API, webhooks y muy bien documentada.",countries:[""],status:"pending",syncFeatures:["Productos","Variantes","Stock","Pedidos"],category:"platform",docsUrl:"https://shopify.dev/docs/api"},{id:"vtex",emoji:"",name:"VTEX",description:"Plataforma enterprise para grandes retailers en Latam. API REST de alto rendimiento.",countries:["","","",""],status:"coming-soon",syncFeatures:["Catlogo","SKUs","Inventario","Pedidos"],category:"platform",docsUrl:"https://developers.vtex.com",badge:"Enterprise"},{id:"magento",emoji:"",name:"Magento / Adobe Commerce",description:"Plataforma open-source para grandes catlogos. API REST y GraphQL disponibles.",countries:[""],status:"coming-soon",syncFeatures:["Productos","Categoras","Stock","rdenes"],category:"platform",docsUrl:"https://developer.adobe.com/commerce"},{id:"prestashop",emoji:"",name:"PrestaShop",description:"Plataforma open-source popular en Europa y Latam. API REST con mdulos de sincronizacin.",countries:[""],status:"coming-soon",syncFeatures:["Productos","Stock","Pedidos"],category:"platform",docsUrl:"https://devdocs.prestashop-project.org"}],NTe={connected:{label:"Conectada",color:"#10B981",bg:"#D1FAE5",Icon:ct},sandbox:{label:"Sandbox",color:"#F59E0B",bg:"#FEF3C7",Icon:Jt},pending:{label:"Sin conectar",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},"coming-soon":{label:"Prximamente",color:"#3B82F6",bg:"#DBEAFE",Icon:pt}};function LTe({onNavigate:e}){const[t,r]=A.useState("all"),[o,i]=A.useState(null),a=yh.filter(s=>t==="all"||s.category===t);return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ja,title:"Tiendas",subtitle:"Sincroniz tu catlogo con marketplaces y plataformas de eCommerce",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Plataformas",value:yh.length,color:"#111827"},{label:"Marketplaces",value:yh.filter(s=>s.category==="marketplace").length,color:"#3B82F6"},{label:"Plataformas CMS",value:yh.filter(s=>s.category==="platform").length,color:"#8B5CF6"},{label:"Conectadas",value:yh.filter(s=>s.status==="connected").length,color:"#10B981"}].map((s,l)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:s.color},children:s.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:s.label})]},l))}),n.jsxs("div",{style:{marginBottom:20,padding:"12px 18px",backgroundColor:"#EFF6FF",border:"1.5px solid #BFDBFE",borderRadius:10,display:"flex",alignItems:"center",gap:10},children:[n.jsx(_t,{size:18,color:"#3B82F6",style:{flexShrink:0}}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"700",fontSize:"0.85rem",color:"#1D4ED8"},children:"Sincronizacin bidireccional"}),n.jsx("span",{style:{fontSize:"0.8rem",color:"#1E40AF",marginLeft:8},children:"Catlogo, stock y pedidos se sincronizan automticamente entre Charlie y cada plataforma conectada."})]})]}),n.jsx("div",{style:{display:"flex",gap:8,marginBottom:20},children:[{id:"all",label:"Todos"},{id:"marketplace",label:" Marketplaces"},{id:"platform",label:" Plataformas CMS"}].map(s=>n.jsx("button",{onClick:()=>r(s.id),style:{padding:"5px 14px",borderRadius:20,border:`1.5px solid ${t===s.id?"#3B82F6":"#E5E7EB"}`,cursor:"pointer",backgroundColor:t===s.id?"#3B82F6":"#fff",color:t===s.id?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600"},children:s.label},s.id))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:14},children:a.map(s=>{const l=NTe[s.status],c=l.Icon,d=o===s.id;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:s.recommended?`1.5px solid ${U0}`:"1px solid #E5E7EB",overflow:"hidden",boxShadow:s.recommended?`0 0 0 4px ${U0}12`:"none"},children:[n.jsx("div",{style:{height:3,backgroundColor:"#3B82F6"}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:s.emoji}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap",marginBottom:4},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:s.name}),s.recommended&&n.jsx("span",{style:{padding:"2px 7px",backgroundColor:`${U0}18`,color:U0,borderRadius:4,fontSize:"0.62rem",fontWeight:"700"},children:" Recomendado"}),s.badge&&!s.recommended&&n.jsx("span",{style:{padding:"2px 7px",backgroundColor:"#EFF6FF",color:"#3B82F6",borderRadius:4,fontSize:"0.62rem",fontWeight:"700"},children:s.badge})]}),n.jsxs("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:[s.countries.map((f,p)=>n.jsx("span",{style:{fontSize:"0.75rem"},children:f},p)),n.jsx("span",{style:{padding:"1px 6px",borderRadius:4,fontSize:"0.62rem",fontWeight:"600",backgroundColor:s.category==="marketplace"?"#DBEAFE":"#EDE9FE",color:s.category==="marketplace"?"#1D4ED8":"#6D28D9"},children:s.category==="marketplace"?"Marketplace":"CMS"})]})]})]}),n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.78rem",color:"#6B7280",lineHeight:1.5},children:s.description}),n.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:12},children:s.syncFeatures.map(f=>n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3,padding:"2px 8px",backgroundColor:"#F3F4F6",color:"#374151",borderRadius:4,fontSize:"0.68rem",fontWeight:"600"},children:[n.jsx(Rt,{size:9}),f]},f))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:l.bg,color:l.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(c,{size:11})," ",l.label]}),n.jsxs("div",{style:{display:"flex",gap:6},children:[s.docsUrl&&n.jsxs("a",{href:s.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"5px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.72rem",fontWeight:"600",textDecoration:"none"},children:[n.jsx(gn,{size:11})," Docs"]}),s.status!=="coming-soon"&&n.jsxs("button",{onClick:()=>i(d?null:s.id),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:"#3B82F6",color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," Conectar"]})]})]}),d&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Configuracin  ",s.name]}),["URL de la tienda","Consumer Key / API Key","Consumer Secret / Token"].map((f,p)=>n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:f}),n.jsx("input",{type:p>0?"password":"text",placeholder:f,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:h=>h.target.style.borderColor="#3B82F6",onBlur:h=>h.target.style.borderColor="#E5E7EB"})]},p)),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[n.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:"#3B82F6",color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar y sincronizar"}),n.jsx("button",{onClick:()=>i(null),style:{padding:"8px 12px",backgroundColor:"#fff",color:"#9CA3AF",border:"1px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",cursor:"pointer"},children:"Cancelar"})]})]})]})]},s.id)})})]})]})}const bh=[{id:"meta",emoji:"",name:"Meta Business Suite",description:"Centro de control para todas las integraciones Meta. Se necesita para Instagram, WhatsApp y Facebook. App ID + App Secret.",color:"#1877F2",bg:"#EFF6FF",status:"pending",features:["App ID","Pixel","Catlogo","Commerce Manager"],badge:"Requerido para las dems",docsUrl:"https://developers.facebook.com"},{id:"instagram",emoji:"",name:"Instagram Shopping",description:"Public y etiquet productos en posts y stories. Catlogo sincronizado automticamente.",color:"#E1306C",bg:"#FDF2F8",status:"pending",features:["Catlogo","Tags en posts","Stories","Shop tab"],requires:"Requiere Meta Business Suite",docsUrl:"https://developers.facebook.com/docs/instagram"},{id:"whatsapp",emoji:"",name:"WhatsApp Business",description:"Catlogo de productos en WhatsApp. Notificaciones de pedidos y atencin al cliente.",color:"#25D366",bg:"#F0FDF4",status:"pending",features:["Catlogo WA","Mensajes","Pedidos","Notificaciones"],requires:"Requiere Meta Business Suite",docsUrl:"https://developers.facebook.com/docs/whatsapp"},{id:"facebook",emoji:"",name:"Facebook Shops",description:"Tienda completa dentro de Facebook. Sincronizacin de catlogo y gestin de pedidos.",color:"#1877F2",bg:"#EFF6FF",status:"pending",features:["Facebook Shop","Catlogo","Marketplace","Ads"],requires:"Requiere Meta Business Suite",docsUrl:"https://developers.facebook.com"},{id:"tiktok",emoji:"",name:"TikTok Shop",description:"Integracin con TikTok for Business para catlogo y compras dentro de la app.",color:"#000000",bg:"#F9FAFB",status:"coming-soon",features:["Catlogo TikTok","TikTok Ads","Shop","Live Shopping"],badge:"Prximamente",docsUrl:"https://developers.tiktok.com"},{id:"pinterest",emoji:"",name:"Pinterest Shopping",description:"Product Pins y catlogo sincronizado para llegar a usuarios en modo descubrimiento.",color:"#E60023",bg:"#FFF1F2",status:"coming-soon",features:["Product Pins","Catlogo","Ads","Collections"],badge:"Prximamente",docsUrl:"https://developers.pinterest.com"}],WTe={connected:{label:"Conectada",color:"#10B981",bg:"#D1FAE5",Icon:ct},sandbox:{label:"Sandbox",color:"#F59E0B",bg:"#FEF3C7",Icon:Jt},pending:{label:"Sin conectar",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},"coming-soon":{label:"Prximamente",color:"#3B82F6",bg:"#DBEAFE",Icon:pt}};function VTe({onNavigate:e}){const[t,r]=A.useState(null);return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:zy,title:"Redes Sociales",subtitle:"Public tu catlogo en redes y vend donde est tu audiencia",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Plataformas",value:bh.length,color:"#111827"},{label:"Disponibles",value:bh.filter(o=>o.status!=="coming-soon").length,color:"#EC4899"},{label:"Prximamente",value:bh.filter(o=>o.status==="coming-soon").length,color:"#3B82F6"},{label:"Conectadas",value:bh.filter(o=>o.status==="connected").length,color:"#10B981"}].map((o,i)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:o.color},children:o.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:o.label})]},i))}),n.jsxs("div",{style:{marginBottom:20,padding:"12px 18px",backgroundColor:"#EFF6FF",border:"1.5px solid #BFDBFE",borderRadius:10,display:"flex",alignItems:"center",gap:10},children:[n.jsx("span",{style:{fontSize:"1.2rem"},children:""}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"700",fontSize:"0.85rem",color:"#1D4ED8"},children:"Meta Business Suite es el punto de partida"}),n.jsx("span",{style:{fontSize:"0.8rem",color:"#1E40AF",marginLeft:8},children:"Instagram, WhatsApp y Facebook Shops requieren que primero configures una app en Meta for Developers."})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:bh.map(o=>{const i=WTe[o.status],a=i.Icon,s=t===o.id;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:o.id==="meta"?`1.5px solid ${o.color}55`:"1px solid #E5E7EB",overflow:"hidden",opacity:o.status==="coming-soon"?.75:1},children:[n.jsx("div",{style:{height:3,backgroundColor:o.color}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:44,height:44,borderRadius:12,backgroundColor:o.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.4rem",flexShrink:0},children:o.emoji}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap",marginBottom:4},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:o.name}),o.badge&&n.jsx("span",{style:{padding:"2px 7px",backgroundColor:"#F3F4F6",color:"#374151",borderRadius:4,fontSize:"0.62rem",fontWeight:"700"},children:o.badge})]}),o.requires&&n.jsx("span",{style:{fontSize:"0.68rem",color:"#6B7280",fontStyle:"italic"},children:o.requires})]})]}),n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.78rem",color:"#6B7280",lineHeight:1.5},children:o.description}),n.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:12},children:o.features.map(l=>n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3,padding:"2px 8px",backgroundColor:o.bg,color:o.color,borderRadius:4,fontSize:"0.68rem",fontWeight:"600"},children:[n.jsx(cs,{size:9}),l]},l))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:i.bg,color:i.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(a,{size:11})," ",i.label]}),n.jsxs("div",{style:{display:"flex",gap:6},children:[o.docsUrl&&n.jsxs("a",{href:o.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"5px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.72rem",fontWeight:"600",textDecoration:"none"},children:[n.jsx(gn,{size:11})," Docs"]}),o.status!=="coming-soon"&&n.jsxs("button",{onClick:()=>r(s?null:o.id),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:o.color,color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," Conectar"]})]})]}),s&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Configuracin  ",o.name]}),["App ID","App Secret","Access Token"].map((l,c)=>n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:l}),n.jsx("input",{type:c>0?"password":"text",placeholder:l,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:d=>d.target.style.borderColor=o.color,onBlur:d=>d.target.style.borderColor="#E5E7EB"})]},c)),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[n.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:o.color,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar y conectar"}),n.jsx("button",{onClick:()=>r(null),style:{padding:"8px 12px",backgroundColor:"#fff",color:"#9CA3AF",border:"1px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",cursor:"pointer"},children:"Cancelar"})]})]})]})]},o.id)})})]})]})}const Eu=[{id:"twilio",emoji:"",name:"Twilio",description:"SMS, llamadas y WhatsApp Business API. El estndar de la industria para comunicaciones programables.",color:"#F22F46",bg:"#FFF1F2",category:"messaging",status:"pending",features:["SMS","WhatsApp","Voz","Verify OTP"],docsUrl:"https://www.twilio.com/docs",configFields:[{label:"Account SID",type:"text"},{label:"Auth Token",type:"password"},{label:"Nmero SMS",type:"tel"},{label:"Nmero WhatsApp",type:"tel"}]},{id:"resend",emoji:"",name:"Resend",description:"Email transaccional moderno. API simple, alta deliverabilidad y analytics integrados.",color:"#000000",bg:"#F9FAFB",category:"email",status:"pending",features:["Transaccional","Templates","Analytics","Webhooks"],docsUrl:"https://resend.com/docs",configFields:[{label:"API Key",type:"password"}],badge:"Recomendado"},{id:"sendgrid",emoji:"",name:"SendGrid / Twilio Email",description:"Plataforma de email transaccional y marketing de Twilio. Alta escala y deliverabilidad.",color:"#1A82E2",bg:"#EFF6FF",category:"email",status:"pending",features:["Transaccional","Bulk","Templates","Analytics"],docsUrl:"https://docs.sendgrid.com",configFields:[{label:"API Key",type:"password"}]},{id:"ga4",emoji:"",name:"Google Analytics 4",description:"Seguimiento de eventos, conversiones y comportamiento de usuarios. Integracin va GTM o snippet directo.",color:"#E37400",bg:"#FFFBEB",category:"analytics",status:"pending",features:["Eventos","Ecommerce","Funnels","Audiences"],docsUrl:"https://developers.google.com/analytics",configFields:[{label:"Measurement ID (G-XXXXXXXX)",type:"text"}]},{id:"gtm",emoji:"",name:"Google Tag Manager",description:"Gestin centralizada de scripts y pxeles sin tocar el cdigo. Snippet de contenedor.",color:"#4285F4",bg:"#EFF6FF",category:"analytics",status:"pending",features:["Tags","Triggers","Variables","Preview"],docsUrl:"https://tagmanager.google.com",configFields:[{label:"Container ID (GTM-XXXXXXX)",type:"text"}]},{id:"hotjar",emoji:"",name:"Hotjar",description:"Mapas de calor, grabaciones de sesiones y encuestas para entender el comportamiento.",color:"#FD3A5C",bg:"#FFF1F2",category:"analytics",status:"coming-soon",features:["Heatmaps","Recordings","Surveys","Funnels"],docsUrl:"https://help.hotjar.com"},{id:"zapier",emoji:"",name:"Zapier",description:"Conecta Charlie con ms de 5,000 apps sin cdigo. Automatizaciones por eventos del sistema.",color:"#FF4A00",bg:"#FFF4F0",category:"automation",status:"pending",features:["Triggers","Actions","5000+ apps","Multi-step"],docsUrl:"https://zapier.com/developer",configFields:[{label:"Webhook URL de Zapier",type:"text"}]},{id:"n8n",emoji:"",name:"n8n",description:"Automatizacin open-source self-hosted. Alternativa ms potente y econmica que Zapier para uso tcnico.",color:"#EA4B71",bg:"#FDF2F8",category:"automation",status:"coming-soon",features:["Visual flows","Self-hosted","Open-source","400+ nodes"],docsUrl:"https://docs.n8n.io"},{id:"metamap",emoji:"",name:"MetaMap",description:"KYC y verificacin de identidad: documento + selfie + liveness detection. Se activa automticamente al comprar productos con restriccin de edad (+18).",color:"#1F2937",bg:"#F3F4F6",category:"identity",status:"pending",features:["Documento ID","Selfie + Liveness","Verificacin de edad","6 pases LATAM"],badge:"Edad +18",docsUrl:"https://docs.metamap.com",navigateTo:"metamap-config"}],UTe={connected:{label:"Conectado",color:"#10B981",bg:"#D1FAE5",Icon:ct},sandbox:{label:"Sandbox",color:"#F59E0B",bg:"#FEF3C7",Icon:Jt},pending:{label:"Sin conectar",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},"coming-soon":{label:"Prximamente",color:"#3B82F6",bg:"#DBEAFE",Icon:pt}},XN={messaging:{label:"Mensajera",icon:n.jsx(Aa,{size:13}),color:"#F22F46"},email:{label:"Email",icon:n.jsx(Aa,{size:13}),color:"#1A82E2"},analytics:{label:"Analytics",icon:n.jsx(br,{size:13}),color:"#E37400"},automation:{label:"Automatizacin",icon:n.jsx(b8,{size:13}),color:"#EA4B71"},identity:{label:"Identidad & KYC",icon:n.jsx(Nr,{size:13}),color:"#1F2937"}};function qTe({onNavigate:e}){const[t,r]=A.useState("all"),[o,i]=A.useState(null),[a,s]=A.useState({}),l=Eu.filter(d=>t==="all"||d.category===t),c=(d,f,p)=>{s(h=>({...h,[d]:{...h[d]??{},[f]:p}}))};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:di,title:"Servicios",subtitle:"Comunicaciones, analytics y automatizaciones transversales",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Servicios",value:Eu.length,color:"#111827"},{label:"Mensajera",value:Eu.filter(d=>d.category==="messaging").length,color:"#F22F46"},{label:"Email",value:Eu.filter(d=>d.category==="email").length,color:"#1A82E2"},{label:"Automatizacin",value:Eu.filter(d=>d.category==="automation").length,color:"#EA4B71"},{label:"Identidad",value:Eu.filter(d=>d.category==="identity").length,color:"#1F2937"}].map((d,f)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:d.color},children:d.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:d.label})]},f))}),n.jsx("div",{style:{display:"flex",gap:8,marginBottom:20,flexWrap:"wrap"},children:["all","messaging","email","analytics","automation","identity"].map(d=>n.jsx("button",{onClick:()=>r(d),style:{padding:"5px 14px",borderRadius:20,cursor:"pointer",backgroundColor:t===d?"#8B5CF6":"#fff",color:t===d?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600",border:`1.5px solid ${t===d?"#8B5CF6":"#E5E7EB"}`},children:d==="all"?"Todos":XN[d].label},d))}),["messaging","email","analytics","automation","identity"].map(d=>{const f=l.filter(h=>h.category===d);if(!f.length)return null;const p=XN[d];return n.jsxs("div",{style:{marginBottom:28},children:[n.jsxs("h3",{style:{fontSize:"0.8rem",fontWeight:"800",color:"#374151",textTransform:"uppercase",letterSpacing:"0.06em",margin:"0 0 12px",display:"flex",alignItems:"center",gap:7},children:[n.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:22,height:22,borderRadius:6,backgroundColor:p.color+"22",color:p.color},children:p.icon}),p.label]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:f.map(h=>{const x=UTe[h.status],m=x.Icon,y=o===h.id;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:h.badge==="Recomendado"?`1.5px solid ${h.color}66`:"1px solid #E5E7EB",overflow:"hidden",opacity:h.status==="coming-soon"?.75:1},children:[n.jsx("div",{style:{height:3,backgroundColor:h.color}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:h.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:h.emoji}),n.jsx("div",{style:{flex:1},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap",marginBottom:2},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:h.name}),h.badge&&n.jsx("span",{style:{padding:"2px 7px",backgroundColor:h.bg,color:h.color,borderRadius:4,fontSize:"0.62rem",fontWeight:"700"},children:h.badge})]})})]}),n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.78rem",color:"#6B7280",lineHeight:1.5},children:h.description}),n.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:12},children:h.features.map(b=>n.jsx("span",{style:{padding:"2px 8px",backgroundColor:h.bg,color:h.color,borderRadius:4,fontSize:"0.68rem",fontWeight:"600"},children:b},b))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:x.bg,color:x.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(m,{size:11})," ",x.label]}),n.jsxs("div",{style:{display:"flex",gap:6},children:[h.docsUrl&&n.jsxs("a",{href:h.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"5px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.72rem",fontWeight:"600",textDecoration:"none"},children:[n.jsx(gn,{size:11})," Docs"]}),h.status!=="coming-soon"&&h.configFields&&!h.navigateTo&&n.jsxs("button",{onClick:()=>i(y?null:h.id),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:h.color,color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," Configurar"]}),h.status!=="coming-soon"&&h.navigateTo&&n.jsxs("button",{onClick:()=>e(h.navigateTo),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:h.color,color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(Nr,{size:11})," Abrir panel"]})]})]}),y&&h.configFields&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Configuracin  ",h.name]}),h.configFields.map((b,v)=>{var C;return n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:b.label}),n.jsx("input",{type:b.type,value:((C=a[h.id])==null?void 0:C[b.label])??"",onChange:S=>c(h.id,b.label,S.target.value),placeholder:b.label,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:S=>S.target.style.borderColor=h.color,onBlur:S=>S.target.style.borderColor="#E5E7EB"})]},v)}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[n.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:h.color,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar y probar conexin"}),n.jsx("button",{onClick:()=>i(null),style:{padding:"8px 12px",backgroundColor:"#fff",color:"#9CA3AF",border:"1px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",cursor:"pointer"},children:"Cancelar"})]})]})]})]},h.id)})})]},d)})]})]})}const Qk="#FF6835",JN={activo:{label:"Activo",color:"#10B981",bg:"#D1FAE5",Icon:ct},inactivo:{label:"Inactivo",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},error:{label:"Error",color:"#EF4444",bg:"#FEE2E2",Icon:Jt},configurando:{label:"Configurando",color:"#F59E0B",bg:"#FEF3C7",Icon:pt}},HTe={resend:[{key:"apiKey",label:"API Key",type:"password",placeholder:"re_..."},{key:"domain",label:"Dominio verificado",type:"text",placeholder:"ejemplo.com"}],whatsapp:[{key:"accountSid",label:"Account SID",type:"text",placeholder:"AC..."},{key:"authToken",label:"Auth Token",type:"password",placeholder:"..."},{key:"phoneNumber",label:"Nmero de WhatsApp",type:"text",placeholder:"+598..."}],twilio:[{key:"accountSid",label:"Account SID",type:"text",placeholder:"AC..."},{key:"authToken",label:"Auth Token",type:"password",placeholder:"..."},{key:"phoneNumber",label:"Nmero de telfono",type:"text",placeholder:"+598..."}],gmail:[{key:"host",label:"Host SMTP",type:"text",placeholder:"smtp.gmail.com"},{key:"port",label:"Puerto",type:"number",placeholder:"587"},{key:"user",label:"Usuario",type:"text",placeholder:"tu@email.com"},{key:"password",label:"Contrasea",type:"password",placeholder:"..."}],meta:[{key:"appId",label:"App ID",type:"text",placeholder:"..."},{key:"appSecret",label:"App Secret",type:"password",placeholder:"..."},{key:"accessToken",label:"Access Token",type:"password",placeholder:"..."}]};function GTe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(null),[l,c]=A.useState({}),[d,f]=A.useState(null),[p,h]=A.useState({}),[x,m]=A.useState({});A.useEffect(()=>{(async()=>{try{const w=await Ni({tipo:"comunicacion"});r(w);const k={};w.forEach(E=>{E.config&&typeof E.config=="object"&&(k[E.id]=E.config)}),c(k)}catch(w){console.error("Error cargando integraciones de comunicacin:",w)}finally{i(!1)}})()},[]);const y=async F=>{try{const w=l[F.id]||{};await h6(F.id,{config:w,estado:"configurando"});const k=await Ni({tipo:"comunicacion"});r(k),s(null)}catch(w){console.error("Error guardando configuracin:",w),alert("Error al guardar la configuracin")}},b=async F=>{f(F.id);try{const w=await g6(F.id),k=await Ni({tipo:"comunicacion"});r(k),v(F.id)}catch(w){console.error("Error en ping:",w),alert("Error al probar la conexin")}finally{f(null)}},v=async F=>{m(w=>({...w,[F]:!0}));try{const w=await x6(F,10);h(k=>({...k,[F]:w}))}catch(w){console.error("Error cargando logs:",w)}finally{m(w=>({...w,[F]:!1}))}},C=F=>HTe[F]||[],S=t.filter(F=>F.estado==="activo").length;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:zy,title:"Comunicacin",subtitle:"WhatsApp, Resend, Gmail/SMTP, Meta, Twilio SMS  Envo de mensajes y notificaciones",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Proveedores",value:o?"...":t.length,color:"#111827"},{label:"Activas",value:o?"...":S,color:"#10B981"},{label:"Inactivas",value:o?"...":t.filter(F=>F.estado==="inactivo").length,color:"#9CA3AF"}].map((F,w)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:F.color},children:F.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:F.label})]},w))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:t.map(F=>{const w=JN[F.estado]||JN.inactivo,k=w.Icon,E=a===F.id,T=C(F.nombre),_=l[F.id]||{},z=p[F.id]||[];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",overflow:"hidden",transition:"box-shadow 0.15s"},children:[n.jsx("div",{style:{height:3,backgroundColor:w.color}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:F.nombre==="whatsapp"?"":F.nombre==="resend"?"":F.nombre==="gmail"?"":F.nombre==="meta"?"":""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem",marginBottom:4},children:F.proveedor}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#6B7280"},children:F.nombre})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:w.bg,color:w.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(k,{size:11})," ",w.label]}),n.jsx("div",{style:{display:"flex",gap:6},children:n.jsxs("button",{onClick:()=>{E?s(null):(s(F.id),z.length===0&&v(F.id))},style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:Qk,color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," ",E?"Cerrar":"Configurar"]})})]}),E&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Configuracin  ",F.proveedor]}),T.length>0?T.map(B=>n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:B.label}),n.jsx("input",{type:B.type,value:_[B.key]||"",onChange:P=>c(D=>({...D,[F.id]:{...D[F.id]||{},[B.key]:P.target.value}})),placeholder:B.placeholder||`${B.label}...`,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:P=>P.target.style.borderColor=Qk,onBlur:P=>P.target.style.borderColor="#E5E7EB"})]},B.key)):n.jsx("p",{style:{fontSize:"0.72rem",color:"#6B7280",fontStyle:"italic"},children:"No se requieren credenciales adicionales para esta integracin."}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[n.jsx("button",{onClick:()=>y(F),style:{flex:1,padding:"8px",backgroundColor:Qk,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar"}),n.jsx("button",{onClick:()=>b(F),disabled:d===F.id,style:{padding:"8px 12px",backgroundColor:d===F.id?"#E5E7EB":"#10B981",color:d===F.id?"#9CA3AF":"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:d===F.id?"not-allowed":"pointer"},children:d===F.id?"Probando...":"Test conexin"})]}),z.length>0&&n.jsxs("div",{style:{marginTop:14,padding:"10px",backgroundColor:"#fff",borderRadius:7,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.7rem",fontWeight:"700",color:"#374151"},children:"ltimos eventos"}),n.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:z.map(B=>n.jsxs("div",{style:{padding:"4px 0",fontSize:"0.68rem",color:"#6B7280",borderBottom:"1px solid #F3F4F6"},children:[n.jsx("span",{style:{fontWeight:"600"},children:new Date(B.created_at).toLocaleString()}),"  ",n.jsx("span",{style:{color:B.nivel==="error"?"#EF4444":B.nivel==="warning"?"#F59E0B":"#6B7280"},children:B.mensaje})]},B.id))})]})]})]})]},F.id)})}),t.length===0&&!o&&n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600"},children:"No hay integraciones de comunicacin configuradas"})]})]})]})}const Zk="#FF6835",QN={activo:{label:"Activo",color:"#10B981",bg:"#D1FAE5",Icon:ct},inactivo:{label:"Inactivo",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},error:{label:"Error",color:"#EF4444",bg:"#FEE2E2",Icon:Jt},configurando:{label:"Configurando",color:"#F59E0B",bg:"#FEF3C7",Icon:pt}},KTe={mercadolibre:[{key:"clientId",label:"Client ID",type:"text",placeholder:"..."},{key:"clientSecret",label:"Client Secret",type:"password",placeholder:"..."},{key:"accessToken",label:"Access Token",type:"password",placeholder:"..."},{key:"refreshToken",label:"Refresh Token",type:"password",placeholder:"..."}],mercadopago:[{key:"publicKey",label:"Public Key",type:"text",placeholder:"APP_USR-..."},{key:"accessToken",label:"Access Token",type:"password",placeholder:"APP_USR-..."},{key:"webhookSecret",label:"Webhook Secret",type:"password",placeholder:"..."}]};function YTe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(null),[l,c]=A.useState({}),[d,f]=A.useState(null),[p,h]=A.useState(null),[x,m]=A.useState({});A.useEffect(()=>{(async()=>{try{const k=await Ni({tipo:"marketplace"});r(k);const E={};k.forEach(T=>{T.config&&typeof T.config=="object"&&(E[T.id]=T.config)}),c(E)}catch(k){console.error("Error cargando integraciones de marketplace:",k)}finally{i(!1)}})()},[]);const y=async w=>{try{const k=l[w.id]||{};await h6(w.id,{config:k,estado:"configurando"});const E=await Ni({tipo:"marketplace"});r(E),s(null)}catch(k){console.error("Error guardando configuracin:",k),alert("Error al guardar la configuracin")}},b=async w=>{f(w.id);try{await g6(w.id);const k=await Ni({tipo:"marketplace"});r(k),C(w.id)}catch(k){console.error("Error en ping:",k),alert("Error al probar la conexin")}finally{f(null)}},v=async w=>{h(w.id);try{await new Promise(k=>setTimeout(k,2e3)),alert("Sincronizacin iniciada"),C(w.id)}catch(k){console.error("Error en sincronizacin:",k),alert("Error al sincronizar")}finally{h(null)}},C=async w=>{try{const k=await x6(w,10);m(E=>({...E,[w]:k}))}catch(k){console.error("Error cargando logs:",k)}},S=w=>KTe[w]||[],F=t.filter(w=>w.estado==="activo").length;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:ja,title:"Marketplace",subtitle:"Mercado Libre, MercadoPago  Sincronizacin bidireccional de productos y pedidos",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Marketplaces",value:o?"...":t.length,color:"#111827"},{label:"Conectados",value:o?"...":F,color:"#10B981"},{label:"Inactivos",value:o?"...":t.filter(w=>w.estado==="inactivo").length,color:"#9CA3AF"}].map((w,k)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:w.color},children:w.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:w.label})]},k))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:t.map(w=>{const k=QN[w.estado]||QN.inactivo,E=k.Icon,T=a===w.id,_=S(w.nombre),z=l[w.id]||{},B=x[w.id]||[];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsx("div",{style:{height:3,backgroundColor:k.color}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:w.nombre==="mercadolibre"?"":""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem",marginBottom:4},children:w.proveedor}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#6B7280"},children:w.nombre})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:k.bg,color:k.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(E,{size:11})," ",k.label]}),n.jsx("div",{style:{display:"flex",gap:6},children:n.jsxs("button",{onClick:()=>s(T?null:w.id),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:Zk,color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," ",T?"Cerrar":"Configurar"]})})]}),T&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Credenciales OAuth  ",w.proveedor]}),_.map(P=>n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:P.label}),n.jsx("input",{type:P.type,value:z[P.key]||"",onChange:D=>c(I=>({...I,[w.id]:{...I[w.id]||{},[P.key]:D.target.value}})),placeholder:P.placeholder||`${P.label}...`,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:D=>D.target.style.borderColor=Zk,onBlur:D=>D.target.style.borderColor="#E5E7EB"})]},P.key)),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10,flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>y(w),style:{flex:1,minWidth:120,padding:"8px",backgroundColor:Zk,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar"}),n.jsx("button",{onClick:()=>b(w),disabled:d===w.id,style:{flex:1,minWidth:120,padding:"8px",backgroundColor:d===w.id?"#E5E7EB":"#10B981",color:d===w.id?"#9CA3AF":"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:d===w.id?"not-allowed":"pointer"},children:d===w.id?"Probando...":"Test conexin"}),n.jsxs("button",{onClick:()=>v(w),disabled:p===w.id||w.estado!=="activo",style:{flex:1,minWidth:120,padding:"8px",backgroundColor:p===w.id||w.estado!=="activo"?"#E5E7EB":"#3B82F6",color:p===w.id||w.estado!=="activo"?"#9CA3AF":"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:p===w.id||w.estado!=="activo"?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[n.jsx(_t,{size:12,style:{opacity:p===w.id?.5:1}}),p===w.id?"Sincronizando...":"Sincronizar"]})]}),B.length>0&&n.jsxs("div",{style:{marginTop:14,padding:"10px",backgroundColor:"#fff",borderRadius:7,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.7rem",fontWeight:"700",color:"#374151"},children:"ltimos eventos"}),n.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:B.map(P=>n.jsxs("div",{style:{padding:"4px 0",fontSize:"0.68rem",color:"#6B7280",borderBottom:"1px solid #F3F4F6"},children:[n.jsx("span",{style:{fontWeight:"600"},children:new Date(P.created_at).toLocaleString()}),"  ",n.jsx("span",{style:{color:P.nivel==="error"?"#EF4444":P.nivel==="warning"?"#F59E0B":"#6B7280"},children:P.mensaje})]},P.id))})]})]})]})]},w.id)})}),t.length===0&&!o&&n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600"},children:"No hay integraciones de marketplace configuradas"})]})]})]})}const eF="#FF6835",ZN={activo:{label:"Activo",color:"#10B981",bg:"#D1FAE5",Icon:ct},inactivo:{label:"Inactivo",color:"#9CA3AF",bg:"#F3F4F6",Icon:Ct},error:{label:"Error",color:"#EF4444",bg:"#FEE2E2",Icon:Jt},configurando:{label:"Configurando",color:"#F59E0B",bg:"#FEF3C7",Icon:pt}};function XTe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(null),[l,c]=A.useState({}),[d,f]=A.useState(null),[p,h]=A.useState({}),[x,m]=A.useState({});A.useEffect(()=>{(async()=>{try{const k=await Ni({tipo:"identidad"});r(k);const E={};k.forEach(T=>{T.config&&typeof T.config=="object"&&(E[T.id]=T.config);const _=T.config;_!=null&&_.stats&&m(z=>({...z,[T.id]:_.stats}))}),c(E)}catch(k){console.error("Error cargando integraciones de identidad:",k)}finally{i(!1)}})()},[]);const y=async w=>{try{const k=l[w.id]||{};await h6(w.id,{config:k,estado:"configurando"});const E=await Ni({tipo:"identidad"});r(E),s(null)}catch(k){console.error("Error guardando configuracin:",k),alert("Error al guardar la configuracin")}},b=async w=>{f(w.id);try{await g6(w.id);const k=await Ni({tipo:"identidad"});r(k),v(w.id)}catch(k){console.error("Error en ping:",k),alert("Error al probar la conexin")}finally{f(null)}},v=async w=>{try{const k=await x6(w,10);h(E=>({...E,[w]:k}))}catch(k){console.error("Error cargando logs:",k)}},C=t.filter(w=>w.estado==="activo").length,S=t.find(w=>w.nombre==="metamap")||t[0],F=S?x[S.id]:null;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Nr,title:"Identidad",subtitle:"MetaMap (KYC)  Verificacin de identidad y cumplimiento normativo",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Integraciones",value:o?"...":t.length,color:"#111827"},{label:"Activas",value:o?"...":C,color:"#10B981"},{label:"Verificaciones",value:F?F.verificaciones:"",color:"#3B82F6"},{label:"Aprobadas",value:F?F.aprobadas:"",color:"#10B981"}].map((w,k)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:w.color},children:w.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:w.label})]},k))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:t.map(w=>{const k=ZN[w.estado]||ZN.inactivo,E=k.Icon,T=a===w.id,_=l[w.id]||{},z=p[w.id]||[],B=x[w.id];return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsx("div",{style:{height:3,backgroundColor:k.color}}),n.jsxs("div",{style:{padding:"16px 18px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[n.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem",marginBottom:4},children:w.proveedor}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#6B7280"},children:w.nombre})]})]}),B&&n.jsx("div",{style:{marginBottom:10,padding:"10px",backgroundColor:"#F9FAFB",borderRadius:8,border:"1px solid #E5E7EB"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-around",gap:8},children:[n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"800",color:"#3B82F6"},children:B.verificaciones}),n.jsx("div",{style:{fontSize:"0.65rem",color:"#6B7280"},children:"Total"})]}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"800",color:"#10B981"},children:B.aprobadas}),n.jsx("div",{style:{fontSize:"0.65rem",color:"#6B7280"},children:"Aprobadas"})]}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"800",color:"#EF4444"},children:B.rechazadas}),n.jsx("div",{style:{fontSize:"0.65rem",color:"#6B7280"},children:"Rechazadas"})]})]})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:k.bg,color:k.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[n.jsx(E,{size:11})," ",k.label]}),n.jsx("div",{style:{display:"flex",gap:6},children:n.jsxs("button",{onClick:()=>{T?s(null):(s(w.id),z.length===0&&v(w.id))},style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:eF,color:"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(di,{size:11})," ",T?"Cerrar":"Configurar"]})})]}),T&&n.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[n.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Credenciales  ",w.proveedor]}),["clientId","clientSecret","flowId"].map(P=>n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:P==="clientId"?"Client ID":P==="clientSecret"?"Client Secret":"Flow ID"}),n.jsx("input",{type:P==="clientSecret"?"password":"text",value:_[P]||"",onChange:D=>c(I=>({...I,[w.id]:{...I[w.id]||{},[P]:D.target.value}})),placeholder:`${P==="clientId"?"Client ID":P==="clientSecret"?"Client Secret":"Flow ID"}...`,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:D=>D.target.style.borderColor=eF,onBlur:D=>D.target.style.borderColor="#E5E7EB"})]},P)),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[n.jsx("button",{onClick:()=>y(w),style:{flex:1,padding:"8px",backgroundColor:eF,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar"}),n.jsx("button",{onClick:()=>b(w),disabled:d===w.id,style:{padding:"8px 12px",backgroundColor:d===w.id?"#E5E7EB":"#10B981",color:d===w.id?"#9CA3AF":"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:d===w.id?"not-allowed":"pointer"},children:d===w.id?"Probando...":"Test conexin"})]}),z.length>0&&n.jsxs("div",{style:{marginTop:14,padding:"10px",backgroundColor:"#fff",borderRadius:7,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.7rem",fontWeight:"700",color:"#374151"},children:"ltimos eventos"}),n.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:z.map(P=>n.jsxs("div",{style:{padding:"4px 0",fontSize:"0.68rem",color:"#6B7280",borderBottom:"1px solid #F3F4F6"},children:[n.jsx("span",{style:{fontWeight:"600"},children:new Date(P.created_at).toLocaleString()}),"  ",n.jsx("span",{style:{color:P.nivel==="error"?"#EF4444":P.nivel==="warning"?"#F59E0B":"#6B7280"},children:P.mensaje})]},P.id))})]})]})]})]},w.id)})}),t.length===0&&!o&&n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600"},children:"No hay integraciones de identidad configuradas"})]})]})]})}const vh="#FF6835",e9=[{id:"read:pedidos",label:"Leer pedidos"},{id:"write:pedidos",label:"Escribir pedidos"},{id:"read:productos",label:"Leer productos"},{id:"write:productos",label:"Escribir productos"},{id:"read:personas",label:"Leer personas"},{id:"webhook:eventos",label:"Webhook eventos"}];function JTe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(!1),[l,c]=A.useState({nombre:"",descripcion:"",permisos:[]}),[d,f]=A.useState(null),[p,h]=A.useState(null),[x,m]=A.useState(null);A.useEffect(()=>{y()},[]);const y=async()=>{try{const F=await Uke();r(F)}catch(F){console.error("Error cargando API keys:",F)}finally{i(!1)}},b=async()=>{if(!l.nombre.trim()){alert("El nombre es requerido");return}try{const F=await qke(l);f(F.key||null),c({nombre:"",descripcion:"",permisos:[]}),await y()}catch(F){console.error("Error creando API key:",F),alert("Error al crear la API key")}},v=async F=>{if(confirm("Ests seguro de revocar esta API key? No se podr usar ms.")){m(F);try{await Hke(F),await y()}catch(w){console.error("Error revocando API key:",w),alert("Error al revocar la API key")}finally{m(null)}}},C=(F,w)=>{navigator.clipboard.writeText(F).catch(()=>{}),h(w),setTimeout(()=>h(null),1500)},S=t.filter(F=>F.estado==="activo").length;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:vd,title:"API Keys",subtitle:"Gestion las API keys para dar acceso a terceros a tu plataforma",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"API Keys",value:o?"...":t.length,color:"#111827"},{label:"Activas",value:o?"...":S,color:"#10B981"},{label:"Revocadas",value:o?"...":t.filter(F=>F.estado==="revocado").length,color:"#9CA3AF"}].map((F,w)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:F.color},children:F.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:F.label})]},w))}),n.jsx("div",{style:{marginBottom:20},children:n.jsxs("button",{onClick:()=>s(!0),style:{display:"flex",alignItems:"center",gap:6,padding:"10px 16px",borderRadius:8,backgroundColor:vh,color:"#fff",border:"none",fontSize:"0.85rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(Nt,{size:16})," Nueva API Key"]})}),n.jsx("div",{style:{display:"grid",gap:12},children:t.map(F=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",padding:"16px 20px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:12},children:[n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:F.nombre}),n.jsx("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:"0.65rem",fontWeight:"700",backgroundColor:F.estado==="activo"?"#D1FAE5":"#F3F4F6",color:F.estado==="activo"?"#10B981":"#6B7280"},children:F.estado==="activo"?"Activa":"Revocada"})]}),F.descripcion&&n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"#6B7280"},children:F.descripcion})]}),n.jsxs("button",{onClick:()=>v(F.id),disabled:x===F.id||F.estado==="revocado",style:{padding:"6px 10px",borderRadius:6,border:"none",backgroundColor:x===F.id||F.estado==="revocado"?"#F3F4F6":"#FEE2E2",color:x===F.id||F.estado==="revocado"?"#9CA3AF":"#EF4444",cursor:x===F.id||F.estado==="revocado"?"not-allowed":"pointer",fontSize:"0.72rem",fontWeight:"600",display:"flex",alignItems:"center",gap:4},children:[n.jsx(xr,{size:12})," ",x===F.id?"Revocando...":"Revocar"]})]}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:12},children:[n.jsxs("div",{style:{flex:"0 0 auto"},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF",fontWeight:"700"},children:"Prefijo: "}),n.jsxs("code",{style:{padding:"3px 8px",borderRadius:4,backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",fontSize:"0.75rem",fontFamily:"monospace",color:"#374151"},children:[F.key_prefix,"..."]})]}),F.ultimo_uso&&n.jsxs("div",{style:{flex:"0 0 auto"},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF",fontWeight:"700"},children:"ltimo uso: "}),n.jsx("span",{style:{fontSize:"0.7rem",color:"#6B7280"},children:new Date(F.ultimo_uso).toLocaleString()})]}),n.jsxs("div",{style:{flex:"0 0 auto"},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF",fontWeight:"700"},children:"Usos totales: "}),n.jsx("span",{style:{fontSize:"0.7rem",color:"#6B7280",fontWeight:"600"},children:F.usos_totales})]})]}),n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF",fontWeight:"700"},children:"Permisos: "}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:4},children:F.permisos.length>0?F.permisos.map(w=>{var k;return n.jsx("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:"0.68rem",fontWeight:"600",backgroundColor:"#EFF6FF",color:"#2563EB"},children:((k=e9.find(E=>E.id===w))==null?void 0:k.label)||w},w)}):n.jsx("span",{style:{fontSize:"0.68rem",color:"#9CA3AF",fontStyle:"italic"},children:"Sin permisos"})})]})]},F.id))}),t.length===0&&!o&&n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600"},children:"No hay API keys creadas"})]})]}),a&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:12,padding:"24px",width:"90%",maxWidth:500,maxHeight:"90vh",overflowY:"auto"},children:d?n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{marginBottom:16,padding:"12px",backgroundColor:"#FEF3C7",borderRadius:8,border:"1.5px solid #F59E0B"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:8},children:[n.jsx(Wr,{size:16,color:"#F59E0B"}),n.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700",color:"#92400E"},children:"Importante! Esta key solo se mostrar UNA VEZ"})]}),n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"#78350F"},children:"Copi la key ahora. No podrs verla de nuevo despus de cerrar este modal."})]}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:6},children:"Tu API Key"}),n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsx("code",{style:{flex:1,padding:"10px 12px",borderRadius:8,backgroundColor:"#F9FAFB",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",fontFamily:"monospace",color:"#374151",wordBreak:"break-all"},children:d}),n.jsx("button",{onClick:()=>C(d,"new"),style:{padding:"10px 12px",borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center"},children:p==="new"?n.jsx(rn,{size:16,color:"#10B981"}):n.jsx(ho,{size:16})})]})]}),n.jsx("button",{onClick:()=>{s(!1),f(null)},style:{width:"100%",padding:"10px",borderRadius:8,backgroundColor:vh,color:"#fff",border:"none",fontSize:"0.85rem",fontWeight:"700",cursor:"pointer"},children:"Cerrar"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h3",{style:{margin:"0 0 20px",fontSize:"1rem",fontWeight:"800",color:"#111827"},children:"Nueva API Key"}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:6},children:"Nombre *"}),n.jsx("input",{type:"text",value:l.nombre,onChange:F=>c(w=>({...w,nombre:F.target.value})),placeholder:"Ej: App mvil",style:{width:"100%",padding:"9px 12px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.85rem",outline:"none",boxSizing:"border-box"},onFocus:F=>F.target.style.borderColor=vh,onBlur:F=>F.target.style.borderColor="#E5E7EB"})]}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:6},children:"Descripcin"}),n.jsx("input",{type:"text",value:l.descripcion,onChange:F=>c(w=>({...w,descripcion:F.target.value})),placeholder:"Descripcin opcional",style:{width:"100%",padding:"9px 12px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.85rem",outline:"none",boxSizing:"border-box"},onFocus:F=>F.target.style.borderColor=vh,onBlur:F=>F.target.style.borderColor="#E5E7EB"})]}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:8},children:"Permisos"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:e9.map(F=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:l.permisos.includes(F.id),onChange:w=>{w.target.checked?c(k=>({...k,permisos:[...k.permisos,F.id]})):c(k=>({...k,permisos:k.permisos.filter(E=>E!==F.id)}))},style:{cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"0.8rem",color:"#374151"},children:F.label})]},F.id))})]}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:b,disabled:!l.nombre.trim(),style:{flex:1,padding:"10px",borderRadius:8,backgroundColor:l.nombre.trim()?vh:"#E5E7EB",color:l.nombre.trim()?"#fff":"#9CA3AF",border:"none",fontSize:"0.85rem",fontWeight:"700",cursor:l.nombre.trim()?"pointer":"not-allowed"},children:"Crear API Key"}),n.jsx("button",{onClick:()=>s(!1),style:{padding:"10px 16px",borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#fff",color:"#6B7280",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"})]})]})})})]})}const jh="#FF6835",t9=[{id:"pedido.creado",label:"Pedido creado"},{id:"pedido.actualizado",label:"Pedido actualizado"},{id:"pago.confirmado",label:"Pago confirmado"},{id:"pago.fallido",label:"Pago fallido"},{id:"envio.actualizado",label:"Envo actualizado"},{id:"usuario.registrado",label:"Usuario registrado"}];function QTe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState(!0),[a,s]=A.useState(!1),[l,c]=A.useState(null),[d,f]=A.useState({nombre:"",url:"",eventos:[]}),[p,h]=A.useState(null),[x,m]=A.useState(null);A.useEffect(()=>{y()},[]);const y=async()=>{try{const w=await Gke();r(w)}catch(w){console.error("Error cargando webhooks:",w)}finally{i(!1)}},b=async()=>{if(!d.nombre.trim()||!d.url.trim()){alert("El nombre y la URL son requeridos");return}try{await Kke({...d,estado:"activo"}),f({nombre:"",url:"",eventos:[]}),s(!1),await y()}catch(w){console.error("Error creando webhook:",w),alert("Error al crear el webhook")}},v=async(w,k)=>{try{await Yke(w,k),await y()}catch(E){console.error("Error actualizando webhook:",E),alert("Error al actualizar el webhook")}},C=async w=>{if(confirm("Ests seguro de eliminar este webhook?")){m(w);try{await Xke(w),await y()}catch(k){console.error("Error eliminando webhook:",k),alert("Error al eliminar el webhook")}finally{m(null)}}},S=async w=>{h(w.id);try{await new Promise(k=>setTimeout(k,1500)),alert("Webhook de prueba enviado")}catch(k){console.error("Error en test:",k),alert("Error al enviar el webhook de prueba")}finally{h(null)}},F=t.filter(w=>w.estado==="activo").length;return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Iy,title:"Webhooks",subtitle:"Configur webhooks para recibir eventos externos y notificaciones en tiempo real",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Webhooks",value:o?"...":t.length,color:"#111827"},{label:"Activos",value:o?"...":F,color:"#10B981"},{label:"Inactivos",value:o?"...":t.filter(w=>w.estado==="inactivo").length,color:"#9CA3AF"}].map((w,k)=>n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:w.color},children:w.value}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:w.label})]},k))}),n.jsx("div",{style:{marginBottom:20},children:n.jsxs("button",{onClick:()=>{c(null),f({nombre:"",url:"",eventos:[]}),s(!0)},style:{display:"flex",alignItems:"center",gap:6,padding:"10px 16px",borderRadius:8,backgroundColor:jh,color:"#fff",border:"none",fontSize:"0.85rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(Nt,{size:16})," Nuevo Webhook"]})}),n.jsx("div",{style:{display:"grid",gap:12},children:t.map(w=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",padding:"16px 20px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:12},children:[n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[n.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:w.nombre}),n.jsx("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:"0.65rem",fontWeight:"700",backgroundColor:w.estado==="activo"?"#D1FAE5":"#F3F4F6",color:w.estado==="activo"?"#10B981":"#6B7280"},children:w.estado==="activo"?"Activo":"Inactivo"})]}),n.jsx("code",{style:{padding:"4px 8px",borderRadius:4,backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",fontSize:"0.75rem",fontFamily:"monospace",color:"#374151",display:"inline-block"},children:w.url})]}),n.jsxs("div",{style:{display:"flex",gap:6},children:[n.jsxs("button",{onClick:()=>S(w),disabled:p===w.id,style:{padding:"6px 10px",borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:p===w.id?"#F3F4F6":"#EFF6FF",color:p===w.id?"#9CA3AF":"#2563EB",cursor:p===w.id?"not-allowed":"pointer",fontSize:"0.72rem",fontWeight:"600",display:"flex",alignItems:"center",gap:4},children:[n.jsx(pt,{size:12})," ",p===w.id?"Enviando...":"Test"]}),n.jsx("button",{onClick:()=>v(w.id,{estado:w.estado==="activo"?"inactivo":"activo"}),style:{padding:"6px 10px",borderRadius:6,border:"none",backgroundColor:w.estado==="activo"?"#F3F4F6":"#D1FAE5",color:w.estado==="activo"?"#6B7280":"#10B981",cursor:"pointer",fontSize:"0.72rem",fontWeight:"600",display:"flex",alignItems:"center",gap:4},children:w.estado==="activo"?n.jsx(woe,{size:16}):n.jsx(Coe,{size:16})}),n.jsxs("button",{onClick:()=>C(w.id),disabled:x===w.id,style:{padding:"6px 10px",borderRadius:6,border:"none",backgroundColor:x===w.id?"#F3F4F6":"#FEE2E2",color:x===w.id?"#9CA3AF":"#EF4444",cursor:x===w.id?"not-allowed":"pointer",fontSize:"0.72rem",fontWeight:"600",display:"flex",alignItems:"center",gap:4},children:[n.jsx(xr,{size:12})," ",x===w.id?"Eliminando...":"Eliminar"]})]})]}),n.jsxs("div",{style:{marginBottom:8},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF",fontWeight:"700"},children:"Eventos: "}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:4},children:w.eventos.length>0?w.eventos.map(k=>{var E;return n.jsx("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:"0.68rem",fontWeight:"600",backgroundColor:"#EFF6FF",color:"#2563EB"},children:((E=t9.find(T=>T.id===k))==null?void 0:E.label)||k},k)}):n.jsx("span",{style:{fontSize:"0.68rem",color:"#9CA3AF",fontStyle:"italic"},children:"Sin eventos"})})]}),w.ultimo_intento&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:"0.7rem",color:"#6B7280"},children:[n.jsxs("span",{children:["ltimo intento: ",new Date(w.ultimo_intento).toLocaleString()]}),w.ultimo_status&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsx("span",{style:{display:"flex",alignItems:"center",gap:4},children:w.ultimo_status>=200&&w.ultimo_status<300?n.jsxs(n.Fragment,{children:[n.jsx(ct,{size:12,color:"#10B981"})," ",w.ultimo_status]}):n.jsxs(n.Fragment,{children:[n.jsx(nn,{size:12,color:"#EF4444"})," ",w.ultimo_status]})})]}),w.intentos_fallidos>0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{style:{color:"#EF4444",fontWeight:"600"},children:[w.intentos_fallidos," intentos fallidos"]})]})]})]},w.id))}),t.length===0&&!o&&n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600"},children:"No hay webhooks configurados"})]})]}),a&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,padding:"24px",width:"90%",maxWidth:500,maxHeight:"90vh",overflowY:"auto"},children:[n.jsx("h3",{style:{margin:"0 0 20px",fontSize:"1rem",fontWeight:"800",color:"#111827"},children:l?"Editar Webhook":"Nuevo Webhook"}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:6},children:"Nombre *"}),n.jsx("input",{type:"text",value:d.nombre,onChange:w=>f(k=>({...k,nombre:w.target.value})),placeholder:"Ej: Webhook de produccin",style:{width:"100%",padding:"9px 12px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.85rem",outline:"none",boxSizing:"border-box"},onFocus:w=>w.target.style.borderColor=jh,onBlur:w=>w.target.style.borderColor="#E5E7EB"})]}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:6},children:"URL *"}),n.jsx("input",{type:"url",value:d.url,onChange:w=>f(k=>({...k,url:w.target.value})),placeholder:"https://tu-servidor.com/webhook",style:{width:"100%",padding:"9px 12px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.85rem",outline:"none",boxSizing:"border-box"},onFocus:w=>w.target.style.borderColor=jh,onBlur:w=>w.target.style.borderColor="#E5E7EB"})]}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:8},children:"Eventos"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:t9.map(w=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:d.eventos.includes(w.id),onChange:k=>{k.target.checked?f(E=>({...E,eventos:[...E.eventos,w.id]})):f(E=>({...E,eventos:E.eventos.filter(T=>T!==w.id)}))},style:{cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"0.8rem",color:"#374151"},children:w.label})]},w.id))})]}),n.jsxs("div",{style:{marginBottom:16},children:[n.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:6},children:"Secret (opcional)"}),n.jsx("input",{type:"password",value:d.secret||"",onChange:w=>f(k=>({...k,secret:w.target.value})),placeholder:"Secret para verificar firma",style:{width:"100%",padding:"9px 12px",border:"1.5px solid #E5E7EB",borderRadius:8,fontSize:"0.85rem",outline:"none",boxSizing:"border-box"},onFocus:w=>w.target.style.borderColor=jh,onBlur:w=>w.target.style.borderColor="#E5E7EB"})]}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:b,disabled:!d.nombre.trim()||!d.url.trim(),style:{flex:1,padding:"10px",borderRadius:8,backgroundColor:d.nombre.trim()&&d.url.trim()?jh:"#E5E7EB",color:d.nombre.trim()&&d.url.trim()?"#fff":"#9CA3AF",border:"none",fontSize:"0.85rem",fontWeight:"700",cursor:d.nombre.trim()&&d.url.trim()?"pointer":"not-allowed"},children:l?"Actualizar":"Crear Webhook"}),n.jsx("button",{onClick:()=>{s(!1),c(null)},style:{padding:"10px 16px",borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#fff",color:"#6B7280",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"})]})]})})]})}const r9=[{id:"editor-imagenes",emoji:"",label:"Editor",color:"#FF6835"},{id:"biblioteca",emoji:"",label:"Biblioteca",color:"#3B82F6"},{id:"gen-documentos",emoji:"",label:"Documentos",color:"#10B981"},{id:"gen-presupuestos",emoji:"",label:"Presupuestos",color:"#F59E0B"},{id:"ocr",emoji:"",label:"OCR",color:"#8B5CF6"},{id:"impresion",emoji:"",label:"Impresin",color:"#EC4899"}];function ZTe({onNavigate:e}){return n.jsxs("div",{style:{padding:"14px 12px"},children:[n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.7rem",color:"#6B7280",lineHeight:1.5},children:"Acced a todos tus assets guardados desde la herramienta Biblioteca."}),n.jsx("button",{onClick:()=>e("biblioteca"),style:{width:"100%",padding:"9px",borderRadius:8,border:"1.5px dashed #BFDBFE",backgroundColor:"#EFF6FF",color:"#2563EB",cursor:"pointer",fontSize:"0.78rem",fontWeight:"700"},children:" Abrir Biblioteca"})]})}function ePe(){const[e,t]=A.useState("A4"),[r,o]=A.useState(1),[i,a]=A.useState("portrait"),[s,l]=A.useState("color");return n.jsxs("div",{style:{padding:"12px"},children:[n.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.7rem",fontWeight:"700",color:"#374151"},children:"Impresin rpida"}),n.jsx(q0,{children:"Papel"}),n.jsx("select",{value:e,onChange:c=>t(c.target.value),style:nPe,children:["A4","A5","Letter","Legal","A3"].map(c=>n.jsx("option",{children:c},c))}),n.jsx(q0,{children:"Orientacin"}),n.jsx("div",{style:{display:"flex",gap:5,marginBottom:10},children:["portrait","landscape"].map(c=>n.jsx("button",{onClick:()=>a(c),style:{flex:1,padding:"5px 4px",borderRadius:6,border:`1.5px solid ${i===c?"#FF6835":"#E5E7EB"}`,backgroundColor:i===c?"#FFF4F0":"#fff",color:i===c?"#FF6835":"#6B7280",cursor:"pointer",fontSize:"0.66rem",fontWeight:"600"},children:c==="portrait"?" Vertical":" Horizontal"},c))}),n.jsx(q0,{children:"Modo"}),n.jsx("div",{style:{display:"flex",gap:5,marginBottom:10},children:[{v:"color",l:" Color"},{v:"bw",l:" B&N"}].map(c=>n.jsx("button",{onClick:()=>l(c.v),style:{flex:1,padding:"5px",borderRadius:6,border:`1.5px solid ${s===c.v?"#FF6835":"#E5E7EB"}`,backgroundColor:s===c.v?"#FFF4F0":"#fff",color:s===c.v?"#FF6835":"#6B7280",cursor:"pointer",fontSize:"0.66rem",fontWeight:"600"},children:c.l},c.v))}),n.jsx(q0,{children:"Copias"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:14},children:[n.jsx("button",{onClick:()=>o(c=>Math.max(1,c-1)),style:n9,children:""}),n.jsx("span",{style:{fontWeight:"800",fontSize:"0.9rem",color:"#111827",minWidth:20,textAlign:"center"},children:r}),n.jsx("button",{onClick:()=>o(c=>c+1),style:n9,children:"+"})]}),n.jsxs("button",{onClick:()=>window.print(),style:{width:"100%",padding:"9px",borderRadius:8,border:"none",backgroundColor:"#EC4899",color:"#fff",cursor:"pointer",fontSize:"0.78rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[n.jsx(Mi,{size:13})," Imprimir"]})]})}const tPe={"gen-documentos":[{emoji:"",name:"Contrato simple",desc:"Contrato bsico editable"},{emoji:"",name:"Carta formal",desc:"Carta con membrete empresarial"},{emoji:"",name:"Informe A4",desc:"Portada + secciones + pie"},{emoji:"",name:"Nota de pedido",desc:"Orden interna estandarizada"}],"gen-presupuestos":[{emoji:"",name:"Productos",desc:"Venta de artculos fsicos"},{emoji:"",name:"Servicios",desc:"Servicios profesionales"},{emoji:"",name:"Mixto",desc:"Productos + servicios + IVA"},{emoji:"",name:"Recurrente",desc:"Con cuotas mensuales"}],"editor-imagenes":[{emoji:"",name:"Story 9:16",desc:"Instagram Stories"},{emoji:"",name:"Post 1:1",desc:"Post cuadrado Instagram"},{emoji:"",name:"Header Email",desc:"Banner para newsletters"},{emoji:"",name:"Etiqueta",desc:"Etiqueta 105 cm"}]};function rPe({toolId:e}){const t=tPe[e]??[{emoji:"",name:"Prximamente",desc:"Templates en preparacin para esta herramienta"}];return n.jsxs("div",{style:{padding:"12px"},children:[n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.7rem",fontWeight:"700",color:"#374151"},children:"Templates"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:5},children:t.map((r,o)=>n.jsxs("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"7px 9px",borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",textAlign:"left"},onMouseEnter:i=>{i.currentTarget.style.borderColor="#FF6835",i.currentTarget.style.backgroundColor="#FFF4F0"},onMouseLeave:i=>{i.currentTarget.style.borderColor="#E5E7EB",i.currentTarget.style.backgroundColor="#fff"},children:[n.jsx("span",{style:{fontSize:"1.1rem",width:24,textAlign:"center",flexShrink:0},children:r.emoji}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#111827"},children:r.name}),n.jsx("div",{style:{fontSize:"0.62rem",color:"#9CA3AF"},children:r.desc})]})]},o))})]})}const q0=({children:e})=>n.jsx("label",{style:{fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em",display:"block",marginBottom:4},children:e}),nPe={width:"100%",padding:"6px 8px",border:"1px solid #E5E7EB",borderRadius:6,fontSize:"0.78rem",backgroundColor:"#fff",outline:"none",marginBottom:10,cursor:"pointer"},n9={width:26,height:26,borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",fontSize:"0.95rem",color:"#374151",display:"flex",alignItems:"center",justifyContent:"center"};function df({toolId:e,leftPanel:t,canvas:r,properties:o,actions:i,onNavigate:a}){const[s,l]=A.useState("props"),c=r9.find(d=>d.id===e);return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[n.jsxs("div",{style:{height:46,backgroundColor:"#18181B",display:"flex",alignItems:"center",padding:"0 6px",gap:1,flexShrink:0,borderBottom:"1px solid #27272A"},children:[n.jsxs("button",{onClick:()=>a("herramientas"),style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:5,border:"none",background:"transparent",color:"#71717A",cursor:"pointer",fontSize:"0.72rem",fontWeight:"600",flexShrink:0,whiteSpace:"nowrap"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="#27272A",d.currentTarget.style.color="#E4E4E7"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent",d.currentTarget.style.color="#71717A"},children:[n.jsx(f8,{size:12})," Hub"]}),n.jsx("div",{style:{width:1,height:18,backgroundColor:"#3F3F46",margin:"0 3px",flexShrink:0}}),r9.map(d=>{const f=d.id===e;return n.jsxs("button",{onClick:()=>a(d.id),style:{display:"flex",alignItems:"center",gap:4,padding:"4px 8px",borderRadius:5,border:"none",backgroundColor:f?`${d.color}25`:"transparent",color:f?d.color:"#71717A",cursor:"pointer",fontSize:"0.72rem",fontWeight:f?"700":"500",outline:f?`1px solid ${d.color}45`:"none",flexShrink:0,whiteSpace:"nowrap",transition:"all 0.12s"},onMouseEnter:p=>{f||(p.currentTarget.style.backgroundColor="#27272A",p.currentTarget.style.color="#E4E4E7")},onMouseLeave:p=>{f||(p.currentTarget.style.backgroundColor="transparent",p.currentTarget.style.color="#71717A")},children:[d.emoji," ",d.label]},d.id)}),n.jsx("div",{style:{flex:1}}),i&&n.jsx("div",{style:{display:"flex",gap:6,paddingRight:8},children:i})]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[n.jsxs("div",{style:{width:200,flexShrink:0,backgroundColor:"#fff",borderRight:"1px solid #E5E7EB",display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsxs("div",{style:{height:34,display:"flex",alignItems:"center",padding:"0 12px",borderBottom:"1px solid #F3F4F6",flexShrink:0,gap:6},children:[n.jsx("span",{style:{fontSize:"0.9rem"},children:c==null?void 0:c.emoji}),n.jsx("span",{style:{fontSize:"0.62rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:(c==null?void 0:c.label)??"Herramientas"})]}),n.jsx("div",{style:{flex:1,overflowY:"auto"},children:t})]}),n.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",backgroundColor:"#F1F3F5",position:"relative",minWidth:0},children:r}),n.jsxs("div",{style:{width:260,flexShrink:0,backgroundColor:"#fff",borderLeft:"1px solid #E5E7EB",display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx("div",{style:{height:34,display:"flex",borderBottom:"1px solid #F3F4F6",flexShrink:0},children:[{id:"props",label:"Props",emoji:""},{id:"library",label:"Assets",emoji:""},{id:"print",label:"Print",emoji:""},{id:"templates",label:"TPL",emoji:""}].map(d=>n.jsxs("button",{onClick:()=>l(d.id),style:{flex:1,border:"none",borderBottom:s===d.id?`2px solid ${(c==null?void 0:c.color)??"#FF6835"}`:"2px solid transparent",backgroundColor:s===d.id?"#FAFAFA":"#fff",color:s===d.id?"#111827":"#9CA3AF",cursor:"pointer",fontSize:"0.6rem",fontWeight:s===d.id?"700":"500",display:"flex",alignItems:"center",justifyContent:"center",gap:2,transition:"all 0.12s"},children:[d.emoji," ",d.label]},d.id))}),n.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[s==="props"&&n.jsx("div",{style:{padding:12},children:o}),s==="library"&&n.jsx(ZTe,{onNavigate:a}),s==="print"&&n.jsx(ePe,{}),s==="templates"&&n.jsx(rPe,{toolId:e})]})]})]})]})}function nb(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function o9(e){return e.startsWith("image/")?"image":e.startsWith("video/")?"video":e.includes("pdf")||e.includes("doc")||e.includes("text")?"document":"other"}const L5={image:"#3B82F6",document:"#10B981",video:"#8B5CF6",other:"#9CA3AF"},W5={image:"",document:"",video:"",other:""};function oPe({filter:e,setFilter:t,collection:r,setCollection:o,assets:i}){const a={all:i.length};i.forEach(l=>{a[l.type]=(a[l.type]||0)+1});const s=["General","Productos","Marketing","Documentos"];return n.jsxs("div",{style:{padding:"10px 0"},children:[n.jsxs("div",{style:{padding:"0 10px",marginBottom:6},children:[n.jsx("p",{style:tF,children:"Tipo de archivo"}),[{id:"all",label:"Todos",emoji:""},{id:"image",label:"Imgenes",emoji:""},{id:"document",label:"Documentos",emoji:""},{id:"video",label:"Videos",emoji:""},{id:"other",label:"Otros",emoji:""}].map(l=>n.jsxs("button",{onClick:()=>t(l.id),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"7px 10px",borderRadius:7,border:"none",backgroundColor:e===l.id?"#EFF6FF":"transparent",color:e===l.id?"#2563EB":"#374151",cursor:"pointer",fontSize:"0.78rem",fontWeight:e===l.id?"700":"500",marginBottom:1},children:[n.jsxs("span",{children:[l.emoji," ",l.label]}),n.jsx("span",{style:{fontSize:"0.65rem",backgroundColor:e===l.id?"#BFDBFE":"#F3F4F6",color:e===l.id?"#1D4ED8":"#9CA3AF",borderRadius:10,padding:"1px 6px",fontWeight:"700"},children:a[l.id]??0})]},l.id))]}),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"8px 0"}}),n.jsxs("div",{style:{padding:"0 10px"},children:[n.jsx("p",{style:tF,children:"Colecciones"}),s.map(l=>n.jsxs("button",{onClick:()=>o(r===l?"":l),style:{width:"100%",display:"flex",alignItems:"center",gap:7,padding:"6px 10px",borderRadius:7,border:"none",backgroundColor:r===l?"#FFF4F0":"transparent",color:r===l?"#FF6835":"#374151",cursor:"pointer",fontSize:"0.78rem",fontWeight:r===l?"700":"500",marginBottom:1},children:[n.jsx(Ys,{size:12,style:{color:r===l?"#FF6835":"#9CA3AF"}}),l]},l))]}),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"8px 0"}}),n.jsxs("div",{style:{padding:"4px 10px"},children:[n.jsx("p",{style:tF,children:"Almacenamiento"}),n.jsxs("div",{style:{padding:"8px 10px",borderRadius:8,backgroundColor:"#F9FAFB",border:"1px solid #F3F4F6"},children:[n.jsx("div",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#111827"},children:nb(i.reduce((l,c)=>l+c.size,0))}),n.jsxs("div",{style:{fontSize:"0.65rem",color:"#9CA3AF",marginTop:2},children:[i.length," archivos en total"]})]})]})]})}function iPe({assets:e,viewMode:t,setViewMode:r,onUpload:o,onSelect:i,selectedId:a,onDelete:s,searchQuery:l,setSearchQuery:c}){const d=A.useRef(null),[f,p]=A.useState(!1),h=A.useCallback(m=>{m.preventDefault(),p(!1),m.dataTransfer.files.length>0&&o(m.dataTransfer.files)},[o]),x=e.filter(m=>!l||m.name.toLowerCase().includes(l.toLowerCase())||m.tags.some(y=>y.toLowerCase().includes(l.toLowerCase())));return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[n.jsxs("div",{style:{height:48,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 16px",gap:10,flexShrink:0},children:[n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8,backgroundColor:"#F9FAFB",borderRadius:8,border:"1px solid #E5E7EB",padding:"6px 10px"},children:[n.jsx(tr,{size:13,color:"#9CA3AF"}),n.jsx("input",{value:l,onChange:m=>c(m.target.value),placeholder:"Buscar por nombre o tag...",style:{flex:1,border:"none",outline:"none",fontSize:"0.8rem",backgroundColor:"transparent",color:"#374151"}})]}),n.jsx("div",{style:{display:"flex",borderRadius:7,border:"1px solid #E5E7EB",overflow:"hidden"},children:["grid","list"].map(m=>n.jsx("button",{onClick:()=>r(m),style:{padding:"6px 10px",border:"none",backgroundColor:t===m?"#FF6835":"#fff",color:t===m?"#fff":"#6B7280",cursor:"pointer"},children:m==="grid"?n.jsx(bre,{size:14}):n.jsx(j8,{size:14})},m))}),n.jsx("input",{ref:d,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt",style:{display:"none"},onChange:m=>m.target.files&&o(m.target.files)}),n.jsxs("button",{onClick:()=>{var m;return(m=d.current)==null?void 0:m.click()},style:{display:"flex",alignItems:"center",gap:6,padding:"7px 14px",borderRadius:8,border:"none",backgroundColor:"#FF6835",color:"#fff",cursor:"pointer",fontSize:"0.78rem",fontWeight:"700"},children:[n.jsx(_o,{size:13})," Subir archivos"]})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:16},onDragOver:m=>{m.preventDefault(),p(!0)},onDragLeave:()=>p(!1),onDrop:h,children:[f&&n.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"#3B82F620",border:"2px dashed #3B82F6",borderRadius:10,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsxs("div",{style:{textAlign:"center",color:"#2563EB"},children:[n.jsx(_o,{size:32}),n.jsx("p",{style:{fontWeight:"700",fontSize:"0.9rem",marginTop:8},children:"Soltar archivos aqu"})]})}),x.length===0&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",color:"#9CA3AF",gap:12},children:[n.jsx("div",{style:{fontSize:"3rem"},children:""}),n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.9rem",fontWeight:"700",color:"#374151",margin:"0 0 4px"},children:l?"Sin resultados":"Biblioteca vaca"}),n.jsx("p",{style:{fontSize:"0.78rem",margin:0},children:l?"Prob con otros trminos":"Sub tus primeros archivos o arrastralos aqu"})]}),!l&&n.jsx("button",{onClick:()=>{var m;return(m=d.current)==null?void 0:m.click()},style:{padding:"9px 20px",borderRadius:8,border:"1.5px dashed #3B82F6",backgroundColor:"#EFF6FF",color:"#2563EB",cursor:"pointer",fontSize:"0.78rem",fontWeight:"700"},children:"+ Subir primer archivo"})]}),t==="grid"&&x.length>0&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:10},children:x.map(m=>n.jsxs("div",{onClick:()=>i(m.id),style:{borderRadius:10,border:`2px solid ${a===m.id?"#3B82F6":"#E5E7EB"}`,backgroundColor:"#fff",cursor:"pointer",overflow:"hidden",transition:"all 0.15s",boxShadow:a===m.id?"0 0 0 3px #3B82F625":"none"},onMouseEnter:y=>{a!==m.id&&(y.currentTarget.style.borderColor="#93C5FD")},onMouseLeave:y=>{a!==m.id&&(y.currentTarget.style.borderColor="#E5E7EB")},children:[n.jsxs("div",{style:{height:90,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"},children:[m.type==="image"&&m.thumbnail?n.jsx("img",{src:m.thumbnail,alt:m.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):n.jsx("span",{style:{fontSize:"2rem"},children:W5[m.type]}),a===m.id&&n.jsx("div",{style:{position:"absolute",top:6,right:6},children:n.jsx(ct,{size:16,color:"#3B82F6",fill:"#fff"})})]}),n.jsxs("div",{style:{padding:"7px 8px"},children:[n.jsx("div",{style:{fontSize:"0.72rem",fontWeight:"600",color:"#111827",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m.name}),n.jsx("div",{style:{fontSize:"0.62rem",color:"#9CA3AF",marginTop:2},children:nb(m.size)})]})]},m.id))}),t==="list"&&x.length>0&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 80px 100px 80px",gap:8,padding:"4px 12px",fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em"},children:[n.jsx("span",{children:"Nombre"}),n.jsx("span",{children:"Tipo"}),n.jsx("span",{children:"Fecha"}),n.jsx("span",{children:"Tamao"})]}),x.map(m=>n.jsxs("div",{onClick:()=>i(m.id),style:{display:"grid",gridTemplateColumns:"1fr 80px 100px 80px",gap:8,padding:"8px 12px",backgroundColor:"#fff",borderRadius:8,border:`1.5px solid ${a===m.id?"#3B82F6":"#E5E7EB"}`,cursor:"pointer",alignItems:"center",transition:"all 0.12s"},onMouseEnter:y=>{a!==m.id&&(y.currentTarget.style.borderColor="#93C5FD")},onMouseLeave:y=>{a!==m.id&&(y.currentTarget.style.borderColor="#E5E7EB")},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,overflow:"hidden"},children:[m.type==="image"&&m.thumbnail?n.jsx("img",{src:m.thumbnail,alt:"",style:{width:28,height:28,borderRadius:4,objectFit:"cover",flexShrink:0}}):n.jsx("span",{style:{fontSize:"1.2rem",flexShrink:0},children:W5[m.type]}),n.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#111827",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m.name})]}),n.jsx("span",{style:{fontSize:"0.68rem",color:L5[m.type],fontWeight:"600",textTransform:"capitalize"},children:m.type}),n.jsx("span",{style:{fontSize:"0.7rem",color:"#6B7280"},children:m.date}),n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:nb(m.size)})]},m.id))]})]})]})}function aPe({asset:e,onDelete:t,onDownload:r}){const[o,i]=A.useState("");return e?n.jsxs("div",{children:[n.jsx("div",{style:{height:110,backgroundColor:"#F9FAFB",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:12,overflow:"hidden",border:"1px solid #E5E7EB"},children:e.type==="image"&&e.thumbnail?n.jsx("img",{src:e.thumbnail,alt:e.name,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):n.jsx("span",{style:{fontSize:"3rem"},children:W5[e.type]})}),n.jsx("p",{style:Cu,children:"Nombre"}),n.jsx("p",{style:{fontSize:"0.78rem",fontWeight:"600",color:"#111827",wordBreak:"break-word",marginBottom:8},children:e.name}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:12},children:[n.jsxs("div",{children:[n.jsx("p",{style:Cu,children:"Tipo"}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:L5[e.type],backgroundColor:`${L5[e.type]}15`,padding:"2px 7px",borderRadius:4},children:e.type})]}),n.jsxs("div",{children:[n.jsx("p",{style:Cu,children:"Tamao"}),n.jsx("span",{style:{fontSize:"0.78rem",color:"#374151",fontWeight:"600"},children:nb(e.size)})]}),n.jsxs("div",{children:[n.jsx("p",{style:Cu,children:"Coleccin"}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:e.collection})]}),n.jsxs("div",{children:[n.jsx("p",{style:Cu,children:"Fecha"}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:e.date})]})]}),n.jsx("p",{style:Cu,children:"Tags"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:5,marginBottom:8},children:e.tags.map(a=>n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3,padding:"2px 7px",backgroundColor:"#F3F4F6",borderRadius:12,fontSize:"0.65rem",color:"#374151",fontWeight:"600"},children:[a," ",n.jsx(Ut,{size:9,style:{cursor:"pointer",color:"#9CA3AF"}})]},a))}),n.jsxs("div",{style:{display:"flex",gap:5,marginBottom:14},children:[n.jsx("input",{value:o,onChange:a=>i(a.target.value),placeholder:"+ nuevo tag",onKeyDown:a=>a.key==="Enter"&&i(""),style:{flex:1,padding:"4px 8px",border:"1px solid #E5E7EB",borderRadius:6,fontSize:"0.72rem",outline:"none"}}),n.jsx("button",{onClick:()=>i(""),style:{padding:"4px 8px",borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",fontSize:"0.72rem"},children:"+"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[n.jsxs("button",{onClick:()=>r(e),style:{width:"100%",padding:"8px",borderRadius:7,border:"none",backgroundColor:"#3B82F6",color:"#fff",cursor:"pointer",fontSize:"0.75rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:5},children:[n.jsx(Ht,{size:12})," Descargar"]}),n.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(e.url).catch(()=>{})},style:{width:"100%",padding:"8px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#fff",color:"#374151",cursor:"pointer",fontSize:"0.75rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:5},children:[n.jsx(ho,{size:12})," Copiar URL"]}),n.jsxs("button",{onClick:()=>t(e.id),style:{width:"100%",padding:"8px",borderRadius:7,border:"1px solid #FECACA",backgroundColor:"#FEF2F2",color:"#EF4444",cursor:"pointer",fontSize:"0.75rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:5},children:[n.jsx(xr,{size:12})," Eliminar"]})]})]}):n.jsxs("div",{style:{textAlign:"center",padding:"20px 0",color:"#9CA3AF"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:8},children:""}),n.jsx("p",{style:{fontSize:"0.75rem",fontWeight:"600"},children:"Seleccion un archivo para ver sus propiedades"})]})}const tF={fontSize:"0.6rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",padding:"0 10px",marginBottom:4,marginTop:0},Cu={fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 3px"};function sPe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState("all"),[a,s]=A.useState(""),[l,c]=A.useState("grid"),[d,f]=A.useState(null),[p,h]=A.useState(""),x=t.find(C=>C.id===d)??null,m=t.filter(C=>{const S=o==="all"||C.type===o,F=!a||C.collection===a;return S&&F}),y=C=>{Array.from(C).forEach(S=>{const F=new FileReader;F.onload=w=>{var T;const k=(T=w.target)==null?void 0:T.result,E={id:`asset-${Date.now()}-${Math.random().toString(36).slice(2)}`,name:S.name,type:o9(S.type),size:S.size,date:new Date().toLocaleDateString("es-UY",{day:"2-digit",month:"2-digit",year:"numeric"}),url:k,thumbnail:o9(S.type)==="image"?k:void 0,tags:[],collection:"General"};r(_=>[E,..._])},F.readAsDataURL(S)})},b=C=>{r(S=>S.filter(F=>F.id!==C)),d===C&&f(null)},v=C=>{const S=document.createElement("a");S.href=C.url,S.download=C.name,S.click()};return n.jsx(df,{toolId:"biblioteca",onNavigate:e,leftPanel:n.jsx(oPe,{filter:o,setFilter:i,collection:a,setCollection:s,assets:t}),canvas:n.jsx(iPe,{assets:m,viewMode:l,setViewMode:c,onUpload:y,onSelect:f,selectedId:d,onDelete:b,searchQuery:p,setSearchQuery:h}),properties:n.jsx(aPe,{asset:x,onDelete:b,onDownload:v}),actions:n.jsx(n.Fragment,{children:n.jsxs("span",{style:{fontSize:"0.7rem",color:"#71717A"},children:[t.length," archivos"]})})})}const lo={brightness:100,contrast:100,saturation:100,hue:0,blur:0,sepia:0,opacity:100},V5=[{id:"square",name:"Web Cuadrado",w:1200,h:1200,shape:"rect",desc:"1200  1200"},{id:"story",name:"Story 9:10",w:1080,h:1200,shape:"rect",desc:"1080  1200"},{id:"header",name:"Encabezado",w:1200,h:400,shape:"rect",desc:"1200  400"},{id:"footer",name:"Pie",w:1200,h:300,shape:"rect",desc:"1200  300"},{id:"label",name:"Etiq. Envo",w:150,h:100,shape:"rect",desc:"150  100 mm"},{id:"circle",name:"Circular",w:1200,h:1200,shape:"circle",desc:" 12001200"}],i9=[{name:"Original",values:lo},{name:"Vvido",values:{...lo,brightness:110,contrast:115,saturation:150}},{name:"Cool",values:{...lo,hue:190,saturation:120}},{name:"Clido",values:{...lo,hue:20,brightness:105,saturation:110}},{name:"B&N",values:{...lo,saturation:0}},{name:"Vintage",values:{...lo,sepia:60,contrast:90,brightness:95}},{name:"Fade",values:{...lo,contrast:80,brightness:105,saturation:80,opacity:90}},{name:"Noir",values:{...lo,saturation:0,contrast:130,brightness:90}}],lPe=["Arial","Georgia","Verdana","Courier New","Impact","Trebuchet MS","Palatino","Tahoma"],ob=["Original","Auto","V1","V2","V3","V4"],cPe=[cc,pt,Nt,Nt,Nt,Nt],dPe=[{id:"select",Icon:YL,tip:"Seleccin (V)"},{id:"crop",Icon:Rte,tip:"Recorte (C)"},{id:"transform",Icon:hne,tip:"Transformar (T)"},{id:"pan",Icon:jre,tip:"Mano (H)"},{id:"text",Icon:jb,tip:"Texto (X)"},{id:"eyedrop",Icon:_ne,tip:"Cuentagotas (E)"},{id:"watermark",Icon:Ite,tip:"Marca de agua"}];function U6(e){return`brightness(${e.brightness}%) contrast(${e.contrast}%) saturate(${e.saturation}%) hue-rotate(${e.hue}deg) blur(${e.blur}px) sepia(${e.sepia}%) opacity(${e.opacity}%)`}function $Y(e,t){return t===0?e:$Y(t,e%t)}function NY(e,t){const r=$Y(e,t),o=e/r,i=t/r;return o>20||i>20?`${(e/t).toFixed(2)}:1`:`${o}:${i}`}function a9(){return Math.random().toString(36).slice(2,9)}async function s9(e,t=58){return new Promise((r,o)=>{const i=new Image;i.onload=()=>{const s=Math.min(1,2e3/Math.max(i.naturalWidth,i.naturalHeight)),l=Math.round(i.naturalWidth*s),c=Math.round(i.naturalHeight*s),d=document.createElement("canvas");d.width=l,d.height=c;const f=d.getContext("2d",{willReadFrequently:!0});f.drawImage(i,0,0,l,c);const p=f.getImageData(0,0,l,c),h=p.data,x=[],m=(_,z)=>{const B=(z*l+_)*4;x.push([h[B],h[B+1],h[B+2]])};for(let _=0;_<l;_++)m(_,0),m(_,c-1);for(let _=1;_<c-1;_++)m(0,_),m(l-1,_);x.sort((_,z)=>.299*_[0]+.587*_[1]+.114*_[2]-(.299*z[0]+.587*z[1]+.114*z[2]));const[y,b,v]=x[x.length>>1],C=_=>{const z=h[_]-y,B=h[_+1]-b,P=h[_+2]-v;return Math.sqrt(z*z+B*B+P*P)},S=new Uint8Array(l*c),F=new Int32Array(l*c*2);let w=0,k=0;const E=_=>{_>=0&&_<l*c&&!S[_]&&(S[_]=1,F[k++]=_)};for(let _=0;_<l;_++)E(_),E((c-1)*l+_);for(let _=1;_<c-1;_++)E(_*l),E(_*l+l-1);for(;w<k;){const _=F[w++],z=_%l,B=_/l|0;C(_*4)<=t&&(h[_*4+3]=0,z>0&&E(_-1),z<l-1&&E(_+1),B>0&&E(_-l),B<c-1&&E(_+l))}const T=new Uint8Array(l*c);for(let _=0;_<l*c;_++)T[_]=h[_*4+3];for(let _=1;_<c-1;_++)for(let z=1;z<l-1;z++){const B=_*l+z;if(T[B]>0&&(T[B-1]===0||T[B+1]===0||T[B-l]===0||T[B+l]===0)){const P=C(B*4),D=t*.6;h[B*4+3]=Math.round(255*Math.min(1,Math.max(0,(P-D)/(t-D))))}}f.putImageData(p,0,0),r(d.toDataURL("image/png"))},i.onerror=()=>o(new Error("load")),i.src=e})}async function uPe(e){return new Promise(t=>{const r=new Image;r.onload=()=>{const i=document.createElement("canvas");i.width=80,i.height=80;const a=i.getContext("2d");a.drawImage(r,0,0,80,80);const{data:s}=a.getImageData(0,0,80,80);let l=0,c=0,d=0;for(let m=0;m<s.length;m+=4){if(s[m+3]<80)continue;const y=(.299*s[m]+.587*s[m+1]+.114*s[m+2])/255;l+=y,c+=y*y,d++}if(!d){t(lo);return}const f=l/d,p=Math.sqrt(Math.max(0,c/d-f*f));let h=100,x=100;f<.35?h=Math.min(130,Math.round(.42/(f+.01)*100)):f>.78&&(h=Math.max(80,Math.round(.6/(f+.01)*100))),p<.1?x=118:p>.38&&(x=90),t({...lo,brightness:h,contrast:x,saturation:108})},r.onerror=()=>t(lo),r.src=e})}function pPe({adj:e,setAdj:t,presetName:r,setPresetName:o,onUpload:i,onRemoveBg:a,processing:s,hasImage:l,bgTolerance:c,setBgTolerance:d,bgColor:f,setBgColor:p,activeTool:h,setActiveTool:x}){const m=(y,b,v,C,S=1)=>n.jsxs("div",{style:{marginBottom:9},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[n.jsx("label",{style:{fontSize:"0.65rem",fontWeight:"600",color:"#374151"},children:b}),n.jsxs("span",{style:{fontSize:"0.65rem",color:"#9CA3AF",fontWeight:"600"},children:[e[y],y==="hue"?"":y==="blur"?"px":"%"]})]}),n.jsx("input",{type:"range",min:v,max:C,step:S,value:e[y],onChange:F=>{t({...e,[y]:Number(F.target.value)}),o("")},style:{width:"100%",accentColor:"#FF6835",cursor:"pointer",height:3}})]},y);return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px 12px"},children:[n.jsxs("button",{onClick:i,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,padding:"8px",borderRadius:8,border:"1.5px dashed #FFD4C2",backgroundColor:"#FFF4F0",color:"#FF6835",cursor:"pointer",fontSize:"0.75rem",fontWeight:"700",marginBottom:8},children:[n.jsx(_o,{size:13})," Cargar imagen"]}),n.jsx("button",{onClick:a,disabled:!l||s,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,padding:"8px",borderRadius:8,border:`1.5px solid ${l&&!s?"#818CF8":"#E5E7EB"}`,backgroundColor:l&&!s?"#EEF2FF":"#F9FAFB",color:l&&!s?"#4F46E5":"#9CA3AF",cursor:l&&!s?"pointer":"not-allowed",fontSize:"0.75rem",fontWeight:"700",marginBottom:6},children:s?n.jsxs(n.Fragment,{children:[n.jsx(KL,{size:13,style:{animation:"spin 0.8s linear infinite"}})," Procesando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Dte,{size:13})," Quitar fondo"]})}),n.jsxs("div",{style:{marginBottom:12},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[n.jsx("label",{style:{fontSize:"0.62rem",fontWeight:"600",color:"#6B7280"},children:"Tolerancia"}),n.jsx("span",{style:{fontSize:"0.62rem",color:"#9CA3AF",fontWeight:"600"},children:c})]}),n.jsx("input",{type:"range",min:5,max:120,step:1,value:c,onChange:y=>d(Number(y.target.value)),style:{width:"100%",accentColor:"#4F46E5",cursor:"pointer",height:3}})]}),n.jsxs("div",{style:{marginBottom:14},children:[n.jsx("label",{style:{fontSize:"0.62rem",fontWeight:"700",color:"#6B7280",display:"block",marginBottom:5},children:"Color de fondo"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[n.jsx("button",{onClick:()=>p(""),title:"Transparente",style:{width:22,height:22,borderRadius:4,border:`2px solid ${f===""?"#FF6835":"#E5E7EB"}`,backgroundImage:"repeating-conic-gradient(#ccc 0% 25%,#fff 0% 50%)",backgroundSize:"6px 6px",cursor:"pointer",flexShrink:0}}),n.jsxs("label",{style:{position:"relative",cursor:"pointer",width:22,height:22,flexShrink:0},children:[n.jsx("div",{style:{width:22,height:22,borderRadius:4,border:`2px solid ${f?"#FF6835":"#E5E7EB"}`,backgroundColor:f||"#fff"}}),n.jsx("input",{type:"color",value:f||"#ffffff",onChange:y=>p(y.target.value),style:{position:"absolute",inset:0,opacity:0,width:"100%",height:"100%",cursor:"pointer"}})]}),["#ffffff","#f5f5f5","#000000","#f0ede8"].map(y=>n.jsx("button",{onClick:()=>p(y),style:{width:18,height:18,borderRadius:3,border:`1.5px solid ${f===y?"#FF6835":"#D1D5DB"}`,backgroundColor:y,cursor:"pointer",flexShrink:0}},y))]})]}),n.jsxs("div",{style:{marginBottom:12},children:[n.jsx("label",{style:rF,children:"Filtro"}),n.jsxs("select",{value:r,onChange:y=>{const b=y.target.value,v=i9.find(C=>C.name===b);v&&(t(v.values),o(b))},style:{width:"100%",padding:"7px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.72rem",fontWeight:"600",cursor:"pointer",outline:"none",appearance:"auto"},children:[n.jsx("option",{value:"",children:" Seleccionar filtro "}),i9.map(y=>n.jsx("option",{value:y.name,children:y.name},y.name))]})]}),n.jsx("p",{style:rF,children:"Ajustes"}),m("brightness","Brillo",0,200),m("contrast","Contraste",0,200),m("saturation","Saturacin",0,200),m("hue","Tono",-180,180),m("sepia","Sepia",0,100),m("blur","Desenfoque",0,20),m("opacity","Opacidad",10,100),n.jsx("button",{onClick:()=>{t(lo),o("Original")},style:{width:"100%",padding:"6px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#6B7280",cursor:"pointer",fontSize:"0.72rem",fontWeight:"600",marginBottom:16},children:" Restablecer ajustes"}),n.jsx("p",{style:rF,children:"Herramientas"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:5},children:dPe.map(({id:y,Icon:b,tip:v})=>{const C=h===y,S=y==="watermark";return n.jsx("button",{onClick:()=>x(y),title:v,style:{height:36,borderRadius:7,border:`1.5px solid ${C?S?"#10B981":"#FF6835":"#E5E7EB"}`,backgroundColor:C?S?"#10B981":"#FF6835":"#F9FAFB",color:C?"#fff":"#374151",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.1s"},children:n.jsx(b,{size:15})},y)})})]}),n.jsx("style",{children:"@keyframes spin{to{transform:rotate(360deg)}}"})]})}function fPe({slots:e,activeSlot:t,slotSize:r,onSlotClick:o}){return n.jsx("div",{style:{width:r,flexShrink:0,display:"flex",flexDirection:"column",backgroundColor:"#ADADAD",borderRight:"1px solid #989898"},children:e.map((i,a)=>{const s=cPe[a],l=a===t;return n.jsx("div",{onClick:()=>o(a),title:ob[a],style:{width:r,height:r,flexShrink:0,position:"relative",cursor:"pointer",boxSizing:"border-box",backgroundColor:"#C0C0C0",overflow:"hidden",outline:l?"3px solid #FF6835":"2px solid transparent",outlineOffset:"-2px",transition:"outline-color 0.1s"},children:i?n.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"repeating-conic-gradient(#AAAAAA 0% 25%,transparent 0% 50%)",backgroundSize:"8px 8px"},children:n.jsx("img",{src:i.src,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"contain",filter:U6(i.adj),transform:`rotate(${i.rotation}deg) scaleX(${i.flipH?-1:1}) scaleY(${i.flipV?-1:1})`}})}):n.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(s,{size:Math.round(r*.28),style:{color:"#777",opacity:.55}})})},a)})})}function hPe({imageSrc:e,adj:t,rotation:r,setRotation:o,flipH:i,setFlipH:a,flipV:s,setFlipV:l,zoom:c,onZoom:d,onLoad:f,imgDims:p,slots:h,activeSlot:x,onSlotClick:m,selectedTemplate:y,processing:b,bgColor:v,activeTool:C,setActiveTool:S,selectedId:F,setSelectedId:w,imagePos:k,setImagePos:E,textItems:T,setTextItems:_,fontFamily:z,setFontFamily:B,fontSize:P,setFontSize:D,fontBold:I,setFontBold:N,fontItalic:M,setFontItalic:V,fontUnderline:L,setFontUnderline:W,textAlign:G,setTextAlign:U,textColor:H,setTextColor:K,onUndo:ne,onClear:Q,onDelete:pe,canUndo:X,hasSelected:se}){const ae=A.useRef(null),ye=A.useRef(null),[ie,re]=A.useState(80),[Se,Ae]=A.useState(400),[te,he]=A.useState(400),[Te,rt]=A.useState(null),it=V5.find(le=>le.id===y)??V5[0];A.useEffect(()=>{const le=ae.current;if(!le)return;const be=()=>{const{width:$e,height:Be}=le.getBoundingClientRect(),Pe=Math.max(52,Math.floor(Be/6));re(Pe);const Ne=$e-Pe-28,Fe=Be-16,Je=it.w/it.h;if(Ne/Fe>Je){const Qe=Fe;he(Qe),Ae(Math.round(Qe*Je))}else{const Qe=Ne;Ae(Qe),he(Math.round(Qe/Je))}};be();const we=new ResizeObserver(be);return we.observe(le),()=>we.disconnect()},[it.w,it.h]);const kt=le=>{C==="select"&&(le.preventDefault(),le.stopPropagation(),w("image"),rt({info:{kind:"image",ox:k.x,oy:k.y},startX:le.clientX,startY:le.clientY}))},Pt=(le,be)=>{C==="select"&&(le.preventDefault(),le.stopPropagation(),w(be.id),rt({info:{kind:"text",id:be.id,ox:be.x,oy:be.y},startX:le.clientX,startY:le.clientY}))},jt=le=>{if(!Te||!ye.current)return;const be=ye.current.getBoundingClientRect(),we=le.clientX-Te.startX,$e=le.clientY-Te.startY;if(Te.info.kind==="image")E({x:Te.info.ox+we,y:Te.info.oy+$e});else{const Be=we/be.width*100,Pe=$e/be.height*100;_(Ne=>Ne.map(Fe=>Fe.id===Te.info.id?{...Fe,x:Te.info.ox+Be,y:Te.info.oy+Pe}:Fe))}},zt=()=>rt(null),fr=le=>{if(le.target===ye.current){if(C==="watermark"){const be=ye.current.getBoundingClientRect(),we={id:"wm_"+a9(),content:" MARCA DE AGUA",x:(le.clientX-be.left)/be.width*100,y:(le.clientY-be.top)/be.height*100,fontFamily:"Arial",fontSize:80,bold:!0,italic:!1,underline:!1,align:"center",color:"rgba(255,255,255,0.4)",rotation:-30,opacity:55};_($e=>[...$e,we]),w(we.id),S("select");return}if(C==="text"){const be=ye.current.getBoundingClientRect(),we={id:a9(),content:"Texto",x:(le.clientX-be.left)/be.width*100,y:(le.clientY-be.top)/be.height*100,fontFamily:z,fontSize:P,bold:I,italic:M,underline:L,align:G,color:H,rotation:0,opacity:100};_($e=>[...$e,we]),w(we.id)}else w(null)}},Bt=`rotate(${r}deg) scaleX(${i?-1:1}) scaleY(${s?-1:1})`,ar=p?NY(p.w,p.h):null,Sr={select:"default",crop:"crosshair",transform:"move",pan:"grab",text:"text",eyedrop:"crosshair",watermark:"copy"},Lt=le=>({...oo,backgroundColor:le?"#FFF4F0":"#fff",color:le?"#FF6835":"#374151",border:`1px solid ${le?"#FFD4C2":"#E5E7EB"}`});return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[n.jsxs("div",{style:{height:44,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 10px",gap:4,flexShrink:0,overflowX:"auto",overflowY:"hidden"},children:[n.jsx("button",{onClick:()=>d(Math.max(25,c-10)),style:oo,children:n.jsx(iie,{size:13})}),n.jsxs("span",{style:l9,children:[c,"%"]}),n.jsx("button",{onClick:()=>d(Math.min(200,c+10)),style:oo,children:n.jsx(nie,{size:13})}),n.jsx("input",{type:"range",min:25,max:200,step:5,value:c,onChange:le=>d(Number(le.target.value)),style:{width:65,accentColor:"#FF6835",cursor:"pointer",flexShrink:0}}),n.jsx("button",{onClick:()=>d(100),style:{...oo,fontSize:"0.62rem",fontWeight:"700",padding:"3px 6px",width:"auto"},children:"1:1"}),n.jsx("div",{style:Ds}),n.jsx("button",{onClick:()=>o((r-1+360)%360),style:oo,children:n.jsx(Fa,{size:13})}),n.jsxs("span",{style:l9,children:[r,""]}),n.jsx("button",{onClick:()=>o((r+1)%360),style:oo,children:n.jsx(Lne,{size:13})}),n.jsx("input",{type:"range",min:0,max:360,step:1,value:r,onChange:le=>{const be=Number(le.target.value);o(be>=360?0:be)},style:{width:65,accentColor:"#FF6835",cursor:"pointer",flexShrink:0}}),n.jsx("button",{onClick:()=>o(0),style:{...oo,fontSize:"0.62rem",fontWeight:"700",padding:"3px 6px",width:"auto"},children:"0"}),n.jsx("div",{style:Ds}),n.jsx("button",{onClick:()=>a(!i),title:"Flip H",style:{...oo,backgroundColor:i?"#EFF6FF":"#fff",color:i?"#3B82F6":"#374151",border:`1px solid ${i?"#BFDBFE":"#E5E7EB"}`},children:n.jsx(are,{size:14})}),n.jsx("button",{onClick:()=>l(!s),title:"Flip V",style:{...oo,backgroundColor:s?"#EFF6FF":"#fff",color:s?"#3B82F6":"#374151",border:`1px solid ${s?"#BFDBFE":"#E5E7EB"}`},children:n.jsx(lre,{size:14})}),ar&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:Ds}),n.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#6B7280",whiteSpace:"nowrap",userSelect:"none"},children:ar}),p&&n.jsxs("span",{style:{fontSize:"0.6rem",color:"#9CA3AF",whiteSpace:"nowrap",userSelect:"none"},children:[p.w,"",p.h]})]}),n.jsx("div",{style:Ds}),n.jsx("button",{onClick:()=>S(C==="text"?"select":"text"),style:Lt(C==="text"),title:"Texto",children:n.jsx(jb,{size:14})}),n.jsx("div",{style:Ds}),n.jsx("select",{value:z,onChange:le=>B(le.target.value),style:{height:28,padding:"0 5px",border:"1px solid #E5E7EB",borderRadius:6,fontSize:"0.7rem",backgroundColor:"#fff",cursor:"pointer",color:"#374151",outline:"none",flexShrink:0,fontFamily:z,maxWidth:100},children:lPe.map(le=>n.jsx("option",{value:le,style:{fontFamily:le},children:le},le))}),n.jsx("button",{onClick:()=>D(Math.max(8,P-2)),style:{...oo,width:22,height:26},children:""}),n.jsx("input",{type:"number",value:P,min:8,max:200,onChange:le=>D(Math.max(8,Math.min(200,Number(le.target.value)))),style:{width:40,height:26,padding:"0 3px",border:"1px solid #E5E7EB",borderRadius:6,fontSize:"0.7rem",fontWeight:"700",textAlign:"center",color:"#374151",outline:"none",flexShrink:0}}),n.jsx("button",{onClick:()=>D(Math.min(200,P+2)),style:{...oo,width:22,height:26},children:"+"}),n.jsx("div",{style:Ds}),n.jsx("button",{onClick:()=>N(!I),style:Lt(I),children:n.jsx(g8,{size:13})}),n.jsx("button",{onClick:()=>V(!M),style:Lt(M),children:n.jsx(v8,{size:13})}),n.jsx("button",{onClick:()=>W(!L),style:Lt(L),children:n.jsx(Ooe,{size:13})}),n.jsx("div",{style:Ds}),n.jsx("button",{onClick:()=>U("left"),style:Lt(G==="left"),children:n.jsx(Fee,{size:13})}),n.jsx("button",{onClick:()=>U("center"),style:Lt(G==="center"),children:n.jsx(Cee,{size:13})}),n.jsx("button",{onClick:()=>U("right"),style:Lt(G==="right"),children:n.jsx(_ee,{size:13})}),n.jsx("div",{style:Ds}),n.jsxs("label",{style:{position:"relative",cursor:"pointer",flexShrink:0},children:[n.jsx("div",{style:{width:26,height:26,borderRadius:6,border:"1.5px solid #E5E7EB",backgroundColor:H,cursor:"pointer"}}),n.jsx("input",{type:"color",value:H,onChange:le=>K(le.target.value),style:{position:"absolute",inset:0,opacity:0,width:"100%",height:"100%",cursor:"pointer"}})]}),n.jsx("div",{style:{flex:1}}),n.jsx("div",{style:Ds}),n.jsx("button",{onClick:ne,disabled:!X,title:"Deshacer (Ctrl+Z)",style:{...oo,color:X?"#374151":"#D1D5DB",border:`1px solid ${X?"#E5E7EB":"#F3F4F6"}`},children:n.jsx(Moe,{size:14})}),n.jsx("button",{onClick:Q,title:"Limpiar rea",style:{...oo,color:"#6B7280"},children:n.jsx(xr,{size:14})}),n.jsx("button",{onClick:pe,disabled:!se,title:"Eliminar seleccionado (Supr)",style:{...oo,backgroundColor:se?"#FEF2F2":"#fff",color:se?"#EF4444":"#D1D5DB",border:`1px solid ${se?"#FECACA":"#F3F4F6"}`},children:n.jsx(Ut,{size:14})})]}),n.jsxs("div",{ref:ae,style:{flex:1,display:"flex",overflow:"hidden",backgroundColor:"#C2C2C2"},children:[n.jsx(fPe,{slots:h,activeSlot:x,slotSize:ie,onSlotClick:m}),n.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"},children:[n.jsxs("div",{ref:ye,onClick:fr,onMouseMove:jt,onMouseUp:zt,onMouseLeave:zt,style:{width:Se,height:te,flexShrink:0,position:"relative",backgroundColor:v||"#fff",backgroundImage:v?"none":"repeating-conic-gradient(#D1D5DB 0% 25%,transparent 0% 50%)",backgroundSize:"20px 20px",borderRadius:it.shape==="circle"?"50%":4,boxShadow:"0 4px 24px rgba(0,0,0,0.22)",overflow:"hidden",cursor:Sr[C]},children:[n.jsx("div",{style:{position:"absolute",bottom:5,right:7,fontSize:"0.5rem",fontWeight:"700",color:"rgba(0,0,0,0.2)",pointerEvents:"none",userSelect:"none",zIndex:2},children:it.desc}),e&&n.jsx("div",{onMouseDown:kt,style:{position:"absolute",left:"50%",top:"50%",transform:`translate(calc(-50% + ${k.x}px),calc(-50% + ${k.y}px))`,cursor:C==="select"?"move":"default",zIndex:3,userSelect:"none",touchAction:"none"},children:n.jsx("div",{style:{transform:`scale(${c/100})`,transformOrigin:"center",transition:"transform 0.12s"},children:n.jsx("img",{src:e,alt:"editor",onLoad:le=>{const be=le.currentTarget;f(be.naturalWidth,be.naturalHeight)},draggable:!1,style:{maxWidth:Se,maxHeight:te,display:"block",transform:Bt,filter:U6(t),outline:F==="image"&&C==="select"?"2px solid #FF6835":"none",outlineOffset:"2px"}})})}),T.map(le=>{const be=F===le.id,we=Math.max(8,le.fontSize*te/800);return n.jsxs("div",{onMouseDown:$e=>Pt($e,le),style:{position:"absolute",left:`${le.x}%`,top:`${le.y}%`,transform:`translate(-50%,-50%) rotate(${le.rotation}deg)`,cursor:C==="select"?"move":C==="text"?"text":"default",userSelect:"none",zIndex:10,padding:4,borderRadius:3,outline:be?"1.5px dashed #FF6835":"none",touchAction:"none"},children:[n.jsx("span",{contentEditable:C==="text"&&be,suppressContentEditableWarning:!0,onBlur:$e=>{var Pe;const Be=((Pe=$e.currentTarget.textContent)==null?void 0:Pe.trim())||"Texto";_(Ne=>Ne.map(Fe=>Fe.id===le.id?{...Fe,content:Be}:Fe))},style:{fontFamily:le.fontFamily,fontSize:we,fontWeight:le.bold?"700":"400",fontStyle:le.italic?"italic":"normal",textDecoration:le.underline?"underline":"none",color:le.color,textAlign:le.align,whiteSpace:"nowrap",opacity:le.opacity/100,display:"block",outline:"none",textShadow:"0 1px 4px rgba(0,0,0,0.12)"},children:le.content}),be&&C==="select"&&n.jsx("button",{onClick:$e=>{$e.stopPropagation(),_(Be=>Be.filter(Pe=>Pe.id!==le.id)),w(null)},style:{position:"absolute",top:-10,right:-10,width:18,height:18,borderRadius:"50%",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:20},children:n.jsx(Ut,{size:10})})]},le.id)}),b&&n.jsxs("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(79,70,229,0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:8,zIndex:30},children:[n.jsx(KL,{size:28,color:"#4F46E5",style:{animation:"spin 0.8s linear infinite"}}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#4F46E5",backgroundColor:"rgba(255,255,255,0.9)",padding:"4px 12px",borderRadius:20},children:"Quitando fondo..."})]})]}),!e&&!b&&n.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"none",gap:6},children:[n.jsx("div",{style:{fontSize:"3rem"},children:""}),n.jsx("p",{style:{fontSize:"0.85rem",fontWeight:"700",color:"#fff",margin:0,textShadow:"0 1px 4px rgba(0,0,0,0.3)"},children:"Sin imagen"}),n.jsx("p",{style:{fontSize:"0.72rem",color:"rgba(255,255,255,0.8)",margin:0},children:"Carg o arrastr aqu"})]})]})]})]})}function gPe({imageSrc:e,adj:t,rotation:r,flipH:o,flipV:i,imgDims:a,onExport:s,selectedTemplate:l,setSelectedTemplate:c,textItems:d,setTextItems:f,selectedId:p}){const h=Object.entries(t).filter(([y,b])=>b!==lo[y]).length,x=d.find(y=>y.id===p),m=y=>f(b=>b.map(v=>v.id===x.id?{...v,...y}:v));return n.jsxs("div",{children:[a&&n.jsxs(n.Fragment,{children:[n.jsx("p",{style:G0,children:"Dimensiones"}),n.jsxs("p",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#111827",margin:"0 0 2px"},children:[a.w,"  ",a.h," px"]}),n.jsx("p",{style:{fontSize:"0.68rem",color:"#9CA3AF",margin:"0 0 10px"},children:NY(a.w,a.h)})]}),n.jsx("p",{style:G0,children:"Estado actual"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginBottom:12},children:[r>0&&n.jsxs(H0,{c:"#FF6835",children:[" ",r,""]}),o&&n.jsx(H0,{c:"#3B82F6",children:" H"}),i&&n.jsx(H0,{c:"#3B82F6",children:" V"}),h>0&&n.jsxs(H0,{c:"#10B981",children:[" ",h," aj."]}),!r&&!o&&!i&&h===0&&n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:"Sin modificaciones"})]}),x&&n.jsxs("div",{style:{marginBottom:16,padding:10,borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#FAFAFA"},children:[n.jsx("p",{style:{...G0,marginBottom:6},children:"Texto seleccionado"}),n.jsx("textarea",{value:x.content,rows:2,onChange:y=>m({content:y.target.value}),style:{width:"100%",padding:"6px 8px",border:"1px solid #E5E7EB",borderRadius:6,fontSize:"0.72rem",resize:"vertical",outline:"none",boxSizing:"border-box",marginBottom:8}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[n.jsx("label",{style:{fontSize:"0.62rem",fontWeight:"600",color:"#6B7280"},children:"Opacidad"}),n.jsxs("span",{style:{fontSize:"0.62rem",color:"#9CA3AF"},children:[x.opacity,"%"]})]}),n.jsx("input",{type:"range",min:10,max:100,value:x.opacity,onChange:y=>m({opacity:Number(y.target.value)}),style:{width:"100%",accentColor:"#FF6835",height:3}})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[n.jsx("label",{style:{fontSize:"0.62rem",fontWeight:"600",color:"#6B7280"},children:"Rotacin"}),n.jsxs("span",{style:{fontSize:"0.62rem",color:"#9CA3AF"},children:[x.rotation,""]})]}),n.jsx("input",{type:"range",min:-180,max:180,value:x.rotation,onChange:y=>m({rotation:Number(y.target.value)}),style:{width:"100%",accentColor:"#FF6835",height:3}})]})]}),n.jsxs("div",{style:{marginTop:8},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[n.jsx("label",{style:{fontSize:"0.62rem",fontWeight:"600",color:"#6B7280"},children:"Tamao"}),n.jsxs("span",{style:{fontSize:"0.62rem",color:"#9CA3AF"},children:[x.fontSize,"px"]})]}),n.jsx("input",{type:"range",min:8,max:200,value:x.fontSize,onChange:y=>m({fontSize:Number(y.target.value)}),style:{width:"100%",accentColor:"#FF6835",height:3}})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[n.jsx("label",{style:{fontSize:"0.62rem",fontWeight:"600",color:"#6B7280"},children:"Color"}),n.jsxs("label",{style:{position:"relative",cursor:"pointer"},children:[n.jsx("div",{style:{width:22,height:22,borderRadius:4,border:"1px solid #E5E7EB",backgroundColor:x.color}}),n.jsx("input",{type:"color",value:x.color.startsWith("rgba")?"#ffffff":x.color,onChange:y=>m({color:y.target.value}),style:{position:"absolute",inset:0,opacity:0,width:"100%",height:"100%",cursor:"pointer"}})]}),n.jsxs("div",{style:{display:"flex",gap:4,marginLeft:"auto"},children:[n.jsx("button",{onClick:()=>m({bold:!x.bold}),style:{...oo,width:24,height:24,backgroundColor:x.bold?"#FFF4F0":"#fff",color:x.bold?"#FF6835":"#374151",border:`1px solid ${x.bold?"#FFD4C2":"#E5E7EB"}`},children:n.jsx(g8,{size:11})}),n.jsx("button",{onClick:()=>m({italic:!x.italic}),style:{...oo,width:24,height:24,backgroundColor:x.italic?"#FFF4F0":"#fff",color:x.italic?"#FF6835":"#374151",border:`1px solid ${x.italic?"#FFD4C2":"#E5E7EB"}`},children:n.jsx(v8,{size:11})})]})]})]}),n.jsxs("button",{onClick:()=>e&&s(),disabled:!e,style:{width:"100%",padding:"9px",borderRadius:8,border:"none",backgroundColor:e?"#FF6835":"#E5E7EB",color:e?"#fff":"#9CA3AF",cursor:e?"pointer":"not-allowed",fontSize:"0.78rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:5,marginBottom:16},children:[n.jsx(Ht,{size:13})," Exportar"]}),n.jsx("p",{style:G0,children:"Templates"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4},children:V5.map(y=>{const b=l===y.id,v=y.w/y.h,C=Math.min(24,Math.round(32/v)),S=Math.round(C*v);return n.jsxs("button",{onClick:()=>c(y.id),style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",borderRadius:7,border:`1.5px solid ${b?"#FF6835":"#E5E7EB"}`,backgroundColor:b?"#FFF4F0":"#fff",cursor:"pointer"},children:[n.jsx("div",{style:{width:36,height:26,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("div",{style:{width:S,height:C,border:`1.5px solid ${b?"#FF6835":"#9CA3AF"}`,borderRadius:y.shape==="circle"?"50%":2,backgroundColor:b?"#FECDD3":"#F3F4F6"}})}),n.jsxs("div",{style:{textAlign:"left"},children:[n.jsx("div",{style:{fontSize:"0.72rem",fontWeight:"700",color:b?"#FF6835":"#111827"},children:y.name}),n.jsx("div",{style:{fontSize:"0.6rem",color:"#9CA3AF"},children:y.desc})]})]},y.id)})})]})}function xPe({slots:e,onClose:t,onExportSelected:r}){const o=e.map((c,d)=>({s:c,i:d})).filter(({s:c})=>c!==null),[i,a]=A.useState(e.map((c,d)=>d<=1&&c!==null)),s=c=>a(d=>d.map((f,p)=>p===c?!f:f)),l=i.map((c,d)=>c?d:-1).filter(c=>c>=0);return n.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9e3},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,padding:24,width:340,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"800"},children:"Qu exportar?"}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:n.jsx(Ut,{size:16})})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:20},children:o.map(({s:c,i:d})=>c?n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 10px",borderRadius:8,border:`1.5px solid ${i[d]?"#FF6835":"#E5E7EB"}`,backgroundColor:i[d]?"#FFF4F0":"#fff",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:i[d],onChange:()=>s(d),style:{display:"none"}}),i[d]?n.jsx(_a,{size:15,color:"#FF6835"}):n.jsx(coe,{size:15,color:"#9CA3AF"}),n.jsx("img",{src:c.src,alt:"",style:{width:36,height:36,objectFit:"contain",borderRadius:4,border:"1px solid #F3F4F6"}}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#374151"},children:ob[d]})]},d):null)}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:t,style:{flex:1,padding:"9px",borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#fff",color:"#374151",cursor:"pointer",fontSize:"0.78rem",fontWeight:"600"},children:"Cancelar"}),n.jsxs("button",{onClick:()=>{r(l),t()},disabled:l.length===0,style:{flex:2,padding:"9px",borderRadius:8,border:"none",backgroundColor:l.length>0?"#FF6835":"#E5E7EB",color:l.length>0?"#fff":"#9CA3AF",cursor:l.length>0?"pointer":"not-allowed",fontSize:"0.78rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:5},children:[n.jsx(Ht,{size:13})," Exportar ",l.length>0?`(${l.length})`:""]})]})]})})}const H0=({children:e,c:t})=>n.jsx("span",{style:{padding:"2px 7px",borderRadius:4,backgroundColor:`${t}18`,color:t,fontSize:"0.65rem",fontWeight:"700"},children:e}),rF={fontSize:"0.6rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",margin:"0 0 5px"},G0={fontSize:"0.6rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em",margin:"0 0 5px"},oo={width:28,height:28,borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#374151",flexShrink:0},l9={fontSize:"0.72rem",fontWeight:"700",color:"#374151",minWidth:34,textAlign:"center",userSelect:"none",flexShrink:0},Ds={width:1,height:20,backgroundColor:"#E5E7EB",margin:"0 2px",flexShrink:0};function mPe({onNavigate:e}){const[t,r]=A.useState(null),[o,i]=A.useState("imagen"),[a,s]=A.useState(lo),[l,c]=A.useState("Original"),[d,f]=A.useState(0),[p,h]=A.useState(!1),[x,m]=A.useState(!1),[y,b]=A.useState(100),[v,C]=A.useState(null),[S,F]=A.useState(Array(6).fill(null)),[w,k]=A.useState(-1),[E,T]=A.useState(!1),[_,z]=A.useState(58),[B,P]=A.useState(""),[D,I]=A.useState("square"),[N,M]=A.useState(!1),[V,L]=A.useState("select"),[W,G]=A.useState(null),[U,H]=A.useState({x:0,y:0}),[K,ne]=A.useState([]),[Q,pe]=A.useState("Arial"),[X,se]=A.useState(72),[ae,ye]=A.useState(!1),[ie,re]=A.useState(!1),[Se,Ae]=A.useState(!1),[te,he]=A.useState("center"),[Te,rt]=A.useState("#ffffff"),it=A.useRef([]),[kt,Pt]=A.useState(!1),jt=A.useRef(null),zt=Be=>{const Pe=new FileReader;Pe.onload=async Ne=>{var Qe;const Fe=(Qe=Ne.target)==null?void 0:Qe.result;r(Fe),i(Be.name.replace(/\.[^.]+$/,"")),s(lo),c("Original"),f(0),h(!1),m(!1),b(100),H({x:0,y:0}),ne([]);const Je=Array(6).fill(null);Je[0]={src:Fe,adj:lo,rotation:0,flipH:!1,flipV:!1,label:"Original"},F(Je),k(0),T(!0),setTimeout(async()=>{try{const J=await s9(Fe,_),je=await uPe(J);F(Ie=>{const We=[...Ie];return We[1]={src:J,adj:je,rotation:0,flipH:!1,flipV:!1,label:"Auto"},We}),r(J),s(je),c(""),k(1)}catch{}finally{T(!1)}},60)},Pe.readAsDataURL(Be)},fr=A.useCallback(Be=>{Be.preventDefault();const Pe=Be.dataTransfer.files[0];Pe!=null&&Pe.type.startsWith("image/")&&zt(Pe)},[_]),Bt=()=>{!t||E||(T(!0),setTimeout(async()=>{try{r(await s9(t,_))}catch{}finally{T(!1)}},60))},ar=Be=>{const Pe=S[Be];if(Pe)r(Pe.src),s(Pe.adj),c(""),f(Pe.rotation),h(Pe.flipH),m(Pe.flipV),k(Be);else{if(!t)return;F(Ne=>{const Fe=[...Ne];return Fe[Be]={src:t,adj:a,rotation:d,flipH:p,flipV:x,label:ob[Be]},Fe}),k(Be)}},Sr=A.useCallback((Be,Pe)=>{it.current=[...it.current.slice(-9),{textItems:Be,imagePos:Pe}],Pt(!0)},[]),Lt=()=>{const Be=it.current.pop();Be&&(ne(Be.textItems),H(Be.imagePos),G(null),Pt(it.current.length>0))},le=()=>{Sr(K,U),ne([]),H({x:0,y:0}),G(null)},be=()=>{W&&(Sr(K,U),W==="image"||ne(Be=>Be.filter(Pe=>Pe.id!==W)),G(null))};A.useEffect(()=>{const Be=Pe=>{const Ne=Pe.target.tagName;Ne==="INPUT"||Ne==="TEXTAREA"||Pe.target.isContentEditable||((Pe.key==="Delete"||Pe.key==="Backspace")&&W&&W!=="image"&&(ne(Fe=>Fe.filter(Je=>Je.id!==W)),G(null)),(Pe.ctrlKey||Pe.metaKey)&&Pe.key==="z"&&(Pe.preventDefault(),Lt()))};return window.addEventListener("keydown",Be),()=>window.removeEventListener("keydown",Be)},[W,K,U]);const we=(Be,Pe)=>{const Ne=new Image;Ne.onload=()=>{const Fe=document.createElement("canvas");Fe.width=Ne.naturalWidth,Fe.height=Ne.naturalHeight;const Je=Fe.getContext("2d");Je.filter=U6(Be.adj);const Qe=Fe.width/2,J=Fe.height/2;Je.translate(Qe,J),Je.rotate(Be.rotation*Math.PI/180),Je.scale(Be.flipH?-1:1,Be.flipV?-1:1),Je.drawImage(Ne,-Qe,-J);const je=Fe.toDataURL("image/png"),Ie=document.createElement("a");Ie.href=je,Ie.download=`${Pe}.png`,Ie.click()},Ne.src=Be.src},$e=Be=>Be.forEach(Pe=>{const Ne=S[Pe];Ne&&we(Ne,`${o}_${ob[Pe].toLowerCase()}`)});return n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:jt,type:"file",accept:"image/*",style:{display:"none"},onChange:Be=>{var Ne;const Pe=(Ne=Be.target.files)==null?void 0:Ne[0];Pe&&zt(Pe)}}),N&&n.jsx(xPe,{slots:S,onClose:()=>M(!1),onExportSelected:$e}),n.jsx(df,{toolId:"editor-imagenes",onNavigate:e,leftPanel:n.jsx(pPe,{adj:a,setAdj:s,presetName:l,setPresetName:c,onUpload:()=>{var Be;return(Be=jt.current)==null?void 0:Be.click()},onRemoveBg:Bt,processing:E,hasImage:!!t,bgTolerance:_,setBgTolerance:z,bgColor:B,setBgColor:P,activeTool:V,setActiveTool:L}),canvas:n.jsx("div",{style:{height:"100%"},onDragOver:Be=>Be.preventDefault(),onDrop:fr,children:n.jsx(hPe,{imageSrc:t,adj:a,rotation:d,setRotation:f,flipH:p,setFlipH:h,flipV:x,setFlipV:m,zoom:y,onZoom:b,onLoad:(Be,Pe)=>C({w:Be,h:Pe}),imgDims:v,slots:S,activeSlot:w,onSlotClick:ar,selectedTemplate:D,processing:E,bgColor:B,activeTool:V,setActiveTool:L,selectedId:W,setSelectedId:G,imagePos:U,setImagePos:H,textItems:K,setTextItems:ne,fontFamily:Q,setFontFamily:pe,fontSize:X,setFontSize:se,fontBold:ae,setFontBold:ye,fontItalic:ie,setFontItalic:re,fontUnderline:Se,setFontUnderline:Ae,textAlign:te,setTextAlign:he,textColor:Te,setTextColor:rt,onUndo:Lt,onClear:le,onDelete:be,canUndo:kt,hasSelected:!!W})}),properties:n.jsx(gPe,{imageSrc:t,adj:a,rotation:d,flipH:p,flipV:x,imgDims:v,onExport:()=>M(!0),selectedTemplate:D,setSelectedTemplate:I,textItems:K,setTextItems:ne,selectedId:W}),actions:t?n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{fontSize:"0.68rem",color:"#71717A"},children:o}),n.jsxs("button",{onClick:()=>M(!0),style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:5,border:"none",backgroundColor:"#FF6835",color:"#fff",cursor:"pointer",fontSize:"0.72rem",fontWeight:"700"},children:[n.jsx(Ht,{size:12})," Exportar"]})]}):void 0})]})}const yPe={h1:Cre,h2:Fre,paragraph:jb,list:j8,divider:bb,image:Ks,table:xoe,signature:w8},LY={h1:"Ttulo 1",h2:"Ttulo 2",paragraph:"Prrafo",list:"Lista",divider:"Separador",image:"Imagen",table:"Tabla",signature:"Firma"};function nF(e){return{id:`blk-${Date.now()}-${Math.random().toString(36).slice(2)}`,type:e,...{h1:{content:"Ttulo Principal"},h2:{content:"Subttulo"},paragraph:{content:"Escrib tu texto aqu. Hac clic para editar."},list:{content:"",items:["tem 1","tem 2","tem 3"]},divider:{content:""},image:{content:""},table:{content:"",rows:[["Columna 1","Columna 2","Columna 3"],["","",""],["","",""]]},signature:{content:"Firma: ________________________"}}[e]}}function bPe({docTitle:e,setDocTitle:t,onAdd:r,blockCount:o}){const i=[{type:"h1",emoji:""},{type:"h2",emoji:""},{type:"paragraph",emoji:""},{type:"list",emoji:""},{type:"divider",emoji:""},{type:"image",emoji:""},{type:"table",emoji:""},{type:"signature",emoji:""}];return n.jsxs("div",{style:{padding:"10px 12px"},children:[n.jsx("p",{style:K0,children:"Documento"}),n.jsx("input",{value:e,onChange:a=>t(a.target.value),placeholder:"Nombre del documento",style:wPe}),n.jsx("p",{style:K0,children:"Insertar bloque"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:3},children:i.map(a=>{const s=yPe[a.type];return n.jsxs("button",{onClick:()=>r(a.type),style:{display:"flex",alignItems:"center",gap:8,padding:"7px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",fontSize:"0.75rem",color:"#374151",fontWeight:"500",transition:"all 0.12s"},onMouseEnter:l=>{l.currentTarget.style.backgroundColor="#FFF4F0",l.currentTarget.style.borderColor="#FF6835",l.currentTarget.style.color="#FF6835"},onMouseLeave:l=>{l.currentTarget.style.backgroundColor="#fff",l.currentTarget.style.borderColor="#E5E7EB",l.currentTarget.style.color="#374151"},children:[n.jsx(s,{size:13}),LY[a.type]]},a.type)})}),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"12px 0"}}),n.jsx("p",{style:K0,children:"Formato de pgina"}),["A4","A5","Letter"].map(a=>n.jsx("button",{style:{marginRight:4,padding:"4px 9px",borderRadius:5,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",fontSize:"0.68rem",fontWeight:"600",color:"#374151"},children:a},a)),n.jsx("div",{style:{marginTop:10},children:n.jsxs("p",{style:{...K0,marginBottom:2},children:["Bloques: ",n.jsx("strong",{style:{color:"#374151"},children:o})]})})]})}function vPe({block:e,onUpdate:t,onDelete:r,onMove:o,isFirst:i,isLast:a}){const[s,l]=A.useState(!1),c={position:"relative",borderRadius:6,padding:"4px",transition:"all 0.12s"},d=f=>n.jsxs("div",{style:c,onMouseEnter:p=>{var h;(h=p.currentTarget.querySelector(".blk-ctrl"))==null||h.setAttribute("style","display:flex")},onMouseLeave:p=>{var h;(h=p.currentTarget.querySelector(".blk-ctrl"))==null||h.setAttribute("style","display:none")},children:[n.jsxs("div",{className:"blk-ctrl",style:{display:"none",position:"absolute",top:0,right:0,gap:3,padding:3,zIndex:2},children:[n.jsx("button",{onClick:()=>!i&&o(e.id,-1),disabled:i,style:iF,children:""}),n.jsx("button",{onClick:()=>!a&&o(e.id,1),disabled:a,style:iF,children:""}),n.jsx("button",{onClick:()=>r(e.id),style:{...iF,color:"#EF4444"},children:""})]}),f]});return e.type==="h1"?d(s?n.jsx("input",{value:e.content,autoFocus:!0,onChange:f=>t({...e,content:f.target.value}),onBlur:()=>l(!1),style:{width:"100%",fontSize:"1.8rem",fontWeight:"800",border:"none",outline:"2px solid #FF6835",borderRadius:4,padding:"2px 4px",fontFamily:"inherit",boxSizing:"border-box"}}):n.jsx("h1",{onClick:()=>l(!0),style:{fontSize:"1.8rem",fontWeight:"800",margin:"0 0 4px",cursor:"text",color:"#111827"},children:e.content})):e.type==="h2"?d(s?n.jsx("input",{value:e.content,autoFocus:!0,onChange:f=>t({...e,content:f.target.value}),onBlur:()=>l(!1),style:{width:"100%",fontSize:"1.3rem",fontWeight:"700",border:"none",outline:"2px solid #FF6835",borderRadius:4,padding:"2px 4px",fontFamily:"inherit",boxSizing:"border-box"}}):n.jsx("h2",{onClick:()=>l(!0),style:{fontSize:"1.3rem",fontWeight:"700",margin:"0 0 4px",cursor:"text",color:"#1F2937"},children:e.content})):e.type==="paragraph"?d(s?n.jsx("textarea",{value:e.content,autoFocus:!0,onChange:f=>t({...e,content:f.target.value}),onBlur:()=>l(!1),style:{width:"100%",fontSize:"0.9rem",border:"none",outline:"2px solid #FF6835",borderRadius:4,padding:"2px 4px",fontFamily:"inherit",resize:"vertical",minHeight:60,boxSizing:"border-box",lineHeight:1.6}}):n.jsx("p",{onClick:()=>l(!0),style:{fontSize:"0.9rem",margin:"0 0 4px",cursor:"text",color:"#374151",lineHeight:1.6},children:e.content})):e.type==="list"?d(n.jsxs("ul",{style:{paddingLeft:20,margin:"0 0 4px"},children:[(e.items??[]).map((f,p)=>n.jsx("li",{style:{fontSize:"0.9rem",color:"#374151",lineHeight:1.6},children:n.jsx("input",{value:f,onChange:h=>{const x=[...e.items??[]];x[p]=h.target.value,t({...e,items:x})},style:{border:"none",outline:"none",width:"90%",fontSize:"0.9rem",fontFamily:"inherit",color:"#374151",background:"transparent"}})},p)),n.jsx("li",{style:{listStyle:"none"},children:n.jsx("button",{onClick:()=>t({...e,items:[...e.items??[],""]}),style:{border:"none",background:"none",color:"#9CA3AF",cursor:"pointer",fontSize:"0.75rem"},children:"+ agregar tem"})})]})):e.type==="divider"?d(n.jsx("hr",{style:{border:"none",borderTop:"2px solid #E5E7EB",margin:"8px 0"}})):e.type==="image"?d(n.jsx("div",{style:{border:"2px dashed #E5E7EB",borderRadius:8,padding:"20px",textAlign:"center",color:"#9CA3AF",cursor:"pointer"},onClick:()=>{const f=document.createElement("input");f.type="file",f.accept="image/*",f.onchange=p=>{var x;const h=(x=p.target.files)==null?void 0:x[0];if(h){const m=new FileReader;m.onload=y=>{var b;return t({...e,content:(b=y.target)==null?void 0:b.result})},m.readAsDataURL(h)}},f.click()},children:e.content?n.jsx("img",{src:e.content,alt:"img",style:{maxWidth:"100%",maxHeight:200,borderRadius:6}}):n.jsxs(n.Fragment,{children:[n.jsx(Ks,{size:24}),n.jsx("p",{style:{fontSize:"0.78rem",margin:"6px 0 0"},children:"Clic para insertar imagen"})]})})):e.type==="table"?d(n.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},children:n.jsx("tbody",{children:(e.rows??[]).map((f,p)=>n.jsx("tr",{style:{backgroundColor:p===0?"#F9FAFB":"#fff"},children:f.map((h,x)=>n.jsx("td",{style:{border:"1px solid #E5E7EB",padding:"6px 8px",fontWeight:p===0?"700":"400"},children:n.jsx("input",{value:h,onChange:m=>{const y=e.rows.map((b,v)=>v===p?b.map((C,S)=>S===x?m.target.value:C):b);t({...e,rows:y})},style:{border:"none",outline:"none",width:"100%",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",background:"transparent"}})},x))},p))})})):e.type==="signature"?d(n.jsx("div",{style:{borderTop:"2px solid #111827",paddingTop:4,color:"#6B7280",fontSize:"0.8rem"},children:n.jsx("input",{value:e.content,onChange:f=>t({...e,content:f.target.value}),style:{border:"none",outline:"none",fontSize:"0.8rem",color:"#6B7280",fontFamily:"inherit",background:"transparent",width:"100%"}})})):null}function jPe({blocks:e,docTitle:t,onUpdate:r,onDelete:o,onMove:i,onAdd:a}){return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[n.jsxs("div",{style:{height:40,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 16px",gap:8,flexShrink:0},children:[n.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#374151"},children:t}),n.jsxs("span",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:[" ",e.length," bloques"]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{onClick:()=>window.print(),style:{display:"flex",alignItems:"center",gap:5,padding:"5px 12px",borderRadius:6,border:"none",backgroundColor:"#10B981",color:"#fff",cursor:"pointer",fontSize:"0.72rem",fontWeight:"700"},children:[n.jsx(Ht,{size:12})," Exportar PDF"]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px",display:"flex",justifyContent:"center",backgroundColor:"#E5E7EB"},children:n.jsxs("div",{style:{width:680,minHeight:960,backgroundColor:"#fff",borderRadius:4,boxShadow:"0 4px 24px rgba(0,0,0,0.15)",padding:"60px 72px",position:"relative"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:6,backgroundColor:"#10B981",borderRadius:"4px 4px 0 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:32,paddingBottom:16,borderBottom:"1px solid #E5E7EB"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"900",color:"#FF6835"},children:"Charlie"}),n.jsx("div",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:"Marketplace Builder"})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#374151",fontWeight:"600"},children:t}),n.jsx("div",{style:{fontSize:"0.68rem",color:"#9CA3AF"},children:new Date().toLocaleDateString("es-UY",{day:"2-digit",month:"long",year:"numeric"})})]})]}),e.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[n.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:""}),n.jsx("p",{style:{fontWeight:"600",fontSize:"0.85rem"},children:"Documento vaco"}),n.jsx("p",{style:{fontSize:"0.75rem"},children:"Us el panel izquierdo para insertar bloques"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:e.map((s,l)=>n.jsx(vPe,{block:s,onUpdate:r,onDelete:o,onMove:i,isFirst:l===0,isLast:l===e.length-1},s.id))}),n.jsxs("div",{style:{position:"absolute",bottom:20,left:72,right:72,display:"flex",justifyContent:"space-between",fontSize:"0.65rem",color:"#D1D5DB"},children:[n.jsx("span",{children:"Generado con Charlie Marketplace Builder"}),n.jsx("span",{children:"Pgina 1"})]})]})})]})}function SPe({blocks:e,docTitle:t}){const r={};return e.forEach(o=>{r[o.type]=(r[o.type]??0)+1}),n.jsxs("div",{children:[n.jsx("p",{style:oF,children:"Documento"}),n.jsx("p",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#111827",marginBottom:12},children:t||"(sin nombre)"}),n.jsx("p",{style:oF,children:"Bloques por tipo"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,marginBottom:14},children:[Object.entries(r).map(([o,i])=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 8px",backgroundColor:"#F9FAFB",borderRadius:5},children:[n.jsx("span",{style:{fontSize:"0.72rem",color:"#374151"},children:LY[o]}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#FF6835"},children:i})]},o)),e.length===0&&n.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:"Sin bloques"})]}),n.jsx("p",{style:oF,children:"Exportar"}),n.jsx("button",{onClick:()=>window.print(),style:{width:"100%",padding:"9px",borderRadius:8,border:"none",backgroundColor:"#10B981",color:"#fff",cursor:"pointer",fontSize:"0.78rem",fontWeight:"700"},children:" Exportar PDF"})]})}const K0={fontSize:"0.6rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",margin:"0 0 6px"},oF={fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 4px"},wPe={width:"100%",padding:"7px 9px",border:"1px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",outline:"none",marginBottom:12,boxSizing:"border-box",color:"#374151"},iF={padding:"2px 6px",borderRadius:4,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",fontSize:"0.68rem",color:"#374151"};function EPe({onNavigate:e}){const[t,r]=A.useState("Nuevo Documento"),[o,i]=A.useState([nF("h1"),nF("paragraph")]),a=d=>i(f=>[...f,nF(d)]),s=d=>i(f=>f.map(p=>p.id===d.id?d:p)),l=d=>i(f=>f.filter(p=>p.id!==d)),c=(d,f)=>i(p=>{const h=p.findIndex(y=>y.id===d);if(h<0)return p;const x=h+f;if(x<0||x>=p.length)return p;const m=[...p];return[m[h],m[x]]=[m[x],m[h]],m});return n.jsx(df,{toolId:"gen-documentos",onNavigate:e,leftPanel:n.jsx(bPe,{docTitle:t,setDocTitle:r,onAdd:a,blockCount:o.length}),canvas:n.jsx(jPe,{blocks:o,docTitle:t,onUpdate:s,onDelete:l,onMove:c,onAdd:a}),properties:n.jsx(SPe,{blocks:o,docTitle:t}),actions:n.jsxs("button",{onClick:()=>window.print(),style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:5,border:"none",backgroundColor:"#10B981",color:"#fff",cursor:"pointer",fontSize:"0.72rem",fontWeight:"700"},children:[n.jsx(Ht,{size:12})," PDF"]})})}const ib=[{id:"UYU",symbol:"$U",label:"Peso Uruguayo"},{id:"USD",symbol:"US$",label:"Dlar Americano"},{id:"EUR",symbol:"",label:"Euro"},{id:"ARS",symbol:"$",label:"Peso Argentino"}],ab={draft:{label:"Borrador",color:"#9CA3AF",bg:"#F3F4F6"},sent:{label:"Enviado",color:"#3B82F6",bg:"#EFF6FF"},approved:{label:"Aprobado",color:"#10B981",bg:"#D1FAE5"},rejected:{label:"Rechazado",color:"#EF4444",bg:"#FEF2F2"}};function U5(){return{id:`item-${Date.now()}-${Math.random().toString(36).slice(2)}`,description:"",qty:1,unitPrice:0,discount:0}}function pd(e,t){return`${t} ${e.toLocaleString("es-UY",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function CPe({quoteNumber:e,currency:t,setCurrency:r,iva:o,setIva:i,globalDiscount:a,setGlobalDiscount:s,status:l,setStatus:c,validDays:d,setValidDays:f,client:p,setClient:h}){return ib.find(x=>x.id===t),n.jsxs("div",{style:{padding:"10px 12px",overflowY:"auto",height:"100%"},children:[n.jsx("p",{style:qc,children:"Documento"}),n.jsxs("div",{style:{marginBottom:8,padding:"8px 10px",backgroundColor:"#FFFBEB",borderRadius:7,border:"1px solid #FDE68A"},children:[n.jsxs("div",{style:{fontSize:"0.65rem",color:"#92400E",fontWeight:"700"},children:["N ",e]}),n.jsx("div",{style:{fontSize:"0.62rem",color:"#9CA3AF"},children:new Date().toLocaleDateString("es-UY",{day:"2-digit",month:"short",year:"numeric"})})]}),n.jsx("p",{style:qc,children:"Estado"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginBottom:10},children:Object.keys(ab).map(x=>{const m=ab[x];return n.jsx("button",{onClick:()=>c(x),style:{padding:"3px 8px",borderRadius:5,border:`1.5px solid ${l===x?m.color:"#E5E7EB"}`,backgroundColor:l===x?m.bg:"#fff",color:l===x?m.color:"#9CA3AF",cursor:"pointer",fontSize:"0.63rem",fontWeight:"700"},children:m.label},x)})}),n.jsx("p",{style:qc,children:"Validez (das)"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:10},children:[n.jsx("button",{onClick:()=>f(Math.max(1,d-5)),style:d9,children:""}),n.jsx("span",{style:{fontWeight:"700",color:"#111827",fontSize:"0.85rem",minWidth:24,textAlign:"center"},children:d}),n.jsx("button",{onClick:()=>f(d+5),style:d9,children:"+"}),n.jsx("span",{style:{fontSize:"0.65rem",color:"#9CA3AF"},children:"das"})]}),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"10px 0"}}),n.jsx("p",{style:qc,children:"Cliente"}),["name","company","email","phone"].map(x=>n.jsx("input",{value:p[x],onChange:m=>h({...p,[x]:m.target.value}),placeholder:{name:"Nombre",company:"Empresa",email:"Email",phone:"Telfono"}[x],style:c9},x)),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"10px 0"}}),n.jsx("p",{style:qc,children:"Moneda"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginBottom:10},children:ib.map(x=>n.jsxs("button",{onClick:()=>r(x.id),style:{padding:"3px 8px",borderRadius:5,border:`1.5px solid ${t===x.id?"#F59E0B":"#E5E7EB"}`,backgroundColor:t===x.id?"#FFFBEB":"#fff",color:t===x.id?"#92400E":"#374151",cursor:"pointer",fontSize:"0.63rem",fontWeight:"700"},children:[x.symbol," ",x.id]},x.id))}),n.jsx("p",{style:qc,children:"IVA %"}),n.jsx("div",{style:{display:"flex",gap:4,marginBottom:10},children:[0,10,22].map(x=>n.jsxs("button",{onClick:()=>i(x),style:{flex:1,padding:"4px",borderRadius:5,border:`1.5px solid ${o===x?"#10B981":"#E5E7EB"}`,backgroundColor:o===x?"#D1FAE5":"#fff",color:o===x?"#10B981":"#374151",cursor:"pointer",fontSize:"0.68rem",fontWeight:"700"},children:[x,"%"]},x))}),n.jsx("p",{style:qc,children:"Dto. global %"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[n.jsx("input",{type:"number",min:0,max:100,value:a,onChange:x=>s(Math.max(0,Math.min(100,Number(x.target.value)))),style:{...c9,width:60,marginBottom:0,textAlign:"center",fontWeight:"700",color:"#F59E0B"}}),n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:"% sobre subtotal"})]})]})}function kPe({items:e,setItems:t,quoteNumber:r,currency:o,iva:i,globalDiscount:a,client:s,validDays:l,status:c}){const d=ib.find(S=>S.id===o),f=ab[c],p=S=>S.qty*S.unitPrice*(1-S.discount/100),h=e.reduce((S,F)=>S+p(F),0),x=h*a/100,m=h-x,y=m*i/100,b=m+y,v=new Date;v.setDate(v.getDate()+l);const C=(S,F)=>t(w=>w.map(k=>k.id===S?{...k,...F}:k));return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[n.jsxs("div",{style:{height:44,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 16px",gap:10,flexShrink:0},children:[n.jsx(fn,{size:14,color:"#F59E0B"}),n.jsxs("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#374151"},children:["Presupuesto #",r]}),n.jsx("span",{style:{padding:"2px 7px",borderRadius:4,fontSize:"0.62rem",fontWeight:"700",backgroundColor:f.bg,color:f.color},children:f.label}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{onClick:()=>window.print(),style:{display:"flex",alignItems:"center",gap:5,padding:"6px 14px",borderRadius:7,border:"none",backgroundColor:"#F59E0B",color:"#fff",cursor:"pointer",fontSize:"0.74rem",fontWeight:"700"},children:[n.jsx(Ht,{size:12})," Exportar PDF"]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px",backgroundColor:"#E5E7EB",display:"flex",justifyContent:"center"},children:n.jsxs("div",{style:{width:680,backgroundColor:"#fff",borderRadius:4,boxShadow:"0 4px 24px rgba(0,0,0,0.15)",padding:"48px 56px",position:"relative"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:5,backgroundColor:"#F59E0B",borderRadius:"4px 4px 0 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:28,paddingBottom:16,borderBottom:"2px solid #F3F4F6"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"900",color:"#FF6835"},children:"Charlie"}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:"Marketplace Builder"})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"800",color:"#111827"},children:"PRESUPUESTO"}),n.jsxs("div",{style:{fontSize:"0.78rem",color:"#F59E0B",fontWeight:"700"},children:["#",r]}),n.jsxs("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:4},children:["Fecha: ",new Date().toLocaleDateString("es-UY"),n.jsx("br",{}),"Vlido hasta: ",v.toLocaleDateString("es-UY")]})]})]}),(s.name||s.company||s.email)&&n.jsxs("div",{style:{marginBottom:20,padding:"12px 14px",backgroundColor:"#FFFBEB",borderRadius:8,border:"1px solid #FDE68A"},children:[n.jsx("div",{style:{fontSize:"0.62rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:4},children:"Cliente"}),s.name&&n.jsx("div",{style:{fontSize:"0.88rem",fontWeight:"700",color:"#111827"},children:s.name}),s.company&&n.jsx("div",{style:{fontSize:"0.78rem",color:"#374151"},children:s.company}),s.email&&n.jsx("div",{style:{fontSize:"0.72rem",color:"#6B7280"},children:s.email}),s.phone&&n.jsx("div",{style:{fontSize:"0.72rem",color:"#6B7280"},children:s.phone})]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:16,fontSize:"0.82rem"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"#F9FAFB"},children:[["Descripcin","Cant.","Precio unit.","Dto. %","Subtotal"].map((S,F)=>n.jsx("th",{style:{padding:"8px 10px",textAlign:F===0?"left":"right",fontSize:"0.65rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.04em",borderBottom:"2px solid #E5E7EB",whiteSpace:"nowrap"},children:S},S)),n.jsx("th",{style:{padding:"8px 4px",width:28,borderBottom:"2px solid #E5E7EB"}})]})}),n.jsx("tbody",{children:e.map((S,F)=>n.jsxs("tr",{style:{borderBottom:"1px solid #F3F4F6",backgroundColor:F%2===0?"#fff":"#FAFAFA"},children:[n.jsx("td",{style:{padding:"6px 10px"},children:n.jsx("input",{value:S.description,placeholder:"Descripcin del tem...",onChange:w=>C(S.id,{description:w.target.value}),style:{border:"none",outline:"none",width:"100%",fontSize:"0.82rem",backgroundColor:"transparent",color:"#111827"}})}),["qty","unitPrice","discount"].map(w=>n.jsx("td",{style:{padding:"6px 10px",textAlign:"right"},children:n.jsx("input",{type:"number",min:0,value:S[w],onChange:k=>C(S.id,{[w]:Number(k.target.value)}),style:{border:"none",outline:"none",width:w==="discount"?40:70,textAlign:"right",fontSize:"0.82rem",backgroundColor:"transparent",color:"#374151",fontFamily:"monospace"}})},w)),n.jsx("td",{style:{padding:"6px 10px",textAlign:"right",fontWeight:"700",color:"#111827",fontFamily:"monospace",whiteSpace:"nowrap"},children:pd(p(S),d.symbol)}),n.jsx("td",{style:{padding:"6px 4px",textAlign:"center"},children:n.jsx("button",{onClick:()=>t(w=>w.filter(k=>k.id!==S.id)),style:{border:"none",background:"none",color:"#E5E7EB",cursor:"pointer",fontSize:"0.8rem",padding:2,borderRadius:4},onMouseEnter:w=>{w.currentTarget.style.color="#EF4444"},onMouseLeave:w=>{w.currentTarget.style.color="#E5E7EB"},children:n.jsx(xr,{size:11})})})]},S.id))})]}),n.jsxs("button",{onClick:()=>t(S=>[...S,U5()]),style:{display:"flex",alignItems:"center",gap:5,padding:"6px 12px",borderRadius:6,border:"1.5px dashed #FDE68A",backgroundColor:"#FFFBEB",color:"#F59E0B",cursor:"pointer",fontSize:"0.74rem",fontWeight:"700",marginBottom:20},children:[n.jsx(Nt,{size:12})," Agregar tem"]}),n.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:n.jsxs("div",{style:{width:280},children:[[{label:"Subtotal bruto",value:h,color:"#374151"},...a>0?[{label:`Descuento global (${a}%)`,value:-x,color:"#EF4444"}]:[],{label:"Subtotal",value:m,color:"#374151"},...i>0?[{label:`IVA (${i}%)`,value:y,color:"#6B7280"}]:[]].map(S=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 0",borderBottom:"1px solid #F3F4F6"},children:[n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:S.label}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"600",color:S.color,fontFamily:"monospace"},children:pd(S.value,d.symbol)})]},S.label)),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0 4px",borderTop:"2px solid #111827",marginTop:2},children:[n.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:"800",color:"#111827"},children:["TOTAL ",d.id]}),n.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"900",color:"#F59E0B",fontFamily:"monospace"},children:pd(b,d.symbol)})]})]})}),n.jsxs("div",{style:{position:"relative",marginTop:32,paddingTop:12,borderTop:"1px solid #F3F4F6",display:"flex",justifyContent:"space-between",fontSize:"0.62rem",color:"#D1D5DB"},children:[n.jsx("span",{children:"Generado con Charlie Marketplace Builder"}),n.jsxs("span",{children:["Vlido por ",l," das desde la emisin"]})]})]})})]})}function FPe({items:e,currency:t,iva:r,globalDiscount:o,status:i}){const a=ib.find(x=>x.id===t),s=ab[i],l=x=>x.qty*x.unitPrice*(1-x.discount/100),c=e.reduce((x,m)=>x+l(m),0),d=c*o/100,f=c-d,p=f*r/100,h=f+p;return n.jsxs("div",{children:[n.jsx("div",{style:{marginBottom:14,padding:"8px 10px",borderRadius:8,backgroundColor:s.bg,border:`1px solid ${s.color}30`,textAlign:"center"},children:n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"800",color:s.color},children:s.label})}),n.jsx("p",{style:APe,children:"Resumen financiero"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,marginBottom:14},children:[{l:"tems",v:`${e.length}`,mono:!1},{l:"Subtotal",v:pd(f,a.symbol),mono:!0},{l:`IVA ${r}%`,v:pd(p,a.symbol),mono:!0},{l:`Dto. ${o}%`,v:pd(-d,a.symbol),mono:!0}].map(x=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 8px",backgroundColor:"#F9FAFB",borderRadius:5},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:"#6B7280"},children:x.l}),n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#374151",fontFamily:x.mono?"monospace":"inherit"},children:x.v})]},x.l))}),n.jsxs("div",{style:{padding:"14px",backgroundColor:"#FFFBEB",border:"2px solid #F59E0B",borderRadius:10,textAlign:"center",marginBottom:14},children:[n.jsxs("div",{style:{fontSize:"0.62rem",fontWeight:"800",color:"#92400E",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:4},children:["TOTAL ",t]}),n.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"900",color:"#F59E0B",fontFamily:"monospace"},children:pd(h,a.symbol)})]}),n.jsxs("button",{onClick:()=>window.print(),style:{width:"100%",padding:"9px",borderRadius:8,border:"none",backgroundColor:"#F59E0B",color:"#fff",cursor:"pointer",fontSize:"0.78rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[n.jsx(Ht,{size:13})," Exportar PDF"]})]})}const qc={fontSize:"0.6rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",margin:"0 0 5px"},APe={fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 4px"},c9={width:"100%",padding:"6px 8px",border:"1px solid #E5E7EB",borderRadius:6,fontSize:"0.76rem",outline:"none",marginBottom:6,boxSizing:"border-box",color:"#374151",backgroundColor:"#fff"},d9={width:24,height:24,borderRadius:5,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",fontSize:"0.9rem",color:"#374151",display:"flex",alignItems:"center",justifyContent:"center"};function _Pe({onNavigate:e}){const[t,r]=A.useState("UYU"),[o,i]=A.useState(22),[a,s]=A.useState(0),[l,c]=A.useState(30),[d,f]=A.useState("draft"),[p,h]=A.useState({name:"",company:"",email:"",phone:""}),[x,m]=A.useState([{...U5(),description:"Servicio de consultora",qty:1,unitPrice:5e3},{...U5(),description:"Licencia anual software",qty:1,unitPrice:12e3}]),y=`PRE-${new Date().getFullYear()}-${String(Math.floor(Math.random()*9e3)+1e3)}`;return n.jsx(df,{toolId:"gen-presupuestos",onNavigate:e,leftPanel:n.jsx(CPe,{quoteNumber:y,currency:t,setCurrency:r,iva:o,setIva:i,globalDiscount:a,setGlobalDiscount:s,status:d,setStatus:f,validDays:l,setValidDays:c,client:p,setClient:h}),canvas:n.jsx(kPe,{items:x,setItems:m,quoteNumber:y,currency:t,iva:o,globalDiscount:a,client:p,validDays:l,status:d}),properties:n.jsx(FPe,{items:x,currency:t,iva:o,globalDiscount:a,status:d}),actions:n.jsxs("button",{onClick:()=>window.print(),style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:5,border:"none",backgroundColor:"#F59E0B",color:"#fff",cursor:"pointer",fontSize:"0.72rem",fontWeight:"700"},children:[n.jsx(Ht,{size:12})," PDF"]})})}const RPe="modulepreload",TPe=function(e){return"/"+e},u9={},PPe=function(t,r,o){let i=Promise.resolve();if(r&&r.length>0){let s=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(r.map(d=>{if(d=TPe(d),d in u9)return;u9[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":RPe,f||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((x,m)=>{h.addEventListener("load",x),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},WY=[{id:"spa",label:"Espaol",flag:""},{id:"eng",label:"Ingls",flag:""},{id:"por",label:"Portugus",flag:""}];function zPe({lang:e,setLang:t,status:r,imageSrc:o,onUpload:i,onProcess:a,onReset:s}){const l=!!o&&(r==="idle"||r==="done"||r==="error"),c=r==="loading"||r==="processing";return n.jsxs("div",{style:{padding:"10px 12px"},children:[n.jsxs("button",{onClick:i,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,padding:"9px",borderRadius:8,border:"1.5px dashed #DDD6FE",backgroundColor:"#F5F3FF",color:"#8B5CF6",cursor:"pointer",fontSize:"0.75rem",fontWeight:"700",marginBottom:12},children:[n.jsx(_o,{size:13})," Cargar imagen"]}),n.jsx("p",{style:OPe,children:"Idioma"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:3,marginBottom:12},children:WY.map(d=>n.jsxs("button",{onClick:()=>t(d.id),style:{display:"flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:7,border:`1.5px solid ${e===d.id?"#8B5CF6":"#E5E7EB"}`,backgroundColor:e===d.id?"#F5F3FF":"#fff",color:e===d.id?"#7C3AED":"#374151",cursor:"pointer",fontSize:"0.75rem",fontWeight:e===d.id?"700":"500"},children:[n.jsx("span",{children:d.flag})," ",d.label]},d.id))}),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"10px 0"}}),n.jsx("button",{onClick:a,disabled:!l||c,style:{width:"100%",padding:"9px",borderRadius:8,border:"none",backgroundColor:l&&!c?"#8B5CF6":"#E5E7EB",color:l&&!c?"#fff":"#9CA3AF",cursor:l&&!c?"pointer":"not-allowed",fontSize:"0.78rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:8},children:c?n.jsxs(n.Fragment,{children:[n.jsx(_t,{size:12,style:{animation:"spin 1s linear infinite"}})," Procesando"]}):n.jsxs(n.Fragment,{children:[n.jsx(pt,{size:12})," Extraer texto"]})}),(r==="done"||r==="error")&&n.jsxs("button",{onClick:s,style:{width:"100%",padding:"7px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#fff",color:"#6B7280",cursor:"pointer",fontSize:"0.72rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:5},children:[n.jsx(_t,{size:11})," Nueva imagen"]}),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"12px 0"}}),n.jsxs("div",{style:{padding:"10px",backgroundColor:"#F9FAFB",borderRadius:8,border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.62rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Consejos"}),["Imgenes con texto ntido dan mejores resultados","Fondo claro y texto oscuro es ideal","Facturas impresas: 90%+ precisin","Fotos con perspectiva pueden reducir la precisin"].map((d,f)=>n.jsxs("p",{style:{margin:"0 0 4px",fontSize:"0.65rem",color:"#9CA3AF",lineHeight:1.4},children:[" ",d]},f))]})]})}function BPe({imageSrc:e,status:t,progress:r,progressStatus:o,result:i,extractedText:a,setExtractedText:s,onCopy:l,onDownload:c,errorMsg:d}){if(!e)return n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",gap:16,color:"#9CA3AF"},children:[n.jsx("div",{style:{width:72,height:72,borderRadius:16,backgroundColor:"#F5F3FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:""}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontWeight:"700",color:"#374151",fontSize:"0.9rem"},children:"Sin imagen cargada"}),n.jsx("p",{style:{margin:0,fontSize:"0.78rem"},children:'Us el botn "Cargar imagen" o arrastr un archivo'})]}),n.jsx("div",{style:{display:"flex",gap:10,fontSize:"0.72rem",color:"#9CA3AF"},children:["JPG","PNG","WEBP","BMP","TIFF"].map(p=>n.jsx("span",{style:{padding:"3px 8px",borderRadius:4,backgroundColor:"#F5F3FF",color:"#8B5CF6",fontWeight:"600"},children:p},p))})]});const f=t==="loading"||t==="processing";return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[t==="done"&&n.jsxs("div",{style:{height:44,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 16px",gap:8,flexShrink:0},children:[n.jsx(ct,{size:14,color:"#10B981"}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#10B981"},children:"Texto extrado correctamente"}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{onClick:l,style:{display:"flex",alignItems:"center",gap:5,padding:"5px 12px",borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",fontSize:"0.72rem",fontWeight:"600",color:"#374151"},children:[n.jsx(ho,{size:11})," Copiar texto"]}),n.jsxs("button",{onClick:c,style:{display:"flex",alignItems:"center",gap:5,padding:"5px 12px",borderRadius:6,border:"none",backgroundColor:"#8B5CF6",color:"#fff",cursor:"pointer",fontSize:"0.72rem",fontWeight:"700"},children:[n.jsx(Ht,{size:11})," Descargar .txt"]})]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",position:"relative"},children:[n.jsxs("div",{style:{flex:"0 0 45%",borderRight:"1px solid #E5E7EB",overflow:"hidden",position:"relative",backgroundColor:"#E5E7EB",backgroundImage:"repeating-conic-gradient(#D1D5DB 0% 25%, transparent 0% 50%)",backgroundSize:"16px 16px"},children:[n.jsx("img",{src:e,alt:"OCR source",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}}),f&&n.jsxs("div",{style:{position:"absolute",inset:0,backgroundColor:"#000000cc",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:16},children:[n.jsx("div",{style:{fontSize:"2rem"},children:""}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("p",{style:{margin:"0 0 8px",color:"#fff",fontWeight:"700",fontSize:"0.82rem"},children:o||"Inicializando Tesseract..."}),n.jsx("div",{style:{width:200,height:6,backgroundColor:"#ffffff30",borderRadius:3,overflow:"hidden"},children:n.jsx("div",{style:{height:"100%",width:`${r}%`,backgroundColor:"#8B5CF6",borderRadius:3,transition:"width 0.3s ease"}})}),n.jsxs("p",{style:{margin:"6px 0 0",color:"#A1A1AA",fontSize:"0.72rem"},children:[Math.round(r),"%"]})]})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#fff"},children:[n.jsxs("div",{style:{padding:"8px 12px",borderBottom:"1px solid #F3F4F6",display:"flex",alignItems:"center",gap:6,flexShrink:0},children:[n.jsx("span",{style:{fontSize:"0.62rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Texto extrado"}),t==="done"&&i&&n.jsxs("span",{style:{fontSize:"0.62rem",color:"#8B5CF6",fontWeight:"600",marginLeft:"auto"},children:[i.words," palabras  ",i.lines," lneas  ",i.confidence.toFixed(0),"% conf."]})]}),t==="error"&&n.jsxs("div",{style:{margin:12,padding:"10px 12px",backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:8,display:"flex",gap:8,alignItems:"flex-start"},children:[n.jsx(Jt,{size:14,color:"#EF4444",style:{flexShrink:0,marginTop:1}}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.75rem",fontWeight:"700",color:"#DC2626"},children:"Error al procesar"}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#EF4444"},children:d})]})]}),(t==="done"||t==="idle")&&n.jsx("textarea",{value:a,onChange:p=>s(p.target.value),placeholder:t==="idle"?"El texto extrado aparecer aqu. Pods editarlo libremente...":"",style:{flex:1,border:"none",outline:"none",padding:"14px 16px",fontSize:"0.84rem",lineHeight:1.7,color:"#374151",resize:"none",fontFamily:"ui-monospace, SFMono-Regular, monospace",backgroundColor:"#fff"}}),f&&n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#9CA3AF"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:8},children:""}),n.jsx("p",{style:{fontSize:"0.78rem",fontWeight:"600"},children:"Analizando imagen"})]})})]})]})]})}function IPe({result:e,status:t,lang:r}){const o=WY.find(i=>i.id===r);return n.jsxs("div",{children:[n.jsx("p",{style:aF,children:"Motor OCR"}),n.jsxs("div",{style:{marginBottom:12,padding:"8px 10px",backgroundColor:"#F5F3FF",borderRadius:8,border:"1px solid #DDD6FE"},children:[n.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"800",color:"#7C3AED"},children:"Tesseract.js"}),n.jsx("div",{style:{fontSize:"0.65rem",color:"#8B5CF6"},children:"100% browser  sin API  gratuito"})]}),n.jsx("p",{style:aF,children:"Idioma activo"}),n.jsxs("div",{style:{marginBottom:12,padding:"6px 10px",backgroundColor:"#F9FAFB",borderRadius:7,border:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:6},children:[n.jsx("span",{style:{fontSize:"1rem"},children:o.flag}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"600",color:"#374151"},children:o.label})]}),e&&t==="done"?n.jsxs(n.Fragment,{children:[n.jsx("p",{style:aF,children:"Resultados"}),[{l:"Confianza",v:`${e.confidence.toFixed(1)}%`,color:e.confidence>80?"#10B981":e.confidence>60?"#F59E0B":"#EF4444"},{l:"Palabras",v:e.words.toString(),color:"#374151"},{l:"Lneas",v:e.lines.toString(),color:"#374151"},{l:"Tiempo",v:`${e.processingMs}ms`,color:"#374151"}].map(i=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 8px",marginBottom:3,backgroundColor:"#F9FAFB",borderRadius:5},children:[n.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:i.l}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"800",color:i.color},children:i.v})]},i.l)),n.jsx("div",{style:{marginTop:12,padding:"8px 10px",borderRadius:8,backgroundColor:e.confidence>80?"#D1FAE5":e.confidence>60?"#FEF3C7":"#FEF2F2",border:`1px solid ${e.confidence>80?"#6EE7B7":e.confidence>60?"#FDE68A":"#FECACA"}`},children:n.jsx("div",{style:{fontSize:"0.68rem",fontWeight:"700",color:e.confidence>80?"#065F46":e.confidence>60?"#92400E":"#991B1B"},children:e.confidence>80?" Excelente calidad":e.confidence>60?" Calidad aceptable":" Baja calidad  revis el texto"})})]}):n.jsxs("div",{style:{textAlign:"center",padding:"20px 0",color:"#D1D5DB"},children:[n.jsx("div",{style:{fontSize:"1.8rem",marginBottom:8},children:""}),n.jsx("p",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:t==="idle"?'Carg una imagen y presion "Extraer texto"':t==="loading"||t==="processing"?"Procesando":""})]})]})}const OPe={fontSize:"0.6rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",margin:"0 0 6px"},aF={fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 5px"};function DPe({onNavigate:e}){const[t,r]=A.useState("spa"),[o,i]=A.useState(null),[a,s]=A.useState(null),[l,c]=A.useState("idle"),[d,f]=A.useState(0),[p,h]=A.useState(""),[x,m]=A.useState(null),[y,b]=A.useState(""),[v,C]=A.useState(""),[S,F]=A.useState(!1),w=A.useRef(null),k=B=>{const P=new FileReader;P.onload=D=>{var I;i((I=D.target)==null?void 0:I.result),s(B),c("idle"),m(null),b(""),f(0)},P.readAsDataURL(B)},E=A.useCallback(async()=>{var P,D;if(!o)return;c("loading"),f(0),h("Cargando Tesseract...");const B=Date.now();try{const{createWorker:I}=await PPe(async()=>{const{createWorker:W}=await import("./index-D3ZdW5g6.js").then(G=>G.i);return{createWorker:W}},[]),N=await I(t,1,{logger:W=>{W.status==="loading tesseract core"||W.status==="initializing tesseract"?(h("Inicializando motor OCR..."),f(W.progress*20)):W.status==="loading language traineddata"?(h("Cargando modelo de idioma..."),f(20+W.progress*30)):W.status==="initializing api"?(h("Preparando API..."),f(50+W.progress*10)):W.status==="recognizing text"&&(c("processing"),h("Reconociendo texto..."),f(60+W.progress*40))}}),{data:M}=await N.recognize(o);await N.terminate();const V=((P=M.words)==null?void 0:P.length)??M.text.trim().split(/\s+/).filter(Boolean).length,L=((D=M.lines)==null?void 0:D.length)??M.text.trim().split(`
`).filter(W=>W.trim()).length;m({text:M.text,confidence:M.confidence,words:V,lines:L,processingMs:Date.now()-B}),b(M.text),c("done"),f(100)}catch(I){c("error"),C(I instanceof Error?I.message:"Error desconocido al procesar la imagen.")}},[o,t]),T=()=>{navigator.clipboard.writeText(y).catch(()=>{}),F(!0),setTimeout(()=>F(!1),1500)},_=()=>{const B=new Blob([y],{type:"text/plain;charset=utf-8"}),P=URL.createObjectURL(B),D=document.createElement("a");D.href=P,D.download=`ocr-resultado-${Date.now()}.txt`,D.click(),URL.revokeObjectURL(P)},z=A.useCallback(B=>{B.preventDefault();const P=B.dataTransfer.files[0];P&&P.type.startsWith("image/")&&k(P)},[]);return n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:w,type:"file",accept:"image/*",style:{display:"none"},onChange:B=>{var D;const P=(D=B.target.files)==null?void 0:D[0];P&&k(P)}}),n.jsx(df,{toolId:"ocr",onNavigate:e,leftPanel:n.jsx(zPe,{lang:t,setLang:r,status:l,imageSrc:o,onUpload:()=>{var B;return(B=w.current)==null?void 0:B.click()},onProcess:E,onReset:()=>{i(null),s(null),c("idle"),m(null),b(""),f(0)}}),canvas:n.jsx("div",{style:{height:"100%"},onDragOver:B=>B.preventDefault(),onDrop:z,children:n.jsx(BPe,{imageSrc:o,status:l,progress:d,progressStatus:p,result:x,extractedText:y,setExtractedText:b,onCopy:T,onDownload:_,errorMsg:v})}),properties:n.jsx(IPe,{result:x,status:l,lang:t}),actions:l==="done"?n.jsx("button",{onClick:T,style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:5,border:"none",backgroundColor:S?"#10B981":"#8B5CF6",color:"#fff",cursor:"pointer",fontSize:"0.72rem",fontWeight:"700"},children:S?" Copiado":n.jsxs(n.Fragment,{children:[n.jsx(ho,{size:11})," Copiar"]})}):void 0})]})}const VY={A4:{w:210,h:297},A5:{w:148,h:210},Letter:{w:216,h:279},Legal:{w:216,h:356},A3:{w:297,h:420}};function Ay(e,t="document",r=1){return{id:`job-${Date.now()}-${Math.random().toString(36).slice(2)}`,name:e,type:t,pages:r,selected:!1}}function MPe({paper:e,setPaper:t,orient:r,setOrient:o,colorMode:i,setColorMode:a,quality:s,setQuality:l,copies:c,setCopies:d,pageRange:f,setPageRange:p,jobs:h,setJobs:x,activeJobId:m,setActiveJobId:y}){const b=({type:v})=>v==="image"?n.jsx(Ks,{size:11}):v==="document"?n.jsx(fn,{size:11}):n.jsx(UL,{size:11});return n.jsxs("div",{style:{padding:"10px 12px",overflowY:"auto",height:"100%"},children:[n.jsxs("p",{style:ku,children:["Cola de impresin (",h.length,")"]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:3,marginBottom:8},children:[h.map(v=>n.jsxs("div",{onClick:()=>y(v.id===m?null:v.id),style:{display:"flex",alignItems:"center",gap:7,padding:"6px 8px",borderRadius:7,border:`1.5px solid ${m===v.id?"#EC4899":"#E5E7EB"}`,backgroundColor:m===v.id?"#FDF2F8":"#fff",cursor:"pointer"},children:[n.jsx("span",{style:{color:m===v.id?"#EC4899":"#9CA3AF"},children:n.jsx(b,{type:v.type})}),n.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[n.jsx("div",{style:{fontSize:"0.72rem",fontWeight:"600",color:"#111827",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v.name}),n.jsxs("div",{style:{fontSize:"0.6rem",color:"#9CA3AF"},children:[v.pages," pg."]})]}),n.jsx("button",{onClick:C=>{C.stopPropagation(),x(S=>S.filter(F=>F.id!==v.id)),m===v.id&&y(null)},style:{border:"none",background:"none",color:"#E5E7EB",cursor:"pointer",padding:2,borderRadius:3},onMouseEnter:C=>{C.currentTarget.style.color="#EF4444"},onMouseLeave:C=>{C.currentTarget.style.color="#E5E7EB"},children:n.jsx(xr,{size:10})})]},v.id)),h.length===0&&n.jsx("div",{style:{textAlign:"center",padding:"12px 0",color:"#D1D5DB",fontSize:"0.72rem"},children:"Cola vaca"})]}),n.jsxs("button",{onClick:()=>{const v=Ay(`Documento ${h.length+1}`,"document",Math.floor(Math.random()*4)+1);x(C=>[...C,v]),y(v.id)},style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:5,padding:"6px",borderRadius:7,border:"1.5px dashed #FBCFE8",backgroundColor:"#FDF2F8",color:"#EC4899",cursor:"pointer",fontSize:"0.72rem",fontWeight:"700",marginBottom:12},children:[n.jsx(Nt,{size:11})," Agregar documento"]}),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"8px 0"}}),n.jsx("p",{style:ku,children:"Papel"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:3,marginBottom:10},children:["A4","A5","Letter","Legal","A3"].map(v=>n.jsx("button",{onClick:()=>t(v),style:{padding:"3px 7px",borderRadius:4,border:`1.5px solid ${e===v?"#EC4899":"#E5E7EB"}`,backgroundColor:e===v?"#FDF2F8":"#fff",color:e===v?"#EC4899":"#374151",cursor:"pointer",fontSize:"0.63rem",fontWeight:"700"},children:v},v))}),n.jsx("p",{style:ku,children:"Orientacin"}),n.jsx("div",{style:{display:"flex",gap:4,marginBottom:10},children:["portrait","landscape"].map(v=>n.jsx("button",{onClick:()=>o(v),style:{flex:1,padding:"5px",borderRadius:6,border:`1.5px solid ${r===v?"#EC4899":"#E5E7EB"}`,backgroundColor:r===v?"#FDF2F8":"#fff",color:r===v?"#EC4899":"#374151",cursor:"pointer",fontSize:"0.63rem",fontWeight:"700"},children:v==="portrait"?" Vertical":" Horizontal"},v))}),n.jsx("p",{style:ku,children:"Color"}),n.jsx("div",{style:{display:"flex",gap:4,marginBottom:10},children:[{v:"color",l:" Color"},{v:"bw",l:" B&N"}].map(({v,l:C})=>n.jsx("button",{onClick:()=>a(v),style:{flex:1,padding:"5px",borderRadius:6,border:`1.5px solid ${i===v?"#EC4899":"#E5E7EB"}`,backgroundColor:i===v?"#FDF2F8":"#fff",color:i===v?"#EC4899":"#374151",cursor:"pointer",fontSize:"0.63rem",fontWeight:"700"},children:C},v))}),n.jsx("p",{style:ku,children:"Calidad"}),n.jsx("div",{style:{display:"flex",gap:3,marginBottom:10},children:[{v:"draft",l:"Borrador"},{v:"normal",l:"Normal"},{v:"high",l:"Alta"}].map(({v,l:C})=>n.jsx("button",{onClick:()=>l(v),style:{flex:1,padding:"4px 2px",borderRadius:5,border:`1.5px solid ${s===v?"#EC4899":"#E5E7EB"}`,backgroundColor:s===v?"#FDF2F8":"#fff",color:s===v?"#EC4899":"#374151",cursor:"pointer",fontSize:"0.6rem",fontWeight:"700"},children:C},v))}),n.jsx("p",{style:ku,children:"Copias"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[n.jsx("button",{onClick:()=>d(Math.max(1,c-1)),style:f9,children:""}),n.jsx("span",{style:{fontWeight:"800",fontSize:"0.9rem",color:"#111827",minWidth:20,textAlign:"center"},children:c}),n.jsx("button",{onClick:()=>d(c+1),style:f9,children:"+"}),n.jsx("span",{style:{fontSize:"0.65rem",color:"#9CA3AF"},children:"cop."})]})]})}function $Pe({paper:e,orient:t,colorMode:r,activeJob:o,copies:i,quality:a}){const s=VY[e],l=t==="landscape",c=l?s.h:s.w,d=l?s.w:s.h,f=2.2,p=c*f,h=d*f;return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[n.jsxs("div",{style:{height:44,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 16px",gap:10,flexShrink:0},children:[n.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#374151"},children:o?o.name:"Vista previa de impresin"}),n.jsxs("span",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:[e,"  ",t==="portrait"?"Vertical":"Horizontal","  ",r==="color"?"Color":"B&N","  ",i," cop."]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{onClick:()=>window.print(),style:{display:"flex",alignItems:"center",gap:6,padding:"7px 18px",borderRadius:8,border:"none",backgroundColor:"#EC4899",color:"#fff",cursor:"pointer",fontSize:"0.8rem",fontWeight:"800"},children:[n.jsx(Mi,{size:14})," Imprimir"]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#374151",display:"flex",alignItems:"flex-start",justifyContent:"center",padding:"28px 24px",gap:20,flexWrap:"wrap"},children:n.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[n.jsxs("div",{style:{fontSize:"0.65rem",color:"#9CA3AF",letterSpacing:"0.05em",textTransform:"uppercase"},children:[e,"  ",c,"",d,"mm"]}),n.jsxs("div",{style:{width:p,minHeight:h,backgroundColor:"#fff",borderRadius:2,boxShadow:"0 8px 32px rgba(0,0,0,0.4)",filter:r==="bw"?"grayscale(100%)":"none",position:"relative",overflow:"hidden",padding:"48px 40px"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:5,backgroundColor:"#EC4899"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24,paddingBottom:12,borderBottom:"2px solid #F3F4F6"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"1.3rem",fontWeight:"900",color:"#FF6835"},children:"Charlie"}),n.jsx("div",{style:{fontSize:"0.62rem",color:"#9CA3AF"},children:"Marketplace Builder"})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:(o==null?void 0:o.name)??"Documento de muestra"}),n.jsx("div",{style:{fontSize:"0.62rem",color:"#9CA3AF"},children:new Date().toLocaleDateString("es-UY")})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[n.jsx("div",{style:{height:12,backgroundColor:"#F3F4F6",borderRadius:4,width:"60%"}}),n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:"100%"}}),n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:"92%"}}),n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:"96%"}}),n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:"88%"}}),n.jsx("div",{style:{height:1,backgroundColor:"#E5E7EB",margin:"4px 0"}}),n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:"70%"}}),n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:"100%"}}),n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:"85%"}}),n.jsx("div",{style:{height:1,backgroundColor:"#E5E7EB",margin:"4px 0"}}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:6},children:[80,95,70].map((x,m)=>n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:`${x}%`}},m))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:6},children:[90,75,100].map((x,m)=>n.jsx("div",{style:{height:8,backgroundColor:"#F9FAFB",borderRadius:3,width:`${x}%`}},m))})]}),n.jsxs("div",{style:{position:"absolute",bottom:14,left:40,right:40,display:"flex",justifyContent:"space-between",fontSize:"0.58rem",color:"#D1D5DB"},children:[n.jsxs("span",{children:["Charlie Marketplace Builder  ",a==="high"?"Alta calidad":a==="normal"?"Calidad normal":"Borrador"]}),n.jsxs("span",{children:["Pgina 1 de ",(o==null?void 0:o.pages)??1]})]})]}),i>1&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:"0.68rem",color:"#9CA3AF",fontWeight:"600"},children:[n.jsx(Mi,{size:11,color:"#EC4899"})," ",i," copias a imprimir"]})]})})]})}function NPe({paper:e,orient:t,colorMode:r,quality:o,copies:i,activeJob:a,onPrint:s}){const l=VY[e],c=t==="landscape",d=((a==null?void 0:a.pages)??1)*i;return n.jsxs("div",{children:[n.jsx("p",{style:p9,children:"Trabajo activo"}),a?n.jsxs("div",{style:{marginBottom:12,padding:"8px 10px",backgroundColor:"#FDF2F8",borderRadius:7,border:"1px solid #FBCFE8"},children:[n.jsx("div",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#111827"},children:a.name}),n.jsxs("div",{style:{fontSize:"0.65rem",color:"#9CA3AF",marginTop:2},children:[a.pages," pgina",a.pages>1?"s":"","  ",a.type]})]}):n.jsx("div",{style:{marginBottom:12,padding:"8px 10px",backgroundColor:"#F9FAFB",borderRadius:7,border:"1px solid #E5E7EB",textAlign:"center",fontSize:"0.7rem",color:"#9CA3AF"},children:"Sin trabajo seleccionado"}),n.jsx("p",{style:p9,children:"Configuracin"}),[{l:"Papel",v:`${e} (${c?l.h:l.w}${c?l.w:l.h}mm)`},{l:"Orientacin",v:t==="portrait"?"Vertical":"Horizontal"},{l:"Color",v:r==="color"?"Color completo":"Blanco y negro"},{l:"Calidad",v:o==="high"?"Alta":o==="normal"?"Normal":"Borrador"},{l:"Copias",v:i.toString()},{l:"Total pgs.",v:d.toString()}].map(f=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 8px",marginBottom:3,backgroundColor:"#F9FAFB",borderRadius:5},children:[n.jsx("span",{style:{fontSize:"0.7rem",color:"#6B7280"},children:f.l}),n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:"#374151"},children:f.v})]},f.l)),n.jsx("div",{style:{height:1,backgroundColor:"#F3F4F6",margin:"12px 0"}}),n.jsxs("div",{style:{marginBottom:14,padding:"8px 10px",borderRadius:8,backgroundColor:"#D1FAE5",border:"1px solid #6EE7B7",display:"flex",alignItems:"center",gap:6},children:[n.jsx(ct,{size:13,color:"#10B981"}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#065F46"},children:"Lista para imprimir"})]}),n.jsxs("button",{onClick:s,style:{width:"100%",padding:"10px",borderRadius:9,border:"none",backgroundColor:"#EC4899",color:"#fff",cursor:"pointer",fontSize:"0.82rem",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:7},children:[n.jsx(Mi,{size:14})," Imprimir ahora"]}),n.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.65rem",color:"#9CA3AF",textAlign:"center"},children:"Se abrir el dilogo de impresin del sistema"})]})}const ku={fontSize:"0.6rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",margin:"0 0 5px"},p9={fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 5px"},f9={width:24,height:24,borderRadius:5,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",fontSize:"0.9rem",color:"#374151",display:"flex",alignItems:"center",justifyContent:"center"};function LPe({onNavigate:e}){const[t,r]=A.useState("A4"),[o,i]=A.useState("portrait"),[a,s]=A.useState("color"),[l,c]=A.useState("normal"),[d,f]=A.useState(1),[p,h]=A.useState("all"),[x,m]=A.useState(null),[y,b]=A.useState([Ay("Presupuesto #001","document",2),Ay("Contrato de servicios","document",4),Ay("Logo empresa","image",1)]),v=y.find(C=>C.id===x)??null;return n.jsx(df,{toolId:"impresion",onNavigate:e,leftPanel:n.jsx(MPe,{paper:t,setPaper:r,orient:o,setOrient:i,colorMode:a,setColorMode:s,quality:l,setQuality:c,copies:d,setCopies:f,pageRange:p,setPageRange:h,jobs:y,setJobs:b,activeJobId:x,setActiveJobId:m}),canvas:n.jsx($Pe,{paper:t,orient:o,colorMode:a,activeJob:v,copies:d,quality:l}),properties:n.jsx(NPe,{paper:t,orient:o,colorMode:a,quality:l,copies:d,activeJob:v,onPrint:()=>window.print()}),actions:n.jsxs("button",{onClick:()=>window.print(),style:{display:"flex",alignItems:"center",gap:5,padding:"5px 12px",borderRadius:6,border:"none",backgroundColor:"#EC4899",color:"#fff",cursor:"pointer",fontSize:"0.74rem",fontWeight:"700"},children:[n.jsx(Mi,{size:12})," Imprimir"]})})}function WPe({onNavigate:e}){const t=l=>()=>e(l),r=new Date,o=[{id:"checklist",icon:_a,onClick:t("checklist"),gradient:"linear-gradient(135deg, #FF6835 0%, #e04e20 100%)",color:"#FF6835",badge:"Roadmap  Progreso",label:"Checklist & Roadmap",description:"Estado completo del proyecto  progreso por mdulo, cola de ejecucin y auditora del manifest.",stats:[{icon:_a,value:"",label:"Mdulos"},{icon:Xt,value:"",label:"Progreso"},{icon:Ct,value:"",label:"Pendientes"}]},{id:"auditoria-health",icon:Ao,onClick:t("auditoria-health"),gradient:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"#059669",badge:"Tiempo real",label:"Health Monitor",description:"Estado en tiempo real de todos los servicios  Supabase, APIs externas y edge functions.",stats:[{icon:hr,value:"OK",label:"Supabase DB"},{icon:vb,value:"OK",label:"Edge Functions"},{icon:pt,value:"99.9%",label:"Uptime"}]},{id:"auditoria-logs",icon:QL,onClick:t("auditoria-logs"),gradient:"linear-gradient(135deg, #6366F1 0%, #4338CA 100%)",color:"#6366F1",badge:"Logs  Eventos",label:"Logs del Sistema",description:"Registro de actividad, errores y eventos del sistema con filtros por mdulo y nivel.",stats:[{icon:Wr,value:"0",label:"Errores crticos"},{icon:Ao,value:"",label:"Eventos hoy"},{icon:br,value:"",label:"Advertencias"}]}],i=[{icon:Wr,label:"Alertas proactivas",desc:"Alertas por email ante fallos"},{icon:br,label:"Reportes automticos",desc:"Rendimiento semanal automatizado"},{icon:TF,label:"Auditora por rol",desc:"Seguridad y permisos por rol"},{icon:Ct,label:"Trazabilidad",desc:"Historial completo de cambios"}],a=[{label:"Base de datos",desc:"PostgreSQL va Supabase",ok:!0},{label:"Auth service",desc:"Supabase Auth activo",ok:!0},{label:"Storage",desc:"Storage Buckets",ok:!0},{label:"Edge Functions",desc:"Hono server activo",ok:!0},{label:"KV Store",desc:"Tabla kv_store",ok:!0},{label:"APIs externas",desc:"Sin configurar an",ok:!1}],s=n.jsxs("div",{style:{padding:"18px 22px",backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E9ECEF"},children:[n.jsxs("p",{style:{margin:"0 0 14px",fontSize:"0.75rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:["Diagnstico rpido del stack  ",r.toLocaleTimeString("es-UY",{hour:"2-digit",minute:"2-digit"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:a.map(l=>n.jsxs("div",{style:{backgroundColor:"#F9FAFB",borderRadius:"10px",padding:"12px 14px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:"10px"},children:[l.ok?n.jsx(ct,{size:15,color:"#059669"}):n.jsx(Ct,{size:15,color:"#F59E0B"}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#111827"},children:l.label}),n.jsx("div",{style:{fontSize:"0.68rem",color:"#9CA3AF"},children:l.desc})]})]},l.label))})]});return n.jsx(vc,{hubIcon:TF,title:"Auditora & Diagnstico",subtitle:`Centro de control  Salud del sistema  Logs  Roadmap  ${r.toLocaleTimeString("es-UY",{hour:"2-digit",minute:"2-digit"})}`,sections:[{cards:o}],afterCards:s,comingSoon:i,comingSoonText:"Alertas proactivas por email, reportes de rendimiento automatizados, auditora de seguridad por rol y trazabilidad completa de cambios."})}const VPe=[{id:"supabase-db",name:"Supabase Database",description:"PostgreSQL",category:"Backend",icon:hr,color:"#059669",status:"checking"},{id:"supabase-auth",name:"Supabase Auth",description:"Autenticacin y sesiones",category:"Backend",icon:Nr,color:"#059669",status:"checking"},{id:"supabase-edge",name:"Edge Functions (Hono)",description:"Servidor /api",category:"Backend",icon:vb,color:"#059669",status:"checking"},{id:"kv-store",name:"KV Store",description:"Tabla clave-valor persistente",category:"Backend",icon:gx,color:"#059669",status:"checking"},{id:"storage",name:"Supabase Storage",description:"Supabase Storage Buckets",category:"Backend",icon:hr,color:"#059669",status:"checking"},{id:"plexo",name:"Plexo UV",description:"API de pagos Uruguay",category:"Pagos",icon:Kr,color:"#6B7280",status:"pending"},{id:"mercadopago",name:"MercadoPago",description:"Pasarela Latam",category:"Pagos",icon:Kr,color:"#6B7280",status:"pending"},{id:"twilio",name:"Twilio",description:"SMS / WhatsApp",category:"Comms",icon:Kr,color:"#6B7280",status:"pending"},{id:"resend",name:"Resend",description:"Email transaccional",category:"Comms",icon:Kr,color:"#6B7280",status:"pending"},{id:"meta",name:"Meta Business",description:"Instagram / Facebook / WhatsApp API",category:"RRSS",icon:Kr,color:"#6B7280",status:"pending"},{id:"mercadolibre",name:"MercadoLibre",description:"API de marketplace",category:"Tiendas",icon:Kr,color:"#6B7280",status:"pending"},{id:"google-maps",name:"Google Maps",description:"Geocodificacin y rutas",category:"Mapas",icon:Kr,color:"#6B7280",status:"pending"}],UPe={ok:{label:"Operativo",color:"#059669",bg:"#F0FDF8",icon:ct},error:{label:"Error",color:"#EF4444",bg:"#FEF2F2",icon:nn},checking:{label:"Verificando...",color:"#3B82F6",bg:"#EFF6FF",icon:_t},unknown:{label:"Desconocido",color:"#F59E0B",bg:"#FFFBEB",icon:Jt},pending:{label:"Sin configurar",color:"#9CA3AF",bg:"#F9FAFB",icon:Ct}},qPe={Backend:"#059669",Pagos:"#FF6835",Comms:"#8B5CF6",RRSS:"#EC4899",Tiendas:"#3B82F6",Mapas:"#6366F1"};function HPe({onNavigate:e}){const[t,r]=A.useState(VPe),[o,i]=A.useState(new Date),[a,s]=A.useState(!1),l=`https://${za}.supabase.co/functions/v1/api`,c=A.useCallback(async()=>{s(!0);const p=Date.now();r(v=>v.map(C=>["supabase-db","supabase-auth","supabase-edge","kv-store","storage"].includes(C.id)?{...C,status:"checking"}:C));let h=!1,x=0;if(l)try{const v=Date.now(),C=await fetch(`${l}/roadmap/modules`,{headers:{Authorization:`Bearer ${Ca}`},signal:AbortSignal.timeout(5e3)});x=Date.now()-v,h=C.ok}catch{h=!1}let m=!1,y=0;if(l&&h)try{const v=Date.now(),C=await fetch(`${l}/roadmap/modules`,{headers:{Authorization:`Bearer ${Ca}`},signal:AbortSignal.timeout(5e3)});y=Date.now()-v;const S=await C.json();m=Array.isArray(S.modules)}catch{m=!1}const b=Date.now()-p;r(v=>v.map(C=>C.id==="supabase-edge"?{...C,status:h?"ok":l?"error":"unknown",latency:x,checkedAt:new Date,message:h?"Respondi correctamente":l?"No respondi":"Sin configurar"}:C.id==="supabase-db"?{...C,status:h?"ok":l?"error":"unknown",latency:x>0?Math.round(x*.3):0,checkedAt:new Date,message:h?"Conexin activa":"Sin conexin"}:C.id==="supabase-auth"?{...C,status:h?"ok":"unknown",latency:x>0?Math.round(x*.2):0,checkedAt:new Date,message:"Supabase Auth activo"}:C.id==="kv-store"?{...C,status:m?"ok":h?"error":"unknown",latency:y,checkedAt:new Date,message:m?"kv_store OK":"No se pudo verificar"}:C.id==="storage"?{...C,status:h?"ok":"unknown",latency:Math.round(b*.1),checkedAt:new Date,message:h?"Buckets accesibles":"Sin verificar"}:C)),i(new Date),s(!1)},[l]);A.useEffect(()=>{c()},[c]);const d={ok:t.filter(p=>p.status==="ok").length,error:t.filter(p=>p.status==="error").length,pending:t.filter(p=>p.status==="pending").length},f=[...new Set(t.map(p=>p.category))];return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Ao,title:"Health Monitor",subtitle:"Estado en tiempo real de todos los servicios del sistema",actions:[{label:" Auditora",onClick:()=>e("auditoria")},{label:a?"Verificando...":" Verificar ahora",onClick:c,primary:!0}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:24},children:[{label:"Operativos",value:d.ok,color:"#059669",icon:ct},{label:"Con error",value:d.error,color:"#EF4444",icon:nn},{label:"Sin configurar",value:d.pending,color:"#9CA3AF",icon:Ct},{label:"Total checks",value:t.length,color:"#FF6835",icon:Ao}].map(({label:p,value:h,color:x,icon:m})=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,padding:"16px 20px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:38,height:38,borderRadius:10,backgroundColor:`${x}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(m,{size:16,color:x})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827",lineHeight:1},children:h}),n.jsx("div",{style:{fontSize:"0.68rem",color:"#9CA3AF",marginTop:2},children:p})]})]},p))}),n.jsxs("div",{style:{marginBottom:20,display:"flex",alignItems:"center",gap:8},children:[n.jsx(Ct,{size:12,color:"#9CA3AF"}),n.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:["ltima verificacin: ",o.toLocaleTimeString("es-UY",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),a&&n.jsxs("span",{style:{fontSize:"0.72rem",color:"#3B82F6",display:"flex",alignItems:"center",gap:4},children:[n.jsx(_t,{size:10,style:{animation:"spin 1s linear infinite"}})," Verificando..."]})]}),f.map(p=>{const h=t.filter(m=>m.category===p),x=qPe[p]??"#9CA3AF";return n.jsxs("div",{style:{marginBottom:20},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[n.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"800",color:x,textTransform:"uppercase",letterSpacing:"0.08em"},children:p}),n.jsx("div",{style:{flex:1,height:1,backgroundColor:"#E5E7EB"}}),n.jsxs("span",{style:{fontSize:"0.65rem",color:"#9CA3AF"},children:[h.filter(m=>m.status==="ok").length,"/",h.length," OK"]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:h.map(m=>{const y=UPe[m.status],b=m.icon,v=y.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:10,border:"1px solid #E5E7EB",padding:"12px 16px",display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:36,height:36,borderRadius:9,backgroundColor:`${m.color}12`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(b,{size:16,color:m.color})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontWeight:"700",fontSize:"0.85rem",color:"#111827",marginBottom:2},children:m.name}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:m.description})]}),m.latency!=null&&m.latency>0&&n.jsxs("div",{style:{textAlign:"right",flexShrink:0},children:[n.jsxs("div",{style:{fontSize:"0.78rem",fontWeight:"700",color:m.latency<100?"#059669":m.latency<500?"#F59E0B":"#EF4444"},children:[m.latency,"ms"]}),n.jsx("div",{style:{fontSize:"0.6rem",color:"#9CA3AF"},children:"latencia"})]}),m.message&&n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",maxWidth:180,textAlign:"right",flexShrink:0},children:m.message}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5,padding:"5px 10px",borderRadius:20,backgroundColor:y.bg,flexShrink:0},children:[n.jsx(v,{size:12,color:y.color,style:{animation:m.status==="checking"?"spin 1s linear infinite":"none"}}),n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:y.color},children:y.label})]})]},m.id)})})]},p)}),d.pending>0&&n.jsx("div",{style:{marginTop:20,padding:"14px 18px",backgroundColor:"#FFFBEB",border:"1px solid #FDE68A",borderRadius:10},children:n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[n.jsx(Jt,{size:14,color:"#D97706",style:{marginTop:2,flexShrink:0}}),n.jsxs("p",{style:{margin:0,fontSize:"0.76rem",color:"#92400E",lineHeight:1.6},children:[n.jsxs("strong",{children:[d.pending," servicios"]}),' estn marcados como "Sin configurar" porque sus secrets/credenciales an no fueron cargados en Supabase. Para activarlos, configur las variables de entorno en ',n.jsx("strong",{children:"Supabase  Settings  Edge Functions  Secrets"}),". Consult el ",n.jsx("button",{onClick:()=>e("integraciones-apis"),style:{background:"none",border:"none",color:"#D97706",textDecoration:"underline",cursor:"pointer",padding:0,fontWeight:"700",fontSize:"0.76rem"},children:"Repositorio de APIs"})," para ver qu variable requiere cada servicio."]})]})})]}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const h9={info:{label:"INFO",color:"#3B82F6",bg:"#EFF6FF",border:"#BFDBFE",icon:Xp},warn:{label:"WARN",color:"#D97706",bg:"#FFFBEB",border:"#FDE68A",icon:Wr},error:{label:"ERROR",color:"#EF4444",bg:"#FEF2F2",border:"#FECACA",icon:nn},success:{label:"OK",color:"#059669",bg:"#F0FDF8",border:"#A7F3D0",icon:ct},debug:{label:"DEBUG",color:"#9CA3AF",bg:"#F9FAFB",border:"#E5E7EB",icon:gx}},g9={system:{label:"Sistema",color:"#6B7280",icon:vb},auth:{label:"Auth",color:"#8B5CF6",icon:Nr},database:{label:"Database",color:"#059669",icon:hr},api:{label:"API",color:"#3B82F6",icon:Kr},edge:{label:"Edge",color:"#FF6835",icon:pt},storage:{label:"Storage",color:"#F59E0B",icon:gx},roadmap:{label:"Roadmap",color:"#6366F1",icon:ct},integraciones:{label:"Integraciones",color:"#EC4899",icon:Kr},herramientas:{label:"Herramientas",color:"#10B981",icon:Ao},ecommerce:{label:"eCommerce",color:"#FF6835",icon:Ao}},GPe=Date.now(),Ir=e=>new Date(GPe-e*6e4),Fu=[{id:"l001",ts:Ir(1),level:"success",module:"edge",message:"[Edge] Hono server respondi correctamente",duration:42},{id:"l002",ts:Ir(1),level:"info",module:"roadmap",message:"[Roadmap] GET /modules  67 mdulos cargados desde KV",duration:38},{id:"l003",ts:Ir(2),level:"success",module:"database",message:"[DB] kv_store  lectura OK",duration:18},{id:"l004",ts:Ir(3),level:"info",module:"system",message:"[System] Mdulo Checklist sincronizado  6 herramientas workspace actualizadas a ui-only",detail:"applyBuiltStatus() detect diff entre manifest y KV  resync automtico ejecutado"},{id:"l005",ts:Ir(5),level:"info",module:"roadmap",message:"[Roadmap] POST /modules-bulk  67 mdulos guardados",duration:95},{id:"l006",ts:Ir(7),level:"success",module:"storage",message:"[Storage] Bucket module-files  acceso OK",duration:55},{id:"l007",ts:Ir(8),level:"warn",module:"api",message:"[API] Plexo UV  sin credenciales (PLEXO_API_KEY no configurado)",detail:"Variables de entorno requeridas: PLEXO_API_KEY, PLEXO_MERCHANT_ID"},{id:"l008",ts:Ir(9),level:"warn",module:"api",message:"[API] MercadoPago  MP_ACCESS_TOKEN no encontrado",detail:"Configurar en Supabase  Edge Functions  Secrets"},{id:"l009",ts:Ir(10),level:"warn",module:"api",message:"[API] Twilio  TWILIO_ACCOUNT_SID no configurado"},{id:"l010",ts:Ir(12),level:"info",module:"auth",message:"[Auth] Sesin verificada  usuario admin",duration:12},{id:"l011",ts:Ir(15),level:"success",module:"roadmap",message:"[Roadmap] Resync manifest completado  6 nuevas entradas detectadas",detail:"tools-library, tools-image-editor, tools-documents, tools-quotes, tools-ocr, tools-print  ui-only"},{id:"l012",ts:Ir(20),level:"info",module:"herramientas",message:"[Herramientas] BibliotecaWorkspace montado  listo para uso"},{id:"l013",ts:Ir(22),level:"info",module:"herramientas",message:"[Herramientas] EditorImagenesWorkspace montado"},{id:"l014",ts:Ir(24),level:"info",module:"herramientas",message:"[Herramientas] OCRWorkspace montado  Tesseract.js disponible"},{id:"l015",ts:Ir(30),level:"info",module:"ecommerce",message:"[eCommerce] PedidosView: 12 pedidos cargados desde Supabase",duration:124},{id:"l016",ts:Ir(35),level:"info",module:"database",message:"[DB] pedidos  query completada en 124ms",duration:124},{id:"l017",ts:Ir(40),level:"success",module:"integraciones",message:"[Integraciones] Hub cargado  5 mdulos + Repositorio de APIs"},{id:"l018",ts:Ir(45),level:"debug",module:"system",message:"[System] APP_INIT  AdminDashboard montado correctamente",duration:210},{id:"l019",ts:Ir(48),level:"debug",module:"system",message:"[System] moduleRegistry compilado  56 secciones registradas"},{id:"l020",ts:Ir(60),level:"info",module:"storage",message:"[Storage] Bucket etiquetas  bucket verificado",duration:67},{id:"l021",ts:Ir(65),level:"warn",module:"api",message:"[API] Resend  RESEND_API_KEY no configurado, emails transaccionales deshabilitados"},{id:"l022",ts:Ir(70),level:"info",module:"edge",message:"[Edge] Ruta /etiquetas registrada  5 endpoints activos"},{id:"l023",ts:Ir(75),level:"info",module:"edge",message:"[Edge] Ruta /roadmap registrada  6 endpoints activos"},{id:"l024",ts:Ir(80),level:"info",module:"edge",message:"[Edge] Ruta /ideas-board registrada"},{id:"l025",ts:Ir(90),level:"success",module:"database",message:"[DB] ideas  tabla verificada, 0 canvases activos",duration:31}];function x9(e){return e.toLocaleTimeString("es-UY",{hour:"2-digit",minute:"2-digit",second:"2-digit"})+" "+e.toLocaleDateString("es-UY",{day:"2-digit",month:"2-digit"})}function KPe({onNavigate:e}){const[t,r]=A.useState(""),[o,i]=A.useState("all"),[a,s]=A.useState("all"),[l,c]=A.useState(null),[d,f]=A.useState(0),p=A.useMemo(()=>Fu.filter(m=>{var y;return!(o!=="all"&&m.level!==o||a!=="all"&&m.module!==a||t&&!m.message.toLowerCase().includes(t.toLowerCase())&&!((y=m.detail)!=null&&y.toLowerCase().includes(t.toLowerCase())))}),[t,o,a,d]),h={error:Fu.filter(m=>m.level==="error").length,warn:Fu.filter(m=>m.level==="warn").length,info:Fu.filter(m=>m.level==="info"||m.level==="success").length,debug:Fu.filter(m=>m.level==="debug").length},x=()=>{const m=Fu.map(C=>`[${x9(C.ts)}] [${C.level.toUpperCase()}] [${C.module}] ${C.message}${C.detail?`
   `+C.detail:""}`).join(`
`),y=new Blob([m],{type:"text/plain"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=`charlie-logs-${new Date().toISOString().slice(0,10)}.txt`,v.click(),URL.revokeObjectURL(b)};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:QL,title:"Logs del Sistema",subtitle:"Registro de actividad y eventos del sistema",actions:[{label:" Auditora",onClick:()=>e("auditoria")},{label:" Exportar TXT",onClick:x}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:20},children:[{label:"Errores",value:h.error,color:"#EF4444",icon:nn},{label:"Advertencias",value:h.warn,color:"#D97706",icon:Wr},{label:"Info / Success",value:h.info,color:"#059669",icon:ct},{label:"Debug",value:h.debug,color:"#9CA3AF",icon:gx}].map(({label:m,value:y,color:b,icon:v})=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,padding:"14px 18px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:10},children:[n.jsx("div",{style:{width:36,height:36,borderRadius:9,backgroundColor:`${b}12`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(v,{size:15,color:b})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"800",color:"#111827",lineHeight:1},children:y}),n.jsx("div",{style:{fontSize:"0.68rem",color:"#9CA3AF",marginTop:2},children:m})]})]},m))}),n.jsxs("div",{style:{display:"flex",gap:10,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:200},children:[n.jsx(tr,{size:13,color:"#9CA3AF",style:{position:"absolute",left:9,top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:t,onChange:m=>r(m.target.value),placeholder:"Buscar en logs...",style:{width:"100%",paddingLeft:30,paddingRight:10,paddingTop:8,paddingBottom:8,border:"1px solid #E5E7EB",borderRadius:8,fontSize:"0.8rem",outline:"none",backgroundColor:"#fff",boxSizing:"border-box"}})]}),n.jsxs("select",{value:o,onChange:m=>i(m.target.value),style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:8,fontSize:"0.8rem",outline:"none",backgroundColor:"#fff",cursor:"pointer"},children:[n.jsx("option",{value:"all",children:"Todos los niveles"}),Object.entries(h9).map(([m,y])=>n.jsx("option",{value:m,children:y.label},m))]}),n.jsxs("select",{value:a,onChange:m=>s(m.target.value),style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:8,fontSize:"0.8rem",outline:"none",backgroundColor:"#fff",cursor:"pointer"},children:[n.jsx("option",{value:"all",children:"Todos los mdulos"}),Object.entries(g9).map(([m,y])=>n.jsx("option",{value:m,children:y.label},m))]}),n.jsxs("button",{onClick:()=>{r(""),i("all"),s("all"),f(m=>m+1)},style:{display:"flex",alignItems:"center",gap:5,padding:"8px 12px",border:"1px solid #E5E7EB",borderRadius:8,backgroundColor:"#fff",fontSize:"0.8rem",color:"#6B7280",cursor:"pointer"},children:[n.jsx(_t,{size:12})," Limpiar"]}),n.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:[p.length," entradas"]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace'},children:[p.map(m=>{const y=h9[m.level],b=g9[m.module],v=l===m.id,C=y.icon,S=b.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:8,border:`1px solid ${m.level==="error"?"#FECACA":m.level==="warn"?"#FDE68A":"#E5E7EB"}`,overflow:"hidden"},children:[n.jsxs("button",{onClick:()=>m.detail?c(v?null:m.id):null,style:{width:"100%",padding:"9px 12px",display:"flex",alignItems:"center",gap:10,background:"none",border:"none",cursor:m.detail?"pointer":"default",textAlign:"left"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,padding:"2px 8px",borderRadius:4,backgroundColor:y.bg,border:`1px solid ${y.border}`,flexShrink:0,minWidth:68},children:[n.jsx(C,{size:10,color:y.color}),n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"800",color:y.color,letterSpacing:"0.04em"},children:y.label})]}),n.jsx("span",{style:{fontSize:"0.68rem",color:"#9CA3AF",flexShrink:0,minWidth:110},children:x9(m.ts)}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:3,flexShrink:0},children:[n.jsx(S,{size:10,color:b.color}),n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"700",color:b.color,minWidth:80},children:b.label})]}),n.jsx("span",{style:{flex:1,fontSize:"0.76rem",color:"#374151",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m.message}),m.duration&&n.jsxs("span",{style:{fontSize:"0.65rem",color:"#9CA3AF",flexShrink:0},children:[m.duration,"ms"]}),m.detail&&(v?n.jsx(Yn,{size:12,color:"#9CA3AF",style:{flexShrink:0}}):n.jsx(Xr,{size:12,color:"#9CA3AF",style:{flexShrink:0}}))]}),v&&m.detail&&n.jsx("div",{style:{borderTop:`1px dashed ${y.border}`,padding:"8px 12px 10px 12px",backgroundColor:y.bg},children:n.jsx("pre",{style:{margin:0,fontSize:"0.72rem",color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:1.5},children:m.detail})})]},m.id)}),p.length===0&&n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(Ao,{size:40,style:{margin:"0 auto 12px",display:"block",opacity:.3}}),n.jsx("p",{style:{margin:0,fontWeight:"600"},children:"No hay logs que coincidan con los filtros"})]})]}),n.jsx("div",{style:{marginTop:16,padding:"10px 14px",backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:8},children:n.jsxs("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF"},children:[" Logs simulados para demostracin. En produccin se integrara con ",n.jsx("strong",{children:"Supabase Logs"})," o un servicio como ",n.jsx("strong",{children:"Logflare / Logtail"}),"."]})})]})]})}const sF={pagos:{label:"Pagos",color:"#FF6835",bg:"#FFF4F0"},tiendas:{label:"Tiendas",color:"#3B82F6",bg:"#EFF6FF"},logistica:{label:"Logstica",color:"#10B981",bg:"#F0FDF8"},mensajeria:{label:"Mensajera",color:"#8B5CF6",bg:"#F5F3FF"},rrss:{label:"RRSS",color:"#EC4899",bg:"#FDF2F8"},ia:{label:"IA",color:"#F59E0B",bg:"#FFFBEB"},backend:{label:"Backend",color:"#059669",bg:"#ECFDF5"},marketing:{label:"Marketing",color:"#EF4444",bg:"#FEF2F2"},finanzas:{label:"Finanzas",color:"#0EA5E9",bg:"#F0F9FF"},mapas:{label:"Mapas",color:"#6366F1",bg:"#EEF2FF"}},m9={connected:{label:"Conectada",color:"#059669",icon:ct},"not-configured":{label:"Sin configurar",color:"#9CA3AF",icon:Ct},error:{label:"Error",color:"#EF4444",icon:nn},partial:{label:"Parcial",color:"#F59E0B",icon:Jt}},YPe={"api-key":{label:"API Key",color:"#6366F1"},oauth2:{label:"OAuth 2.0",color:"#3B82F6"},bearer:{label:"Bearer",color:"#8B5CF6"},webhook:{label:"Webhook",color:"#F59E0B"},none:{label:"Sin auth",color:"#9CA3AF"}},Y0=[{id:"supabase",name:"Supabase",logo:"",category:"backend",status:"connected",authType:"api-key",baseUrl:"https://supabase.co/rest/v1",docsUrl:"https://supabase.com/docs",description:"Base de datos PostgreSQL + Auth + Storage + Edge Functions",envKey:"SUPABASE_URL",flag:"",latency:42},{id:"plexo",name:"Plexo UV",logo:"",category:"pagos",status:"not-configured",authType:"api-key",baseUrl:"https://api.plexo.com.uy",docsUrl:"https://docs.plexo.com.uy",description:"Procesamiento de tarjetas para Uruguay  Visa, Master, OCA, Creditel",envKey:"PLEXO_API_KEY",flag:"",sandbox:!0},{id:"mercadopago",name:"MercadoPago",logo:"",category:"pagos",status:"not-configured",authType:"bearer",baseUrl:"https://api.mercadopago.com",docsUrl:"https://www.mercadopago.com.ar/developers/es/docs",description:"Pasarela de pagos lder en Latinoamrica",envKey:"MP_ACCESS_TOKEN",flag:" Latam",sandbox:!0},{id:"paypal",name:"PayPal",logo:"",category:"pagos",status:"not-configured",authType:"oauth2",baseUrl:"https://api-m.paypal.com",docsUrl:"https://developer.paypal.com",description:"Pagos internacionales con tarjetas y cuenta PayPal",envKey:"PAYPAL_CLIENT_ID",flag:" Global",sandbox:!0},{id:"stripe",name:"Stripe",logo:"",category:"pagos",status:"not-configured",authType:"api-key",baseUrl:"https://api.stripe.com/v1",docsUrl:"https://stripe.com/docs",description:"Procesamiento de tarjetas internacional  Visa/Mastercard",envKey:"STRIPE_SECRET_KEY",flag:" Global",sandbox:!0},{id:"mercadolibre",name:"MercadoLibre",logo:"",category:"tiendas",status:"not-configured",authType:"oauth2",baseUrl:"https://api.mercadolibre.com",docsUrl:"https://developers.mercadolibre.com.ar",description:"Sincronizacin de productos, stock y rdenes con MercadoLibre",envKey:"ML_CLIENT_ID",flag:" Latam"},{id:"tiendanube",name:"TiendaNube",logo:"",category:"tiendas",status:"not-configured",authType:"oauth2",baseUrl:"https://api.tiendanube.com/v1",docsUrl:"https://tiendanube.github.io/api-documentation",description:"Sincronizacin con tiendas TiendaNube",envKey:"TN_CLIENT_ID",flag:" Latam"},{id:"woocommerce",name:"WooCommerce",logo:"",category:"tiendas",status:"not-configured",authType:"api-key",baseUrl:"",docsUrl:"https://woocommerce.github.io/woocommerce-rest-api-docs",description:"REST API de WooCommerce (Consumer Key + Secret)",envKey:"WC_CONSUMER_KEY",flag:" Global"},{id:"shopify",name:"Shopify",logo:"",category:"tiendas",status:"not-configured",authType:"api-key",baseUrl:"",docsUrl:"https://shopify.dev/api",description:"API de Shopify Admin para tiendas",envKey:"SHOPIFY_API_KEY",flag:" Global"},{id:"correo-uy",name:"Correo Uruguayo",logo:"",category:"logistica",status:"not-configured",authType:"api-key",baseUrl:"https://api.correo.com.uy",docsUrl:"https://correo.com.uy/empresas",description:"Envos y cotizaciones del Correo Uruguayo",envKey:"CORREO_UY_KEY",flag:""},{id:"oca",name:"OCA Argentina",logo:"",category:"logistica",status:"not-configured",authType:"none",baseUrl:"http://webservice.oca.com.ar",docsUrl:"https://www.oca.com.ar",description:"Servicios logsticos OCA  cotizaciones y seguimiento",flag:""},{id:"brixo",name:"Brixo",logo:"",category:"logistica",status:"not-configured",authType:"api-key",baseUrl:"https://api.brixo.com.uy",docsUrl:"https://brixo.com.uy",description:"ltimo kilmetro en Uruguay",envKey:"BRIXO_API_KEY",flag:""},{id:"fedex",name:"FedEx",logo:"",category:"logistica",status:"not-configured",authType:"oauth2",baseUrl:"https://apis.fedex.com",docsUrl:"https://developer.fedex.com",description:"Envos internacionales FedEx",envKey:"FEDEX_CLIENT_ID",flag:" Global"},{id:"twilio",name:"Twilio",logo:"",category:"mensajeria",status:"not-configured",authType:"api-key",baseUrl:"https://api.twilio.com/2010-04-01",docsUrl:"https://www.twilio.com/docs",description:"SMS y WhatsApp Business  notificaciones automticas",envKey:"TWILIO_ACCOUNT_SID",flag:" Global"},{id:"resend",name:"Resend",logo:"",category:"mensajeria",status:"not-configured",authType:"api-key",baseUrl:"https://api.resend.com",docsUrl:"https://resend.com/docs",description:"Emails transaccionales con alta entregabilidad",envKey:"RESEND_API_KEY",flag:" Global"},{id:"sendgrid",name:"SendGrid",logo:"",category:"mensajeria",status:"not-configured",authType:"api-key",baseUrl:"https://api.sendgrid.com/v3",docsUrl:"https://docs.sendgrid.com",description:"Email marketing y transaccional  alta escala",envKey:"SENDGRID_API_KEY",flag:" Global"},{id:"meta",name:"Meta Business Suite",logo:"",category:"rrss",status:"not-configured",authType:"oauth2",baseUrl:"https://graph.facebook.com/v19.0",docsUrl:"https://developers.facebook.com",description:"Instagram Shopping, WhatsApp Business, Facebook Shops",envKey:"META_APP_ID",flag:" Global"},{id:"replicate",name:"Replicate AI",logo:"",category:"ia",status:"not-configured",authType:"api-key",baseUrl:"https://api.replicate.com/v1",docsUrl:"https://replicate.com/docs",description:"Modelos IA generativos  procesamiento de imgenes",envKey:"REPLICATE_API_TOKEN",flag:" Global"},{id:"removebg",name:"Remove.bg",logo:"",category:"ia",status:"not-configured",authType:"api-key",baseUrl:"https://api.remove.bg/v1.0",docsUrl:"https://www.remove.bg/api",description:"Eliminacin automtica de fondo en imgenes",envKey:"REMOVEBG_API_KEY",flag:" Global"},{id:"google-analytics",name:"Google Analytics 4",logo:"",category:"marketing",status:"not-configured",authType:"oauth2",baseUrl:"https://analyticsdata.googleapis.com/v1beta",docsUrl:"https://developers.google.com/analytics",description:"Mtricas de sitio web y comportamiento de usuarios",envKey:"GA4_PROPERTY_ID",flag:" Global"},{id:"google-ads",name:"Google Ads",logo:"",category:"marketing",status:"not-configured",authType:"oauth2",baseUrl:"https://googleads.googleapis.com",docsUrl:"https://developers.google.com/google-ads",description:"Gestin de campaas Google Ads",envKey:"GOOGLE_ADS_CUSTOMER_ID",flag:" Global"},{id:"fixer",name:"Fixer / ExchangeRate",logo:"",category:"finanzas",status:"not-configured",authType:"api-key",baseUrl:"https://data.fixer.io/api",docsUrl:"https://fixer.io/documentation",description:"Tipos de cambio en tiempo real  soporte multi-moneda",envKey:"FIXER_API_KEY",flag:" Global"},{id:"google-maps",name:"Google Maps",logo:"",category:"mapas",status:"not-configured",authType:"api-key",baseUrl:"https://maps.googleapis.com/maps/api",docsUrl:"https://developers.google.com/maps",description:"Geocodificacin, rutas y mapa interactivo para logstica",envKey:"GOOGLE_MAPS_API_KEY",flag:" Global"}];function XPe({onNavigate:e}){const[t,r]=A.useState(""),[o,i]=A.useState("all"),[a,s]=A.useState("all"),[l,c]=A.useState(null),d=A.useMemo(()=>Y0.filter(h=>!(t&&!h.name.toLowerCase().includes(t.toLowerCase())&&!h.description.toLowerCase().includes(t.toLowerCase())||o!=="all"&&h.category!==o||a!=="all"&&h.status!==a)),[t,o,a]),f={total:Y0.length,connected:Y0.filter(h=>h.status==="connected").length,categories:Object.keys(sF).length,sandboxAvail:Y0.filter(h=>h.sandbox).length},p=h=>{navigator.clipboard.writeText(h).then(()=>ke.success("Copiado al portapapeles"))};return n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx(Ze,{icon:Kr,title:"Repositorio de APIs",subtitle:"Catlogo centralizado de todas las integraciones disponibles en el sistema",actions:[{label:" Integraciones",onClick:()=>e("integraciones")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:24},children:[{label:"APIs registradas",value:f.total,icon:hr,color:"#FF6835"},{label:"Conectadas",value:f.connected,icon:ct,color:"#059669"},{label:"Categoras",value:f.categories,icon:Kr,color:"#3B82F6"},{label:"Con sandbox",value:f.sandboxAvail,icon:Nr,color:"#8B5CF6"}].map(({label:h,value:x,icon:m,color:y})=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,padding:"16px 20px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:40,height:40,borderRadius:10,backgroundColor:`${y}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(m,{size:18,color:y})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827",lineHeight:1},children:x}),n.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:h})]})]},h))}),n.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20,flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:220},children:[n.jsx(tr,{size:14,color:"#9CA3AF",style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{value:t,onChange:h=>r(h.target.value),placeholder:"Buscar API...",style:{width:"100%",paddingLeft:32,paddingRight:12,paddingTop:8,paddingBottom:8,border:"1px solid #E5E7EB",borderRadius:8,fontSize:"0.82rem",outline:"none",backgroundColor:"#fff",boxSizing:"border-box"}})]}),n.jsxs("select",{value:o,onChange:h=>i(h.target.value),style:{padding:"8px 12px",border:"1px solid #E5E7EB",borderRadius:8,fontSize:"0.82rem",outline:"none",backgroundColor:"#fff",cursor:"pointer"},children:[n.jsx("option",{value:"all",children:"Todas las categoras"}),Object.entries(sF).map(([h,x])=>n.jsx("option",{value:h,children:x.label},h))]}),n.jsxs("select",{value:a,onChange:h=>s(h.target.value),style:{padding:"8px 12px",border:"1px solid #E5E7EB",borderRadius:8,fontSize:"0.82rem",outline:"none",backgroundColor:"#fff",cursor:"pointer"},children:[n.jsx("option",{value:"all",children:"Todos los estados"}),Object.entries(m9).map(([h,x])=>n.jsx("option",{value:h,children:x.label},h))]}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#9CA3AF",flexShrink:0},children:[d.length," resultados"]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[d.map(h=>{const x=sF[h.category],m=m9[h.status],y=YPe[h.authType],b=l===h.id,v=m.icon;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",overflow:"hidden",transition:"box-shadow 0.15s"},children:[n.jsxs("button",{onClick:()=>c(b?null:h.id),style:{width:"100%",padding:"14px 18px",display:"flex",alignItems:"center",gap:14,background:"none",border:"none",cursor:"pointer",textAlign:"left"},children:[n.jsx("div",{style:{width:40,height:40,borderRadius:10,backgroundColor:x.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:h.logo}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:3},children:[n.jsx("span",{style:{fontWeight:"700",fontSize:"0.9rem",color:"#111827"},children:h.name}),n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"700",padding:"2px 7px",borderRadius:20,backgroundColor:x.bg,color:x.color},children:x.label}),h.sandbox&&n.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"700",padding:"2px 6px",borderRadius:20,backgroundColor:"#F0FDF8",color:"#059669",border:"1px solid #A7F3D0"},children:"SANDBOX"}),n.jsx("span",{style:{fontSize:"0.65rem",color:"#9CA3AF"},children:h.flag})]}),n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:h.description})]}),n.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",gap:6},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",borderRadius:20,backgroundColor:`${y.color}12`,border:`1px solid ${y.color}30`},children:[n.jsx(vd,{size:11,color:y.color}),n.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"700",color:y.color},children:y.label})]})}),n.jsxs("div",{style:{flexShrink:0,display:"flex",alignItems:"center",gap:5,minWidth:120,justifyContent:"flex-end"},children:[n.jsx(v,{size:14,color:m.color}),n.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:m.color},children:m.label}),h.latency&&n.jsxs("span",{style:{fontSize:"0.65rem",color:"#9CA3AF"},children:[h.latency,"ms"]}),b?n.jsx(Yn,{size:14,color:"#9CA3AF"}):n.jsx(Xr,{size:14,color:"#9CA3AF"})]})]}),b&&n.jsxs("div",{style:{borderTop:"1px solid #F3F4F6",padding:"16px 18px",backgroundColor:"#FAFAFA"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12,marginBottom:14},children:[h.baseUrl&&n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:8,padding:"10px 14px",border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{fontSize:"0.65rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",marginBottom:4},children:"Base URL"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx("code",{style:{fontSize:"0.72rem",color:"#3B82F6",flex:1,wordBreak:"break-all"},children:h.baseUrl}),n.jsx("button",{onClick:()=>p(h.baseUrl),style:{background:"none",border:"none",cursor:"pointer",padding:2},children:n.jsx(ho,{size:12,color:"#9CA3AF"})})]})]}),h.envKey&&n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:8,padding:"10px 14px",border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{fontSize:"0.65rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",marginBottom:4},children:"Variable de entorno"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsxs("code",{style:{fontSize:"0.72rem",color:"#8B5CF6",flex:1},children:[h.envKey,"=",n.jsx("span",{style:{color:"#9CA3AF"},children:""})]}),n.jsx("button",{onClick:()=>p(h.envKey),style:{background:"none",border:"none",cursor:"pointer",padding:2},children:n.jsx(ho,{size:12,color:"#9CA3AF"})})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:8,padding:"10px 14px",border:"1px solid #E5E7EB"},children:[n.jsx("div",{style:{fontSize:"0.65rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",marginBottom:4},children:"Estado actual"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx(v,{size:14,color:m.color}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"600",color:m.color},children:m.label}),h.status==="not-configured"&&n.jsx("span",{style:{fontSize:"0.68rem",color:"#6B7280"},children:" Configurar en Supabase secrets"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[n.jsxs("a",{href:h.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:6,padding:"7px 14px",borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#fff",fontSize:"0.75rem",fontWeight:"600",color:"#374151",textDecoration:"none",cursor:"pointer"},children:[n.jsx(gn,{size:12})," Documentacin oficial"]}),n.jsxs("button",{onClick:()=>ke.info(`Test de conexin para ${h.name}  pendiente de implementar`),style:{display:"flex",alignItems:"center",gap:6,padding:"7px 14px",borderRadius:8,border:"1px solid #E5E7EB",backgroundColor:"#fff",fontSize:"0.75rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[n.jsx(Ao,{size:12})," Test de conexin"]}),n.jsxs("button",{onClick:()=>ke.info(`Abr Supabase  Settings  Secrets y configur ${h.envKey??"las variables requeridas"}`),style:{display:"flex",alignItems:"center",gap:6,padding:"7px 14px",borderRadius:8,border:"1px solid #FF6835",backgroundColor:"#FFF4F0",fontSize:"0.75rem",fontWeight:"600",color:"#FF6835",cursor:"pointer"},children:[n.jsx(vd,{size:12})," Configurar secret"]})]})]})]},h.id)}),d.length===0&&n.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#9CA3AF"},children:[n.jsx(Kr,{size:40,style:{margin:"0 auto 12px",display:"block",opacity:.3}}),n.jsx("p",{style:{margin:0,fontWeight:"600"},children:"No se encontraron APIs"})]})]}),n.jsx("div",{style:{marginTop:24,padding:"14px 18px",backgroundColor:"#F0F9FF",border:"1px solid #BAE6FD",borderRadius:10},children:n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[n.jsx(_t,{size:14,color:"#0EA5E9",style:{marginTop:2,flexShrink:0}}),n.jsxs("p",{style:{margin:0,fontSize:"0.76rem",color:"#0369A1",lineHeight:1.6},children:[n.jsx("strong",{children:"Para conectar una API"}),": configur la variable de entorno en ",n.jsx("strong",{children:"Supabase  Project Settings  Edge Functions  Secrets"}),", luego implement la lgica en el servidor Hono correspondiente bajo ",n.jsx("code",{style:{backgroundColor:"#E0F2FE",padding:"1px 4px",borderRadius:3},children:"/supabase/functions/server/"}),". Las variables ",n.jsx("code",{style:{backgroundColor:"#E0F2FE",padding:"1px 4px",borderRadius:3},children:"SUPABASE_URL"}),", ",n.jsx("code",{style:{backgroundColor:"#E0F2FE",padding:"1px 4px",borderRadius:3},children:"SUPABASE_ANON_KEY"})," y ",n.jsx("code",{style:{backgroundColor:"#E0F2FE",padding:"1px 4px",borderRadius:3},children:"SUPABASE_SERVICE_ROLE_KEY"})," ya estn configuradas."]})]})})]})]})}const oe={orange:"#FF6835",orange10:"#FFF4F0",orange20:"#FFE8DF",gray50:"#F8FAFC",gray100:"#F1F5F9",gray200:"#E2E8F0",gray300:"#CBD5E1",gray400:"#94A3B8",gray500:"#64748B",gray600:"#475569",gray700:"#334155",gray900:"#0F172A",white:"#FFFFFF",green:"#10B981",green10:"#F0FDF4",amber:"#F59E0B",amber10:"#FFFBEB",red:"#EF4444",code:"#0D1117"},X0="charlie_constructor_v15",y9=[{id:"mercadopago",label:"MercadoPago",badge:"AR",envVars:["VITE_MP_ACCESS_TOKEN","VITE_MP_PUBLIC_KEY","VITE_MP_CLIENT_ID"]},{id:"flexo",label:"Flexo",badge:"AR",envVars:["VITE_FLEXO_API_KEY","VITE_FLEXO_SECRET"]},{id:"stripe",label:"Stripe",badge:"Global",envVars:["VITE_STRIPE_PUBLIC_KEY","STRIPE_SECRET_KEY"]},{id:"paypal",label:"PayPal",badge:"Global",envVars:["VITE_PAYPAL_CLIENT_ID","PAYPAL_CLIENT_SECRET"]},{id:"rapipago",label:"Rapipago",badge:"AR",envVars:["VITE_RAPIPAGO_KEY"]},{id:"pagofacil",label:"Pago Fcil",badge:"AR",envVars:["VITE_PAGOFACIL_KEY"]},{id:"transferencia",label:"Transferencia",badge:"AR",envVars:["VITE_CBU_DESTINO","VITE_ALIAS_DESTINO"]}],b9=[{id:"correo",label:"Correo Argentino",badge:"AR",envVars:["VITE_CORREO_USER","VITE_CORREO_PASS","VITE_CORREO_CONTRATO"]},{id:"andreani",label:"Andreani",badge:"AR",envVars:["VITE_ANDREANI_USER","VITE_ANDREANI_PASS","VITE_ANDREANI_CLIENT"]},{id:"oca",label:"OCA",badge:"AR",envVars:["VITE_OCA_USER","VITE_OCA_PASS","VITE_OCA_REMITO"]},{id:"edp",label:"Envos del Pas",badge:"AR",envVars:["VITE_EDP_API_KEY"]},{id:"dhl",label:"DHL",badge:"Global",envVars:["VITE_DHL_ACCOUNT","VITE_DHL_API_KEY"]},{id:"pickup",label:"Retiro en tienda",badge:"Local",envVars:[]}],JPe=[{id:"mercadolibre",label:"MercadoLibre",badge:"LATAM",envVars:["VITE_ML_APP_ID","VITE_ML_CLIENT_SECRET","VITE_ML_ACCESS_TOKEN"]},{id:"tiendanube",label:"Tiendanube",badge:"LATAM",envVars:["VITE_TN_TOKEN","VITE_TN_STORE_ID","VITE_TN_USER_ID"]},{id:"woocommerce",label:"WooCommerce",badge:"Global",envVars:["VITE_WOO_URL","VITE_WOO_CK","VITE_WOO_CS"]},{id:"shopify",label:"Shopify",badge:"Global",envVars:["VITE_SHOPIFY_STORE","VITE_SHOPIFY_ACCESS_TOKEN","VITE_SHOPIFY_API_KEY"]},{id:"amazon",label:"Amazon SP",badge:"Global",envVars:["VITE_AMAZON_SELLER_ID","VITE_AMAZON_MWS_TOKEN"]}],QPe=[{id:"facebook",label:"Facebook / Meta",badge:"Meta",envVars:["VITE_META_APP_ID","VITE_META_APP_SECRET","VITE_META_ACCESS_TOKEN"]},{id:"instagram",label:"Instagram",badge:"Meta",envVars:["VITE_META_APP_ID","VITE_META_PIXEL_ID"]},{id:"tiktok",label:"TikTok",badge:"ByteDance",envVars:["VITE_TIKTOK_CLIENT_KEY","VITE_TIKTOK_CLIENT_SECRET"]},{id:"twitter",label:"Twitter / X",badge:"X",envVars:["VITE_TWITTER_API_KEY","VITE_TWITTER_API_SECRET"]},{id:"linkedin",label:"LinkedIn",badge:"MSFT",envVars:["VITE_LINKEDIN_CLIENT_ID","VITE_LINKEDIN_CLIENT_SECRET"]},{id:"youtube",label:"YouTube",badge:"Google",envVars:["VITE_YOUTUBE_API_KEY","VITE_YOUTUBE_CHANNEL_ID"]}],ZPe=[{id:"google-analytics",label:"Google Analytics",badge:"Google",envVars:["VITE_GA_MEASUREMENT_ID"]},{id:"google-maps",label:"Google Maps",badge:"Google",envVars:["VITE_MAPS_API_KEY"]},{id:"whatsapp",label:"WhatsApp Business",badge:"Meta",envVars:["VITE_WA_TOKEN","VITE_WA_PHONE_NUMBER_ID","VITE_WA_BUSINESS_ID"]},{id:"slack",label:"Slack",badge:"Salesforce",envVars:["VITE_SLACK_WEBHOOK_URL","VITE_SLACK_BOT_TOKEN"]},{id:"mailchimp",label:"Mailchimp",badge:"Intuit",envVars:["VITE_MAILCHIMP_API_KEY","VITE_MAILCHIMP_LIST_ID"]},{id:"sendgrid",label:"SendGrid",badge:"Twilio",envVars:["SENDGRID_API_KEY","VITE_SENDGRID_FROM"]},{id:"brevo",label:"Brevo",badge:"EU",envVars:["BREVO_API_KEY"]},{id:"resend",label:"Resend",badge:"Vercel",envVars:["RESEND_API_KEY","VITE_RESEND_FROM"]},{id:"twilio",label:"Twilio SMS",badge:"Twilio",envVars:["TWILIO_ACCOUNT_SID","TWILIO_AUTH_TOKEN","VITE_TWILIO_FROM"]},{id:"metamap",label:"Metamap",badge:"KYC",envVars:["VITE_METAMAP_CLIENT_ID","VITE_METAMAP_CLIENT_SECRET","VITE_METAMAP_FLOW_ID"]}],eze=[{id:"sendgrid",label:"SendGrid",badge:"Twilio",envVars:["SENDGRID_API_KEY","VITE_SENDGRID_FROM"]},{id:"mailchimp",label:"Mailchimp",badge:"Intuit",envVars:["VITE_MAILCHIMP_API_KEY","VITE_MAILCHIMP_LIST_ID"]},{id:"brevo",label:"Brevo",badge:"EU",envVars:["BREVO_API_KEY","VITE_BREVO_LIST_ID"]},{id:"resend",label:"Resend",badge:"Vercel",envVars:["RESEND_API_KEY","VITE_RESEND_FROM"]}],tze=[{id:"email",label:"Email + Password",badge:"Base",envVars:[]},{id:"google",label:"Google OAuth",badge:"Google",envVars:["VITE_GOOGLE_CLIENT_ID","VITE_GOOGLE_CLIENT_SECRET"]},{id:"facebook",label:"Facebook OAuth",badge:"Meta",envVars:["VITE_META_APP_ID","VITE_META_APP_SECRET"]},{id:"github",label:"GitHub OAuth",badge:"GitHub",envVars:["VITE_GITHUB_CLIENT_ID","VITE_GITHUB_CLIENT_SECRET"]},{id:"magic",label:"Magic Link",badge:"Supabase",envVars:[]}],Ti=[{id:"ecommerce",label:"eCommerce Hub",description:"Catlogo, productos, storefront y pedidos",icon:ir,category:"eCommerce",envVars:["VITE_STORE_NAME","VITE_CURRENCY"]},{id:"clientes",label:"Clientes",description:"Gestin de clientes y contactos",icon:hr,category:"eCommerce"},{id:"pedidos",label:"Pedidos",description:"Gestin y seguimiento de rdenes",icon:ir,category:"eCommerce"},{id:"metodos-pago",label:"Mtodos de Pago",description:"Pasarelas de pago para el checkout",icon:mn,category:"eCommerce",subOptions:y9},{id:"metodos-envio",label:"Mtodos de Envo",description:"Transportistas y tarifas de envo",icon:At,category:"eCommerce",subOptions:b9},{id:"secondhand",label:"Segunda Mano",description:"Mdulo de productos de segunda mano",icon:ir,category:"eCommerce"},{id:"logistica",label:"Logstica Hub",description:"Centro de operaciones logsticas",icon:At,category:"Logstica"},{id:"fulfillment",label:"Fulfillment",description:"Gestin de preparacin y despacho",icon:At,category:"Logstica"},{id:"transportistas",label:"Transportistas",description:"Gestin de transportistas y flotas",icon:At,category:"Logstica"},{id:"rutas",label:"Rutas",description:"Planificacin y optimizacin de rutas",icon:At,category:"Logstica"},{id:"mapa-envios",label:"Mapa de Envos",description:"Visualizacin geogrfica de envos",icon:At,category:"Logstica",envVars:["VITE_MAPS_API_KEY"]},{id:"tracking-publico",label:"Tracking Pblico",description:"Pgina pblica de seguimiento de pedidos",icon:tr,category:"Logstica"},{id:"marketing",label:"Marketing Hub",description:"Centro de marketing digital",icon:In,category:"Marketing"},{id:"mailing",label:"Mailing",description:"Campaas de email marketing",icon:In,category:"Marketing",subOptions:eze},{id:"google-ads",label:"Google Ads",description:"Gestin de campaas de Google Ads",icon:In,category:"Marketing",envVars:["VITE_GOOGLE_ADS_ID"]},{id:"seo",label:"SEO",description:"Optimizacin para buscadores",icon:tr,category:"Marketing"},{id:"fidelizacion",label:"Fidelizacin",description:"Programas de puntos y recompensas",icon:In,category:"Marketing"},{id:"rueda-sorteos",label:"Rueda de Sorteos",description:"Gamificacin y sorteos interactivos",icon:In,category:"Marketing"},{id:"etiqueta-emotiva",label:"Etiqueta Emotiva",description:"Generador de etiquetas con IA emotiva",icon:In,category:"Marketing",envVars:["VITE_AI_API_KEY"]},{id:"rrss",label:"RRSS Hub",description:"Gestin de redes sociales",icon:nc,category:"RRSS"},{id:"redes-sociales",label:"Redes Sociales",description:"Publicacin y programacin de contenido",icon:nc,category:"RRSS"},{id:"migracion-rrss",label:"Migracin RRSS",description:"Migracin de contenido entre plataformas",icon:nc,category:"RRSS"},{id:"gestion",label:"Gestin Hub",description:"ERP, CRM y gestin empresarial",icon:hr,category:"Gestin"},{id:"erp-inventario",label:"ERP Inventario",description:"Control de stock e inventario",icon:hr,category:"Gestin"},{id:"erp-facturacion",label:"ERP Facturacin",description:"Facturacin electrnica y comprobantes",icon:hr,category:"Gestin"},{id:"erp-compras",label:"ERP Compras",description:"Gestin de compras y proveedores",icon:hr,category:"Gestin"},{id:"erp-crm",label:"ERP CRM",description:"Gestin de relaciones con clientes",icon:hr,category:"Gestin"},{id:"erp-contabilidad",label:"ERP Contabilidad",description:"Contabilidad y reportes financieros",icon:hr,category:"Gestin"},{id:"erp-rrhh",label:"ERP RRHH",description:"Recursos humanos y nmina",icon:hr,category:"Gestin"},{id:"proyectos",label:"Proyectos",description:"Gestin de proyectos y tareas",icon:hr,category:"Gestin"},{id:"produccion",label:"Produccin",description:"Control de produccin y manufactura",icon:hr,category:"Gestin"},{id:"abastecimiento",label:"Abastecimiento",description:"Cadena de suministro y abastecimiento",icon:hr,category:"Gestin"},{id:"departamentos",label:"Departamentos",description:"Estructura organizacional",icon:hr,category:"Gestin"},{id:"personas",label:"Personas",description:"Directorio de personas y contactos",icon:hr,category:"Gestin"},{id:"organizaciones",label:"Organizaciones",description:"Gestin de organizaciones y empresas",icon:hr,category:"Gestin"},{id:"herramientas",label:"Herramientas Hub",description:"Suite de herramientas internas",icon:un,category:"Herramientas"},{id:"qr-generator",label:"QR Generator",description:"Generador de cdigos QR",icon:un,category:"Herramientas"},{id:"pos",label:"POS",description:"Punto de venta fsico",icon:un,category:"Herramientas"},{id:"diseno",label:"Diseo",description:"Herramientas de diseo y creatividad",icon:un,category:"Herramientas"},{id:"biblioteca",label:"Biblioteca",description:"Repositorio de archivos y recursos",icon:un,category:"Herramientas",envVars:["SUPABASE_URL","SUPABASE_ANON_KEY"]},{id:"editor-imagenes",label:"Editor de Imgenes",description:"Editor de imgenes integrado",icon:un,category:"Herramientas"},{id:"gen-documentos",label:"Generador Docs",description:"Generacin automtica de documentos",icon:un,category:"Herramientas"},{id:"gen-presupuestos",label:"Generador Presupuestos",description:"Cotizaciones y presupuestos",icon:un,category:"Herramientas"},{id:"ocr",label:"OCR",description:"Reconocimiento ptico de caracteres",icon:un,category:"Herramientas",envVars:["VITE_OCR_API_KEY"]},{id:"impresion",label:"Impresin",description:"Gestin de impresin y etiquetas",icon:un,category:"Herramientas"},{id:"checklist",label:"Checklist",description:"Listas de verificacin y procesos",icon:un,category:"Herramientas"},{id:"ideas-board",label:"Ideas Board",description:"Tablero de ideas y brainstorming",icon:un,category:"Herramientas"},{id:"sistema",label:"Sistema Hub",description:"Configuracin del sistema",icon:ac,category:"Sistema",required:!0},{id:"usuarios-roles",label:"Usuarios y Roles",description:"Gestin de usuarios, permisos y acceso",icon:Et,category:"Sistema"},{id:"configuracion",label:"Configuracin Global",description:"Parmetros globales del sistema",icon:di,category:"Sistema"},{id:"analytics-bi",label:"Analytics & BI",description:"Reportes, dashboards y anlisis de datos",icon:x8,category:"Sistema"},{id:"notificaciones",label:"Notificaciones",description:"Centro de notificaciones push, email y in-app",icon:gb,category:"Sistema"},{id:"multi-pais",label:"Multi-Pas",description:"Configuracin multi-tenant y multi-territorio",icon:Dn,category:"Sistema",envVars:["VITE_DEFAULT_COUNTRY","VITE_DEFAULT_CURRENCY","VITE_DEFAULT_LOCALE"]},{id:"permisos",label:"Permisos & Seguridad",description:"RLS, polticas de acceso y auditora de seguridad",icon:Nr,category:"Sistema"},{id:"auditoria",label:"Auditora",description:"Logs y monitoreo del sistema",icon:tr,category:"Sistema"},{id:"integraciones",label:"Integraciones Hub",description:"Centro de integraciones externas",icon:va,category:"Integraciones"},{id:"integraciones-pagos",label:"Integr. Pagos",description:"Pasarelas de pago externas",icon:mn,category:"Integraciones",subOptions:y9},{id:"integraciones-logistica",label:"Integr. Logstica",description:"Transportistas y couriers",icon:At,category:"Integraciones",subOptions:b9},{id:"integraciones-tiendas",label:"Integr. Tiendas",description:"Marketplaces y plataformas externas",icon:ja,category:"Integraciones",subOptions:JPe},{id:"integraciones-rrss",label:"Integr. RRSS",description:"Redes sociales y plataformas de contenido",icon:nc,category:"Integraciones",subOptions:QPe},{id:"integraciones-servicios",label:"Integr. Servicios",description:"Analytics, mensajera y notificaciones",icon:va,category:"Integraciones",subOptions:ZPe},{id:"integraciones-apis",label:"Repositorio de APIs",description:"Catlogo central de APIs",icon:va,category:"Integraciones"},{id:"auth-registro",label:"Registro y Login",description:"Sign up, sign in, recupero y OAuth social",icon:ig,category:"Auth",subOptions:tze},{id:"carga-masiva",label:"Carga Masiva",description:"Upload masivo CSV, imgenes y docs",icon:_o,category:"Herramientas",envVars:["SUPABASE_URL","SUPABASE_ANON_KEY","SUPABASE_SERVICE_ROLE_KEY"]},{id:"meta-business",label:"Meta Business / RRSS Shop",description:"Catlogo FB/IG, Meta Ads, pxel y Shops",icon:ja,category:"RRSS",envVars:["VITE_META_APP_ID","VITE_META_PIXEL_ID","VITE_META_ACCESS_TOKEN","VITE_CATALOG_ID"]},{id:"unified-workspace",label:"Unified Workspace",description:"Docs, tareas, chat, calendario y notas",icon:og,category:"Workspace",envVars:["SUPABASE_URL","SUPABASE_ANON_KEY","VITE_WS_REALTIME_KEY"]}],rze=[...new Set(Ti.map(e=>e.category))],nze=["SUPABASE_URL","SUPABASE_ANON_KEY","SUPABASE_SERVICE_ROLE_KEY","VITE_APP_NAME","VITE_APP_URL"],v9={eCommerce:"#FF6835",Logstica:"#059669",Marketing:"#EC4899",RRSS:"#F43F5E",Gestin:"#2563EB",Herramientas:"#0D9488",Sistema:"#475569",Integraciones:"#0891B2",Auth:"#7C3AED",Workspace:"#4F46E5"},J0=new Set(Ti.filter(e=>e.label.toLowerCase().includes("hub")).map(e=>e.id)),lF=[{id:"hero",label:"Hero Banner",icon:pt,enabled:!0,description:"Imagen principal con CTA"},{id:"benefits",label:"Barra de beneficios",icon:rn,enabled:!0,description:"Envo gratis, garanta, devoluciones"},{id:"categories",label:"Grilla de categoras",icon:og,enabled:!0,description:"Accesos directos por categora"},{id:"featured",label:"Productos destacados",icon:pt,enabled:!0,description:"Ms vendidos y recomendados"},{id:"new",label:"Nuevos ingresos",icon:rc,enabled:!0,description:"Productos con isNew = true"},{id:"offers",label:"Ofertas y descuentos",icon:bb,enabled:!0,description:"Productos con precio tachado"},{id:"secondhand",label:"Segunda mano",icon:nc,enabled:!1,description:"Listados de segunda mano",requiresModule:"secondhand"},{id:"rrss",label:"Feed RRSS",icon:nc,enabled:!1,description:"Feed de Instagram o TikTok",requiresModule:"rrss"}],cF=[{id:"home",path:"/",label:"Home",icon:yb,enabled:!0,alwaysOn:!0},{id:"shop",path:"/shop",label:"Catlogo",icon:ja,enabled:!0,requiresModule:"ecommerce"},{id:"product",path:"/product/:id",label:"Detalle de producto",icon:un,enabled:!0,requiresModule:"ecommerce"},{id:"cart",path:"/cart",label:"Carrito",icon:ir,enabled:!0,requiresModule:"ecommerce"},{id:"checkout",path:"/checkout",label:"Checkout",icon:mn,enabled:!0,requiresModule:"metodos-pago"},{id:"account",path:"/account",label:"Mi cuenta",icon:ig,enabled:!1,requiresModule:"auth-registro"},{id:"secondhand",path:"/second-hand",label:"Segunda mano",icon:nc,enabled:!1,requiresModule:"secondhand"},{id:"tracking",path:"/tracking/:id",label:"Tracking pblico",icon:tr,enabled:!1,requiresModule:"tracking-publico"},{id:"mensaje",path:"/mensaje",label:"Confirmacin de pedido",icon:rn,enabled:!0,requiresModule:"pedidos"}],oze=[{code:"USD",label:"USD  Dlar americano"},{code:"ARS",label:"ARS  Peso argentino"},{code:"UYU",label:"UYU  Peso uruguayo"},{code:"CLP",label:"CLP  Peso chileno"},{code:"BRL",label:"BRL  Real brasileo"},{code:"MXN",label:"MXN  Peso mexicano"},{code:"EUR",label:"EUR  Euro"}],j9={AR:{bg:"#EFF6FF",color:"#1D4ED8"},LATAM:{bg:"#F0FDF4",color:"#15803D"},Global:{bg:oe.gray100,color:oe.gray600},Local:{bg:"#FEF3C7",color:"#92400E"},Meta:{bg:"#EFF6FF",color:"#1877F2"},Google:{bg:"#FEF2F2",color:"#DC2626"},Supabase:{bg:"#F0FDF4",color:"#16A34A"},Base:{bg:oe.gray100,color:oe.gray500},X:{bg:oe.gray900,color:oe.white},default:{bg:oe.gray100,color:oe.gray500}};function UY({text:e}){if(!e)return null;const t=j9[e]??j9.default;return n.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"600",padding:"1px 5px",borderRadius:"3px",letterSpacing:"0.03em",backgroundColor:t.bg,color:t.color,flexShrink:0},children:e})}function ize({label:e,active:t,onClick:r,badge:o}){return n.jsxs("button",{onClick:r,style:{display:"inline-flex",alignItems:"center",gap:"5px",padding:"3px 10px",borderRadius:"4px",border:`1px solid ${t?oe.orange:oe.gray200}`,backgroundColor:t?oe.orange10:oe.white,color:t?oe.orange:oe.gray500,fontSize:"0.72rem",fontWeight:t?"600":"400",cursor:"pointer",transition:"all 0.1s",whiteSpace:"nowrap"},children:[t&&n.jsx(rn,{size:9,color:oe.orange,strokeWidth:3}),e,n.jsx(UY,{text:o})]})}function S9({on:e,onChange:t,disabled:r}){return n.jsx("button",{onClick:r?void 0:t,style:{width:"32px",height:"18px",borderRadius:"9px",border:"none",padding:0,backgroundColor:e&&!r?oe.orange:r?oe.gray200:oe.gray300,position:"relative",cursor:r?"not-allowed":"pointer",transition:"background-color 0.15s",flexShrink:0},children:n.jsx("span",{style:{display:"block",width:"12px",height:"12px",borderRadius:"50%",backgroundColor:oe.white,position:"absolute",top:"3px",left:e&&!r?"17px":"3px",transition:"left 0.15s",boxShadow:"0 1px 2px rgba(0,0,0,0.15)"}})})}const w9=[{id:"select",label:"Mdulos"},{id:"config",label:"Configuracin"},{id:"frontstore",label:"Frontstore"}],aze=["select","config","frontstore","done"];function sze({step:e,setStep:t,currentIdx:r}){return n.jsx("div",{style:{height:"52px",backgroundColor:oe.white,borderBottom:`1px solid ${oe.gray200}`,display:"flex",alignItems:"center",justifyContent:"center",gap:0,flexShrink:0},children:w9.map((o,i)=>{const a=r>i,s=e===o.id,l=r>=i;return n.jsxs(Y.Fragment,{children:[n.jsxs("button",{onClick:()=>l&&t(o.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"0 4px",background:"none",border:"none",cursor:l?"pointer":"default"},children:[n.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:a||s?oe.orange:"transparent",border:`1.5px solid ${a||s?oe.orange:oe.gray300}`,transition:"all 0.2s"},children:a?n.jsx(rn,{size:11,color:oe.white,strokeWidth:3}):n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"700",color:s?oe.white:oe.gray400},children:i+1})}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:s?"600":"400",color:s?oe.gray900:a?oe.gray500:oe.gray400,whiteSpace:"nowrap"},children:o.label})]}),i<w9.length-1&&n.jsx("div",{style:{width:"48px",height:"1px",backgroundColor:r>i?oe.orange:oe.gray200,margin:"0 8px",flexShrink:0,transition:"background-color 0.3s"}})]},o.id)})})}function dF({label:e,hint:t,value:r,onChange:o}){return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 0",borderBottom:`1px solid ${oe.gray100}`},children:[n.jsx("div",{style:{position:"relative",width:"28px",height:"28px",borderRadius:"6px",overflow:"hidden",border:`1px solid ${oe.gray200}`,flexShrink:0,backgroundColor:r},children:n.jsx("input",{type:"color",value:r,onChange:i=>o(i.target.value),style:{opacity:0,position:"absolute",inset:0,width:"100%",height:"100%",cursor:"pointer",border:"none",padding:0}})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:0,fontSize:"0.78rem",fontWeight:"500",color:oe.gray700},children:e}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:oe.gray400},children:t})]}),n.jsx("span",{style:{fontSize:"0.72rem",fontFamily:"monospace",color:oe.gray500,backgroundColor:oe.gray50,padding:"2px 6px",borderRadius:"4px",border:`1px solid ${oe.gray200}`},children:r})]})}function lze({onNavigate:e}){var Qe;const[t,r]=A.useState(new Set(J0)),[o,i]=A.useState({}),[a,s]=A.useState(new Set),[l,c]=A.useState(new Set),[d,f]=A.useState(null),[p,h]=A.useState(null),x=A.useRef(new Map),m=A.useRef(null),[y,b]=A.useState(""),[v,C]=A.useState("select"),[S,F]=A.useState("Todos"),[w,k]=A.useState(!1),[E,T]=A.useState(!1),[_,z]=A.useState(""),[B,P]=A.useState(""),[D,I]=A.useState("USD"),[N,M]=A.useState("#FF6835"),[V,L]=A.useState("#111111"),[W,G]=A.useState("#FFFFFF"),[U,H]=A.useState(lF),[K,ne]=A.useState(cF),[Q,pe]=A.useState(!1),[X,se]=A.useState(!1),[ae,ye]=A.useState(null),ie=A.useRef(null);A.useEffect(()=>{const J=localStorage.getItem(X0);if(J)try{const je=JSON.parse(J);ye({savedAt:je.savedAt,projectName:je.projectName??"",step:je.step??"select",storeName:je.storeName??""})}catch{}},[]),A.useEffect(()=>{const J=je=>{ie.current&&!ie.current.contains(je.target)&&se(!1)};return X&&document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[X]),A.useEffect(()=>{const J=()=>{f(null),h(null),c(new Set)},je=We=>{var dt;const Wt=We.target,Ve=(dt=m.current)==null?void 0:dt.contains(Wt),Kt=Array.from(x.current.values()).some(sr=>sr.contains(Wt));!Ve&&!Kt&&J()},Ie=We=>{var Wt;(Wt=m.current)!=null&&Wt.contains(We.target)||J()};return window.addEventListener("scroll",Ie,!0),document.addEventListener("mousedown",je),()=>{window.removeEventListener("scroll",Ie,!0),document.removeEventListener("mousedown",je)}},[]);const re=()=>{const J={savedAt:new Date().toISOString(),projectName:y,step:v,filterCat:S,selected:Array.from(t),selectedSubs:Object.fromEntries(Object.entries(o).map(([je,Ie])=>[je,Array.from(Ie)])),storeName:_,storeTagline:B,storeCurrency:D,primaryColor:N,secondaryColor:V,bgColor:W,homeSections:U,storefrontPages:K};localStorage.setItem(X0,JSON.stringify(J)),ye({savedAt:J.savedAt,projectName:y,step:v,storeName:_}),pe(!0),setTimeout(()=>pe(!1),2200)},Se=()=>{const J=localStorage.getItem(X0);if(J)try{const je=JSON.parse(J);b(je.projectName??""),C(je.step??"select"),F(je.filterCat??"Todos"),r(new Set(je.selected??[])),i(Object.fromEntries(Object.entries(je.selectedSubs??{}).map(([Ie,We])=>[Ie,new Set(We)]))),z(je.storeName??""),P(je.storeTagline??""),I(je.storeCurrency??"USD"),M(je.primaryColor??"#FF6835"),L(je.secondaryColor??"#111111"),G(je.bgColor??"#FFFFFF"),H(je.homeSections??lF),ne(je.storefrontPages??cF),se(!1)}catch{}},Ae=J=>{J.stopPropagation(),localStorage.removeItem(X0),ye(null),se(!1)},te=J=>{const je=Ti.find(Ie=>Ie.id===J);je!=null&&je.required||r(Ie=>{const We=new Set(Ie);return We.has(J)?(We.delete(J),s(Wt=>{const Ve=new Set(Wt);return Ve.delete(J),Ve})):(We.add(J),je!=null&&je.subOptions&&s(Wt=>new Set([...Wt,J]))),We})},he=(J,je)=>{J.stopPropagation(),s(Ie=>{const We=new Set(Ie);return We.has(je)?We.delete(je):We.add(je),We}),t.has(je)||r(Ie=>new Set([...Ie,je]))},Te=(J,je)=>i(Ie=>{const We=new Set(Ie[J]??[]);return We.has(je)?We.delete(je):We.add(je),{...Ie,[J]:We}}),rt=A.useCallback(J=>{if(d===J)f(null),h(null);else{const je=x.current.get(J);if(je){const Ie=je.getBoundingClientRect();h({top:Ie.bottom+2,headerTop:Ie.top,left:Ie.left-1,width:Ie.width+2})}f(J)}},[d]),it=()=>{ne(J=>J.map(je=>je.alwaysOn||je.requiresModule&&t.has(je.requiresModule)?{...je,enabled:!0}:je)),H(J=>J.map(je=>je.requiresModule&&t.has(je.requiresModule)?{...je,enabled:!0}:je))},kt=t.size+Ti.filter(J=>J.required).length,Pt=Object.values(o).reduce((J,je)=>J+je.size,0);S==="Todos"||Ti.filter(J=>J.category===S);const jt=aze.indexOf(v),zt=Array.from(new Set([...nze,"VITE_STORE_NAME","VITE_STORE_TAGLINE","VITE_CURRENCY","VITE_PRIMARY_COLOR","VITE_SECONDARY_COLOR",...Ti.filter(J=>t.has(J.id)||J.required).flatMap(J=>{const je=J.subOptions?[]:J.envVars??[],Ie=J.subOptions?J.subOptions.filter(We=>(o[J.id]??new Set).has(We.id)).flatMap(We=>We.envVars??[]):[];return[...je,...Ie]})])),fr=()=>["# .env.example  Charlie Marketplace Builder v1.5",`# Proyecto: ${y}`,`# Generado: ${new Date().toLocaleDateString("es-AR")}`,"",...zt.map(J=>J==="VITE_STORE_NAME"?`${J}="${_}"`:J==="VITE_STORE_TAGLINE"?`${J}="${B}"`:J==="VITE_CURRENCY"?`${J}="${D}"`:J==="VITE_PRIMARY_COLOR"?`${J}="${N}"`:J==="VITE_SECONDARY_COLOR"?`${J}="${V}"`:`${J}=""`)].join(`
`),Bt=()=>({project:y,version:"1.0.0",generated:new Date().toISOString().split("T")[0],generator:"Charlie Marketplace Builder v1.5",modules:Ti.filter(J=>t.has(J.id)||J.required).map(J=>J.id),providers:Object.fromEntries(Object.entries(o).filter(([,J])=>J.size>0).map(([J,je])=>[J,Array.from(je)])),frontstore:{branding:{storeName:_,tagline:B,currency:D,primaryColor:N,secondaryColor:V,bgColor:W},home:{sections:U.map(J=>({id:J.id,enabled:J.enabled}))},pages:K.map(J=>({id:J.id,path:J.path,enabled:J.enabled}))}}),ar=()=>JSON.stringify(Bt(),null,2),Sr=(J,je,Ie)=>{const We=document.createElement("a");We.href=URL.createObjectURL(new Blob([J],{type:Ie})),We.download=je,We.click()},Lt=(J,je)=>{try{navigator.clipboard.writeText(J).then(()=>{je(!0),setTimeout(()=>je(!1),2200)})}catch{}},le=()=>{C("select"),b(""),r(new Set),i({}),s(new Set),z(""),P(""),I("USD"),M("#FF6835"),L("#111111"),G("#FFFFFF"),H(lF),ne(cF)},be={backgroundColor:oe.white,border:`1px solid ${oe.gray200}`,borderRadius:"8px",padding:"20px"},we={width:"100%",padding:"8px 11px",borderRadius:"6px",border:`1px solid ${oe.gray200}`,fontSize:"0.83rem",outline:"none",boxSizing:"border-box",color:oe.gray900,backgroundColor:oe.white,fontFamily:"inherit"},$e={display:"block",fontSize:"0.72rem",fontWeight:"500",color:oe.gray600,marginBottom:"5px",letterSpacing:"0.01em"},Be={margin:"4px 0 0",fontSize:"0.68rem",color:oe.gray400,fontFamily:"monospace"},Pe={margin:"0 0 14px",fontSize:"0.8rem",fontWeight:"600",color:oe.gray700,letterSpacing:"0.01em"},Ne=(J=!0)=>({display:"inline-flex",alignItems:"center",gap:"6px",padding:"8px 20px",borderRadius:"6px",border:"none",backgroundColor:J?oe.orange:oe.gray200,color:J?oe.white:oe.gray400,fontSize:"0.82rem",fontWeight:"600",cursor:J?"pointer":"not-allowed",transition:"background-color 0.15s"}),Fe={display:"inline-flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"6px",border:`1px solid ${oe.gray200}`,backgroundColor:oe.white,color:oe.gray600,fontSize:"0.82rem",fontWeight:"500",cursor:"pointer"},Je={backgroundColor:oe.code,borderRadius:"6px",padding:"14px 16px",fontFamily:'"SF Mono", "Fira Mono", monospace',fontSize:"0.72rem",lineHeight:"1.7",overflowY:"auto"};return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:oe.gray50},children:[n.jsxs("div",{style:{height:"48px",flexShrink:0,backgroundColor:oe.white,borderBottom:`1px solid ${oe.gray200}`,display:"flex",alignItems:"center",padding:"0 24px",gap:"12px"},children:[n.jsx($L,{size:16,color:oe.orange}),n.jsx("span",{style:{fontSize:"0.88rem",fontWeight:"600",color:oe.gray900},children:"Constructor"}),n.jsx("span",{style:{width:"1px",height:"16px",backgroundColor:oe.gray200}}),n.jsxs("span",{style:{fontSize:"0.75rem",color:oe.gray400},children:[kt," mdulos  ",zt.length," variables"]}),n.jsx("div",{style:{flex:1}}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",position:"relative"},ref:ie,children:[n.jsx("button",{onClick:re,style:{display:"inline-flex",alignItems:"center",gap:"5px",padding:"5px 12px",borderRadius:"5px",border:`1px solid ${Q?oe.green:oe.gray200}`,backgroundColor:Q?oe.green10:oe.white,color:Q?oe.green:oe.gray600,fontSize:"0.75rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s"},children:Q?n.jsxs(n.Fragment,{children:[n.jsx(ap,{size:12})," Guardado"]}):n.jsxs(n.Fragment,{children:[n.jsx(To,{size:12})," Grabar"]})}),n.jsxs("button",{onClick:()=>se(J=>!J),style:{display:"inline-flex",alignItems:"center",gap:"5px",padding:"5px 12px",borderRadius:"5px",border:`1px solid ${X?oe.orange:oe.gray200}`,backgroundColor:X?oe.orange10:oe.white,color:X?oe.orange:oe.gray600,fontSize:"0.75rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s",position:"relative"},children:[n.jsx(bd,{size:12})," Abrir",ae&&n.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:oe.orange,border:`1.5px solid ${oe.white}`}})]}),X&&n.jsxs("div",{style:{position:"absolute",top:"calc(100% + 6px)",right:0,width:"280px",backgroundColor:oe.white,borderRadius:"8px",border:`1px solid ${oe.gray200}`,boxShadow:"0 4px 24px rgba(0,0,0,0.08)",zIndex:200,overflow:"hidden"},children:[n.jsx("div",{style:{padding:"10px 14px",borderBottom:`1px solid ${oe.gray100}`},children:n.jsx("p",{style:{margin:0,fontSize:"0.72rem",fontWeight:"600",color:oe.gray600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Borrador guardado"})}),ae?n.jsxs("div",{style:{padding:"12px 14px",display:"flex",flexDirection:"column",gap:"10px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"8px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsxs("p",{style:{margin:"0 0 3px",fontSize:"0.82rem",fontWeight:"600",color:oe.gray900},children:[ae.projectName||"",ae.storeName&&n.jsxs("span",{style:{color:oe.orange,fontWeight:"400"},children:["  ",ae.storeName]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"600",padding:"1px 6px",borderRadius:"3px",backgroundColor:oe.orange10,color:oe.orange},children:ae.step==="select"?"Step 1":ae.step==="config"?"Step 2":ae.step==="frontstore"?"Step 3":"Completado"}),n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"3px",fontSize:"0.68rem",color:oe.gray400},children:[n.jsx(Ct,{size:9}),new Date(ae.savedAt).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]}),n.jsx("button",{onClick:Ae,title:"Eliminar borrador",style:{background:"none",border:"none",cursor:"pointer",padding:"2px",color:oe.gray300,transition:"color 0.1s"},onMouseEnter:J=>J.currentTarget.style.color=oe.red,onMouseLeave:J=>J.currentTarget.style.color=oe.gray300,children:n.jsx(xr,{size:13})})]}),n.jsxs("button",{onClick:Se,style:{...Ne(),width:"100%",justifyContent:"center",fontSize:"0.78rem"},children:["Continuar ",n.jsx(rc,{size:13})]})]}):n.jsxs("div",{style:{padding:"20px 14px",textAlign:"center"},children:[n.jsx("p",{style:{margin:"0 0 3px",fontSize:"0.78rem",color:oe.gray400,fontWeight:"500"},children:"Sin borradores guardados"}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:oe.gray300},children:"Us Grabar para guardar tu avance"})]})]})]}),v!=="done"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{width:"1px",height:"16px",backgroundColor:oe.gray200}}),n.jsx("button",{onClick:le,style:{fontSize:"0.72rem",color:oe.gray400,background:"none",border:"none",cursor:"pointer"},children:"Resetear"})]})]}),v!=="done"&&n.jsx(sze,{step:v,setStep:C,currentIdx:jt}),v==="select"&&n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflowY:"auto"},children:[n.jsxs("div",{style:{backgroundColor:oe.white,borderBottom:`1px solid ${oe.gray200}`,height:"42px",display:"flex",alignItems:"center",padding:"0 20px",gap:"14px",flexShrink:0,position:"sticky",top:0,zIndex:50},children:[n.jsxs("span",{style:{fontSize:"0.78rem",color:oe.gray400},children:[n.jsx("b",{style:{color:oe.gray900,fontWeight:"600"},children:kt})," mdulos",Pt>0&&n.jsxs(n.Fragment,{children:["  ",n.jsx("b",{style:{color:oe.orange,fontWeight:"600"},children:Pt})," proveedores"]}),"  ",n.jsx("b",{style:{color:oe.gray700,fontWeight:"600"},children:zt.length})," variables"]}),n.jsx("div",{style:{flex:1}}),n.jsx("span",{style:{color:oe.gray200},children:"|"}),n.jsx("button",{onClick:()=>r(new Set(Ti.filter(J=>!J.required).map(J=>J.id))),style:{fontSize:"0.72rem",color:oe.orange,background:"none",border:"none",cursor:"pointer",fontWeight:"600"},children:"Todos"}),n.jsx("button",{onClick:()=>{r(new Set),i({}),s(new Set)},style:{fontSize:"0.72rem",color:oe.gray500,background:"none",border:"none",cursor:"pointer"},children:"Limpiar"})]}),n.jsx("div",{style:{padding:"12px 16px",backgroundColor:oe.gray50,display:"flex",flexDirection:"column",gap:"6px"},children:rze.map(J=>{const je=v9[J]??oe.gray500,Ie=Ti.filter(ut=>ut.category===J),We=Ie.find(ut=>J0.has(ut.id)),Wt=Ie.filter(ut=>!J0.has(ut.id)),Ve=We?t.has(We.id)||!!We.required:!1,Kt=Ie.filter(ut=>t.has(ut.id)||ut.required).length,dt=d===J,sr=Wt.filter(ut=>t.has(ut.id)||!!ut.required);return n.jsx("div",{style:{borderRadius:"10px",border:`1px solid ${dt?je:oe.gray200}`,overflow:"visible",boxShadow:dt?`0 0 0 1px ${je}20`:"0 1px 2px rgba(0,0,0,0.04)",backgroundColor:oe.white,transition:"border-color 0.15s, box-shadow 0.15s"},children:n.jsxs("div",{ref:ut=>{ut?x.current.set(J,ut):x.current.delete(J)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"0 12px",height:"38px",backgroundColor:Ve?`${je}08`:oe.white,borderLeft:`3px solid ${Ve?je:oe.gray200}`,borderRadius:"8px",transition:"all 0.12s"},children:[n.jsxs("button",{onClick:()=>rt(J),style:{display:"flex",alignItems:"center",gap:"7px",flex:1,background:"none",border:"none",cursor:"pointer",padding:0,minWidth:0},children:[n.jsx(Xr,{size:13,color:oe.gray400,style:{flexShrink:0,transition:"transform 0.18s",transform:dt?"rotate(90deg)":"rotate(0deg)"}}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:oe.gray900,whiteSpace:"nowrap",flexShrink:0},children:J}),n.jsx("span",{style:{fontSize:"0.68rem",color:oe.gray400,whiteSpace:"nowrap",flexShrink:0},children:Wt.length>0?` ${Kt-(Ve?1:0)}/${Wt.length}`:""})]}),We&&!We.required&&n.jsxs("div",{onClick:()=>te(We.id),style:{display:"flex",alignItems:"center",gap:"5px",cursor:"pointer",flexShrink:0,padding:"4px 6px",borderRadius:"5px",backgroundColor:Ve?`${je}15`:"transparent",border:`1px solid ${Ve?je:oe.gray200}`,transition:"all 0.12s"},children:[n.jsx("div",{style:{width:"13px",height:"13px",borderRadius:"3px",border:`1.5px solid ${Ve?je:oe.gray300}`,backgroundColor:Ve?je:"transparent",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.12s"},children:Ve&&n.jsx(rn,{size:8,color:oe.white,strokeWidth:3})}),n.jsx("span",{style:{fontSize:"0.64rem",fontWeight:"600",color:Ve?je:oe.gray400},children:"Hub"})]}),(We==null?void 0:We.required)&&n.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"700",color:oe.gray400,backgroundColor:oe.gray100,padding:"2px 6px",borderRadius:"4px",letterSpacing:"0.05em"},children:"BASE"}),sr.length>0&&n.jsx("div",{style:{display:"flex",gap:"3px",overflow:"hidden",flexShrink:1,minWidth:0,alignItems:"center"},children:sr.map(ut=>n.jsxs("div",{onClick:qt=>{qt.stopPropagation(),ut.required||te(ut.id)},title:ut.required?ut.label:`Quitar: ${ut.label}`,style:{display:"inline-flex",alignItems:"center",gap:"3px",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${je}40`,backgroundColor:`${je}12`,color:je,fontSize:"0.6rem",fontWeight:"600",cursor:ut.required?"default":"pointer",flexShrink:0,whiteSpace:"nowrap",transition:"opacity 0.1s, background-color 0.1s"},children:[n.jsx(rn,{size:7,color:je,strokeWidth:3.5}),ut.label]},ut.id))}),Kt>0&&n.jsx("span",{style:{fontSize:"0.64rem",fontWeight:"600",padding:"1px 7px",borderRadius:"9999px",color:je,border:`1px solid ${je}30`,backgroundColor:`${je}10`,flexShrink:0},children:Kt})]})},J)})}),d&&p&&(()=>{const J=v9[d]??oe.gray500,je=Ti.filter(dt=>dt.category===d&&!J0.has(dt.id));if(je.length===0)return null;const Ie=window.innerHeight-p.top-8,We=p.headerTop-8,Wt=Ie<260&&We>Ie,Ve=Math.max(220,Wt?We:Ie),Kt=Wt?{bottom:window.innerHeight-p.headerTop+2,top:"auto"}:{top:p.top,bottom:"auto"};return AU.createPortal(n.jsx("div",{ref:m,style:{position:"fixed",...Kt,left:p.left,width:p.width,zIndex:9999,backgroundColor:oe.white,border:`1px solid ${J}`,borderRadius:"10px",boxShadow:"0 16px 40px rgba(0,0,0,0.20)",maxHeight:Ve,overflowX:"hidden",overflowY:"auto"},children:je.map((dt,sr)=>{var xe;const ut=t.has(dt.id)||!!dt.required,qt=a.has(dt.id),mr=!!dt.subOptions,$n=mr?((xe=o[dt.id])==null?void 0:xe.size)??0:0,ee=sr===je.length-1,ue=dt.icon;return n.jsxs("div",{children:[n.jsxs("div",{onClick:()=>te(dt.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"0 12px 0 22px",height:"32px",borderLeft:`3px solid ${ut?J:"transparent"}`,backgroundColor:ut?`${J}07`:"transparent",cursor:dt.required?"default":"pointer",borderBottom:ee&&!qt?"none":`1px solid ${oe.gray100}`,transition:"background-color 0.1s"},children:[n.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",border:`1.5px solid ${ut?J:oe.gray300}`,backgroundColor:ut?J:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.12s"},children:ut&&n.jsx(rn,{size:8,color:oe.white,strokeWidth:3})}),n.jsx(ue,{size:13,color:ut?J:oe.gray300,style:{flexShrink:0}}),n.jsx("span",{style:{flex:1,fontSize:"0.78rem",fontWeight:ut?"600":"400",color:ut?oe.gray800:oe.gray500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:dt.label}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",flexShrink:0},children:[dt.required&&n.jsx("span",{style:{fontSize:"0.58rem",fontWeight:"700",color:oe.gray400,backgroundColor:oe.gray100,padding:"1px 5px",borderRadius:"3px"},children:"BASE"}),mr&&n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"3px",fontSize:"0.68rem",color:$n>0&&ut?J:oe.gray300,fontWeight:$n>0&&ut?"700":"400"},children:[n.jsx(va,{size:10,color:$n>0&&ut?J:oe.gray300}),ut?`${$n}/${dt.subOptions.length}`:dt.subOptions.length]}),mr&&ut&&n.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),he(Ce,dt.id)},style:{width:"20px",height:"20px",borderRadius:"4px",border:`1px solid ${qt?J:oe.gray200}`,backgroundColor:qt?`${J}15`:"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.12s",flexShrink:0},children:n.jsx(Yn,{size:10,color:qt?J:oe.gray400,style:{transition:"transform 0.18s",transform:qt?"rotate(180deg)":"rotate(0deg)"}})})]})]}),ut&&qt&&mr&&(()=>{const Ce=o[dt.id]??new Set,Oe=dt.subOptions.every(Le=>Ce.has(Le.id));return n.jsxs("div",{style:{borderLeft:`3px solid ${J}`,borderBottom:ee?"none":`1px solid ${oe.gray100}`,backgroundColor:`${J}05`,padding:"8px 12px 10px 36px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"7px"},children:[n.jsxs("span",{style:{fontSize:"0.6rem",fontWeight:"700",color:oe.gray400,textTransform:"uppercase",letterSpacing:"0.07em"},children:["Proveedores ",Ce.size,"/",dt.subOptions.length]}),n.jsx("button",{onClick:()=>dt.subOptions.forEach(Le=>{const He=Ce.has(Le.id);(Oe?He:!He)&&Te(dt.id,Le.id)}),style:{fontSize:"0.65rem",color:J,background:"none",border:"none",cursor:"pointer",fontWeight:"700",padding:0},children:Oe?"Quitar todos":"Sel. todos"})]}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:dt.subOptions.map(Le=>{const He=Ce.has(Le.id);return n.jsxs("button",{onClick:()=>Te(dt.id,Le.id),style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"3px 8px",borderRadius:"4px",border:`1px solid ${He?J:oe.gray200}`,backgroundColor:oe.white,color:He?J:oe.gray500,fontSize:"0.7rem",fontWeight:He?"600":"400",cursor:"pointer",transition:"all 0.1s",boxShadow:He?`0 0 0 1px ${J}`:"none"},children:[He&&n.jsx(rn,{size:8,color:J,strokeWidth:3}),Le.label,n.jsx(UY,{text:Le.badge})]},Le.id)})})]})})()]},dt.id)})}),document.body)})(),n.jsxs("div",{style:{backgroundColor:oe.white,borderTop:`1px solid ${oe.gray200}`,padding:"10px 20px",display:"flex",alignItems:"center",position:"sticky",bottom:0,zIndex:50},children:[n.jsxs("span",{style:{fontSize:"0.75rem",color:oe.gray400},children:[n.jsx("b",{style:{color:oe.gray900,fontWeight:"600"},children:kt})," mdulos seleccionados",Pt>0&&n.jsxs(n.Fragment,{children:["  ",n.jsx("b",{style:{color:oe.orange,fontWeight:"600"},children:Pt})," proveedores"]}),"  ",n.jsx("b",{style:{color:oe.gray700,fontWeight:"600"},children:zt.length})," variables de entorno"]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{onClick:()=>C("config"),disabled:t.size===0,style:Ne(t.size>0),children:["Continuar ",n.jsx(rc,{size:14})]})]})]}),v==="config"&&n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:n.jsxs("div",{style:{maxWidth:"760px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:be,children:[n.jsx("p",{style:Pe,children:"Repositorio"}),n.jsx("label",{style:$e,children:"Nombre del proyecto"}),n.jsx("input",{value:y,onChange:J=>b(J.target.value.replace(/\s+/g,"-").toLowerCase()),placeholder:"ej: oddy-store",style:{...we,fontFamily:"monospace"}}),n.jsxs("p",{style:Be,children:["github.com/CharlieUY711/",y||"nombre-del-proyecto"]})]}),n.jsxs("div",{style:be,children:[n.jsxs("p",{style:Pe,children:["Mdulos incluidos ",n.jsxs("span",{style:{color:oe.gray400,fontWeight:"400"},children:["(",kt,")"]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:Ti.filter(J=>t.has(J.id)||J.required).map(J=>{const je=J.subOptions?[...o[J.id]??[]].map(Ie=>J.subOptions.find(We=>We.id===Ie)).filter(Boolean):[];return n.jsxs("div",{style:{borderRadius:"5px",border:`1px solid ${oe.gray200}`,overflow:"hidden"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"7px 12px",backgroundColor:J.required?oe.gray50:oe.orange10},children:[n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"500",color:oe.gray800,flex:1},children:J.label}),J.required&&n.jsx("span",{style:{fontSize:"0.6rem",color:oe.gray400,fontWeight:"500",letterSpacing:"0.04em"},children:"BASE"}),je.length>0&&n.jsxs("span",{style:{fontSize:"0.67rem",color:oe.orange,fontWeight:"500"},children:[je.length," proveedor",je.length>1?"es":""]})]}),je.length>0&&n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",padding:"7px 12px",backgroundColor:oe.white},children:je.map(Ie=>n.jsx(ize,{label:Ie.label,badge:Ie.badge,active:!0,onClick:()=>{}},Ie.id))})]},J.id)})})]}),n.jsxs("div",{style:be,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"14px"},children:[n.jsx("p",{style:{...Pe,margin:0},children:"Variables de entorno"}),n.jsxs("span",{style:{fontSize:"0.68rem",color:oe.gray400},children:["(",zt.length,")"]})]}),n.jsxs("div",{style:{...Je,maxHeight:"180px"},children:[n.jsx("p",{style:{margin:"0 0 8px",color:"#4B5563",fontSize:"0.68rem"},children:"# .env.example"}),zt.map(J=>n.jsxs("p",{style:{margin:"1px 0",color:"#8B949E"},children:[n.jsx("span",{style:{color:"#79C0FF"},children:J}),n.jsx("span",{style:{color:"#4B5563"},children:"="}),n.jsx("span",{style:{color:"#7EE787"},children:'""'})]},J))]})]}),n.jsxs("div",{style:{backgroundColor:oe.amber10,border:"1px solid #FDE68A",borderRadius:"6px",padding:"14px 16px"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.75rem",fontWeight:"600",color:"#92400E"},children:"Requisitos mnimos"}),n.jsx("ul",{style:{margin:0,paddingLeft:"16px",display:"flex",flexDirection:"column",gap:"4px"},children:["Proyecto Supabase creado","SUPABASE_URL y SUPABASE_ANON_KEY completadas","Repositorio conectado a Vercel / Netlify",...((Qe=o["metodos-pago"])==null?void 0:Qe.size)>0?["Cuentas activas en las pasarelas de pago"]:[],...zt.some(J=>J.includes("MAPS"))?["Google Maps API Key habilitada para el dominio"]:[]].map((J,je)=>n.jsx("li",{style:{fontSize:"0.75rem",color:"#78350F"},children:J},je))})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"8px"},children:[n.jsx("button",{onClick:()=>C("select"),style:Fe,children:" Volver"}),n.jsxs("button",{disabled:!y,onClick:()=>{y&&(it(),C("frontstore"))},style:Ne(!!y),children:[n.jsx(di,{size:14})," Configurar Frontstore ",n.jsx(rc,{size:14})]})]})]})}),v==="frontstore"&&n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:n.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:oe.white,border:`1px solid ${oe.gray200}`,borderLeft:`3px solid ${oe.orange}`,borderRadius:"6px",padding:"12px 16px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx(ja,{size:14,color:oe.orange}),n.jsxs("p",{style:{margin:0,fontSize:"0.78rem",color:oe.gray600},children:["ODDY usar el ",n.jsx("b",{style:{color:oe.gray900},children:"Frontstore nativo de Charlie"}),". La configuracin se exporta en ",n.jsx("code",{style:{fontSize:"0.72rem",backgroundColor:oe.gray100,padding:"1px 5px",borderRadius:"3px",color:oe.gray700},children:"charlie.config.json"})," y en las variables de entorno."]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:be,children:[n.jsx("p",{style:Pe,children:"Identidad"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:$e,children:["Nombre de la tienda ",n.jsx("span",{style:{color:oe.orange},children:"*"})]}),n.jsx("input",{value:_,onChange:J=>z(J.target.value),placeholder:"ej: ODDY",style:{...we,borderColor:_?oe.orange:oe.gray200}}),n.jsx("p",{style:Be,children:" VITE_STORE_NAME"})]}),n.jsxs("div",{children:[n.jsx("label",{style:$e,children:"Tagline"}),n.jsx("input",{value:B,onChange:J=>P(J.target.value),placeholder:"ej: Tu tienda de confianza",style:we}),n.jsx("p",{style:Be,children:" VITE_STORE_TAGLINE"})]}),n.jsxs("div",{children:[n.jsx("label",{style:$e,children:"Moneda"}),n.jsx("select",{value:D,onChange:J=>I(J.target.value),style:{...we},children:oze.map(J=>n.jsx("option",{value:J.code,children:J.label},J.code))}),n.jsx("p",{style:Be,children:" VITE_CURRENCY"})]})]})]}),n.jsxs("div",{style:be,children:[n.jsx("p",{style:Pe,children:"Paleta de colores"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[n.jsx(dF,{label:"Color primario",hint:" VITE_PRIMARY_COLOR",value:N,onChange:M}),n.jsx(dF,{label:"Color secundario",hint:" VITE_SECONDARY_COLOR",value:V,onChange:L}),n.jsx(dF,{label:"Fondo",hint:"Background del sitio",value:W,onChange:G})]}),n.jsxs("div",{style:{marginTop:"16px",border:`1px solid ${oe.gray200}`,borderRadius:"6px",overflow:"hidden"},children:[n.jsxs("div",{style:{backgroundColor:V,padding:"7px 12px",display:"flex",alignItems:"center",gap:"7px"},children:[n.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:N}}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"600",color:"#fff",opacity:.9,flex:1},children:_||"Tu Tienda"}),n.jsx("div",{style:{backgroundColor:N,color:"#fff",fontSize:"0.62rem",fontWeight:"600",padding:"3px 8px",borderRadius:"4px"},children:"Shop"})]}),n.jsx("div",{style:{backgroundColor:W,padding:"10px 12px",display:"flex",gap:"6px"},children:[1,2,3].map(J=>n.jsx("div",{style:{flex:1,height:"36px",borderRadius:"5px",backgroundColor:J===3?N:oe.gray100}},J))}),n.jsx("div",{style:{backgroundColor:W,padding:"3px 12px 8px",borderTop:`1px solid ${oe.gray100}`},children:n.jsx("p",{style:{margin:0,fontSize:"0.6rem",color:oe.gray400},children:"Vista previa de paleta"})})]})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:be,children:[n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("p",{style:{...Pe,margin:"0 0 2px"},children:"Pginas del Storefront"}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:oe.gray400},children:"Se activan segn los mdulos de Step 1"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:K.map(J=>{const je=!!(J.requiresModule&&!t.has(J.requiresModule)),Ie=J.icon;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"7px 10px",borderRadius:"5px",backgroundColor:J.enabled&&!je?oe.orange10:oe.gray50,border:`1px solid ${J.enabled&&!je?`${oe.orange}30`:oe.gray100}`,opacity:je?.5:1},children:[n.jsx(Ie,{size:13,color:J.enabled&&!je?oe.orange:oe.gray400}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.76rem",fontWeight:"500",color:oe.gray800},children:J.label}),n.jsxs("p",{style:{margin:0,fontSize:"0.63rem",color:oe.gray400,fontFamily:"monospace"},children:[J.path,je&&n.jsxs("span",{style:{color:oe.amber,fontFamily:"inherit",marginLeft:"4px"},children:[" falta ",J.requiresModule]})]})]}),n.jsx(S9,{on:J.enabled&&!je,onChange:()=>ne(We=>We.map(Wt=>Wt.id===J.id&&!Wt.alwaysOn?{...Wt,enabled:!Wt.enabled}:Wt)),disabled:!!J.alwaysOn||je})]},J.id)})})]}),n.jsxs("div",{style:be,children:[n.jsxs("div",{style:{marginBottom:"14px"},children:[n.jsx("p",{style:{...Pe,margin:"0 0 2px"},children:"Secciones del Home"}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:oe.gray400},children:"Contenido visible en la pgina principal"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:U.map((J,je)=>{const Ie=!!(J.requiresModule&&!t.has(J.requiresModule)),We=J.icon;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"7px 10px",borderRadius:"5px",backgroundColor:J.enabled&&!Ie?oe.orange10:oe.gray50,border:`1px solid ${J.enabled&&!Ie?`${oe.orange}30`:oe.gray100}`,opacity:Ie?.5:1},children:[n.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"600",color:oe.gray300,minWidth:"16px",fontFamily:"monospace"},children:String(je+1).padStart(2,"0")}),n.jsx(We,{size:12,color:J.enabled&&!Ie?oe.orange:oe.gray400}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.76rem",fontWeight:"500",color:oe.gray800},children:J.label}),n.jsxs("p",{style:{margin:0,fontSize:"0.63rem",color:oe.gray400},children:[J.description,Ie&&n.jsxs("span",{style:{color:oe.amber,marginLeft:"4px"},children:[" falta ",J.requiresModule]})]})]}),n.jsx(S9,{on:J.enabled&&!Ie,onChange:()=>H(Wt=>Wt.map(Ve=>Ve.id===J.id?{...Ve,enabled:!Ve.enabled}:Ve)),disabled:Ie})]},J.id)})})]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"8px"},children:[n.jsx("button",{onClick:()=>C("config"),style:Fe,children:" Volver"}),n.jsxs("button",{disabled:!_,onClick:()=>_&&C("done"),style:Ne(!!_),children:[n.jsx(RF,{size:14})," Generar proyecto ",n.jsx(rc,{size:14})]})]})]})}),v==="done"&&n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:n.jsxs("div",{style:{maxWidth:"880px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:oe.white,border:`1px solid ${oe.gray200}`,borderRadius:"8px",padding:"28px 24px",textAlign:"center"},children:[n.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:oe.orange10,border:`1px solid ${oe.orange20}`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 14px"},children:n.jsx(RF,{size:20,color:oe.orange})}),n.jsxs("h2",{style:{margin:"0 0 6px",fontSize:"1.1rem",fontWeight:"700",color:oe.gray900,letterSpacing:"-0.01em"},children:[n.jsx("span",{style:{color:oe.orange},children:_})," est listo"]}),n.jsxs("p",{style:{margin:"0 0 14px",fontSize:"0.78rem",color:oe.gray400},children:[kt," mdulos  ",Pt," proveedores  ",zt.length," variables"]}),n.jsx("div",{style:{display:"inline-flex",flexWrap:"wrap",gap:"6px",justifyContent:"center"},children:[{label:N,style:{backgroundColor:`${N}18`,color:N,border:`1px solid ${N}30`}},{label:D,style:{backgroundColor:oe.green10,color:oe.green,border:"1px solid #D1FAE5"}},{label:`${U.filter(J=>J.enabled).length} secciones`,style:{backgroundColor:oe.gray50,color:oe.gray600,border:`1px solid ${oe.gray200}`}},{label:`${K.filter(J=>J.enabled).length} pginas`,style:{backgroundColor:oe.gray50,color:oe.gray600,border:`1px solid ${oe.gray200}`}}].map((J,je)=>n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"500",padding:"3px 10px",borderRadius:"20px",fontFamily:je===0?"monospace":"inherit",...J.style},children:J.label},je))})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[n.jsxs("div",{style:be,children:[n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 1px",fontSize:"0.8rem",fontWeight:"600",color:oe.gray900,fontFamily:"monospace"},children:".env.example"}),n.jsxs("p",{style:{margin:0,fontSize:"0.68rem",color:oe.gray400},children:[zt.length," variables"]})]})}),n.jsxs("div",{style:{...Je,maxHeight:"200px",marginBottom:"12px"},children:[n.jsxs("p",{style:{margin:"0 0 8px",color:"#4B5563",fontSize:"0.65rem"},children:["# ",y]}),zt.map(J=>n.jsxs("p",{style:{margin:"1px 0",color:"#8B949E",fontSize:"0.7rem"},children:[n.jsx("span",{style:{color:"#79C0FF"},children:J}),n.jsx("span",{style:{color:"#4B5563"},children:"="}),n.jsx("span",{style:{color:"#7EE787"},children:J==="VITE_STORE_NAME"?`"${_}"`:J==="VITE_CURRENCY"?`"${D}"`:J==="VITE_PRIMARY_COLOR"?`"${N}"`:J==="VITE_SECONDARY_COLOR"?`"${V}"`:'""'})]},J))]}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsxs("button",{onClick:()=>Sr(fr(),".env.example","text/plain"),style:{...Ne(),flex:1,justifyContent:"center",fontSize:"0.76rem",padding:"7px"},children:[n.jsx(Ht,{size:12})," Descargar"]}),n.jsx("button",{onClick:()=>Lt(fr(),k),style:{display:"inline-flex",alignItems:"center",gap:"5px",flex:1,justifyContent:"center",padding:"7px",borderRadius:"5px",border:`1px solid ${w?oe.green:oe.gray200}`,backgroundColor:w?oe.green10:oe.white,color:w?oe.green:oe.gray600,fontSize:"0.76rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s"},children:w?n.jsxs(n.Fragment,{children:[n.jsx(ap,{size:12})," Copiado"]}):n.jsxs(n.Fragment,{children:[n.jsx(ho,{size:12})," Copiar"]})})]})]}),n.jsxs("div",{style:be,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 1px",fontSize:"0.8rem",fontWeight:"600",color:oe.gray900,fontFamily:"monospace"},children:"charlie.config.json"}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:oe.gray400},children:"Configuracin completa del proyecto"})]}),n.jsx(Kte,{size:14,color:oe.gray300})]}),n.jsx("div",{style:{...Je,maxHeight:"200px",marginBottom:"12px"},children:ar().split(`
`).map((J,je)=>{const Ie=/: "/.test(J),We=/^[\s]*[{}\[\],]$/.test(J.trim());return n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:We?"#4B5563":Ie?"#7EE787":"#79C0FF",whiteSpace:"pre",lineHeight:"1.6"},children:J},je)})}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsxs("button",{onClick:()=>Sr(ar(),"charlie.config.json","application/json"),style:{display:"inline-flex",alignItems:"center",gap:"5px",flex:1,justifyContent:"center",padding:"7px",borderRadius:"5px",border:"none",backgroundColor:oe.gray900,color:oe.white,fontSize:"0.76rem",fontWeight:"500",cursor:"pointer"},children:[n.jsx(Ht,{size:12})," Descargar"]}),n.jsx("button",{onClick:()=>Lt(ar(),T),style:{display:"inline-flex",alignItems:"center",gap:"5px",flex:1,justifyContent:"center",padding:"7px",borderRadius:"5px",border:`1px solid ${E?oe.green:oe.gray200}`,backgroundColor:E?oe.green10:oe.white,color:E?oe.green:oe.gray600,fontSize:"0.76rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s"},children:E?n.jsxs(n.Fragment,{children:[n.jsx(ap,{size:12})," Copiado"]}):n.jsxs(n.Fragment,{children:[n.jsx(ho,{size:12})," Copiar"]})})]})]})]}),n.jsxs("div",{style:be,children:[n.jsx("p",{style:Pe,children:"Prximos pasos"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[{n:"01",title:"Clonar template",cmd:`git clone https://github.com/CharlieUY711/oddy-template ${y}`},{n:"02",title:"Copiar archivos de config",cmd:"Mover .env.example y charlie.config.json a la raz del repo"},{n:"03",title:"Completar variables",cmd:"mv .env.example .env    completar valores reales"},{n:"04",title:"Instalar dependencias",cmd:`cd ${y} && pnpm install`},{n:"05",title:"Configurar Supabase",cmd:"supabase.com  nuevo proyecto  copiar URL y anon key"},{n:"06",title:"Deploy",cmd:"Conectar repo a Vercel / Netlify  deploy automtico en push"}].map(J=>n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"5px",backgroundColor:oe.orange10,border:`1px solid ${oe.orange20}`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:"1px"},children:n.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"700",color:oe.orange},children:J.n})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.78rem",fontWeight:"600",color:oe.gray900},children:J.title}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:oe.gray500,fontFamily:"monospace",backgroundColor:oe.gray50,padding:"3px 7px",borderRadius:"4px",border:`1px solid ${oe.gray100}`},children:J.cmd})]})]},J.n))})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"space-between",paddingBottom:"8px"},children:[n.jsx("button",{onClick:le,style:Fe,children:" Nuevo proyecto"}),n.jsxs("a",{href:"https://github.com/CharlieUY711",target:"_blank",rel:"noopener noreferrer",style:{...Fe,textDecoration:"none",backgroundColor:oe.gray900,color:oe.white,border:"none"},children:[n.jsx(gn,{size:13})," Ver en GitHub"]})]})]})})]})}function Bv(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r}function cze(e,t,r,o){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(f){try{d(o.next(f))}catch(p){s(p)}}function c(f){try{d(o.throw(f))}catch(p){s(p)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((o=o.apply(e,t||[])).next())})}const dze=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class q6 extends Error{constructor(t,r="FunctionsError",o){super(t),this.name=r,this.context=o}}class uze extends q6{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class E9 extends q6{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class C9 extends q6{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var q5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(q5||(q5={}));class pze{constructor(t,{headers:r={},customFetch:o,region:i=q5.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=dze(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cze(this,arguments,void 0,function*(r,o={}){var i;let a,s;try{const{headers:l,method:c,body:d,signal:f,timeout:p}=o;let h={},{region:x}=o;x||(x=this.region);const m=new URL(`${this.url}/${r}`);x&&x!=="any"&&(h["x-region"]=x,m.searchParams.set("forceFunctionRegion",x));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?y=JSON.stringify(d):y=d;let b=f;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),f?(b=s.signal,f.addEventListener("abort",()=>s.abort())):b=s.signal);const v=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:y,signal:b}).catch(w=>{throw new uze(w)}),C=v.headers.get("x-relay-error");if(C&&C==="true")throw new E9(v);if(!v.ok)throw new C9(v);let S=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),F;return S==="application/json"?F=yield v.json():S==="application/octet-stream"||S==="application/pdf"?F=yield v.blob():S==="text/event-stream"?F=v:S==="multipart/form-data"?F=yield v.formData():F=yield v.text(),{data:F,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof C9||l instanceof E9?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var fze=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},hze=class{constructor(e){var t,r,o;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(o=e.urlLengthLimit)!==null&&o!==void 0?o:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let i=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,c=null,d=a.status,f=a.statusText;if(a.ok){var p,h;if(r.method!=="HEAD"){var x;const v=await a.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const y=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var m;const y=await a.text();try{s=JSON.parse(y),Array.isArray(s)&&a.status===404&&(l=[],s=null,d=200,f="OK")}catch{a.status===404&&y===""?(d=204,f="No Content"):s={message:y}}if(s&&r.isMaybeSingle&&(!(s==null||(m=s.details)===null||m===void 0)&&m.includes("0 rows"))&&(s=null,d=200,f="OK"),s&&r.shouldThrowOnError)throw new fze(s)}return{error:s,data:l,count:c,status:d,statusText:f}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="",c="",d="";const f=a==null?void 0:a.cause;if(f){var p,h,x,m;const v=(p=f==null?void 0:f.message)!==null&&p!==void 0?p:"",C=(h=f==null?void 0:f.code)!==null&&h!==void 0?h:"";l=`${(x=a==null?void 0:a.name)!==null&&x!==void 0?x:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(m=f==null?void 0:f.name)!==null&&m!==void 0?m:"Error"}: ${v}`,C&&(l+=` (${C})`),f!=null&&f.stack&&(l+=`
${f.stack}`)}else{var y;l=(y=a==null?void 0:a.stack)!==null&&y!==void 0?y:""}const b=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(d="",c="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((f==null?void 0:f.name)==="HeadersOverflowError"||(f==null?void 0:f.code)==="UND_ERR_HEADERS_OVERFLOW")&&(d="",c="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(c+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:c,code:d},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},gze=class extends hze{select(e){let t=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){const i=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:a="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const k9=new RegExp("[,()]");var $u=class extends gze{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(o=>typeof o=="string"&&k9.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(o=>typeof o=="string"&&k9.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},xze=class{constructor(e,{headers:t={},schema:r,fetch:o,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:o}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),o&&c.append("Prefer",`count=${o}`),new $u({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new $u({method:i,url:a,headers:s,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var a;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),o&&c.append("Prefer",`count=${o}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);l.searchParams.set("columns",f.join(","))}}return new $u({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const o="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new $u({method:o,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:o,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new $u({method:r,url:o,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}function mze(e,t){if(nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(nx(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yze(e){var t=mze(e,"string");return nx(t)=="symbol"?t:t+""}function bze(e,t,r){return(t=yze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F9(Object(r),!0).forEach(function(o){bze(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var vze=class qY{constructor(t,{headers:r={},schema:o,fetch:i,timeout:a,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=o,this.urlLengthLimit=s;const l=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(c,d)=>{const f=new AbortController,p=setTimeout(()=>f.abort(),a),h=d==null?void 0:d.signal;if(h){if(h.aborted)return clearTimeout(p),l(c,d);const x=()=>{clearTimeout(p),f.abort()};return h.addEventListener("abort",x,{once:!0}),l(c,Q0(Q0({},d),{},{signal:f.signal})).finally(()=>{clearTimeout(p),h.removeEventListener("abort",x)})}return l(c,Q0(Q0({},d),{},{signal:f.signal})).finally(()=>clearTimeout(p))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xze(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new qY(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:o=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;const f=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(f)),p=o&&Object.values(r).some(f);p?(l="POST",d=r):o||i?(l=o?"HEAD":"GET",Object.entries(r).filter(([x,m])=>m!==void 0).map(([x,m])=>[x,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([x,m])=>{c.searchParams.append(x,m)})):(l="POST",d=r);const h=new Headers(this.headers);return p?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new $u({method:l,url:c,headers:h,schema:this.schemaName,body:d,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class jze{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const o=r.versions;if(o&&o.node){const i=o.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const o=this.getWebSocketConstructor();return new o(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Sze="2.98.0",wze=`realtime-js/${Sze}`,Eze="1.0.0",HY="2.0.0",A9=HY,H5=1e4,Cze=1e3,kze=100;var Kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kl||(Kl={}));var Cn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cn||(Cn={}));var ha;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ha||(ha={}));var G5;(function(e){e.websocket="websocket"})(G5||(G5={}));var nd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nd||(nd={}));class Fze{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,o;const i=(o=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,o;const i=(o=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,o){var i,a;const s=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(f).length===0?"":JSON.stringify(f);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+d.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(x),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,c.length),m.setUint8(y++,l.length),m.setUint8(y++,s.length),m.setUint8(y++,d.length),m.setUint8(y++,p.length),m.setUint8(y++,r),Array.from(c,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(s,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(d,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(p,v=>m.setUint8(y++,v.charCodeAt(0)));var b=new Uint8Array(x.byteLength+o.byteLength);return b.set(new Uint8Array(x),0),b.set(new Uint8Array(o),x.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return r(o)}if(typeof t=="string"){const o=JSON.parse(t),[i,a,s,l,c]=o;return r({join_ref:i,ref:a,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),o=r.getUint8(0),i=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,o){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=o.decode(t.slice(c,c+i));c=c+i;const f=o.decode(t.slice(c,c+a));c=c+a;const p=o.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(o.decode(h)):h,m={type:this.BROADCAST_EVENT,event:f,payload:x};return s>0&&(m.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>r.includes(o)))}}class GY{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Fr||(Fr={}));const _9=(e,t,r={})=>{var o;const i=(o=r.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=Aze(s,e,t,i),a),{}):{}},Aze=(e,t,r,o)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!o.includes(a)?KY(a,s):K5(s)},KY=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Pze(t,r)}switch(e){case Fr.bool:return _ze(t);case Fr.float4:case Fr.float8:case Fr.int2:case Fr.int4:case Fr.int8:case Fr.numeric:case Fr.oid:return Rze(t);case Fr.json:case Fr.jsonb:return Tze(t);case Fr.timestamp:return zze(t);case Fr.abstime:case Fr.date:case Fr.daterange:case Fr.int4range:case Fr.int8range:case Fr.money:case Fr.reltime:case Fr.text:case Fr.time:case Fr.timestamptz:case Fr.timetz:case Fr.tsrange:case Fr.tstzrange:return K5(t);default:return K5(t)}},K5=e=>e,_ze=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rze=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Tze=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Pze=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,o=e[r];if(e[0]==="{"&&o==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>KY(t,l))}return e},zze=e=>typeof e=="string"?e.replace(" ","T"):e,YY=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class uF{constructor(t,r,o={},i=H5){this.channel=t,this.event=r,this.payload=o,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var o;return this._hasReceived(t)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var R9;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(R9||(R9={}));class Xh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Xh.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(o.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xh.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,o,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(a,(d,f)=>{s[d]||(c[d]=f)}),this.map(s,(d,f)=>{const p=a[d];if(p){const h=f.map(b=>b.presence_ref),x=p.map(b=>b.presence_ref),m=f.filter(b=>x.indexOf(b.presence_ref)<0),y=p.filter(b=>h.indexOf(b.presence_ref)<0);m.length>0&&(l[d]=m),y.length>0&&(c[d]=y)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:c},o,i)}static syncDiff(t,r,o,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),f.length>0){const p=t[l].map(x=>x.presence_ref),h=f.filter(x=>p.indexOf(x.presence_ref)<0);t[l].unshift(...h)}o(l,f,c)}),this.map(s,(l,c)=>{let d=t[l];if(!d)return;const f=c.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(o=>r(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,o)=>{const i=t[o];return"metas"in i?r[o]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[o]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T9;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(T9||(T9={}));var Jh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jh||(Jh={}));var Ws;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ws||(Ws={}));class np{constructor(t,r={config:{}},o){var i,a;if(this.topic=t,this.params=r,this.socket=o,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uF(this,ha.join,this.params,this.timeout),this.rejoinTimer=new GY(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ha.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Xh(this),this.broadcastEndpointURL=YY(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var o,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Cn.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,d=(i=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(x=>x.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Jh.PRESENCE]&&this.bindings[Jh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Ws.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Ws.CLOSED)),this.updateJoinPayload(Object.assign({config:h},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(Ws.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,v=[];for(let C=0;C<b;C++){const S=y[C],{filter:{event:F,schema:w,table:k,filter:E}}=S,T=x&&x[C];if(T&&T.event===F&&np.isFilterValueEqual(T.schema,w)&&np.isFilterValueEqual(T.table,k)&&np.isFilterValueEqual(T.filter,E))v.push(Object.assign(Object.assign({},S),{id:T.id}));else{this.unsubscribe(),this.state=Cn.errored,t==null||t(Ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Ws.SUBSCRIBED);return}}).receive("error",x=>{this.state=Cn.errored,t==null||t(Ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,o){return this.state===Cn.joined&&t===Jh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,o)}async httpSend(t,r,o={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ha.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(i=>{o=new uF(this,ha.leave,{},t),o.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cn.closed,this.bindings={}}async _fetchWithTimeout(t,r,o){const i=new AbortController,a=setTimeout(()=>i.abort(),o),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uF(this,t,r,o);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kze){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,o){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,o){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:f}=ha;if(o&&[l,c,d,f].indexOf(s)>=0&&o!==this._joinRef())return;let h=this._onMessage(s,r,o);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var m,y,b;return((m=x.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(y=x.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(x=>x.callback(h,o)):(a=this.bindings[s])===null||a===void 0||a.filter(x=>{var m,y,b,v,C,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in x){const F=x.id,w=(m=x.filter)===null||m===void 0?void 0:m.event;return F&&((y=r.ids)===null||y===void 0?void 0:y.includes(F))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const F=(C=(v=x==null?void 0:x.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return F==="*"||F===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===s}).map(x=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:b,commit_timestamp:v,type:C,errors:S}=m;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(m))}x.callback(h,o)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,o){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:o};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===o&&np.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const o in t)if(t[o]!==r[o])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ha.close,{},t)}_onError(t){this._on(ha.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_9(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_9(t.columns,t.old_record)),r}}const pF=()=>{},Z0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bze=[1e3,2e3,5e3,1e4],Ize=1e4,Oze=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dze{constructor(t,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H5,this.transport=null,this.heartbeatIntervalMs=Z0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pF,this.ref=0,this.reconnectTimer=null,this.vsn=A9,this.logger=pF,this.conn=null,this.sendBuffer=[],this.serializer=new Fze,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((o=r==null?void 0:r.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${G5.websocket}`,this.httpEndpoint=YY(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jze.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,o){this.logger(t,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Kl.connecting:return nd.Connecting;case Kl.open:return nd.Open;case Kl.closing:return nd.Closing;default:return nd.Closed}}isConnected(){return this.connectionState()===nd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const o=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===o);if(i)return i;{const a=new np(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:o,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${o} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Cze,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Z0.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${o} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(o)).forEach(d=>d._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Kl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kl.open||this.conn.readyState===Kl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ha.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const o=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${o}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const o=new Blob([Oze],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,o=!1;if(t)r=t,o=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:wze};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(ha.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new GY(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Z0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,o,i,a,s,l,c,d,f,p,h,x;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(o=t==null?void 0:t.timeout)!==null&&o!==void 0?o:H5,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Z0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:pF,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:A9,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(m=>Bze[m-1]||Ize),this.vsn){case Eze:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((m,y)=>y(JSON.stringify(m))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:((m,y)=>y(JSON.parse(m)));break;case HY:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ox=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mze(e,t,r){const o=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&o.searchParams.set(i,a);return o.toString()}async function $ze(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Nze(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:o,query:i,body:a,headers:s}){const l=Mze(e.baseUrl,o,i),c=await $ze(e.auth),d=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),f=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),h=p&&f?JSON.parse(f):f;if(!d.ok){const x=p?h:void 0,m=x==null?void 0:x.error;throw new ox((m==null?void 0:m.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:x})}return{status:d.status,headers:d.headers,data:h}}}}function ey(e){return e.join("")}var Lze=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ey(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ey(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ey(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ey(e.namespace)}`}),!0}catch(t){if(t instanceof ox&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ox&&r.status===409)return;throw r}}};function Au(e){return e.join("")}var Wze=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ox&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ox&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Vze=class{constructor(e){var o;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Nze({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(o=e.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new Lze(this.client,t),this.tableOps=new Wze(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Iv=class extends Error{constructor(e,t="storage",r,o){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=o}};function Ov(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ty=class extends Iv{constructor(e,t,r,o="storage"){super(e,o,t,r),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},XY=class extends Iv{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Uze=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qze=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Y5=e=>{if(Array.isArray(e))return e.map(r=>Y5(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,o])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Y5(o)}),t},Hze=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}function Gze(e,t){if(ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(ix(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kze(e){var t=Gze(e,"string");return ix(t)=="symbol"?t:t+""}function Yze(e,t,r){return(t=Kze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P9(Object(r),!0).forEach(function(o){Yze(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P9(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}const z9=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Xze=async(e,t,r,o)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new ty(z9(s),a,l,o))}).catch(()=>{if(o==="vectors"){const s=a+"";t(new ty(i.statusText||`HTTP ${a} error`,a,s,o))}else{const s=a+"";t(new ty(i.statusText||`HTTP ${a} error`,a,s,o))}});else{const s=a+"";t(new ty(i.statusText||`HTTP ${a} error`,a,s,o))}}else t(new XY(z9(e),e,o))},Jze=(e,t,r,o)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!o?mt(mt({},i),r):(qze(o)?(i.headers=mt({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(o)):i.body=o,t!=null&&t.duplex&&(i.duplex=t.duplex),mt(mt({},i),r))};async function Sh(e,t,r,o,i,a,s){return new Promise((l,c)=>{e(r,Jze(t,o,i,a)).then(d=>{if(!d.ok)throw d;if(o!=null&&o.noResolveJson)return d;if(s==="vectors"){const f=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!f||!f.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>Xze(d,c,o,s))})}function JY(e="storage"){return{get:async(t,r,o,i)=>Sh(t,"GET",r,o,i,void 0,e),post:async(t,r,o,i,a)=>Sh(t,"POST",r,i,a,o,e),put:async(t,r,o,i,a)=>Sh(t,"PUT",r,i,a,o,e),head:async(t,r,o,i)=>Sh(t,"HEAD",r,mt(mt({},o),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,o,i,a)=>Sh(t,"DELETE",r,i,a,o,e)}}const Qze=JY("storage"),{get:ax,post:da,put:X5,head:Zze,remove:H6}=Qze,ai=JY("vectors");var uf=class{constructor(e,t={},r,o="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Uze(r),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=mt(mt({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ov(r))return{data:null,error:r};throw r}}},eBe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ov(t))return{data:null,error:t};throw t}}};let QY;QY=Symbol.toStringTag;var tBe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[QY]="BlobDownloadBuilder",this.promise=null}asStream(){return new eBe(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ov(t))return{data:null,error:t};throw t}}};const rBe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},B9={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var nBe=class extends uf{constructor(e,t={},r,o){super(e,t,o,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,o){var i=this;return i.handleOperation(async()=>{let a;const s=mt(mt({},B9),o);let l=mt(mt({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),o!=null&&o.headers&&(l=mt(mt({},l),o.headers));const d=i._removeEmptyFolders(t),f=i._getFinalPath(d),p=await(e=="PUT"?X5:da)(i.fetch,`${i.url}/object/${f}`,a,mt({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:d,id:p.Id,fullPath:p.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,o){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let c;const d=mt({upsert:B9.upsert},o),f=mt(mt({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType),{path:a,fullPath:(await X5(i.fetch,l.toString(),c,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(e);const i=mt({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await da(r.fetch,`${r.url}/object/upload/sign/${o}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new Iv("No token returned by API");return{signedUrl:s.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var o=this;return o.handleOperation(async()=>await da(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:o.headers}))}async copy(e,t,r){var o=this;return o.handleOperation(async()=>({path:(await da(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(e,t,r){var o=this;return o.handleOperation(async()=>{let i=o._getFinalPath(e),a=await da(o.fetch,`${o.url}/object/sign/${i}`,mt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:o.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${o.url}${a.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var o=this;return o.handleOperation(async()=>{const i=await da(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:e},{headers:o.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>mt(mt({},s),{},{signedUrl:s.signedURL?encodeURI(`${o.url}${s.signedURL}${a}`):null}))})}download(e,t,r){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",s=this._getFinalPath(e),l=()=>ax(this.fetch,`${this.url}/${o}/${s}${a}`,{headers:this.headers,noResolveJson:!0},r);return new tBe(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Y5(await ax(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Zze(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Ov(o)&&o instanceof XY){const i=o.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:o}}throw o}}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&o.push(s);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await H6(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var o=this;return o.handleOperation(async()=>{const i=mt(mt(mt({},rBe),t),{},{prefix:e||""});return await da(o.fetch,`${o.url}/object/list/${o.bucketId}`,i,{headers:o.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const o=mt({},e);return await da(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,o,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const oBe="2.98.0",Lx={"X-Client-Info":`storage-js/${oBe}`};var iBe=class extends uf{constructor(e,t={},r,o){const i=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=mt(mt({},Lx),t);super(a,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ax(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ax(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await da(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await X5(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await da(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await H6(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},aBe=class extends uf{constructor(e,t={},r){const o=e.replace(/\/$/,""),i=mt(mt({},Lx),t);super(o,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await da(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const o=r.toString(),i=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return await ax(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await H6(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Hze(e))throw new Iv("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Vze({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(c){if(o)throw c;return{data:null,error:c}}}}})}},sBe=class extends uf{constructor(e,t={},r){const o=e.replace(/\/$/,""),i=mt(mt({},Lx),{},{"Content-Type":"application/json"},t);super(o,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ai.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ai.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},lBe=class extends uf{constructor(e,t={},r){const o=e.replace(/\/$/,""),i=mt(mt({},Lx),{},{"Content-Type":"application/json"},t);super(o,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},cBe=class extends uf{constructor(e,t={},r){const o=e.replace(/\/$/,""),i=mt(mt({},Lx),{},{"Content-Type":"application/json"},t);super(o,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ai.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},dBe=class extends cBe{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uBe(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},uBe=class extends sBe{constructor(e,t,r,o){super(e,t,o),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new pBe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},pBe=class extends lBe{constructor(e,t,r,o,i){super(e,t,i),this.vectorBucketName=r,this.indexName=o}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},fBe=class extends iBe{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new nBe(this.url,this.headers,e,this.fetch)}get vectors(){return new dBe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aBe(this.url+"/iceberg",this.headers,this.fetch)}};const ZY="2.98.0",Nu=30*1e3,J5=3,fF=J5*Nu,hBe="http://localhost:9999",gBe="supabase.auth.token",xBe={"X-Client-Info":`gotrue-js/${ZY}`},Q5="X-Supabase-Api-Version",eX={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mBe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yBe=600*1e3;class sx extends Error{constructor(t,r,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function lt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bBe extends sx{constructor(t,r,o){super(t,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function vBe(e){return lt(e)&&e.name==="AuthApiError"}class od extends sx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class pl extends sx{constructor(t,r,o,i){super(t,o,i),this.name=r,this.status=o}}class Qo extends pl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hF(e){return lt(e)&&e.name==="AuthSessionMissingError"}class _u extends pl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ry extends pl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ny extends pl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jBe(e){return lt(e)&&e.name==="AuthImplicitGrantRedirectError"}class I9 extends pl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SBe extends pl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Z5 extends pl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gF(e){return lt(e)&&e.name==="AuthRetryableFetchError"}class O9 extends pl{constructor(t,r,o){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}class e8 extends pl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D9=` 	
\r=`.split(""),wBe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<D9.length;t+=1)e[D9[t].charCodeAt(0)]=-2;for(let t=0;t<sb.length;t+=1)e[sb[t].charCodeAt(0)]=t;return e})();function M9(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;r(sb[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;r(sb[o]),t.queuedBits-=6}}function tX(e,t,r){const o=wBe[e];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $9(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},o={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{kBe(s,o,r)};for(let s=0;s<e.length;s+=1)tX(e.charCodeAt(s),i,a);return t.join("")}function EBe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CBe(e,t){for(let r=0;r<e.length;r+=1){let o=e.charCodeAt(r);if(o>55295&&o<=56319){const i=(o-55296)*1024&65535;o=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}EBe(o,t)}}function kBe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let o=1;o<6;o+=1)if((e>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function pp(e){const t=[],r={queue:0,queuedBits:0},o=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)tX(e.charCodeAt(i),r,o);return new Uint8Array(t)}function FBe(e){const t=[];return CBe(e,r=>t.push(r)),new Uint8Array(t)}function fd(e){const t=[],r={queue:0,queuedBits:0},o=i=>{t.push(i)};return e.forEach(i=>M9(i,r,o)),M9(null,r,o),t.join("")}function ABe(e){return Math.round(Date.now()/1e3)+e}function _Be(){return Symbol("auth-callback")}const qn=()=>typeof window<"u"&&typeof document<"u",Hc={tested:!1,writable:!1},rX=()=>{if(!qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hc.tested)return Hc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hc.tested=!0,Hc.writable=!0}catch{Hc.tested=!0,Hc.writable=!1}return Hc.writable};function RBe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((o,i)=>{t[i]=o}),t}const nX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TBe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Un=async(e,t)=>{await e.removeItem(t)};class Dv{constructor(){this.promise=new Dv.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dv.promiseConstructor=Promise;function oy(e){const t=e.split(".");if(t.length!==3)throw new e8("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!mBe.test(t[o]))throw new e8("JWT not in base64url format");return{header:JSON.parse($9(t[0])),payload:JSON.parse($9(t[1])),signature:pp(t[2]),raw:{header:t[0],payload:t[1]}}}async function PBe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zBe(e,t){return new Promise((o,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){o(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function BBe(e){return("0"+e.toString(16)).substr(-2)}function IBe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*o));return i}return crypto.getRandomValues(t),Array.from(t,BBe).join("")}async function OBe(e){const r=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(o);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function DBe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await OBe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ru(e,t,r=!1){const o=IBe();let i=o;r&&(i+="/PASSWORD_RECOVERY"),await Lu(e,`${t}-code-verifier`,i);const a=await DBe(o);return[a,o===a?"plain":"s256"]}const MBe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $Be(e){const t=e.headers.get(Q5);if(!t||!t.match(MBe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NBe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LBe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WBe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tu(e){if(!WBe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xF(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VBe(e,t){return new Proxy(e,{get:(r,o,i)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const a=o.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,o,i)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,o,i)}})}function N9(e){return JSON.parse(JSON.stringify(e))}const ed=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UBe=[502,503,504];async function L9(e){var t;if(!TBe(e))throw new Z5(ed(e),0);if(UBe.includes(e.status))throw new Z5(ed(e),e.status);let r;try{r=await e.json()}catch(a){throw new od(ed(a),a)}let o;const i=$Be(e);if(i&&i.getTime()>=eX["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new O9(ed(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Qo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new O9(ed(r),e.status,r.weak_password.reasons);throw new bBe(ed(r),e.status||500,o)}const qBe=(e,t,r,o)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(o),Object.assign(Object.assign({},i),r))};async function bt(e,t,r,o){var i;const a=Object.assign({},o==null?void 0:o.headers);a[Q5]||(a[Q5]=eX["2024-01-01"].name),o!=null&&o.jwt&&(a.Authorization=`Bearer ${o.jwt}`);const s=(i=o==null?void 0:o.query)!==null&&i!==void 0?i:{};o!=null&&o.redirectTo&&(s.redirect_to=o.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await HBe(e,t,r+l,{headers:a,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(c):{data:Object.assign({},c),error:null}}async function HBe(e,t,r,o,i,a){const s=qBe(t,o,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Z5(ed(c),0)}if(l.ok||await L9(l),o!=null&&o.noResolveJson)return l;try{return await l.json()}catch(c){await L9(c)}}function la(e){var t;let r=null;YBe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ABe(e.expires_in)));const o=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:o},error:null}}function W9(e){const t=la(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ec(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GBe(e){return{data:e,error:null}}function KBe(e){const{action_link:t,email_otp:r,hashed_token:o,redirect_to:i,verification_type:a}=e,s=Bv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:o,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function V9(e){return e}function YBe(e){return e.access_token&&e.refresh_token&&e.expires_in}const mF=["global","local","others"];class XBe{constructor({url:t="",headers:r={},fetch:o}){this.url=t,this.headers=r,this.fetch=nX(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mF[0]){if(mF.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mF.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(lt(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,r={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ec})}catch(o){if(lt(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:r}=t,o=Bv(t,["options"]),i=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(i.new_email=o==null?void 0:o.newEmail,delete i.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:KBe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(lt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ec})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,o,i,a,s,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V9});if(f.error)throw f.error;const p=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);d[`${b}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(lt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Tu(t);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ec})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Tu(t);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ec})}catch(o){if(lt(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,r=!1){Tu(t);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ec})}catch(o){if(lt(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Tu(t.userId);try{const{data:r,error:o}=await bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:o}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Tu(t.userId),Tu(t.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,o,i,a,s,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V9});if(f.error)throw f.error;const p=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);d[`${b}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(lt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(lt(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}}function U9(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ms={debug:!!(globalThis&&rX()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oX extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JBe extends oX{}async function QBe(e,t,r){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;t>0&&setTimeout(()=>{o.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async i=>{if(i){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JBe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ms.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){if((i==null?void 0:i.name)==="AbortError"&&t>0)return Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async a=>{if(a){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,a.name);try{return await r()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,a.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await r()}));throw i}}function ZBe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iX(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function eIe(e){return parseInt(e,16)}function tIe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function rIe(e){var t;const{chainId:r,domain:o,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:d,scheme:f,uri:p,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=iX(e.address),m=f?`${f}://${o}`:o,y=e.statement?`${e.statement}
`:"",b=`${m} wants you to sign in with your Ethereum account:
${x}

${y}`;let v=`URI: ${p}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),d){let C=`
Resources:`;for(const S of d){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);C+=`
- ${S}`}v+=C}return`${b}
${v}`}class dn extends Error{constructor({message:t,code:r,cause:o,name:i}){var a;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(a=i??(o instanceof Error?o.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class lb extends dn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function nIe({error:e,options:t}){var r,o,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new dn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new dn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new dn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(aX(s)){if(a.rp.id!==s)return new dn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new dn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function oIe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(aX(o)){if(r.rpId!==o)return new dn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iIe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const aIe=new iIe;function sIe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:o}=e,i=Bv(e,["challenge","user","excludeCredentials"]),a=pp(t).buffer,s=Object.assign(Object.assign({},r),{id:pp(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(o&&o.length>0){l.excludeCredentials=new Array(o.length);for(let c=0;c<o.length;c++){const d=o[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:pp(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function lIe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,o=Bv(e,["challenge","allowCredentials"]),i=pp(t).buffer,a=Object.assign(Object.assign({},o),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:pp(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function cIe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:fd(new Uint8Array(e.response.attestationObject)),clientDataJSON:fd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dIe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,o=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fd(new Uint8Array(i.authenticatorData)),clientDataJSON:fd(new Uint8Array(i.clientDataJSON)),signature:fd(new Uint8Array(i.signature)),userHandle:i.userHandle?fd(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aX(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function q9(){var e,t;return!!(qn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uIe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lb("Browser returned unexpected credential type",t)}:{data:null,error:new lb("Empty credential response",t)}}catch(t){return{data:null,error:nIe({error:t,options:e})}}}async function pIe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lb("Browser returned unexpected credential type",t)}:{data:null,error:new lb("Empty credential response",t)}}catch(t){return{data:null,error:oIe({error:t,options:e})}}}const fIe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hIe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cb(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),o={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))o[a]=s;else if(r(s))o[a]=s;else if(t(s)){const l=o[a];t(l)?o[a]=cb(l,s):o[a]=cb(s)}else o[a]=s}return o}function gIe(e,t){return cb(fIe,e,t||{})}function xIe(e,t){return cb(hIe,e,t||{})}class mIe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:o,signal:i},a){var s;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const d=i??aIe.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;if(!f.name){const p=o;if(p)f.name=`${f.id}:${p}`;else{const x=(await this.client.getUser()).data.user,m=((s=x==null?void 0:x.user_metadata)===null||s===void 0?void 0:s.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";f.name=`${f.id}:${m}`}}f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=gIe(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:h}=await uIe({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const f=xIe(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:h}=await pIe(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(l){return lt(l)?{data:null,error:l}:{data:null,error:new od("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:o}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new sx("rpId is required for WebAuthn authentication")};try{if(!q9())return{data:null,error:new od("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:o},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:o,credential_response:c.credential_response}})}catch(s){return lt(s)?{data:null,error:s}:{data:null,error:new od("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new sx("rpId is required for WebAuthn registration")};try{if(!q9())return{data:null,error:new od("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:o,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(s){return lt(s)?{data:null,error:s}:{data:null,error:new od("Unexpected error in register",s)}}}}ZBe();const yIe={url:hBe,storageKey:gBe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xBe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function H9(e,t,r){return await r()}const Pu={};class lx{get jwks(){var t,r;return(r=(t=Pu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Pu[this.storageKey]=Object.assign(Object.assign({},Pu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Pu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pu[this.storageKey]=Object.assign(Object.assign({},Pu[this.storageKey]),{cachedAt:t})}constructor(t){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},yIe),t);if(this.storageKey=a.storageKey,this.instanceID=(r=lx.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,lx.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&qn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new XBe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=nX(a.fetch),this.lock=a.lock||H9,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&qn()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=QBe:this.lock=H9,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mIe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:rX()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U9(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=U9(this.memoryStorage)),qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}a.skipAutoInitialize||this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ZY}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},o="none";if(qn()&&(r=RBe(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),qn()&&this.detectSessionInUrl&&o!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jBe(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return lt(r)?this._returnResult({error:r}):this._returnResult({error:new od("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,o,i;try{const a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:la}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(lt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,o,i;try{let a;if("email"in t){const{email:f,password:p,options:h}=t;let x=null,m=null;this.flowType==="pkce"&&([x,m]=await Ru(this.storage,this.storageKey)),a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:x,code_challenge_method:m},xform:la})}else if("phone"in t){const{phone:f,password:p,options:h}=t;a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:la})}else throw new ry("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await Un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:W9})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:W9})}else throw new ry("You must provide either an email or phone number and a password");const{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){const a=new _u;return this._returnResult({data:{user:null,session:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,o,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,o,i,a,s,l,c,d,f,p,h;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:y,wallet:b,statement:v,options:C}=t;let S;if(qn())if(typeof b=="object")S=b;else{const _=window;if("ethereum"in _&&typeof _.ethereum=="object"&&"request"in _.ethereum&&typeof _.ethereum.request=="function")S=_.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const F=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href),w=await S.request({method:"eth_requestAccounts"}).then(_=>_).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=iX(w[0]);let E=(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!E){const _=await S.request({method:"eth_chainId"});E=eIe(_)}const T={domain:F.host,address:k,statement:v,uri:F.href,version:"1",chainId:E,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=C==null?void 0:C.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.resources};x=rIe(T),m=await S.request({method:"personal_sign",params:[tIe(x),k]})}try{const{data:y,error:b}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:m},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:la});if(b)throw b;if(!y||!y.session||!y.user){const v=new _u;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(lt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,o,i,a,s,l,c,d,f,p,h,x;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:C,options:S}=t;let F;if(qn())if(typeof v=="object")F=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))F=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=v}const w=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const k=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),C?{statement:C}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(o=S==null?void 0:S.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await F.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:b,error:v}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:fd(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:la});if(v)throw v;if(!b||!b.session||!b.user){const C=new _u;return this._returnResult({data:{user:null,session:null},error:C})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(lt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Gc(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new SBe;const{data:a,error:s}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:la});if(await Un(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new _u;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:o,token:i,access_token:a,nonce:s}=t,l=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:la}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const f=new _u;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,o,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Ru(this.storage,this.storageKey));const{error:p}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:f}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new ry("You must provide either an email or phone number.")}catch(l){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,o;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:s,error:l}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:la});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,d=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,o,i,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ru(this.storage,this.storageKey));const d=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:GBe});return!((a=d.data)===null||a===void 0)&&a.url&&qn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new Qo;const{error:i}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(lt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:o,type:i,options:a}=t,{error:s}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:o,type:i,options:a}=t,{data:s,error:l}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new ry("You must provide either an email or phone number and a type")}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<fF:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const s=await Gc(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=xF()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=VBe(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ec}):await this._useSession(async r=>{var o,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((o=s.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qo}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ec})})}catch(r){if(lt(r))return hF(r)&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async o=>{const{data:i,error:a}=o;if(a)throw a;if(!i.session)throw new Qo;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ru(this.storage,this.storageKey));const{data:d,error:f}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:ec});if(f)throw f;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(o){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qo;const r=Date.now()/1e3;let o=r,i=!0,a=null;const{payload:s}=oy(t.access_token);if(s.exp&&(o=s.exp,i=o<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(lt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var o;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(o=s.session)!==null&&o!==void 0?o:void 0}if(!(t!=null&&t.refresh_token))throw new Qo;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!qn())throw new ny("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ny(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new I9("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ny("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new I9("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!s||!d)throw new ny("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let h=f+p;c&&(h=parseInt(c));const x=h-f;x*1e3<=Nu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const m=h-p;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,f);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(o){if(lt(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:i,error:a}=r;if(a&&!hF(a))return this._returnResult({error:a});const s=(o=i.session)===null||o===void 0?void 0:o.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(vBe(l)&&(l.status===404||l.status===401||l.status===403)||hF(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=_Be(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async r=>{var o,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Ru(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:o,error:i}=await this._useSession(async a=>{var s,l,c,d,f;const{data:p,error:h}=a;if(h)throw h;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",x,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return qn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:t.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(lt(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var o;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:c,access_token:d,nonce:f}=t,p=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a==null?void 0:a.access_token)!==null&&o!==void 0?o:void 0,body:{provider:l,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:la}),{data:h,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new _u}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:x}))}catch(i){if(await Un(this.storage,`${this.storageKey}-code-verifier`),lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var o,i;const{data:a,error:s}=r;if(s)throw s;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await zBe(async i=>(i>0&&await PBe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:la})),(i,a)=>{const s=200*Math.pow(2,i);return a&&gF(a)&&Date.now()+s-o<Nu})}catch(o){if(this._debug(r,"error",o),lt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),qn()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const i=await Gc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Gc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Lu(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:xF()}else if(i&&!i.user&&!i.user){const s=await Gc(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Un(this.storage,this.storageKey+"-user"),await Lu(this.storage,this.storageKey,i)):i.user=xF()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fF;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${fF}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),gF(s)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(o,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var r,o;if(!t)throw new Qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dv;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Qo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),lt(a)){const s={data:null,error:a};return gF(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,o=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Un(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Lu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=N9(i);await Lu(this.storage,this.storageKey,a)}else{const i=N9(r);await Lu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Un(this.storage,this.storageKey),await Un(this.storage,this.storageKey+"-code-verifier"),await Un(this.storage,this.storageKey+"-user"),this.userStorage&&await Un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Nu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((o.expires_at*1e3-t)/Nu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nu}ms, refresh threshold is ${J5} ticks`),i<=J5&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oX)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,o){const i=[`provider=${encodeURIComponent(r)}`];if(o!=null&&o.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ru(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(o!=null&&o.queryParams){const a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o!=null&&o.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var o;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var o,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?cIe(t.webauthn.credential_response):dIe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:sIe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:lIe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,o,i,a;if(t)try{const{payload:x}=oy(t);let m=null;x.aal&&(m=x.aal);let y=m;const{data:{user:b},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((o=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(F=>F.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(y="aal2");const S=x.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:S},error:null}}catch(x){if(lt(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=oy(s.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const h=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qo})})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async o=>{const{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Qo});const s=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&qn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(o){if(lt(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,r){try{return await this._useSession(async o=>{const{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Qo});const s=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&qn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(o){if(lt(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;return o?this._returnResult({data:null,error:o}):r?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qo})})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qo})})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let o=r.keys.find(l=>l.kid===t);if(o)return o;const i=Date.now();if(o=this.jwks.keys.find(l=>l.kid===t),o&&this.jwks_cached_at+yBe>i)return o;const{data:a,error:s}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,o=a.keys.find(l=>l.kid===t),!o)?null:o}async getClaims(t,r={}){try{let o=t;if(!o){const{data:x,error:m}=await this.getSession();if(m||!x.session)return this._returnResult({data:null,error:m});o=x.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=oy(o);r!=null&&r.allowExpired||NBe(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(o);if(x)throw x;return{data:{claims:a,header:i,signature:s},error:null}}const f=LBe(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,s,FBe(`${l}.${c}`)))throw new e8("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(o){if(lt(o))return this._returnResult({data:null,error:o});throw o}}}lx.nextInstanceID={};const bIe=lx,vIe="2.98.0";let Bh="";typeof Deno<"u"?Bh="deno":typeof document<"u"?Bh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bh="react-native":Bh="node";const jIe={"X-Client-Info":`supabase-js-${Bh}/${vIe}`},SIe={headers:jIe},wIe={schema:"public"},EIe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CIe={};function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function kIe(e,t){if(cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(cx(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FIe(e){var t=kIe(e,"string");return cx(t)=="symbol"?t:t+""}function AIe(e,t,r){return(t=FIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G9(Object(r),!0).forEach(function(o){AIe(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G9(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}const _Ie=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RIe=()=>Headers,TIe=(e,t,r)=>{const o=_Ie(r),i=RIe();return async(a,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new i(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),o(a,Zr(Zr({},s),{},{headers:d}))}};function PIe(e){return e.endsWith("/")?e:e+"/"}function zIe(e,t){var r,o;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:d,realtime:f,global:p}=t,h={db:Zr(Zr({},c),i),auth:Zr(Zr({},d),a),realtime:Zr(Zr({},f),s),storage:{},global:Zr(Zr(Zr({},p),l),{},{headers:Zr(Zr({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(o=l==null?void 0:l.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function BIe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PIe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IIe=class extends bIe{constructor(e){super(e)}},OIe=class{constructor(e,t,r){var o,i;this.supabaseUrl=e,this.supabaseKey=t;const a=BIe(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:wIe,realtime:CIe,auth:Zr(Zr({},EIe),{},{storageKey:s}),global:SIe},c=zIe(r??{},l);if(this.storageKey=(o=c.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=TIe(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Zr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new vze(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new fBe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new pze(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:o}=await e.auth.getSession();return(t=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:d},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IIe({url:this.authUrl.href,headers:Zr(Zr({},h),f),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Dze(this.realtimeUrl.href,Zr(Zr({},e),{},{params:Zr(Zr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const DIe=(e,t,r)=>new OIe(e,t,r);function MIe(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}MIe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xa="#FF6835",$Ie=DIe(`https://${za}.supabase.co`,Ca),$s={google:"#EA4335",facebook:"#1877F2",github:"#24292E"};function NIe({onNavigate:e}){const[t,r]=A.useState("preview"),[o,i]=A.useState("login"),[a,s]=A.useState(!1),[l,c]=A.useState(!0),[d,f]=A.useState(!0),[p,h]=A.useState(!1),[x,m]=A.useState(!1),[y,b]=A.useState(8),[v,C]=A.useState(!0),[S,F]=A.useState(!0),[w,k]=A.useState(!1),[E,T]=A.useState("Mi Aplicacin"),[_,z]=A.useState(Xa),[B,P]=A.useState("MA"),[D,I]=A.useState(""),[N,M]=A.useState(""),[V,L]=A.useState(""),[W,G]=A.useState("login"),[U,H]=A.useState(null),[K,ne]=A.useState(!1),Q=async()=>{ne(!0),H(null);try{if(W==="login"){const{error:X}=await $Ie.auth.signInWithPassword({email:D,password:N});if(X)throw X;H({ok:!0,msg:" Login exitoso con Supabase Auth"})}else{const X=await fetch(`https://${za}.supabase.co/functions/v1/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ca}`},body:JSON.stringify({email:D,password:N,name:V})}),se=await X.json();if(!X.ok)throw new Error(se.error||"Error al registrar");H({ok:!0,msg:" Usuario creado exitosamente"})}}catch(X){H({ok:!1,msg:` ${X.message}`})}finally{ne(!1)}},pe=()=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",padding:"32px 28px",width:"340px",boxShadow:"0 20px 60px rgba(0,0,0,0.12)",border:"1px solid #F3F4F6"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[n.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"14px",backgroundColor:_,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"1.1rem",fontWeight:"800",color:"#fff",marginBottom:"10px"},children:B}),n.jsx("p",{style:{margin:0,fontWeight:"700",fontSize:"1.1rem",color:"#111"},children:E}),n.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.78rem",color:"#9CA3AF"},children:o==="login"?"Ingres a tu cuenta":o==="register"?"Cre tu cuenta":"Recuperar contrasea"})]}),o!=="reset"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"20px"},children:[d&&n.jsxs("button",{style:{width:"100%",padding:"9px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"0.82rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[n.jsx(F2,{size:15,color:$s.google})," Continuar con Google"]}),p&&n.jsxs("button",{style:{width:"100%",padding:"9px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"0.82rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[n.jsx(Za,{size:15,color:$s.facebook})," Continuar con Facebook"]}),x&&n.jsxs("button",{style:{width:"100%",padding:"9px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"0.82rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[n.jsx(A2,{size:15,color:$s.github})," Continuar con GitHub"]}),l&&(d||p||x)&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",margin:"4px 0"},children:[n.jsx("div",{style:{flex:1,height:"1px",backgroundColor:"#E5E7EB"}}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:"o con email"}),n.jsx("div",{style:{flex:1,height:"1px",backgroundColor:"#E5E7EB"}})]})]}),l&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"14px"},children:[o==="register"&&n.jsx("input",{placeholder:"Nombre completo",style:{padding:"9px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",color:"#374151",outline:"none"}}),n.jsx("input",{placeholder:"correo@ejemplo.com",type:"email",style:{padding:"9px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",color:"#374151",outline:"none"}}),o!=="reset"&&n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{placeholder:"Contrasea",type:a?"text":"password",style:{width:"100%",padding:"9px 36px 9px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",color:"#374151",outline:"none",boxSizing:"border-box"}}),n.jsx("button",{onClick:()=>s(X=>!X),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:0},children:a?n.jsx(y8,{size:14,color:"#9CA3AF"}):n.jsx(yr,{size:14,color:"#9CA3AF"})})]})]}),n.jsx("button",{style:{width:"100%",padding:"10px",borderRadius:"9px",border:"none",backgroundColor:_,color:"#fff",fontSize:"0.88rem",fontWeight:"700",cursor:"pointer",marginBottom:"14px"},children:o==="login"?"Ingresar":o==="register"?"Crear cuenta":"Enviar enlace"}),n.jsxs("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#6B7280"},children:[o==="login"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>i("reset"),style:{background:"none",border:"none",color:_,cursor:"pointer",fontSize:"0.75rem",fontWeight:"600"},children:"Olvidaste tu contrasea?"}),n.jsxs("p",{style:{margin:"6px 0 0"},children:["No tens cuenta?"," ",n.jsx("button",{onClick:()=>i("register"),style:{background:"none",border:"none",color:_,cursor:"pointer",fontSize:"0.75rem",fontWeight:"700"},children:"Registrate"})]})]}),o==="register"&&n.jsxs("p",{style:{margin:0},children:["Ya tens cuenta?"," ",n.jsx("button",{onClick:()=>i("login"),style:{background:"none",border:"none",color:_,cursor:"pointer",fontSize:"0.75rem",fontWeight:"700"},children:"Ingres"})]}),o==="reset"&&n.jsx("button",{onClick:()=>i("login"),style:{background:"none",border:"none",color:_,cursor:"pointer",fontSize:"0.75rem",fontWeight:"600"},children:" Volver al login"})]})]});return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsxs("div",{style:{height:"56px",flexShrink:0,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 28px",gap:"14px"},children:[n.jsx(ig,{size:20,color:Xa}),n.jsx("h1",{style:{margin:0,fontSize:"1.05rem",fontWeight:"700",color:"#111"},children:"Registro y Login"}),n.jsx("span",{style:{fontSize:"0.7rem",backgroundColor:"#DCFCE7",color:"#166534",padding:"2px 8px",borderRadius:"20px",fontWeight:"700"},children:"Supabase Auth"}),n.jsx("div",{style:{flex:1}}),["preview","config","test"].map(X=>n.jsx("button",{onClick:()=>r(X),style:{padding:"6px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.82rem",fontWeight:"600",backgroundColor:t===X?Xa:"transparent",color:t===X?"#fff":"#6B7280"},children:X==="preview"?" Vista Previa":X==="config"?" Configuracin":" Test"},X))]}),t==="preview"&&n.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex"},children:[n.jsxs("div",{style:{width:"200px",flexShrink:0,backgroundColor:"#fff",borderRight:"1px solid #E5E7EB",padding:"20px 14px"},children:[n.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.72rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Pantallas"}),[{id:"login",label:"Iniciar Sesin",icon:ig},{id:"register",label:"Crear Cuenta",icon:Uoe},{id:"reset",label:"Recuperar Contrasea",icon:$re}].map(X=>n.jsxs("button",{onClick:()=>i(X.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"8px",padding:"9px 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:o===X.id?`${Xa}15`:"transparent",color:o===X.id?Xa:"#374151",fontSize:"0.8rem",fontWeight:o===X.id?"700":"500",marginBottom:"4px"},children:[n.jsx(X.icon,{size:14})," ",X.label]},X.id)),n.jsxs("div",{style:{marginTop:"24px",borderTop:"1px solid #E5E7EB",paddingTop:"16px"},children:[n.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.72rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase"},children:"Providers activos"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[l&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(ka,{size:12,color:Xa})," Email/Password"]}),d&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(F2,{size:12,color:$s.google})," Google"]}),p&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Za,{size:12,color:$s.facebook})," Facebook"]}),x&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(A2,{size:12,color:$s.github})," GitHub"]})]})]})]}),n.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#F1F5F9",overflowY:"auto",padding:"40px"},children:n.jsx(pe,{})})]}),t==="config"&&n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:n.jsxs("div",{style:{maxWidth:"720px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"20px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"22px",border:"1px solid #E5E7EB"},children:[n.jsx("h2",{style:{margin:"0 0 18px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:" Branding"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:"Nombre de la app"}),n.jsx("input",{value:E,onChange:X=>T(X.target.value),style:{width:"100%",padding:"8px 10px",borderRadius:"7px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:"Logo (texto)"}),n.jsx("input",{value:B,onChange:X=>P(X.target.value.slice(0,3)),maxLength:3,style:{width:"100%",padding:"8px 10px",borderRadius:"7px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",boxSizing:"border-box",fontWeight:"700"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:"Color principal"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"color",value:_,onChange:X=>z(X.target.value),style:{width:"36px",height:"36px",borderRadius:"6px",border:"1.5px solid #E5E7EB",cursor:"pointer",padding:"2px"}}),n.jsx("span",{style:{fontSize:"0.75rem",fontFamily:"monospace",color:"#6B7280"},children:_})]})]})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"22px",border:"1px solid #E5E7EB"},children:[n.jsx("h2",{style:{margin:"0 0 18px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:" Providers de autenticacin"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{key:"email",label:"Email / Password",icon:ka,color:"#374151",val:l,set:c},{key:"google",label:"Google OAuth",icon:F2,color:$s.google,val:d,set:f},{key:"facebook",label:"Facebook OAuth",icon:Za,color:$s.facebook,val:p,set:h},{key:"github",label:"GitHub OAuth",icon:A2,color:$s.github,val:x,set:m}].map(X=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 14px",borderRadius:"10px",border:`1.5px solid ${X.val?"#D1FAE5":"#E5E7EB"}`,backgroundColor:X.val?"#F0FDF4":"#FAFAFA"},children:[n.jsx(X.icon,{size:18,color:X.color}),n.jsx("span",{style:{flex:1,fontSize:"0.85rem",fontWeight:"600",color:"#374151"},children:X.label}),n.jsx("button",{onClick:()=>X.set(!X.val),style:{width:"44px",height:"24px",borderRadius:"12px",border:"none",cursor:"pointer",backgroundColor:X.val?"#22C55E":"#D1D5DB",position:"relative",transition:"all 0.2s"},children:n.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",backgroundColor:"#fff",position:"absolute",top:"3px",transition:"all 0.2s",left:X.val?"23px":"3px",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})})]},X.key))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"22px",border:"1px solid #E5E7EB"},children:[n.jsx("h2",{style:{margin:"0 0 18px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:" Reglas de contrasea"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:["Longitud mnima: ",n.jsx("b",{children:y})]}),n.jsx("input",{type:"range",min:6,max:20,value:y,onChange:X=>b(+X.target.value),style:{width:"100%",accentColor:Xa}})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",justifyContent:"center"},children:[{label:"Maysculas requeridas",val:v,set:C},{label:"Nmeros requeridos",val:S,set:F},{label:"Smbolos requeridos",val:w,set:k}].map(X=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"0.8rem",color:"#374151"},children:[n.jsx("input",{type:"checkbox",checked:X.val,onChange:se=>X.set(se.target.checked),style:{accentColor:Xa,width:"15px",height:"15px"}}),X.label]},X.label))})]})]})]})}),t==="test"&&n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:n.jsxs("div",{style:{maxWidth:"480px",margin:"0 auto"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"28px",border:"1px solid #E5E7EB"},children:[n.jsx("h2",{style:{margin:"0 0 4px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:" Test de Autenticacin"}),n.jsx("p",{style:{margin:"0 0 20px",fontSize:"0.78rem",color:"#6B7280"},children:"Prueba el flujo de auth conectado a Supabase real"}),n.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px"},children:["login","register"].map(X=>n.jsx("button",{onClick:()=>G(X),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:W===X?Xa:"#F3F4F6",color:W===X?"#fff":"#6B7280",fontSize:"0.82rem",fontWeight:"600"},children:X==="login"?"Iniciar Sesin":"Registrar Usuario"},X))}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[W==="register"&&n.jsx("input",{placeholder:"Nombre completo",value:V,onChange:X=>L(X.target.value),style:{padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),n.jsx("input",{placeholder:"correo@ejemplo.com",type:"email",value:D,onChange:X=>I(X.target.value),style:{padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),n.jsx("input",{placeholder:"Contrasea",type:"password",value:N,onChange:X=>M(X.target.value),style:{padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),n.jsx("button",{onClick:Q,disabled:K||!D||!N,style:{padding:"11px",borderRadius:"9px",border:"none",cursor:"pointer",backgroundColor:Xa,color:"#fff",fontSize:"0.88rem",fontWeight:"700",opacity:K||!D||!N?.6:1},children:K?"Procesando...":W==="login"?"Probar Login":"Probar Registro"})]}),U&&n.jsx("div",{style:{marginTop:"16px",padding:"12px 14px",borderRadius:"9px",backgroundColor:U.ok?"#F0FDF4":"#FEF2F2",border:`1.5px solid ${U.ok?"#86EFAC":"#FCA5A5"}`,fontSize:"0.82rem",color:U.ok?"#166534":"#991B1B",fontWeight:"600"},children:U.msg})]}),n.jsx("div",{style:{marginTop:"16px",backgroundColor:"#FFF7ED",borderRadius:"12px",padding:"16px 18px",border:"1.5px solid #FED7AA"},children:n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx(Jt,{size:15,color:"#D97706",style:{flexShrink:0,marginTop:"1px"}}),n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#92400E",lineHeight:"1.5"},children:"Para OAuth (Google, Facebook, GitHub), activar los providers en el dashboard de Supabase  Authentication  Providers."})]})})]})})]})}const _i="#FF6835",yF=`https://${za}.supabase.co/functions/v1/api/carga-masiva`,bF={Authorization:`Bearer ${Ca}`};function K9(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(2)} MB`}function Y9(e){return e.startsWith("image/")?n.jsx(Ks,{size:16,color:"#8B5CF6"}):e.includes("spreadsheet")||e.includes("csv")?n.jsx(Qte,{size:16,color:"#22C55E"}):e.includes("pdf")?n.jsx(fn,{size:16,color:"#EF4444"}):n.jsx(UL,{size:16,color:"#6B7280"})}function LIe({onNavigate:e}){const[t,r]=A.useState([]),[o,i]=A.useState([]),[a,s]=A.useState(!1),[l,c]=A.useState(!1),[d,f]=A.useState("upload"),p=A.useRef(null),h=E=>{if(!E)return;const T=Array.from(E).map(_=>({id:`${Date.now()}_${Math.random()}`,file:_,status:"pending",progress:0}));r(_=>[..._,...T])},x=A.useCallback(E=>{E.preventDefault(),s(!1),h(E.dataTransfer.files)},[]),m=async E=>{r(T=>T.map(_=>_.id===E.id?{..._,status:"uploading",progress:10}:_));try{const T=new FormData;T.append("file",E.file);const _=await fetch(`${yF}/upload`,{method:"POST",headers:bF,body:T}),z=await _.json();if(!_.ok)throw new Error(z.error||"Error al subir");r(B=>B.map(P=>P.id===E.id?{...P,status:"done",progress:100,signedUrl:z.signedUrl}:P))}catch(T){r(_=>_.map(z=>z.id===E.id?{...z,status:"error",progress:0,errorMsg:T.message}:z))}},y=async()=>{const E=t.filter(T=>T.status==="pending");for(const T of E)await m(T);b()},b=async()=>{c(!0);try{const T=await(await fetch(`${yF}/files`,{headers:bF})).json();T.files&&i(T.files)}catch(E){console.log("Error cargando archivos remotos:",E)}finally{c(!1),f("files")}},v=async E=>{try{(await fetch(`${yF}/file`,{method:"DELETE",headers:{...bF,"Content-Type":"application/json"},body:JSON.stringify({path:E})})).ok&&i(_=>_.filter(z=>z.path!==E))}catch(T){console.log("Error eliminando:",T)}},C=E=>r(T=>T.filter(_=>_.id!==E)),S=()=>r(E=>E.filter(T=>T.status!=="done")),F=t.filter(E=>E.status==="pending").length,w=t.filter(E=>E.status==="done").length,k=t.filter(E=>E.status==="error").length;return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsxs("div",{style:{height:"56px",flexShrink:0,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 28px",gap:"14px"},children:[n.jsx(_o,{size:20,color:_i}),n.jsx("h1",{style:{margin:0,fontSize:"1.05rem",fontWeight:"700",color:"#111"},children:"Carga Masiva de Archivos"}),n.jsx("div",{style:{flex:1}}),["upload","files"].map(E=>n.jsx("button",{onClick:()=>{E==="files"?b():f("upload")},style:{padding:"6px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.82rem",fontWeight:"600",backgroundColor:d===E?_i:"transparent",color:d===E?"#fff":"#6B7280"},children:E==="upload"?" Subir archivos":" Mis archivos"},E))]}),d==="upload"&&n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:[n.jsxs("div",{onDragOver:E=>{E.preventDefault(),s(!0)},onDragLeave:()=>s(!1),onDrop:x,onClick:()=>{var E;return(E=p.current)==null?void 0:E.click()},style:{border:`2px dashed ${a?_i:"#D1D5DB"}`,borderRadius:"16px",backgroundColor:a?`${_i}08`:"#fff",padding:"48px 24px",textAlign:"center",cursor:"pointer",transition:"all 0.15s",marginBottom:"24px"},children:[n.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"14px",backgroundColor:a?`${_i}20`:"#F3F4F6",display:"inline-flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:n.jsx(_o,{size:24,color:a?_i:"#9CA3AF"})}),n.jsx("p",{style:{margin:"0 0 6px",fontSize:"1rem",fontWeight:"700",color:"#111"},children:a?"Solt los archivos aqu":"Arrastr archivos o hac clic para seleccionar"}),n.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"#9CA3AF"},children:"Imgenes, PDF, CSV, XLSX, DOCX  Sin lmite de cantidad"}),n.jsx("input",{ref:p,type:"file",multiple:!0,hidden:!0,onChange:E=>h(E.target.files)})]}),t.length>0&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px",padding:"12px 16px",backgroundColor:"#fff",borderRadius:"10px",border:"1px solid #E5E7EB"},children:[n.jsxs("span",{style:{fontSize:"0.82rem",color:"#6B7280"},children:[n.jsx("b",{style:{color:"#111"},children:t.length})," archivo",t.length!==1?"s":""," en cola"]}),F>0&&n.jsxs("span",{style:{fontSize:"0.75rem",color:"#F59E0B",fontWeight:"600"},children:[" ",F," pendientes"]}),w>0&&n.jsxs("span",{style:{fontSize:"0.75rem",color:"#22C55E",fontWeight:"600"},children:[" ",w," subidos"]}),k>0&&n.jsxs("span",{style:{fontSize:"0.75rem",color:"#EF4444",fontWeight:"600"},children:[" ",k," con error"]}),n.jsx("div",{style:{flex:1}}),w>0&&n.jsx("button",{onClick:S,style:{fontSize:"0.75rem",color:"#9CA3AF",background:"none",border:"none",cursor:"pointer"},children:"Limpiar completados"}),F>0&&n.jsxs("button",{onClick:y,style:{padding:"7px 18px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:_i,color:"#fff",fontSize:"0.82rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(_o,{size:14})," Subir todo (",F,")"]})]}),t.length>0&&n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.map(E=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",padding:"12px 14px",border:`1.5px solid ${E.status==="done"?"#86EFAC":E.status==="error"?"#FCA5A5":E.status==="uploading"?`${_i}50`:"#E5E7EB"}`,display:"flex",alignItems:"center",gap:"12px"},children:[Y9(E.file.type),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600",color:"#111",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.file.name}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.7rem",color:"#9CA3AF"},children:[K9(E.file.size),"  ",E.file.type||"desconocido"]}),E.status==="uploading"&&n.jsx("div",{style:{marginTop:"6px",height:"4px",backgroundColor:"#E5E7EB",borderRadius:"2px"},children:n.jsx("div",{style:{height:"100%",width:"60%",backgroundColor:_i,borderRadius:"2px",transition:"width 0.3s"}})}),E.status==="error"&&n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.7rem",color:"#EF4444"},children:E.errorMsg})]}),E.status==="done"&&n.jsx(ft,{size:18,color:"#22C55E"}),E.status==="error"&&n.jsx(Jt,{size:18,color:"#EF4444"}),E.status==="uploading"&&n.jsx(_t,{size:16,color:_i,style:{animation:"spin 1s linear infinite"}}),E.status==="pending"&&n.jsx("button",{onClick:()=>m(E),style:{padding:"5px 12px",borderRadius:"6px",border:"none",cursor:"pointer",backgroundColor:`${_i}15`,color:_i,fontSize:"0.75rem",fontWeight:"700"},children:"Subir"}),n.jsx("button",{onClick:()=>C(E.id),style:{background:"none",border:"none",cursor:"pointer",padding:"2px"},children:n.jsx(Ut,{size:15,color:"#9CA3AF"})})]},E.id))}),t.length===0&&n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#9CA3AF"},children:[n.jsx(GL,{size:36,style:{marginBottom:"12px",opacity:.3}}),n.jsx("p",{style:{margin:0,fontSize:"0.85rem"},children:"La cola est vaca. Arrastr archivos para comenzar."})]})]}),d==="files"&&n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"18px",gap:"12px"},children:[n.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#6B7280"},children:[n.jsx("b",{style:{color:"#111"},children:o.length})," archivos almacenados en Supabase Storage"]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{onClick:b,style:{display:"flex",alignItems:"center",gap:"6px",padding:"7px 14px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#fff",fontSize:"0.78rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[n.jsx(_t,{size:13})," Actualizar"]})]}),l?n.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#9CA3AF"},children:[n.jsx(_t,{size:28,style:{animation:"spin 1s linear infinite",marginBottom:"12px"}}),n.jsx("p",{style:{margin:0},children:"Cargando archivos..."})]}):o.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#9CA3AF"},children:[n.jsx(bd,{size:36,style:{marginBottom:"12px",opacity:.3}}),n.jsx("p",{style:{margin:0,fontSize:"0.85rem"},children:"No hay archivos subidos an."})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:o.map(E=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",padding:"12px 16px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:"12px"},children:[Y9(E.mimeType),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600",color:"#111",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.name}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.7rem",color:"#9CA3AF"},children:[K9(E.size),"  ",new Date(E.createdAt).toLocaleDateString("es-AR")]})]}),E.signedUrl&&n.jsx("a",{href:E.signedUrl,download:!0,target:"_blank",rel:"noreferrer",style:{color:"#6B7280",display:"flex"},children:n.jsx(Ht,{size:15})}),n.jsx("button",{onClick:()=>v(E.path),style:{background:"none",border:"none",cursor:"pointer",padding:"2px"},children:n.jsx(xr,{size:15,color:"#EF4444"})})]},E.id))})]}),n.jsx("style",{children:"@keyframes spin { from{transform:rotate(0deg)} to{transform:rotate(360deg)} }"})]})}const WIe="#FF6835",Yo="#1877F2",zu="#E1306C",iy=[{id:"1",name:"Zapatillas Running X200",sku:"ZAP-001",price:18990,stock:43,imgUrl:"",syncStatus:"synced",platforms:["facebook","instagram"]},{id:"2",name:"Mochila Urbana Pro",sku:"MOC-034",price:12500,stock:18,imgUrl:"",syncStatus:"synced",platforms:["facebook"]},{id:"3",name:"Auriculares BT MAX",sku:"AUR-007",price:25e3,stock:0,imgUrl:"",syncStatus:"error",platforms:["instagram"]},{id:"4",name:"Camiseta Dry Fit",sku:"REM-092",price:4500,stock:120,imgUrl:"",syncStatus:"synced",platforms:["facebook","instagram"]},{id:"5",name:"Suplemento Protena 2kg",sku:"SUP-015",price:8900,stock:32,imgUrl:"",syncStatus:"pending",platforms:[]},{id:"6",name:"Shorts Running",sku:"SHO-028",price:3200,stock:67,imgUrl:"",syncStatus:"synced",platforms:["facebook"]}],ay=[{id:"1",name:"Verano 2026  Zapatillas",status:"active",budget:15e3,spent:9870,reach:84200,clicks:3420,conversions:128,platform:"both"},{id:"2",name:"Remarketing Carritos",status:"active",budget:5e3,spent:2340,reach:12800,clicks:890,conversions:67,platform:"facebook"},{id:"3",name:"Stories  Mochilas",status:"paused",budget:8e3,spent:8e3,reach:42100,clicks:1870,conversions:89,platform:"instagram"},{id:"4",name:"Black Friday 2025",status:"ended",budget:3e4,spent:29870,reach:21e4,clicks:18400,conversions:892,platform:"both"}],X9=[{name:"PageView",count:18400,status:"active",lastFired:"hace 2 min"},{name:"ViewContent",count:7820,status:"active",lastFired:"hace 5 min"},{name:"AddToCart",count:1240,status:"active",lastFired:"hace 12 min"},{name:"InitiateCheckout",count:380,status:"active",lastFired:"hace 1 h"},{name:"Purchase",count:128,status:"active",lastFired:"hace 3 h"},{name:"Lead",count:0,status:"inactive",lastFired:""}],sy={active:"#22C55E",paused:"#F59E0B",ended:"#9CA3AF",synced:"#22C55E",pending:"#F59E0B",error:"#EF4444",inactive:"#E5E7EB"},J9={active:"Activa",paused:"Pausada",ended:"Finalizada",synced:"Sincronizado",pending:"Pendiente",error:"Error",inactive:"Inactivo"},vF=e=>e>=1e3?`${(e/1e3).toFixed(1)}k`:String(e),wh=e=>`$${e.toLocaleString("es-AR")}`;function VIe({onNavigate:e}){const[t,r]=A.useState("overview"),o=[{id:"overview",label:" Overview"},{id:"catalogo",label:" Catlogo"},{id:"campanas",label:" Campaas"},{id:"pixel",label:" Pxel"},{id:"shop",label:" RRSS Shop"}],i=({icon:a,label:s,value:l,delta:c,color:d})=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"18px 20px",border:"1px solid #E5E7EB",flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"9px",backgroundColor:`${d}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(a,{size:16,color:d})}),n.jsx("span",{style:{fontSize:"0.75rem",color:"#6B7280",fontWeight:"600"},children:s})]}),n.jsx("p",{style:{margin:0,fontSize:"1.35rem",fontWeight:"800",color:"#111"},children:l}),c&&n.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.72rem",color:c>0?"#22C55E":"#EF4444",display:"flex",alignItems:"center",gap:"3px"},children:[c>0?n.jsx(hb,{size:11}):n.jsx(u8,{size:11}),Math.abs(c),"% vs. mes anterior"]})]});return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:ja,title:"Meta Business / RRSS Shop",subtitle:"Facebook  Instagram  Ads  Pxel  Catlogo",actions:[{label:" Volver",onClick:()=>e("rrss")}]}),n.jsx(uv,{onNavigate:e,active:"meta-business"}),n.jsxs("div",{style:{height:"56px",flexShrink:0,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 28px",gap:"14px"},children:[n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx(Za,{size:18,color:Yo}),n.jsx(td,{size:18,color:zu})]}),n.jsx("h1",{style:{margin:0,fontSize:"1.05rem",fontWeight:"700",color:"#111"},children:"Meta Business / RRSS Shop"}),n.jsx("span",{style:{fontSize:"0.7rem",backgroundColor:"#DBEAFE",color:"#1E40AF",padding:"2px 8px",borderRadius:"20px",fontWeight:"700"},children:"Meta API"}),n.jsx("div",{style:{flex:1}}),o.map(a=>n.jsx("button",{onClick:()=>r(a.id),style:{padding:"5px 14px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.8rem",fontWeight:"600",backgroundColor:t===a.id?Yo:"transparent",color:t===a.id?"#fff":"#6B7280"},children:a.label},a.id))]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 28px"},children:[t==="overview"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[n.jsxs("div",{style:{display:"flex",gap:"12px"},children:[n.jsx(i,{icon:Et,label:"Seguidores totales",value:"34.2k",delta:8.4,color:Yo}),n.jsx(i,{icon:yr,label:"Alcance mensual",value:"210k",delta:12.1,color:zu}),n.jsx(i,{icon:zd,label:"Engagement rate",value:"4.7%",delta:1.2,color:"#F59E0B"}),n.jsx(i,{icon:cs,label:"Pedidos desde Shop",value:"892",delta:-3.1,color:"#22C55E"}),n.jsx(i,{icon:Xt,label:"ROAS promedio",value:"3.8x",delta:5.2,color:WIe})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[{name:"Facebook Page",icon:Za,color:Yo,followers:"18.4k",reach:"124k",posts:48,status:"Conectado"},{name:"Instagram Business",icon:td,color:zu,followers:"15.8k",reach:"86k",posts:73,status:"Conectado"}].map(a=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"20px",border:"1px solid #E5E7EB"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[n.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"10px",backgroundColor:`${a.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(a.icon,{size:20,color:a.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"700",fontSize:"0.9rem",color:"#111"},children:a.name}),n.jsxs("span",{style:{fontSize:"0.7rem",color:"#22C55E",fontWeight:"700",display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(ft,{size:10})," ",a.status]})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[{label:"Seguidores",val:a.followers},{label:"Alcance",val:a.reach},{label:"Posts 30d",val:String(a.posts)}].map(s=>n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"1rem",fontWeight:"800",color:"#111"},children:s.val}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF"},children:s.label})]},s.label))})]},a.name))}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"20px",border:"1px solid #E5E7EB"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"0.88rem",fontWeight:"700",color:"#111"},children:"Acciones rpidas"}),n.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[{label:"Sincronizar catlogo",icon:_t,action:()=>r("catalogo")},{label:"Nueva campaa",icon:lg,action:()=>r("campanas")},{label:"Ver eventos pxel",icon:pt,action:()=>r("pixel")},{label:"Abrir Meta Business",icon:gn,action:()=>window.open("https://business.facebook.com","_blank")}].map(a=>n.jsxs("button",{onClick:a.action,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"9px",border:"1.5px solid #E5E7EB",backgroundColor:"#F9FAFB",fontSize:"0.8rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[n.jsx(a.icon,{size:14})," ",a.label]},a.label))})]})]}),t==="catalogo"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"18px",gap:"12px"},children:[n.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#6B7280"},children:[n.jsx("b",{style:{color:"#111"},children:iy.filter(a=>a.syncStatus==="synced").length})," de ",iy.length," productos sincronizados"]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"9px",border:"none",cursor:"pointer",backgroundColor:Yo,color:"#fff",fontSize:"0.8rem",fontWeight:"700"},children:[n.jsx(_t,{size:13})," Sincronizar todo"]})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["Producto","SKU","Precio","Stock","Plataformas","Estado","Accin"].map(a=>n.jsx("th",{style:{padding:"10px 14px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:a},a))})}),n.jsx("tbody",{children:iy.map((a,s)=>n.jsxs("tr",{style:{borderBottom:s<iy.length-1?"1px solid #F3F4F6":"none"},children:[n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Rt,{size:15,color:"#9CA3AF"})}),n.jsx("span",{style:{fontSize:"0.82rem",fontWeight:"600",color:"#111"},children:a.name})]})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"0.75rem",fontFamily:"monospace",color:"#6B7280"},children:a.sku})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"0.82rem",fontWeight:"600",color:"#111"},children:wh(a.price)})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"0.82rem",color:a.stock===0?"#EF4444":"#374151",fontWeight:a.stock===0?"700":"400"},children:a.stock===0?"Sin stock":a.stock})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsxs("div",{style:{display:"flex",gap:"5px"},children:[a.platforms.includes("facebook")&&n.jsx(Za,{size:14,color:Yo}),a.platforms.includes("instagram")&&n.jsx(td,{size:14,color:zu}),a.platforms.length===0&&n.jsx("span",{style:{fontSize:"0.7rem",color:"#9CA3AF"},children:""})]})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",padding:"3px 8px",borderRadius:"20px",backgroundColor:`${sy[a.syncStatus]}20`,color:sy[a.syncStatus]},children:J9[a.syncStatus]})}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("button",{style:{fontSize:"0.75rem",color:Yo,background:"none",border:"none",cursor:"pointer",fontWeight:"600"},children:a.syncStatus==="error"?"Reintentar":"Editar"})})]},a.id))})]})})]}),t==="campanas"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"18px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:1},children:n.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#6B7280"},children:[n.jsx("b",{style:{color:"#22C55E"},children:ay.filter(a=>a.status==="active").length})," campaas activas  Presupuesto total: ",n.jsx("b",{style:{color:"#111"},children:wh(ay.reduce((a,s)=>a+s.budget,0))})]})}),n.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"9px",border:"none",cursor:"pointer",backgroundColor:Yo,color:"#fff",fontSize:"0.8rem",fontWeight:"700"},children:[n.jsx(lg,{size:13})," Nueva campaa"]})]}),n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["Campaa","Plataforma","Estado","Presupuesto","Gastado","Alcance","Clicks","Conversiones","ROAS"].map(a=>n.jsx("th",{style:{padding:"10px 12px",textAlign:"left",fontSize:"0.7rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"},children:a},a))})}),n.jsx("tbody",{children:ay.map((a,s)=>{const l=a.spent>0?(a.conversions*8e3/a.spent).toFixed(1):"";return n.jsxs("tr",{style:{borderBottom:s<ay.length-1?"1px solid #F3F4F6":"none",opacity:a.status==="ended"?.65:1},children:[n.jsx("td",{style:{padding:"12px 12px"},children:n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600",color:"#111"},children:a.name})}),n.jsx("td",{style:{padding:"12px 12px"},children:n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[(a.platform==="facebook"||a.platform==="both")&&n.jsx(Za,{size:13,color:Yo}),(a.platform==="instagram"||a.platform==="both")&&n.jsx(td,{size:13,color:zu})]})}),n.jsx("td",{style:{padding:"12px 12px"},children:n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",padding:"3px 8px",borderRadius:"20px",backgroundColor:`${sy[a.status]}20`,color:sy[a.status]},children:J9[a.status]})}),n.jsx("td",{style:{padding:"12px 12px",fontSize:"0.8rem",color:"#374151"},children:wh(a.budget)}),n.jsx("td",{style:{padding:"12px 12px"},children:n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"#374151"},children:wh(a.spent)}),n.jsx("div",{style:{height:"3px",backgroundColor:"#E5E7EB",borderRadius:"2px",marginTop:"3px",width:"80px"},children:n.jsx("div",{style:{height:"100%",width:`${Math.min(100,a.spent/a.budget*100)}%`,backgroundColor:Yo,borderRadius:"2px"}})})]})}),n.jsx("td",{style:{padding:"12px 12px",fontSize:"0.8rem",color:"#374151"},children:vF(a.reach)}),n.jsx("td",{style:{padding:"12px 12px",fontSize:"0.8rem",color:"#374151"},children:vF(a.clicks)}),n.jsx("td",{style:{padding:"12px 12px",fontSize:"0.8rem",fontWeight:"700",color:"#111"},children:a.conversions}),n.jsx("td",{style:{padding:"12px 12px"},children:n.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"800",color:a.status!=="ended"?"#22C55E":"#9CA3AF"},children:[l,"x"]})})]},a.id)})})]})})]}),t==="pixel"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"20px",border:"1px solid #E5E7EB"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",backgroundColor:"#DBEAFE",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(pt,{size:22,color:Yo})}),n.jsxs("div",{children:[n.jsxs("p",{style:{margin:0,fontWeight:"700",fontSize:"0.95rem",color:"#111"},children:["Meta Pixel ID: ",n.jsx("span",{style:{fontFamily:"monospace",color:Yo},children:"1234567890123456"})]}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#22C55E",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(ft,{size:12})," Activo  ltima actividad hace 2 minutos"]})]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{style:{padding:"8px 16px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#F9FAFB",fontSize:"0.78rem",fontWeight:"600",color:"#374151",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(gn,{size:12})," Abrir Events Manager"]})]}),n.jsxs("div",{style:{marginTop:"16px",backgroundColor:"#0F172A",borderRadius:"10px",padding:"14px 16px",fontFamily:"monospace",fontSize:"0.75rem"},children:[n.jsx("p",{style:{margin:"0 0 6px",color:"#64748B"},children:"<!-- Meta Pixel Code  instalar en <head> -->"}),n.jsx("p",{style:{margin:0,color:"#7DD3FC"},children:"!function(f,b,e,v,n,t,s){"}),n.jsx("p",{style:{margin:0,color:"#86EFAC"},children:"  f.fbq=function(){n?...};"}),n.jsx("p",{style:{margin:0,color:"#7DD3FC"},children:"  fbq('init', '1234567890123456');"}),n.jsx("p",{style:{margin:0,color:"#7DD3FC"},children:"  fbq('track', 'PageView');"}),n.jsx("p",{style:{margin:"4px 0 0",color:"#64748B"},children:"<!-- End Meta Pixel Code -->"})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsx("div",{style:{padding:"14px 18px",borderBottom:"1px solid #E5E7EB"},children:n.jsx("h3",{style:{margin:0,fontSize:"0.88rem",fontWeight:"700",color:"#111"},children:"Eventos registrados"})}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:["Evento","Estado","Disparos (30d)","ltimo disparo"].map(a=>n.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#6B7280",textTransform:"uppercase"},children:a},a))})}),n.jsx("tbody",{children:X9.map((a,s)=>n.jsxs("tr",{style:{borderBottom:s<X9.length-1?"1px solid #F3F4F6":"none"},children:[n.jsx("td",{style:{padding:"11px 16px"},children:n.jsx("span",{style:{fontSize:"0.82rem",fontWeight:"600",color:"#111",fontFamily:"monospace"},children:a.name})}),n.jsx("td",{style:{padding:"11px 16px"},children:n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",padding:"3px 8px",borderRadius:"20px",backgroundColor:a.status==="active"?"#DCFCE7":"#F3F4F6",color:a.status==="active"?"#166534":"#6B7280"},children:a.status==="active"?"Activo":"Inactivo"})}),n.jsx("td",{style:{padding:"11px 16px",fontSize:"0.82rem",fontWeight:"600",color:"#111"},children:vF(a.count)}),n.jsx("td",{style:{padding:"11px 16px",fontSize:"0.78rem",color:"#6B7280"},children:a.lastFired})]},a.name))})]})]})]}),t==="shop"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[[{platform:"Facebook Shop",icon:Za,color:Yo,status:"active",products:5,orders:312,revenue:284e4,url:"facebook.com/shop/tu-tienda"},{platform:"Instagram Shopping",icon:td,color:zu,status:"active",products:4,orders:580,revenue:192e4,url:"instagram.com/tu-tienda"}].map(a=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"22px",border:"1px solid #E5E7EB"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"18px"},children:[n.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"10px",backgroundColor:`${a.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(a.icon,{size:22,color:a.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontWeight:"700",fontSize:"0.92rem",color:"#111"},children:a.platform}),n.jsxs("span",{style:{fontSize:"0.72rem",color:"#22C55E",fontWeight:"700"},children:[" Activo  ",a.url]})]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{style:{padding:"7px 14px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#F9FAFB",fontSize:"0.78rem",fontWeight:"600",color:"#374151",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(gn,{size:12})," Ver tienda"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"14px"},children:[{label:"Productos publicados",value:String(a.products)},{label:"rdenes totales",value:String(a.orders)},{label:"Revenue generado",value:wh(a.revenue)}].map(s=>n.jsxs("div",{style:{backgroundColor:"#F9FAFB",borderRadius:"10px",padding:"14px"},children:[n.jsx("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"800",color:"#111"},children:s.value}),n.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.72rem",color:"#6B7280"},children:s.label})]},s.label))})]},a.platform)),n.jsx("div",{style:{backgroundColor:"#FFF7ED",borderRadius:"12px",padding:"16px 18px",border:"1.5px solid #FED7AA"},children:n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx(Jt,{size:15,color:"#D97706",style:{flexShrink:0,marginTop:"1px"}}),n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#92400E",lineHeight:"1.5"},children:["Para sincronizar en tiempo real configur el ",n.jsx("b",{children:"Meta Commerce Manager"})," y conect el catlogo de productos mediante la ",n.jsx("b",{children:"Catalog API"})," con el token de acceso de larga duracin."]})]})})]})]})]})}const ro="#FF6835",UIe="#1877F2",Qh=["#FEF9C3","#DCFCE7","#DBEAFE","#FCE7F3","#FEF3C7","#F3E8FF"],Q9={low:"#22C55E",medium:"#F59E0B",high:"#EF4444"},qIe={low:"Baja",medium:"Media",high:"Alta"},HIe=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],GIe=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],KIe=[{id:"1",title:"Plan de lanzamiento Q1",content:"Resumen ejecutivo del plan de lanzamiento para el primer trimestre...",updatedAt:new Date("2026-02-18")},{id:"2",title:"Gua de onboarding",content:"Proceso de incorporacin para nuevos usuarios del sistema...",updatedAt:new Date("2026-02-15")},{id:"3",title:"Propuesta mdulo Auth",content:"Especificaciones tcnicas del mdulo de autenticacin...",updatedAt:new Date("2026-02-20")}],YIe=[{id:"1",title:"Definir flujos de auth",status:"done",priority:"high",assignee:"Carlos"},{id:"2",title:"Integrar Meta Pixel",status:"doing",priority:"high",assignee:"Ana"},{id:"3",title:"Subir catlogo productos",status:"doing",priority:"medium",assignee:"Luca"},{id:"4",title:"Revisar diseo Unified WS",status:"todo",priority:"medium",assignee:"Carlos"},{id:"5",title:"Documentar API endpoints",status:"todo",priority:"low",assignee:"Pedro"},{id:"6",title:"Configurar bucket Supabase",status:"done",priority:"high",assignee:"Ana"}],XIe=[{id:"1",content:` Prioridad para el prximo sprint:
 Auth + Carga Masiva`,color:Qh[0],createdAt:new Date},{id:"2",content:"Reunin con cliente el martes 24/02 a las 15:00 hs",color:Qh[2],createdAt:new Date},{id:"3",content:`Revisar integracin con Meta Catalog API
 access token caduca en 60 das`,color:Qh[4],createdAt:new Date}],JIe=[{id:"1",author:"Ana Garca",avatar:"AG",text:"El mdulo de auth qued listo ",time:new Date("2026-02-20T10:15")},{id:"2",author:"Carlos Lpez",avatar:"CL",text:"Perfecto, ahora vamos con Carga Masiva",time:new Date("2026-02-20T10:18")},{id:"3",author:"Luca Martn",avatar:"LM",text:"Alguien revis el Pxel de Meta?",time:new Date("2026-02-20T11:02")},{id:"4",author:"Ana Garca",avatar:"AG",text:"S, est activo y disparando PageView correctamente",time:new Date("2026-02-20T11:05")}],QIe=[{date:24,title:"Reunin cliente",color:UIe},{date:24,title:"Demo Auth mdulo",color:ro},{date:28,title:"Sprint review",color:"#22C55E"},{date:3,title:"Deploy produccin",color:"#8B5CF6"}];function ZIe({onNavigate:e}){const[t,r]=A.useState("docs"),[o,i]=A.useState(KIe),[a,s]=A.useState(null),[l,c]=A.useState(""),[d,f]=A.useState(""),[p,h]=A.useState(YIe),[x,m]=A.useState(""),[y,b]=A.useState(XIe),[v,C]=A.useState(""),[S,F]=A.useState(Qh[0]),[w,k]=A.useState(JIe),[E,T]=A.useState(""),_=A.useRef(null),[z,B]=A.useState(1),[P,D]=A.useState(2026),I=X=>{s(X),c(X.title),f(X.content)},N=()=>{a&&(i(X=>X.map(se=>se.id===a.id?{...se,title:l,content:d,updatedAt:new Date}:se)),s(null))},M=()=>{const X={id:Date.now().toString(),title:"Nuevo documento",content:"",updatedAt:new Date};i(se=>[X,...se]),I(X)},V=X=>{i(se=>se.filter(ae=>ae.id!==X)),(a==null?void 0:a.id)===X&&s(null)},L=()=>{x.trim()&&(h(X=>[...X,{id:Date.now().toString(),title:x,status:"todo",priority:"medium",assignee:"Yo"}]),m(""))},W=(X,se)=>h(ae=>ae.map(ye=>ye.id===X?{...ye,status:se}:ye)),G=X=>h(se=>se.filter(ae=>ae.id!==X)),U=()=>{v.trim()&&(b(X=>[{id:Date.now().toString(),content:v,color:S,createdAt:new Date},...X]),C(""))},H=X=>b(se=>se.filter(ae=>ae.id!==X)),K=()=>{E.trim()&&(k(X=>[...X,{id:Date.now().toString(),author:"Yo",avatar:"YO",text:E,time:new Date}]),T(""),setTimeout(()=>{var X;return(X=_.current)==null?void 0:X.scrollIntoView({behavior:"smooth"})},50))},ne=new Date(P,z+1,0).getDate(),Q=new Date(P,z,1).getDay(),pe=[{id:"docs",icon:fn,label:"Documentos"},{id:"tareas",icon:_a,label:"Tareas"},{id:"notas",icon:poe,label:"Notas"},{id:"calendario",icon:gs,label:"Calendario"},{id:"chat",icon:hd,label:"Chat"}];return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsxs("div",{style:{height:"56px",flexShrink:0,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 28px",gap:"14px"},children:[n.jsx(og,{size:20,color:ro}),n.jsx("h1",{style:{margin:0,fontSize:"1.05rem",fontWeight:"700",color:"#111"},children:"Unified Workspace"}),n.jsx("span",{style:{fontSize:"0.7rem",backgroundColor:`${ro}15`,color:ro,padding:"2px 8px",borderRadius:"20px",fontWeight:"700"},children:"5 herramientas"})]}),n.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[n.jsx("div",{style:{width:"200px",flexShrink:0,backgroundColor:"#fff",borderRight:"1px solid #E5E7EB",padding:"16px 10px",display:"flex",flexDirection:"column",gap:"4px"},children:pe.map(X=>{const se=t===X.id;return n.jsxs("button",{onClick:()=>r(X.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"9px 12px",borderRadius:"9px",border:"none",cursor:"pointer",backgroundColor:se?`${ro}12`:"transparent",color:se?ro:"#6B7280",fontSize:"0.83rem",fontWeight:se?"700":"500",transition:"all 0.12s"},children:[n.jsx(X.icon,{size:15}),X.label]},X.id)})}),n.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:[t==="docs"&&(a?n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"24px",gap:"14px",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("button",{onClick:()=>s(null),style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",display:"flex"},children:n.jsx(rg,{size:20})}),n.jsx("input",{value:l,onChange:X=>c(X.target.value),style:{flex:1,fontSize:"1.2rem",fontWeight:"800",color:"#111",border:"none",outline:"none",backgroundColor:"transparent"}}),n.jsxs("button",{onClick:N,style:{display:"flex",alignItems:"center",gap:"6px",padding:"7px 16px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:ro,color:"#fff",fontSize:"0.8rem",fontWeight:"700"},children:[n.jsx(rn,{size:13})," Guardar"]})]}),n.jsx("div",{style:{display:"flex",gap:"4px",padding:"6px 8px",backgroundColor:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[g8,v8,j8,eR].map((X,se)=>n.jsx("button",{style:{padding:"5px 8px",borderRadius:"5px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#6B7280"},children:n.jsx(X,{size:14})},se))}),n.jsx("textarea",{value:d,onChange:X=>f(X.target.value),placeholder:"Comenz a escribir...",style:{flex:1,minHeight:"400px",padding:"16px",borderRadius:"10px",border:"1.5px solid #E5E7EB",fontSize:"0.88rem",lineHeight:"1.7",color:"#374151",resize:"none",outline:"none",fontFamily:"inherit"}})]}):n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"18px"},children:[n.jsxs("h2",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:["Documentos (",o.length,")"]}),n.jsx("div",{style:{flex:1}}),n.jsxs("button",{onClick:M,style:{display:"flex",alignItems:"center",gap:"6px",padding:"7px 14px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:ro,color:"#fff",fontSize:"0.8rem",fontWeight:"700"},children:[n.jsx(Nt,{size:13})," Nuevo doc"]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:o.map(X=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",padding:"14px 16px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},onClick:()=>I(X),children:[n.jsx(fn,{size:18,color:ro}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:0,fontWeight:"700",fontSize:"0.85rem",color:"#111"},children:X.title}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:"#9CA3AF"},children:["Editado ",X.updatedAt.toLocaleDateString("es-AR"),"  ",X.content.slice(0,60),"..."]})]}),n.jsx("button",{onClick:se=>{se.stopPropagation(),V(X.id)},style:{background:"none",border:"none",cursor:"pointer",padding:"2px"},children:n.jsx(xr,{size:14,color:"#9CA3AF"})})]},X.id))})]})),t==="tareas"&&n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px"},children:[n.jsx("input",{value:x,onChange:X=>m(X.target.value),onKeyDown:X=>X.key==="Enter"&&L(),placeholder:"Nueva tarea... (Enter para agregar)",style:{flex:1,padding:"9px 14px",borderRadius:"9px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),n.jsx("button",{onClick:L,style:{padding:"9px 16px",borderRadius:"9px",border:"none",cursor:"pointer",backgroundColor:ro,color:"#fff",fontSize:"0.82rem",fontWeight:"700"},children:n.jsx(Nt,{size:15})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"14px"},children:[{status:"todo",label:"Por hacer",color:"#6B7280",bg:"#F9FAFB"},{status:"doing",label:"En progreso",color:"#F59E0B",bg:"#FFFBEB"},{status:"done",label:"Completado",color:"#22C55E",bg:"#F0FDF4"}].map(X=>{const se=p.filter(ae=>ae.status===X.status);return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:X.color}}),n.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#374151"},children:X.label}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF",backgroundColor:"#F3F4F6",padding:"1px 7px",borderRadius:"20px"},children:se.length})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",minHeight:"120px",backgroundColor:X.bg,borderRadius:"12px",padding:"10px"},children:[se.map(ae=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"9px",padding:"10px 12px",border:"1px solid #E5E7EB",boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[n.jsx("button",{onClick:()=>W(ae.id,X.status==="done"?"todo":X.status==="todo"?"doing":"done"),style:{background:"none",border:"none",cursor:"pointer",padding:0,marginTop:"1px",flexShrink:0},children:ae.status==="done"?n.jsx(_a,{size:14,color:"#22C55E"}):n.jsx(mb,{size:14,color:"#D1D5DB"})}),n.jsx("p",{style:{margin:0,flex:1,fontSize:"0.8rem",fontWeight:"600",color:ae.status==="done"?"#9CA3AF":"#111",textDecoration:ae.status==="done"?"line-through":"none",lineHeight:"1.3"},children:ae.title}),n.jsx("button",{onClick:()=>G(ae.id),style:{background:"none",border:"none",cursor:"pointer",padding:0,flexShrink:0},children:n.jsx(Ut,{size:12,color:"#D1D5DB"})})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"6px"},children:[n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"700",padding:"1px 6px",borderRadius:"4px",backgroundColor:`${Q9[ae.priority]}20`,color:Q9[ae.priority]},children:qIe[ae.priority]}),n.jsx("span",{style:{fontSize:"0.65rem",color:"#9CA3AF",marginLeft:"auto"},children:ae.assignee})]})]},ae.id)),se.length===0&&n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#D1D5DB",textAlign:"center",paddingTop:"20px"},children:"Sin tareas"})]})]},X.status)})})]}),t==="notas"&&n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"16px",border:"1px solid #E5E7EB",marginBottom:"20px"},children:[n.jsx("textarea",{value:v,onChange:X=>C(X.target.value),placeholder:"Escrib una nota...",rows:3,style:{width:"100%",border:"none",outline:"none",fontSize:"0.85rem",resize:"none",fontFamily:"inherit",color:"#374151",boxSizing:"border-box"}}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"10px"},children:[Qh.map(X=>n.jsx("button",{onClick:()=>F(X),style:{width:"22px",height:"22px",borderRadius:"50%",border:S===X?"2.5px solid #374151":"2px solid transparent",backgroundColor:X,cursor:"pointer",padding:0}},X)),n.jsx("div",{style:{flex:1}}),n.jsx("button",{onClick:U,style:{padding:"6px 16px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:ro,color:"#fff",fontSize:"0.8rem",fontWeight:"700"},children:"Agregar"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"12px"},children:y.map(X=>n.jsxs("div",{style:{backgroundColor:X.color,borderRadius:"12px",padding:"16px",border:"1px solid rgba(0,0,0,0.06)",minHeight:"120px",display:"flex",flexDirection:"column",position:"relative"},children:[n.jsx("p",{style:{margin:0,flex:1,fontSize:"0.82rem",color:"#374151",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:X.content}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px"},children:[n.jsx("span",{style:{fontSize:"0.68rem",color:"#9CA3AF"},children:X.createdAt.toLocaleDateString("es-AR")}),n.jsx("button",{onClick:()=>H(X.id),style:{background:"none",border:"none",cursor:"pointer",padding:"2px"},children:n.jsx(xr,{size:13,color:"#9CA3AF"})})]})]},X.id))})]}),t==="calendario"&&n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #E5E7EB"},children:[n.jsx("button",{onClick:()=>{z===0?(B(11),D(X=>X-1)):B(X=>X-1)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:n.jsx(rg,{size:18,color:"#374151"})}),n.jsxs("h2",{style:{flex:1,textAlign:"center",margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:[GIe[z]," ",P]}),n.jsx("button",{onClick:()=>{z===11?(B(0),D(X=>X+1)):B(X=>X+1)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:n.jsx(Xr,{size:18,color:"#374151"})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",borderBottom:"1px solid #F3F4F6"},children:HIe.map(X=>n.jsx("div",{style:{padding:"10px",textAlign:"center",fontSize:"0.72rem",fontWeight:"700",color:"#9CA3AF"},children:X},X))}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)"},children:[Array.from({length:Q}).map((X,se)=>n.jsx("div",{style:{minHeight:"80px",borderRight:"1px solid #F9FAFB",borderBottom:"1px solid #F9FAFB",backgroundColor:"#FAFAFA"}},`empty-${se}`)),Array.from({length:ne}).map((X,se)=>{const ae=se+1,ye=ae===20&&z===1&&P===2026,ie=QIe.filter(re=>re.date===ae);return n.jsxs("div",{style:{minHeight:"80px",padding:"8px",borderRight:"1px solid #F3F4F6",borderBottom:"1px solid #F3F4F6",backgroundColor:ye?`${ro}05`:"#fff"},children:[n.jsx("div",{style:{width:"26px",height:"26px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:ye?ro:"transparent",color:ye?"#fff":"#374151",fontSize:"0.8rem",fontWeight:ye?"700":"400",marginBottom:"4px"},children:ae}),ie.map((re,Se)=>n.jsx("div",{style:{backgroundColor:re.color,color:"#fff",fontSize:"0.65rem",fontWeight:"600",padding:"2px 6px",borderRadius:"4px",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:re.title},Se))]},ae)})]})]})}),t==="chat"&&n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(eR,{size:14,color:"#6B7280"}),n.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700",color:"#111"},children:"general"}),n.jsx("span",{style:{fontSize:"0.75rem",color:"#9CA3AF"},children:" 4 miembros"})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"14px"},children:[w.map(X=>{const se=X.author==="Yo";return n.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:se?"flex-end":"flex-start"},children:[!se&&n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",flexShrink:0,backgroundColor:ro,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.65rem",fontWeight:"700"},children:X.avatar}),n.jsxs("div",{style:{maxWidth:"65%"},children:[!se&&n.jsx("p",{style:{margin:"0 0 3px",fontSize:"0.72rem",color:"#6B7280",fontWeight:"600"},children:X.author}),n.jsx("div",{style:{padding:"9px 13px",borderRadius:se?"14px 14px 4px 14px":"4px 14px 14px 14px",backgroundColor:se?ro:"#fff",border:se?"none":"1px solid #E5E7EB",color:se?"#fff":"#374151",fontSize:"0.83rem",lineHeight:"1.4"},children:X.text}),n.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.65rem",color:"#9CA3AF",textAlign:se?"right":"left"},children:X.time.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})})]})]},X.id)}),n.jsx("div",{ref:_})]}),n.jsxs("div",{style:{padding:"14px 20px",backgroundColor:"#fff",borderTop:"1px solid #E5E7EB",display:"flex",gap:"10px",alignItems:"center"},children:[n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:n.jsx(S8,{size:16,color:"#9CA3AF"})}),n.jsx("input",{value:E,onChange:X=>T(X.target.value),onKeyDown:X=>X.key==="Enter"&&!X.shiftKey&&K(),placeholder:"Escrib un mensaje...",style:{flex:1,padding:"9px 14px",borderRadius:"22px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),n.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:n.jsx(C8,{size:16,color:"#9CA3AF"})}),n.jsx("button",{onClick:K,disabled:!E.trim(),style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",cursor:"pointer",backgroundColor:E.trim()?ro:"#E5E7EB",color:E.trim()?"#fff":"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Aa,{size:15})})]})]})]})]})]})}const Eh="#FF6835",Bu={SuperAdmin:"#7C3AED",Administrador:"#FF6835",Editor:"#3B82F6",Colaborador:"#10B981",Cliente:"#6B7280"},eOe=[{id:1,name:"Carlos Mndez",role:"SuperAdmin",email:"carlos@charlie.io",last:"Hace 5 min",status:"online"},{id:2,name:"Mara Garca",role:"Administrador",email:"maria@empresa.com",last:"Hace 18 min",status:"online"},{id:3,name:"Diego Lpez",role:"Editor",email:"diego@empresa.com",last:"Hace 1 hora",status:"away"},{id:4,name:"Ana Fernndez",role:"Colaborador",email:"ana@empresa.com",last:"Hace 2 horas",status:"offline"},{id:5,name:"Luis Torres",role:"Cliente",email:"luis@cliente.com",last:"Hace 3 horas",status:"offline"},{id:6,name:"Sofa Martnez",role:"Editor",email:"sofia@empresa.com",last:"Hace 4 horas",status:"offline"}],tOe=[{level:"warn",icon:Wr,msg:"Certificado SSL vence en 14 das",time:"Hoy 09:42"},{level:"info",icon:gb,msg:"Backup automtico completado exitosamente",time:"Hoy 03:00"},{level:"warn",icon:Rt,msg:"Stock bajo: 3 productos bajo mnimo",time:"Ayer 18:30"},{level:"ok",icon:ft,msg:"Deploy v1.5 aplicado sin errores",time:"Ayer 14:15"},{level:"info",icon:Et,msg:"2 nuevos usuarios registrados",time:"Ayer 11:00"}],rOe=[{icon:cc,text:"Permisos actualizados  Rol Editor",who:"Carlos M.",time:"Hace 10 min"},{icon:By,text:"Nuevo usuario aprobado  Ana Fernndez",who:"Mara G.",time:"Hace 25 min"},{icon:si,text:"Config. de mdulo Facturacin editada",who:"Carlos M.",time:"Hace 1 hora"},{icon:hr,text:"Backup manual ejecutado",who:"Sistema",time:"Hace 3 horas"},{icon:Kr,text:"Dominio personalizado conectado",who:"Mara G.",time:"Ayer"}],nOe=[{name:"API Principal",status:"ok",latency:"42ms",uptime:"99.98%",icon:pt},{name:"Base de Datos",status:"ok",latency:"8ms",uptime:"100%",icon:hr},{name:"Supabase Auth",status:"ok",latency:"65ms",uptime:"99.95%",icon:cc},{name:"Storage",status:"ok",latency:"120ms",uptime:"99.92%",icon:GL},{name:"Edge Functions",status:"warn",latency:"310ms",uptime:"98.70%",icon:gx},{name:"CDN / Vite Build",status:"ok",latency:"18ms",uptime:"100%",icon:Joe}],jF=[{role:"SuperAdmin",count:1},{role:"Administrador",count:3},{role:"Editor",count:8},{role:"Colaborador",count:14},{role:"Cliente",count:127}];function ly({icon:e,label:t,value:r,change:o,color:i}){const a=o.startsWith("+");return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[n.jsx("div",{style:{width:38,height:38,borderRadius:10,backgroundColor:`${i}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(e,{size:18,color:i,strokeWidth:2.2})}),n.jsx("span",{style:{fontSize:"0.74rem",fontWeight:"700",color:a?"#10B981":"#EF4444",backgroundColor:a?"#D1FAE5":"#FEE2E2",padding:"3px 8px",borderRadius:"6px"},children:o})]}),n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.75rem",color:"#6B7280"},children:t}),n.jsx("p",{style:{margin:0,fontSize:"1.6rem",fontWeight:"800",color:"#111827",lineHeight:1},children:r})]})}function oOe({svc:e}){const t=e.status==="ok"?"#10B981":e.status==="warn"?"#F59E0B":"#EF4444",r=e.status==="ok"?"#D1FAE5":e.status==="warn"?"#FEF3C7":"#FEE2E2";return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 0",borderBottom:"1px solid #F3F4F6"},children:[n.jsx("div",{style:{width:32,height:32,borderRadius:8,backgroundColor:`${t}18`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(e.icon,{size:15,color:t})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600",color:"#111827"},children:e.name}),n.jsxs("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:["Uptime ",e.uptime,"  ",e.latency]})]}),n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:t,backgroundColor:r,padding:"3px 9px",borderRadius:"6px"},children:e.status==="ok"?"Operativo":e.status==="warn"?"Degradado":"Error"})]})}function iOe({onNavigate:e}){const[t,r]=A.useState(!1),o=()=>{r(!0),setTimeout(()=>r(!1),1200)},i=jF.reduce((s,l)=>s+l.count,0),a=Math.max(...jF.map(s=>s.count));return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:Nr,title:"Dashboard de Administracin",subtitle:"Charlie Marketplace Builder v1.5  Sistema de Gestin",actions:[{label:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx(_t,{size:13,style:{animation:t?"spin 0.7s linear infinite":"none"}}),"Actualizar"]}),onClick:o},{label:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx(si,{size:13})," Sistema"]}),primary:!0,onClick:()=>e("sistema")}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 28px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16,marginBottom:24},children:[n.jsx(ly,{icon:Et,label:"Usuarios totales",value:String(i),change:"+5.2%",color:"#7C3AED"}),n.jsx(ly,{icon:Ao,label:"Mdulos activos",value:"68",change:"+3",color:Eh}),n.jsx(ly,{icon:Xt,label:"Uptime del sistema",value:"99.9%",change:"+0.1%",color:"#10B981"}),n.jsx(ly,{icon:Wr,label:"Alertas activas",value:"2",change:"-1",color:"#F59E0B"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:24},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:18},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Distribucin por Rol"}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#9CA3AF",fontWeight:"600"},children:[i," usuarios"]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:jF.map(s=>n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7},children:[n.jsx("div",{style:{width:10,height:10,borderRadius:3,backgroundColor:Bu[s.role]}}),n.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#374151"},children:s.role})]}),n.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280",fontWeight:"600"},children:s.count})]}),n.jsx("div",{style:{height:6,backgroundColor:"#F3F4F6",borderRadius:3,overflow:"hidden"},children:n.jsx("div",{style:{width:`${s.count/a*100}%`,height:"100%",backgroundColor:Bu[s.role],borderRadius:3,transition:"width 0.5s ease"}})})]},s.role))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Estado de Servicios"}),n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:"#10B981",backgroundColor:"#D1FAE5",padding:"3px 9px",borderRadius:6},children:"5/6 OK"})]}),n.jsx("div",{children:nOe.map(s=>n.jsx(oOe,{svc:s},s.name))})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.4fr 1fr 1fr",gap:16,marginBottom:24},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Usuarios Recientes"}),n.jsxs("button",{style:{fontSize:"0.75rem",color:Eh,fontWeight:"700",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:3},onClick:()=>e("personas"),children:["Ver todos ",n.jsx(Xr,{size:12})]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:eOe.map(s=>{const l=s.status==="online"?"#10B981":s.status==="away"?"#F59E0B":"#D1D5DB",c=s.name.split(" ").map(d=>d[0]).join("").slice(0,2);return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 0",borderBottom:"1px solid #F3F4F6"},children:[n.jsxs("div",{style:{position:"relative",flexShrink:0},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:"50%",backgroundColor:`${Bu[s.role]}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"800",color:Bu[s.role]},children:c})}),n.jsx("div",{style:{position:"absolute",bottom:0,right:0,width:9,height:9,borderRadius:"50%",backgroundColor:l,border:"2px solid #fff"}})]}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.8rem",fontWeight:"600",color:"#111827",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s.name}),n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s.email})]}),n.jsxs("div",{style:{textAlign:"right",flexShrink:0},children:[n.jsx("span",{style:{display:"inline-block",fontSize:"0.65rem",fontWeight:"700",color:Bu[s.role],backgroundColor:`${Bu[s.role]}15`,padding:"2px 7px",borderRadius:5},children:s.role}),n.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.65rem",color:"#D1D5DB"},children:s.last})]})]},s.id)})})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Alertas del Sistema"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:tOe.map((s,l)=>{const c=s.level==="warn"?"#F59E0B":s.level==="ok"?"#10B981":"#6B7280",d=s.level==="warn"?"#FFFBEB":s.level==="ok"?"#F0FDF4":"#F9FAFB";return n.jsxs("div",{style:{display:"flex",gap:10,padding:"10px",borderRadius:10,backgroundColor:d},children:[n.jsx(s.icon,{size:15,color:c,style:{flexShrink:0,marginTop:1}}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.76rem",color:"#374151",lineHeight:1.4},children:s.msg}),n.jsx("p",{style:{margin:0,fontSize:"0.67rem",color:"#9CA3AF"},children:s.time})]})]},l)})})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px",fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Actividad de Admin"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:rOe.map((s,l)=>n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:8,backgroundColor:`${Eh}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(s.icon,{size:13,color:Eh})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.77rem",color:"#374151",lineHeight:1.3},children:s.text}),n.jsxs("p",{style:{margin:0,fontSize:"0.67rem",color:"#9CA3AF"},children:[s.who,"  ",s.time]})]})]},l))})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"20px 24px"},children:[n.jsx("p",{style:{margin:"0 0 14px",fontSize:"0.75rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Acciones rpidas de administracin"}),n.jsx("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[{label:"Gestionar Usuarios",icon:Et,color:"#7C3AED",section:"personas"},{label:"Config. de Vistas",icon:yr,color:Eh,section:"config-vistas"},{label:"Logs del Sistema",icon:br,color:"#3B82F6",section:"auditoria-logs"},{label:"Health Monitor",icon:Ao,color:"#10B981",section:"auditoria-health"},{label:"Integraciones",icon:pt,color:"#14B8A6",section:"integraciones"},{label:"Documentacin",icon:vb,color:"#6B7280",section:"documentacion"}].map(s=>n.jsxs("button",{onClick:()=>e(s.section),style:{display:"flex",alignItems:"center",gap:7,padding:"9px 16px",borderRadius:9,border:`1.5px solid ${s.color}30`,backgroundColor:`${s.color}08`,color:s.color,cursor:"pointer",fontSize:"0.8rem",fontWeight:"700",transition:"background 0.12s"},onMouseEnter:l=>{l.currentTarget.style.backgroundColor=`${s.color}18`},onMouseLeave:l=>{l.currentTarget.style.backgroundColor=`${s.color}08`},children:[n.jsx(s.icon,{size:13}),s.label]},s.label))})]})]}),n.jsx("style",{children:`
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})}const sa="#FF6835",Z9={Cliente:{color:"#6B7280",bg:"#F9FAFB",greeting:"Hola, Luis!",tagline:"Tus pedidos y compras en un solo lugar",kpis:[{icon:ir,label:"Mis pedidos",value:"12",color:sa},{icon:Rt,label:"En camino",value:"2",color:"#3B82F6"},{icon:hn,label:"Puntos acumulados",value:"1.240",color:"#F59E0B"},{icon:zd,label:"Favoritos",value:"8",color:"#EC4899"}],modules:[{id:"pedidos",icon:ir,label:"Mis Pedidos",desc:"Estado de tus compras",color:sa},{id:"ecommerce",icon:Rt,label:"Catlogo",desc:"Explorar productos",color:"#3B82F6"},{id:"pagos",icon:yn,label:"Mis Pagos",desc:"Historial de pagos",color:"#10B981"},{id:"envios",icon:At,label:"Mis Envos",desc:"Seguimiento de pedidos",color:"#8B5CF6"}],activity:[{icon:Rt,text:"Pedido #8834 enviado  ETA maana",time:"Hoy 10:30"},{icon:yn,text:"Pago confirmado  $2.340",time:"Ayer 14:20"},{icon:hn,text:"120 puntos acumulados",time:"Hace 3 das"}]},Colaborador:{color:"#10B981",bg:"#F0FDF4",greeting:"Hola, Ana!",tagline:"Tu espacio de trabajo colaborativo",kpis:[{icon:ft,label:"Tareas completadas",value:"28",color:"#10B981"},{icon:Ct,label:"Tareas pendientes",value:"5",color:"#F59E0B"},{icon:fn,label:"Documentos creados",value:"14",color:"#3B82F6"},{icon:dc,label:"Mensajes hoy",value:"7",color:sa}],modules:[{id:"pedidos",icon:ir,label:"Pedidos",desc:"Gestin de rdenes",color:sa},{id:"clientes",icon:Et,label:"Clientes",desc:"Base de clientes",color:"#3B82F6"},{id:"herramientas",icon:un,label:"Herramientas",desc:"Suite de trabajo",color:"#8B5CF6"},{id:"gen-documentos",icon:fn,label:"Documentos",desc:"Generar documentos",color:"#10B981"}],activity:[{icon:ft,text:'Tarea "Actualizar catlogo" completada',time:"Hoy 11:00"},{icon:fn,text:'Documento "Cotizacin #112" generado',time:"Hoy 09:30"},{icon:Et,text:"Cliente Garca actualizado",time:"Ayer 16:45"}]},Editor:{color:"#3B82F6",bg:"#EFF6FF",greeting:"Hola, Diego!",tagline:"Tu panel de edicin y contenido",kpis:[{icon:fn,label:"Contenidos publicados",value:"43",color:"#3B82F6"},{icon:yr,label:"Vistas totales",value:"8.2k",color:sa},{icon:In,label:"Campaas activas",value:"3",color:"#EC4899"},{icon:Xt,label:"CTR promedio",value:"4.2%",color:"#10B981"}],modules:[{id:"marketing",icon:In,label:"Marketing",desc:"Campaas y contenido",color:"#EC4899"},{id:"rrss",icon:hn,label:"RRSS",desc:"Redes sociales",color:"#E1306C"},{id:"seo",icon:Xt,label:"SEO",desc:"Posicionamiento web",color:"#10B981"},{id:"mailing",icon:pt,label:"Mailing",desc:"Email marketing",color:"#3B82F6"},{id:"herramientas",icon:un,label:"Herramientas",desc:"Suite de trabajo",color:"#8B5CF6"},{id:"storefront",icon:yr,label:"Storefront",desc:"Vista pblica",color:sa}],activity:[{icon:In,text:'Campaa "Verano 2026" programada',time:"Hoy 10:15"},{icon:yr,text:"1.240 visitas al storefront hoy",time:"Hoy 09:00"},{icon:hn,text:"Post de Instagram publicado",time:"Ayer 18:30"}]},Administrador:{color:sa,bg:"#FFF7ED",greeting:"Hola, Mara!",tagline:"Panel de administracin del sistema",kpis:[{icon:Et,label:"Usuarios activos",value:"153",color:"#7C3AED"},{icon:br,label:"Ventas del mes",value:"$67k",color:"#10B981"},{icon:pt,label:"Mdulos activos",value:"68",color:sa},{icon:ft,label:"Uptime",value:"99.9%",color:"#3B82F6"}],modules:[{id:"ecommerce",icon:ir,label:"eCommerce",desc:"Gestin completa",color:sa},{id:"gestion",icon:br,label:"Gestin ERP",desc:"ERP completo",color:"#3B82F6"},{id:"personas",icon:Et,label:"Usuarios",desc:"Gestin de personas",color:"#7C3AED"},{id:"integraciones",icon:pt,label:"Integraciones",desc:"Conectores activos",color:"#14B8A6"},{id:"sistema",icon:si,label:"Sistema",desc:"Configuracin",color:"#6B7280"},{id:"auditoria",icon:yr,label:"Auditora",desc:"Logs y diagnstico",color:"#F59E0B"}],activity:[{icon:Et,text:"2 nuevos usuarios registrados hoy",time:"Hoy 08:30"},{icon:si,text:"Config. de pasarela MP actualizada",time:"Ayer 16:00"},{icon:br,text:"Reporte mensual generado",time:"Hace 2 das"}]},SuperAdmin:{color:"#7C3AED",bg:"#F5F3FF",greeting:"Hola, Carlos!",tagline:"Control total del sistema Charlie v1.5",kpis:[{icon:Et,label:"Total usuarios",value:"153",color:"#7C3AED"},{icon:br,label:"Ventas del mes",value:"$67k",color:sa},{icon:Ry,label:"Mdulos totales",value:"68",color:"#3B82F6"},{icon:gs,label:"Das de uptime",value:"342",color:"#10B981"}],modules:[{id:"sistema",icon:si,label:"Sistema",desc:"Config. global",color:sa},{id:"constructor",icon:pt,label:"Constructor",desc:"Builder de mdulos",color:"#7C3AED"},{id:"auditoria",icon:yr,label:"Auditora",desc:"Control total",color:"#F59E0B"},{id:"integraciones",icon:Rt,label:"Integraciones",desc:"Todos los conectores",color:"#14B8A6"},{id:"config-vistas",icon:Et,label:"Config. Vistas",desc:"Permisos por rol",color:"#EC4899"},{id:"documentacion",icon:fn,label:"Documentacin",desc:"Docs tcnicas y usuario",color:"#6B7280"}],activity:[{icon:Ry,text:"Deploy v1.5 completado sin errores",time:"Hoy 02:00"},{icon:si,text:"Backup automtico ejecutado",time:"Hoy 03:00"},{icon:Et,text:"Sesin activa en 2 dispositivos",time:"Ahora"}]}},aOe=["Cliente","Colaborador","Editor","Administrador","SuperAdmin"];function sOe({onNavigate:e}){const[t,r]=A.useState("Administrador"),o=Z9[t];return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:xx,title:"Dashboard de Usuario",subtitle:"Vista personalizada por rol  Datos de ejemplo",rightSlot:n.jsx("span",{style:{fontSize:"0.75rem",color:"#9CA3AF",fontWeight:"500",border:"1px solid #E5E7EB",borderRadius:8,padding:"5px 11px",backgroundColor:"#fff"},children:"Simulador de rol activo"})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 28px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"18px 22px",marginBottom:24},children:[n.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.72rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Simular vista como rol "}),n.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:aOe.map(i=>{const a=i===t,s=Z9[i].color;return n.jsx("button",{onClick:()=>r(i),style:{padding:"8px 18px",borderRadius:9,border:`2px solid ${a?s:s+"30"}`,backgroundColor:a?s:`${s}08`,color:a?"#fff":s,fontSize:"0.82rem",fontWeight:"700",cursor:"pointer",transition:"all 0.15s"},children:i},i)})})]}),n.jsxs("div",{style:{borderRadius:16,marginBottom:24,background:`linear-gradient(135deg, ${o.color} 0%, ${o.color}cc 100%)`,padding:"28px 32px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:`0 8px 32px ${o.color}40`},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"1.6rem",fontWeight:"900",color:"#fff"},children:o.greeting}),n.jsx("p",{style:{margin:0,fontSize:"1rem",color:"rgba(255,255,255,0.85)"},children:o.tagline})]}),n.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",borderRadius:14,padding:"10px 20px",textAlign:"center"},children:[n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"rgba(255,255,255,0.75)",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Rol activo"}),n.jsx("p",{style:{margin:"4px 0 0",fontSize:"1.1rem",fontWeight:"900",color:"#fff"},children:t})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16,marginBottom:24},children:o.kpis.map((i,a)=>n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"18px 20px"},children:[n.jsx("div",{style:{width:36,height:36,borderRadius:9,backgroundColor:`${i.color}15`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:12},children:n.jsx(i.icon,{size:16,color:i.color,strokeWidth:2.2})}),n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.75rem",color:"#6B7280"},children:i.label}),n.jsx("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"800",color:"#111827",lineHeight:1},children:i.value})]},a))}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.6fr 1fr",gap:16},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:18},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Mdulos disponibles"}),n.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF",fontWeight:"600"},children:[o.modules.length," mdulos"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},children:o.modules.map(i=>n.jsxs("button",{onClick:()=>e(i.id),style:{display:"flex",alignItems:"center",gap:12,padding:"14px 16px",borderRadius:12,border:`1.5px solid ${i.color}25`,backgroundColor:`${i.color}06`,cursor:"pointer",textAlign:"left",transition:"all 0.15s"},onMouseEnter:a=>{const s=a.currentTarget;s.style.backgroundColor=`${i.color}12`,s.style.borderColor=`${i.color}60`,s.style.transform="translateY(-1px)"},onMouseLeave:a=>{const s=a.currentTarget;s.style.backgroundColor=`${i.color}06`,s.style.borderColor=`${i.color}25`,s.style.transform="translateY(0)"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:9,backgroundColor:`${i.color}20`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(i.icon,{size:16,color:i.color,strokeWidth:2.2})}),n.jsxs("div",{style:{minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"700",color:"#111827"},children:i.label}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.7rem",color:"#9CA3AF",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.desc})]})]},i.id))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsx("h3",{style:{margin:"0 0 18px",fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"Actividad reciente"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:o.activity.map((i,a)=>n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[n.jsx("div",{style:{width:30,height:30,borderRadius:8,backgroundColor:`${o.color}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(i.icon,{size:13,color:o.color})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 3px",fontSize:"0.78rem",color:"#374151",lineHeight:1.4},children:i.text}),n.jsx("p",{style:{margin:0,fontSize:"0.68rem",color:"#9CA3AF"},children:i.time})]})]},a))}),n.jsxs("div",{style:{marginTop:24,padding:"14px",borderRadius:10,backgroundColor:`${o.color}08`,border:`1.5px solid ${o.color}20`},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7,marginBottom:8},children:[n.jsx(gb,{size:13,color:o.color}),n.jsx("p",{style:{margin:0,fontSize:"0.75rem",fontWeight:"700",color:o.color},children:"Notificaciones"})]}),n.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280",lineHeight:1.5},children:[t==="Cliente"&&"1 pedido en camino  Tus puntos vencen en 30 das",t==="Colaborador"&&"5 tareas pendientes hoy  2 comentarios sin leer",t==="Editor"&&"3 campaas activas  Reporte semanal disponible",t==="Administrador"&&"2 alertas del sistema  3 nuevos registros",t==="SuperAdmin"&&"Sistema funcionando al 99.9%  Deploy v1.5 exitoso"]})]})]})]})]})]})}const op="#FF6835",cy={Cliente:{color:"#6B7280",badge:"Acceso bsico"},Colaborador:{color:"#10B981",badge:"Acceso operativo"},Editor:{color:"#3B82F6",badge:"Acceso editorial"},Administrador:{color:op,badge:"Acceso avanzado"},SuperAdmin:{color:"#7C3AED",badge:"Acceso total"}},wn=(e,t,r,o,i)=>({id:e,label:t,icon:r,visible:o,subPermisos:i.map(([a,s,l])=>({id:a,label:s,enabled:l}))}),Iu=(e,t,r)=>({id:e,label:t,icon:mn,visible:r,subPermisos:[{id:"ver",label:"Ver",enabled:r},{id:"configurar",label:"Configurar",enabled:!1},{id:"activar",label:"Activar/Desactivar",enabled:!1},{id:"credenciales",label:"Editar credenciales",enabled:!1}]}),dy=(e,t,r)=>({id:e,label:t,icon:At,visible:r,subPermisos:[{id:"ver",label:"Ver",enabled:r},{id:"configurar",label:"Configurar",enabled:!1},{id:"activar",label:"Activar/Desactivar",enabled:!1}]}),eL=e=>{const t=e==="Cliente",r=e==="Colaborador",o=e==="Editor",i=e==="Administrador",a=e==="SuperAdmin";return[{id:"ecommerce",label:"eCommerce",icon:ir,color:op,expanded:!0,modulos:[wn("pedidos","Pedidos",ir,!0,[["ver","Ver pedidos",!0],["crear","Crear pedidos",r||o||i||a],["editar","Editar pedidos",i||a],["eliminar","Eliminar",a]]),wn("clientes","Clientes",Et,!t,[["ver","Ver clientes",!t],["crear","Crear clientes",r||i||a],["editar","Editar clientes",i||a],["eliminar","Eliminar",a]]),wn("pagos","Pagos",mn,!0,[["ver","Ver pagos",!0],["emitir","Emitir pagos",i||a],["devolver","Devoluciones",i||a]]),wn("productos","Catlogo",Rt,!0,[["ver","Ver productos",!0],["crear","Crear productos",o||i||a],["editar","Editar productos",o||i||a],["eliminar","Eliminar",i||a]])]},{id:"marketing",label:"Marketing",icon:In,color:"#EC4899",expanded:!1,modulos:[wn("campanas","Campaas",In,o||i||a,[["ver","Ver campaas",o||i||a],["crear","Crear campaas",o||i||a],["publicar","Publicar",i||a]]),wn("mailing","Email Mailing",pt,o||i||a,[["ver","Ver listas",o||i||a],["enviar","Enviar emails",i||a],["config","Configurar",a]]),wn("seo","SEO",Kr,o||i||a,[["ver","Ver mtricas",o||i||a],["editar","Editar metadata",o||i||a]]),wn("rrss","RRSS Hub",hn,o||i||a,[["ver","Ver conexiones",o||i||a],["publicar","Publicar",o||i||a],["config","Configurar cuentas",i||a]])]},{id:"gestion",label:"Gestin ERP",icon:hr,color:"#3B82F6",expanded:!1,modulos:[wn("inventario","Inventario",Rt,!t,[["ver","Ver stock",!t],["ajustar","Ajustar stock",r||i||a],["crear","Crear artculos",i||a]]),wn("facturacion","Facturacin",fn,i||a,[["ver","Ver facturas",i||a],["emitir","Emitir facturas",i||a],["anular","Anular facturas",a]]),wn("erp-rrhh","RRHH",Et,i||a,[["ver","Ver personal",i||a],["gestionar","Gestionar",i||a]]),wn("erp-crm","CRM",br,!t,[["ver","Ver contactos",!t],["editar","Editar",r||i||a]])]},{id:"logistica",label:"Logstica",icon:At,color:"#10B981",expanded:!1,modulos:[wn("envios","Envos",At,!0,[["ver","Ver envos",!0],["gestionar","Gestionar",r||i||a]]),wn("transportistas","Transportistas",At,i||a,[["ver","Ver",i||a],["gestionar","Gestionar",i||a]]),wn("fulfillment","Fulfillment",Rt,i||a,[["ver","Ver",i||a],["operar","Operar",i||a]])]},{id:"integraciones-pagos",label:"Pasarelas de Pago",icon:mn,color:"#8B5CF6",expanded:!1,modulos:[Iu("mp","Mercado Pago",!t),Iu("plexo","Plexo",i||a),Iu("stripe","Stripe",a),Iu("paypal","PayPal",a),Iu("transferencia","Transferencia bancaria",!t),Iu("efectivo","Pago en efectivo",!t)]},{id:"integraciones-logistica-group",label:"Logstica Integrada",icon:At,color:"#14B8A6",expanded:!1,modulos:[dy("oca","OCA",i||a),dy("andreani","Andreani",i||a),dy("correo","Correo UY",i||a),dy("pedidosya","PedidosYa",i||a)]},{id:"sistema-group",label:"Sistema & Config",icon:si,color:"#6B7280",expanded:!1,modulos:[wn("sistema","Sistema",si,i||a,[["ver","Ver configuracin",i||a],["editar","Editar config",a]]),wn("auditoria","Auditora",Nr,i||a,[["ver","Ver logs",i||a],["exportar","Exportar logs",a]]),wn("constructor","Constructor",pt,a,[["ver","Ver",a],["operar","Operar",a]]),wn("documentacion","Documentacin",fn,!0,[["ver-usuario","Ver docs usuario",!0],["ver-tecnico","Ver docs tcnicas",o||i||a],["editar","Editar docs",a]])]}]};function tL({enabled:e,onChange:t,color:r}){return n.jsx("button",{onClick:t,style:{width:40,height:22,borderRadius:11,backgroundColor:e?r:"#D1D5DB",border:"none",cursor:"pointer",position:"relative",flexShrink:0,transition:"background 0.2s"},children:n.jsx("div",{style:{position:"absolute",top:3,left:e?21:3,width:16,height:16,borderRadius:"50%",backgroundColor:"#fff",boxShadow:"0 1px 3px rgba(0,0,0,0.3)",transition:"left 0.2s"}})})}function lOe({onNavigate:e}){const t=["Cliente","Colaborador","Editor","Administrador","SuperAdmin"],[r,o]=A.useState("Editor"),[i,a]=A.useState(()=>{const v={};return t.forEach(C=>{v[C]=eL(C)}),v}),[s,l]=A.useState(!1),c=cy[r].color,d=A.useCallback(v=>{a(C=>{const S={...C};return S[r]=C[r].map(F=>F.id===v?{...F,expanded:!F.expanded}:F),S})},[r]),f=A.useCallback((v,C)=>{a(S=>{const F={...S};return F[r]=S[r].map(w=>w.id!==v?w:{...w,modulos:w.modulos.map(k=>k.id!==C?k:{...k,visible:!k.visible,subPermisos:k.subPermisos.map(E=>({...E,enabled:!k.visible}))})}),F}),l(!0)},[r]),p=A.useCallback((v,C,S)=>{a(F=>{const w={...F};return w[r]=F[r].map(k=>k.id!==v?k:{...k,modulos:k.modulos.map(E=>E.id!==C?E:{...E,subPermisos:E.subPermisos.map(T=>T.id!==S?T:{...T,enabled:!T.enabled})})}),w}),l(!0)},[r]),h=()=>{l(!1),ke.success(`Permisos de "${r}" guardados`,{description:"Los cambios entrarn en efecto al recargar."})},x=()=>{a(v=>({...v,[r]:eL(r)})),l(!1),ke.info(`Permisos de "${r}" restaurados al valor predeterminado`)},m=i[r],y=m.reduce((v,C)=>v+C.modulos.length,0),b=m.reduce((v,C)=>v+C.modulos.filter(S=>S.visible).length,0);return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:yr,title:"Configuracin de Vistas por Rol",subtitle:"Define qu puede ver y hacer cada rol  Visual (v1.0)",actions:[{label:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx(Fa,{size:13})," Restaurar"]}),onClick:x},{label:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx(To,{size:13})," Guardar cambios"]}),primary:!0,onClick:h}]}),n.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"0 28px",display:"flex",alignItems:"center",gap:0,flexShrink:0},children:[t.map(v=>{const C=v===r,S=cy[v].color;return n.jsxs("button",{onClick:()=>{o(v),l(!1)},style:{padding:"14px 20px",border:"none",borderBottom:C?`3px solid ${S}`:"3px solid transparent",backgroundColor:"transparent",color:C?S:"#6B7280",fontSize:"0.85rem",fontWeight:C?"800":"600",cursor:"pointer",transition:"all 0.15s",display:"flex",alignItems:"center",gap:7},children:[n.jsx(Nr,{size:14,color:C?S:"#9CA3AF"}),v,C&&n.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"700",color:S,backgroundColor:`${S}15`,padding:"2px 7px",borderRadius:5},children:cy[v].badge})]},v)}),n.jsx("div",{style:{flex:1}}),s&&n.jsxs("span",{style:{fontSize:"0.75rem",color:"#F59E0B",fontWeight:"700",display:"flex",alignItems:"center",gap:5},children:[n.jsx(Wr,{size:12})," Cambios sin guardar"]})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 28px"},children:[n.jsxs("div",{style:{display:"flex",gap:12,marginBottom:24},children:[n.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:12,border:`1.5px solid ${c}30`,padding:"16px 20px",display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:40,height:40,borderRadius:10,backgroundColor:`${c}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Nr,{size:18,color:c})}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"800",color:"#111827"},children:r}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.75rem",color:"#6B7280"},children:cy[r].badge})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",padding:"16px 22px",textAlign:"center"},children:[n.jsxs("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"800",color:c},children:[b,"/",y]}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:"#9CA3AF"},children:"Mdulos visibles"})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",padding:"16px 22px",display:"flex",alignItems:"center",gap:8},children:[n.jsx(Xp,{size:15,color:"#9CA3AF"}),n.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280",maxWidth:200},children:"Los cambios son visuales. Conectar a backend para aplicar en tiempo real."})]})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:m.map(v=>{const C=v.modulos.filter(S=>S.visible).length;return n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",overflow:"hidden"},children:[n.jsxs("button",{onClick:()=>d(v.id),style:{width:"100%",display:"flex",alignItems:"center",gap:12,padding:"16px 20px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",borderBottom:v.expanded?"1px solid #F3F4F6":"none"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:9,backgroundColor:`${v.color}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(v.icon,{size:16,color:v.color})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:0,fontSize:"0.9rem",fontWeight:"700",color:"#111827"},children:v.label}),n.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.72rem",color:"#9CA3AF"},children:[C,"/",v.modulos.length," mdulos habilitados"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:C>0?v.color:"#9CA3AF",backgroundColor:C>0?`${v.color}15`:"#F3F4F6",padding:"3px 9px",borderRadius:6},children:C>0?`${C} activos`:"Sin acceso"}),v.expanded?n.jsx(Yn,{size:16,color:"#9CA3AF"}):n.jsx(Xr,{size:16,color:"#9CA3AF"})]})]}),v.expanded&&n.jsx("div",{style:{padding:"8px 20px 16px"},children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:10},children:v.modulos.map(S=>n.jsxs("div",{style:{borderRadius:12,border:`1.5px solid ${S.visible?v.color+"30":"#E5E7EB"}`,backgroundColor:S.visible?`${v.color}04`:"#FAFAFA",overflow:"hidden",transition:"all 0.15s"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"12px 14px",borderBottom:S.visible?`1px solid ${v.color}15`:"none"},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:7,backgroundColor:S.visible?`${v.color}18`:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n.jsx(S.icon,{size:13,color:S.visible?v.color:"#9CA3AF"})}),n.jsx("div",{style:{flex:1},children:n.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"700",color:S.visible?"#111827":"#9CA3AF"},children:S.label})}),n.jsx(tL,{enabled:S.visible,onChange:()=>f(v.id,S.id),color:v.color})]}),S.visible&&n.jsx("div",{style:{padding:"10px 14px",display:"flex",flexDirection:"column",gap:7},children:S.subPermisos.map(F=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[F.enabled?n.jsx(Zre,{size:11,color:v.color}):n.jsx(cc,{size:11,color:"#D1D5DB"}),n.jsx("span",{style:{fontSize:"0.74rem",color:F.enabled?"#374151":"#9CA3AF",fontWeight:F.enabled?"600":"400"},children:F.label})]}),n.jsx(tL,{enabled:F.enabled,onChange:()=>p(v.id,S.id,F.id),color:v.color})]},F.id))})]},S.id))})})]},v.id)})}),n.jsxs("div",{style:{marginTop:24,padding:"16px 20px",backgroundColor:`${op}08`,borderRadius:12,border:`1.5px solid ${op}20`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx(ft,{size:15,color:op}),n.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"#6B7280"},children:[n.jsx("strong",{style:{color:"#374151"},children:"Nivel 1  Visual:"})," Los permisos se guardan localmente. Conectar a Supabase Auth para aplicar en tiempo real (Nivel 2)."]})]}),n.jsxs("button",{onClick:h,style:{display:"flex",alignItems:"center",gap:7,padding:"10px 20px",borderRadius:9,border:"none",backgroundColor:op,color:"#fff",fontSize:"0.82rem",fontWeight:"700",cursor:"pointer",flexShrink:0},children:[n.jsx(To,{size:14})," Guardar configuracin"]})]})]})]})]})}const Ri="#FF6835",rL=[{id:"introduccion",label:"Introduccin & Overview",icon:Wi,color:Ri,tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Release inicial de documentacin oficial."},{version:"v1.4.0",date:"15 Ene 2026",author:"Carlos M.",summary:"Actualizacin de mdulos de marketing."}],content:`# Charlie Marketplace Builder v1.5

**Charlie** es una plataforma empresarial modular diseada para gestionar eCommerce, logstica, marketing, ERP y ms desde un nico panel de control.

## Qu incluye?

- **68 mdulos activos** organizados en 7 grandes reas
- **Multi-pas y multi-tenant**: soporte para UY, AR y expansin regional
- **Multi-rol**: 5 niveles de acceso configurables (Cliente, Colaborador, Editor, Administrador, SuperAdmin)
- **Paleta de diseo**: Naranja (#FF6835), Negro y Blanco

## reas principales

| rea | Descripcin |
|------|-------------|
| eCommerce | Pedidos, productos, clientes, pagos, envos |
| Marketing | Campaas, email, RRSS, SEO, sorteos |
| Gestin ERP | Inventario, facturacin, RRHH, CRM |
| Logstica | Transportistas, rutas, fulfillment |
| Herramientas | OCR, editor, presupuestos, QR |
| Integraciones | Pagos, logstica, RRSS, tiendas |
| Sistema | Config, auditora, documentacin |

## Versin actual: v1.5.0
Fecha de release: 21 de febrero de 2026
`},{id:"guia-inicio",label:"Gua de inicio rpido",icon:pt,color:"#10B981",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Mara G.",summary:"Gua completa para nuevos usuarios."}],content:`# Gua de Inicio Rpido

## Paso 1: Acceder al sistema

1. Ingres a **charlie.io/admin**
2. Us tu email y contrasea asignados
3. El sistema te llevar a tu **Dashboard personalizado** segn tu rol

## Paso 2: Navegacin

El panel izquierdo (sidebar naranja) contiene todos los mdulos disponibles para tu rol:

-  **Dashboard**  Vista general de mtricas
-  **eCommerce**  Gestin de ventas
-  **Marketing**  Campaas y comunicacin
-  **Gestin**  ERP completo
-  **Logstica**  Envos y rutas
-  **Herramientas**  Suite de trabajo
-  **Sistema**  Configuracin

## Paso 3: Tu primer pedido

1. Ir a **eCommerce  Pedidos**
2. Click en **"Nuevo Pedido"**
3. Buscar el cliente o crearlo
4. Agregar productos del catlogo
5. Seleccionar mtodo de pago y envo
6. Confirmar

## Paso 4: Personalizar tu perfil

Ve a **Sistema  Dashboard de Usuario** para ver tu vista personalizada y ajustar preferencias.
`},{id:"modulos",label:"Mdulos del sistema",icon:Rt,color:"#3B82F6",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Documentacin de los 68 mdulos activos."}],content:`# Mdulos del Sistema

## eCommerce (12 mdulos)
Gestin completa del ciclo de ventas.

- **Pedidos**: Crear, editar y trackear rdenes
- **Clientes**: CRM bsico y perfiles
- **Productos**: Catlogo con variantes y precios
- **Pagos**: Historial y gestin de cobros
- **Envos**: Tracking y gestin logstica
- **Storefront**: Vista pblica del comercio
- **POS**: Punto de venta presencial
- **Second Hand**: Marketplace de usados

## Marketing (8 mdulos)
Herramientas de comunicacin y crecimiento.

- **Campaas**: Email y push notifications
- **RRSS Hub**: Meta Business, TikTok, Instagram
- **SEO**: Optimizacin de motores de bsqueda
- **Mailing**: Gestin de listas y envos masivos
- **Fidelizacin**: Programa de puntos y recompensas
- **Rueda de Sorteos**: Gamificacin para clientes
- **Google Ads**: Integracin publicitaria

## Gestin ERP (10 mdulos)
Suite empresarial completa.

- **Inventario**: Stock, alertas y movimientos
- **Facturacin**: Comprobantes electrnicos
- **Compras**: rdenes de compra a proveedores
- **RRHH**: Personal, liquidaciones y ausencias
- **CRM**: Pipeline de ventas y contactos
- **Contabilidad**: Asientos y reportes financieros
- **Proyectos**: Gestin gil de proyectos

## Sistema (6 mdulos)
Configuracin y control del sistema.

- **Dashboard Admin**: Mtricas de administracin
- **Dashboard Usuario**: Vista personalizada por rol
- **Config. Vistas**: Permisos granulares por rol
- **Documentacin**: Esta seccin
- **Diseo & Pruebas**: UI preview y testing
- **Checklist & Roadmap**: Estado del proyecto
`},{id:"integraciones-doc",label:"Integraciones & Pasarelas",icon:va,color:"#14B8A6",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Gua de integraciones disponibles."}],content:`# Integraciones & Pasarelas de Pago

## Pasarelas de Pago disponibles

### Mercado Pago 
La pasarela principal para mercado latinoamericano.
- Checkout transparente y redirect
- Pagos con tarjeta, efectivo, transferencia
- Suscripciones y pagos recurrentes
- **Estado**: Activo

### Plexo 
Orquestador de pagos multi-adquirente para Uruguay.
- Visa, Mastercard, OCA, Cabal
- ANDA, BPS, Club del Este
- **Estado**: En configuracin

### Transferencia bancaria
- BROU, Santander, ITA, BBVA, Scotiabank
- **Estado**: Activo

### Efectivo / Contra entrega
- **Estado**: Activo

## Integraciones Logsticas

| Proveedor | Pas | Estado |
|-----------|------|--------|
| OCA | AR | Disponible |
| Andreani | AR | Disponible |
| Correo UY | UY | Disponible |
| PedidosYa | UY/AR | Disponible |

## RRSS Conectadas

- **Meta Business**: Facebook + Instagram Ads
- **TikTok for Business**: Ads y catlogo
- **Google Ads**: Campaas de bsqueda y shopping

## Tiendas Marketplace

- **Mercado Libre**: Sincronizacin de catlogo
- **Shopify**: Import/Export de productos
`},{id:"faq",label:"Preguntas frecuentes",icon:Et,color:"#8B5CF6",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Mara G.",summary:"FAQ inicial del sistema."}],content:`# Preguntas Frecuentes

## General

**Qu es Charlie Marketplace Builder?**
Charlie es una plataforma all-in-one para gestionar tu negocio digital: ventas, logstica, marketing, ERP y ms desde un nico panel.

**Funciona para mltiples pases?**
S. Charlie es multi-pas (Uruguay, Argentina) con soporte multi-moneda y multi-impuestos.

**Puedo tener mltiples tiendas?**
S, la arquitectura es multi-tenant. Cada tenant tiene su propia configuracin, datos y usuarios.

## Acceso y roles

**Cmo recupero mi contrasea?**
En la pantalla de login, click en "Olvid mi contrasea". Recibirs un email con el link de recuperacin.

**Qu diferencia hay entre un Editor y un Colaborador?**
- **Colaborador**: Gestin operativa (pedidos, clientes, tareas)
- **Editor**: Acceso completo a marketing, contenido y RRSS. Sin acceso a sistema/config.

**Un cliente puede ver el panel admin?**
No. Los clientes acceden al Storefront pblico. El panel admin es solo para roles internos.

## Pedidos y pagos

**Puedo procesar devoluciones?**
S, desde eCommerce  Pedidos  Devoluciones (requiere rol Administrador).

**Mercado Pago cobra comisin?**
S, segn el plan contratado con MP. Charlie no agrega comisin adicional.

## Tcnico

**Dnde estn los logs del sistema?**
En Sistema  Auditora  System Logs.

**Con qu frecuencia se hace backup?**
Backup automtico diario a las 03:00 AM. Tambin pods ejecutar backup manual desde Auditora.
`},{id:"arquitectura",label:"Arquitectura del sistema",icon:LL,color:"#1F2937",badge:"Tcnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Documentacin arquitectura v1.5."},{version:"v1.4.0",date:"15 Ene 2026",author:"Carlos M.",summary:"Migracin a Supabase Edge Functions."}],content:`# Arquitectura del Sistema

## Stack tecnolgico

\`\`\`
Frontend:    React 18.3 + TypeScript + Vite 6.3 + Tailwind CSS v4
Backend:     Supabase Edge Functions + Hono + Deno
Database:    PostgreSQL (Supabase managed)
Auth:        Supabase Auth (JWT)
Storage:     Supabase Storage (S3-compatible)
Deploy:      Vercel / Netlify (frontend) + Supabase (backend)
\`\`\`

## Arquitectura tres capas

\`\`\`
[Frontend React]    [Supabase Edge Function / Hono]    [PostgreSQL]
                               
[Supabase Auth]         [Supabase Storage]
\`\`\`

## Estructura de directorios

\`\`\`
/
 src/
    app/
       App.tsx                    # Entry point
       AdminDashboard.tsx         # Shell principal + routing
       routes.tsx                 # React Router config
       components/
          admin/
             AdminSidebar.tsx   # Sidebar naranja colapsable
             HubView.tsx        # Componente hub reutilizable
             OrangeHeader.tsx   # Header estndar de mdulo
             views/             # ~70 vistas de mdulos
          ui/                    # Componentes UI genricos
       storefront/                # Vistas pblicas del storefront
    styles/
        theme.css                  # Tokens de diseo
        fonts.css                  # Tipografas
 supabase/
    functions/
        server/
            index.tsx              # Servidor Hono principal
            kv_store.tsx           # KV Store utilities
 utils/
     supabase/
         info.tsx                   # projectId + publicAnonKey
\`\`\`

## Patrones de diseo

- **HubView Pattern**: Cada mdulo principal expone un HubView (estilo RRSS) con cards de acceso a sub-mdulos
- **MainSection routing**: El shell AdminDashboard gestiona la navegacin por estado (sin React Router para el admin)
- **onNavigate prop**: Todas las vistas reciben \`onNavigate: (s: MainSection) => void\` para navegacin interna

## Base de datos

- **Tabla principal**: \`kv_store\` (key-value store flexible)
- **Auth tables**: Gestionadas por Supabase Auth (no tocar directamente)
- **Storage buckets**: Supabase Storage Buckets
`},{id:"api-endpoints",label:"API & Endpoints",icon:Kr,color:"#3B82F6",badge:"Tcnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Documentacin de endpoints v1.5."}],content:`# API & Endpoints

## Base URL

\`\`\`
https://{projectId}.supabase.co/functions/v1/api
\`\`\`

## Autenticacin

Todas las requests requieren el header:
\`\`\`
Authorization: Bearer {publicAnonKey}
\`\`\`

Para rutas protegidas, usar el \`access_token\` del usuario:
\`\`\`
Authorization: Bearer {access_token}
\`\`\`

## Endpoints disponibles

### Carga Masiva
\`\`\`
POST /api/carga-masiva/upload
Content-Type: multipart/form-data

Body: { file: File, tipo: 'productos' | 'clientes' | 'precios' }
Response: { jobId, total, procesados, errores }
\`\`\`

### KV Store (interno)
\`\`\`
GET    /api/kv/{key}
POST   /api/kv/{key}
DELETE /api/kv/{key}
\`\`\`

### Auth
\`\`\`
POST /api/signup
Body: { email, password, name, role }

POST /api/auth/verify
Headers: { Authorization: Bearer token }
\`\`\`

## Respuestas estndar

\`\`\`json
// xito
{ "data": {...}, "error": null }

// Error
{ "data": null, "error": { "code": "...", "message": "..." } }
\`\`\`

## CORS

Todos los endpoints responden con:
\`\`\`
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
Access-Control-Allow-Headers: Authorization, Content-Type
\`\`\`
`},{id:"auth-config",label:"Autenticacin & Roles",icon:Nr,color:"#7C3AED",badge:"Tcnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Config de Supabase Auth + roles."}],content:`# Autenticacin & Configuracin de Roles

## Supabase Auth

Charlie usa Supabase Auth con JWT para la autenticacin de usuarios.

### Flujo de registro
\`\`\`typescript
// Llamar al endpoint del servidor (usa service role key)
POST /api/signup
{
  email: "user@example.com",
  password: "secure-password",
  name: "Nombre Apellido",
  role: "Editor"
}
\`\`\`

### Flujo de login (frontend)
\`\`\`typescript
import { createClient } from '@supabase/supabase-js';

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

const { data, error } = await supabase.auth.signInWithPassword({
  email: 'user@example.com',
  password: 'password',
});

const accessToken = data.session?.access_token;
\`\`\`

### Verificar sesin activa
\`\`\`typescript
const { data: { session } } = await supabase.auth.getSession();
if (session?.access_token) {
  // Usuario logueado
}
\`\`\`

## Sistema de roles

Los roles se almacenan en \`user_metadata\` de Supabase Auth:

\`\`\`json
{
  "role": "Editor",
  "name": "Diego Lpez",
  "tenant_id": "empresa-xyz"
}
\`\`\`

### Jerarqua de roles

| Rol | Nivel | Acceso |
|-----|-------|--------|
| SuperAdmin | 5 | Total |
| Administrador | 4 | Avanzado |
| Editor | 3 | Editorial |
| Colaborador | 2 | Operativo |
| Cliente | 1 | Bsico |

## Variables de entorno requeridas

\`\`\`bash
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...  # Solo backend
SUPABASE_DB_URL=postgresql://...
\`\`\`

 **IMPORTANTE**: Nunca exponer \`SUPABASE_SERVICE_ROLE_KEY\` en el frontend.
`},{id:"changelog",label:"Changelog & Versiones",icon:AF,color:"#F59E0B",badge:"Tcnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Release v1.5  Nuevos mdulos y correcciones."}],content:`# Changelog & Versiones

## v1.5.0  21 Feb 2026

### Nuevos mdulos
-  **AuthRegistroView**: Sistema de autenticacin completo con OAuth
-  **CargaMasivaView**: Upload masivo de productos/clientes con backend Hono
-  **MetaBusinessView**: Integracin Meta Business (Facebook + Instagram)
-  **UnifiedWorkspaceView**: Workspace unificado para herramientas
-  **AdminDashboardView**: Dashboard de administracin del sistema
-  **UserDashboardView**: Dashboard personalizado por rol
-  **ConfigVistasPorRolView**: Configurador granular de permisos
-  **DocumentacionView**: Este mdulo de documentacin

### Correcciones
-  \`@supabase/supabase-js\` instalado y configurado correctamente
-  Constante \`META_BLUE\` reordenada en UnifiedWorkspaceView
-  Errores de importacin corregidos en todos los mdulos nuevos

### Mejoras de arquitectura
- Patrn HubView consolidado como componente reutilizable
- AdminSidebar con soporte para secciones anidadas
- OrangeHeader v3.0 con slot derecho flexible

---

## v1.4.0  15 Ene 2026

### Nuevos mdulos
-  AuditoriaHubView + HealthMonitorView + SystemLogsView
-  RepositorioAPIsView
-  ConstructorView (GitHub integration)
-  6 workspaces: Biblioteca, Editor, OCR, QR, Documentos, Impresin

### Mejoras
- Migracin a Supabase Edge Functions + Hono
- Multi-pas: soporte UY + AR
- Sistema de integraciones: 65 proveedores en 6 mdulos

---

## v1.3.0  10 Dic 2025

### Nuevos mdulos
-  Suite completa de integraciones (Pagos, Logstica, RRSS, Tiendas, Servicios)
-  ERP completo: Inventario, Facturacin, Compras, RRHH, CRM, Contabilidad
-  Logstica: Transportistas, Rutas, Fulfillment, Abastecimiento

---

## Prximas versiones (roadmap)

### v1.6.0 (planificado)
-  GitHub API  generacin automtica de repositorio desde Constructor
-  Integracin Mercado Pago real (backend conectado)
-  Integracin Plexo (pasarela UY)
-  Nivel 2 de Config. de Vistas (aplicacin en tiempo real)

### v2.0.0 (futuro)
-  Documentacin auto-generada desde JSDoc + GitHub webhooks
-  Module Marketplace (mdulos enterprise portables)
-  Multi-idioma (ES, EN, PT)
`}];function cOe({onNavigate:e}){const[t,r]=A.useState("usuario"),[o,i]=A.useState("introduccion"),[a,s]=A.useState(!1),[l,c]=A.useState(""),[d,f]=A.useState(!1),[p,h]=A.useState(rL),[x,m]=A.useState("tecnico"),y=p.filter(w=>t==="tecnica"?w.tecnica:!w.tecnica),b=p.find(w=>w.id===o)??y[0]??p[0],v=()=>{c(b.content),s(!0),f(!1)},C=A.useCallback(()=>{const k=new Date().toLocaleDateString("es-UY",{day:"2-digit",month:"short",year:"numeric"});h(E=>E.map(T=>{if(T.id!==b.id)return T;const _=T.currentVersion.replace("v","").split("."),z=parseInt(_[2]||"0")+1,B=`v${_[0]}.${_[1]}.${z}`;return{...T,content:l,lastModified:k,currentVersion:B,versions:[{version:B,date:k,author:"SuperAdmin",summary:"Edicin manual desde el mdulo de documentacin."},...T.versions]}})),s(!1),ke.success("Documentacin guardada",{description:`Seccin "${b.label}" actualizada con nueva versin.`})},[b,l]),S=()=>{s(!1),c("")},F=w=>w.replace(/^### (.+)$/gm,'<h3 style="font-size:0.95rem;font-weight:700;color:#1A1A2E;margin:18px 0 8px;">$1</h3>').replace(/^## (.+)$/gm,'<h2 style="font-size:1.1rem;font-weight:800;color:#1A1A2E;margin:22px 0 10px;padding-bottom:6px;border-bottom:2px solid #F3F4F6;">$2</h2>').replace(/^# (.+)$/gm,'<h1 style="font-size:1.35rem;font-weight:900;color:#1A1A2E;margin:0 0 18px;">$1</h1>').replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/`([^`]+)`/g,'<code style="background:#F3F4F6;padding:2px 6px;border-radius:4px;font-size:0.82em;font-family:monospace;color:#374151;">$1</code>').replace(/```[\w]*\n?([\s\S]*?)```/g,'<pre style="background:#1F2937;color:#E5E7EB;padding:16px;border-radius:10px;font-size:0.78rem;overflow-x:auto;line-height:1.6;margin:14px 0;">$1</pre>').replace(/^\| (.+) \|$/gm,k=>"<tr>"+k.split("|").filter(T=>T.trim()&&!T.match(/^[-\s]+$/)).map(T=>`<td style="padding:6px 12px;border:1px solid #E5E7EB;font-size:0.8rem;">${T.trim()}</td>`).join("")+"</tr>").replace(/^- (.+)$/gm,'<li style="font-size:0.85rem;color:#374151;margin:5px 0;line-height:1.5;">$1</li>').replace(/(<li[^>]*>.*<\/li>\n?)+/g,'<ul style="margin:10px 0 10px 20px;padding:0;">$&</ul>').replace(/\n\n/g,'</p><p style="margin:0 0 12px;font-size:0.85rem;color:#374151;line-height:1.6;">').replace(/^(?!<[hupltc])/gm,"").replace(//g,'<span style="color:#F59E0B;"></span>');return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:Wi,title:"Documentacin",subtitle:"Charlie Marketplace Builder v1.5  Manual tcnico y de usuario",rightSlot:n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF",fontWeight:"500"},children:"Vista como:"}),["usuario","tecnico"].map(w=>n.jsx("button",{onClick:()=>m(w),style:{padding:"5px 12px",borderRadius:7,border:`1.5px solid ${x===w?Ri:"#E5E7EB"}`,backgroundColor:x===w?`${Ri}10`:"#fff",color:x===w?Ri:"#6B7280",fontSize:"0.75rem",fontWeight:"700",cursor:"pointer"},children:w==="usuario"?" Usuario":" Tcnico"},w))]})}),n.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"0 28px",display:"flex",gap:0,flexShrink:0},children:[["usuario",Wi,"Documentacin de Usuario","Todos los roles"],["tecnica",LL,"Documentacin Tcnica","Admin  Editor  SuperAdmin"]].map(([w,k,E,T])=>{const _=w===t,z=w==="tecnica"&&x==="usuario";return n.jsxs("button",{onClick:()=>{if(z){ke.warning("Solo disponible para Admin, Editor y SuperAdmin");return}r(w),s(!1);const B=rL.find(P=>w==="tecnica"?P.tecnica:!P.tecnica);B&&i(B.id)},style:{padding:"14px 22px",border:"none",borderBottom:_?`3px solid ${Ri}`:"3px solid transparent",backgroundColor:"transparent",color:_?Ri:z?"#D1D5DB":"#6B7280",fontSize:"0.85rem",fontWeight:_?"800":"600",cursor:z?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:8,transition:"all 0.15s"},children:[z?n.jsx(cc,{size:13,color:"#D1D5DB"}):n.jsx(k,{size:14,color:_?Ri:"#9CA3AF"}),n.jsxs("div",{style:{textAlign:"left"},children:[n.jsx("div",{children:E}),n.jsx("div",{style:{fontSize:"0.68rem",color:"#9CA3AF",fontWeight:"400"},children:T})]})]},w)})}),n.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex"},children:[n.jsxs("div",{style:{width:240,borderRight:"1px solid #E5E7EB",backgroundColor:"#fff",overflowY:"auto",flexShrink:0},children:[n.jsx("div",{style:{padding:"16px 16px 8px"},children:n.jsx("p",{style:{margin:0,fontSize:"0.68rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Secciones"})}),y.map(w=>{const k=w.id===o;return n.jsxs("button",{onClick:()=>{i(w.id),s(!1),f(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:9,padding:"10px 16px",border:"none",backgroundColor:k?`${w.color}10`:"transparent",borderLeft:k?`3px solid ${w.color}`:"3px solid transparent",cursor:"pointer",textAlign:"left",transition:"all 0.12s"},children:[n.jsx(w.icon,{size:14,color:k?w.color:"#9CA3AF"}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("p",{style:{margin:0,fontSize:"0.8rem",fontWeight:k?"700":"500",color:k?w.color:"#374151",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:w.label}),w.badge&&n.jsx("span",{style:{fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",backgroundColor:"#F3F4F6",padding:"1px 5px",borderRadius:4},children:w.badge})]}),k&&n.jsx(Xr,{size:12,color:w.color})]},w.id)})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px 32px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24,gap:16},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:38,height:38,borderRadius:10,backgroundColor:`${b.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(b.icon,{size:18,color:b.color})}),n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,fontSize:"1.1rem",fontWeight:"800",color:"#1A1A2E"},children:b.label}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[n.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:b.color,backgroundColor:`${b.color}15`,padding:"2px 8px",borderRadius:5},children:b.currentVersion}),n.jsxs("span",{style:{fontSize:"0.7rem",color:"#9CA3AF",display:"flex",alignItems:"center",gap:3},children:[n.jsx(Ct,{size:11})," ",b.lastModified]})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:8,flexShrink:0},children:[n.jsxs("button",{onClick:()=>{f(!d),s(!1)},style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"1.5px solid #E5E7EB",backgroundColor:d?"#F3F4F6":"#fff",color:"#6B7280",fontSize:"0.78rem",fontWeight:"600",cursor:"pointer"},children:[n.jsx(AF,{size:13})," Historial"]}),!a&&n.jsxs("button",{onClick:v,style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"none",backgroundColor:Ri,color:"#fff",fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(fo,{size:13})," Editar"]}),a&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:S,style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"1.5px solid #E5E7EB",backgroundColor:"#fff",color:"#6B7280",fontSize:"0.78rem",fontWeight:"600",cursor:"pointer"},children:[n.jsx(Ut,{size:13})," Cancelar"]}),n.jsxs("button",{onClick:C,style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"none",backgroundColor:"#10B981",color:"#fff",fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:[n.jsx(To,{size:13})," Guardar"]})]})]})]}),d&&n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",padding:"18px 20px",marginBottom:24},children:[n.jsxs("h3",{style:{margin:"0 0 14px",fontSize:"0.88rem",fontWeight:"700",color:"#111827",display:"flex",alignItems:"center",gap:7},children:[n.jsx(AF,{size:15,color:Ri})," Historial de versiones  ",b.label]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:b.versions.map((w,k)=>n.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start",padding:"10px 0",borderBottom:k<b.versions.length-1?"1px solid #F3F4F6":"none"},children:[n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"800",color:k===0?Ri:"#6B7280",backgroundColor:k===0?`${Ri}15`:"#F3F4F6",padding:"3px 9px",borderRadius:6,flexShrink:0},children:w.version}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.8rem",color:"#374151",fontWeight:"600"},children:w.summary}),n.jsxs("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF"},children:[w.author,"  ",w.date]})]}),k===0&&n.jsx("span",{style:{marginLeft:"auto",fontSize:"0.65rem",fontWeight:"700",color:"#10B981",backgroundColor:"#D1FAE5",padding:"2px 7px",borderRadius:5},children:"Actual"})]},k))})]}),a?n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:12,padding:"10px 14px",backgroundColor:"#FFFBEB",borderRadius:8,border:"1px solid #FCD34D",display:"flex",alignItems:"center",gap:7},children:[n.jsx(Wr,{size:14,color:"#F59E0B"}),n.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"#92400E"},children:"Editando en formato Markdown. Al guardar se crear una nueva versin automticamente."})]}),n.jsx("textarea",{value:l,onChange:w=>c(w.target.value),style:{width:"100%",minHeight:480,padding:"20px",borderRadius:12,border:`2px solid ${Ri}40`,fontSize:"0.84rem",lineHeight:"1.7",fontFamily:'"JetBrains Mono", "Fira Code", monospace',color:"#1A1A2E",backgroundColor:"#FAFAFA",outline:"none",resize:"vertical",boxSizing:"border-box"}})]}):n.jsx("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"28px 32px",lineHeight:"1.7"},dangerouslySetInnerHTML:{__html:F(b.content)}}),!a&&n.jsxs("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #F3F4F6"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7},children:[n.jsx(ft,{size:13,color:"#10B981"}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#6B7280"},children:["ltima actualizacin: ",n.jsx("strong",{children:b.lastModified}),"  Versin ",n.jsx("strong",{children:b.currentVersion})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[n.jsx(Ys,{size:12,color:"#9CA3AF"}),n.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:"Charlie Marketplace Builder  Nivel 1  Edicin manual"})]})]})]})]})]})}const to="#FF6835",nL=`https://${za}.supabase.co/functions/v1/api/age-verification/metamap-webhook`,dOe=[{id:"mm-001",user:"juan.garcia@email.com",status:"approved",method:"DNI AR",date:"21/02/2026 14:32",order:"OM-2026-A4F9B1"},{id:"mm-002",user:"sofia.m@gmail.com",status:"approved",method:"Cdula UY",date:"21/02/2026 11:08",order:"OM-2026-C2D8E7"},{id:"mm-003",user:"diego.r@yahoo.com",status:"rejected",method:"Pasaporte",date:"20/02/2026 18:55",order:"OM-2026-F1B3C5"},{id:"mm-004",user:"ana.lopez@empresa.com",status:"approved",method:"DNI AR",date:"20/02/2026 16:22",order:"OM-2026-E9A2D4"},{id:"mm-005",user:"carlos.v@mail.com",status:"pending",method:"RUT CL",date:"20/02/2026 09:45",order:"OM-2026-B7F4A1"}],uOe={approved:{label:"Aprobada",color:"#10B981",bg:"#D1FAE5"},rejected:{label:"Rechazada",color:"#EF4444",bg:"#FEE2E2"},pending:{label:"Pendiente",color:"#F59E0B",bg:"#FEF3C7"}},pOe=[{flag:"",country:"Uruguay",docs:["Cdula de Identidad","Pasaporte","Licencia de Conducir"]},{flag:"",country:"Argentina",docs:["DNI (Documento Nacional)","Pasaporte","Licencia de Conducir"]},{flag:"",country:"Mxico",docs:["INE (Credencial para Votar)","Pasaporte","Licencia de Conducir"]},{flag:"",country:"Chile",docs:["Cdula de Identidad (RUT)","Pasaporte","Licencia de Conducir"]},{flag:"",country:"Brasil",docs:["RG (Registro Geral)","CPF (con foto)","CNH","Pasaporte"]},{flag:"",country:"Colombia",docs:["Cdula de Ciudadana","Pasaporte","Licencia de Conducir"]}];function fOe({onNavigate:e}){const[t,r]=A.useState(!1),[o,i]=A.useState(""),[a,s]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(!0),[p,h]=A.useState(!1),[x,m]=A.useState(!1),y=o.length>8&&l.length>8,b=(C,S)=>{navigator.clipboard.writeText(C).then(()=>ke.success(`${S} copiado al portapapeles`))},v=()=>{if(!o||!l){ke.error("Client ID y Flow ID son obligatorios");return}m(!0),ke.success("Configuracin de MetaMap guardada",{description:"Recuerda configurar las mismas variables en Supabase Edge Functions."}),setTimeout(()=>m(!1),3e3)};return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[n.jsx(Ze,{icon:Nr,title:"MetaMap  Verificacin de Identidad",subtitle:"KYC  Verificacin de edad  Documentos + Selfie + Liveness",actions:[{label:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:5},children:[n.jsx(gn,{size:12})," Dashboard MetaMap"]}),onClick:()=>window.open("https://dashboard.metamap.com/","_blank")},{label:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:5},children:[n.jsx(pt,{size:12})," Guardar config."]}),primary:!0,onClick:v}]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 28px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"16px 20px",borderRadius:"12px",marginBottom:"24px",backgroundColor:y?"#F0FDF4":"#FFF7ED",border:`1.5px solid ${y?"#D1FAE5":"#FED7AA"}`},children:[y?n.jsx(ft,{size:20,color:"#10B981"}):n.jsx(Wr,{size:20,color:"#F59E0B"}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:0,fontSize:"0.88rem",fontWeight:"700",color:y?"#059669":"#92400E"},children:y?"MetaMap configurado y listo":"Configuracin pendiente"}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.75rem",color:y?"#6EE7B7":"#D97706"},children:y?`Modo: ${d?"Sandbox (pruebas)":"Produccin"}  Flow ID configurado`:"Complet el Client ID y Flow ID para activar la verificacin de identidad"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:d?"#F59E0B":"#10B981",backgroundColor:d?"#FEF3C7":"#D1FAE5",padding:"3px 10px",borderRadius:"6px"},children:d?" Sandbox":" Produccin"})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:"9px",backgroundColor:`${to}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(vd,{size:16,color:to})}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:0,fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:"Credenciales API"}),n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:"Obtenelas en MetaMap  Settings  API Keys"})]})]}),n.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"18px"},children:[{id:!0,label:" Sandbox (test)"},{id:!1,label:" Produccin"}].map(C=>n.jsx("button",{onClick:()=>f(C.id),style:{flex:1,padding:"8px 0",borderRadius:"8px",border:`1.5px solid ${d===C.id?to:"#E5E7EB"}`,backgroundColor:d===C.id?`${to}10`:"#F9FAFB",color:d===C.id?to:"#6B7280",fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:C.label},String(C.id)))}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"700",color:"#374151",marginBottom:"6px"},children:["Client ID ",n.jsx("span",{style:{color:"#EF4444"},children:"*"}),n.jsx("span",{style:{fontWeight:"400",color:"#9CA3AF",marginLeft:"6px"},children:"(pblico  frontend)"})]}),n.jsx("input",{value:o,onChange:C=>i(C.target.value),placeholder:"mati_abc123xyz...",style:{width:"100%",padding:"10px 12px",borderRadius:"9px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",fontFamily:"monospace",backgroundColor:"#F9FAFB",outline:"none",boxSizing:"border-box"},onFocus:C=>C.target.style.borderColor=to,onBlur:C=>C.target.style.borderColor="#E5E7EB"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"700",color:"#374151",marginBottom:"6px"},children:["Client Secret",n.jsx("span",{style:{fontWeight:"400",color:"#9CA3AF",marginLeft:"6px"},children:"(privado  solo Supabase env)"})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{value:a,onChange:C=>s(C.target.value),type:t?"text":"password",placeholder:"sk_live_abc123xyz...",style:{width:"100%",padding:"10px 36px 10px 12px",borderRadius:"9px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",fontFamily:"monospace",backgroundColor:"#F9FAFB",outline:"none",boxSizing:"border-box"},onFocus:C=>C.target.style.borderColor=to,onBlur:C=>C.target.style.borderColor="#E5E7EB"}),n.jsx("button",{onClick:()=>r(!t),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:0},children:t?n.jsx(y8,{size:15,color:"#9CA3AF"}):n.jsx(yr,{size:15,color:"#9CA3AF"})})]}),n.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.68rem",color:"#9CA3AF"},children:" Nunca expongas este valor en el frontend"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"700",color:"#374151",marginBottom:"6px"},children:["Flow ID ",n.jsx("span",{style:{color:"#EF4444"},children:"*"}),n.jsx("span",{style:{fontWeight:"400",color:"#9CA3AF",marginLeft:"6px"},children:"(pblico)"})]}),n.jsx("input",{value:l,onChange:C=>c(C.target.value),placeholder:"6419e3b2b0c5340011234567",style:{width:"100%",padding:"10px 12px",borderRadius:"9px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",fontFamily:"monospace",backgroundColor:"#F9FAFB",outline:"none",boxSizing:"border-box"},onFocus:C=>C.target.style.borderColor=to,onBlur:C=>C.target.style.borderColor="#E5E7EB"})]})]}),n.jsxs("div",{style:{marginTop:"18px",padding:"12px 14px",backgroundColor:"#F8F9FA",borderRadius:"9px",border:"1px solid #E5E7EB"},children:[n.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.72rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Env vars requeridas en Supabase"}),["METAMAP_CLIENT_ID","METAMAP_CLIENT_SECRET","METAMAP_FLOW_ID","METAMAP_WEBHOOK_SECRET"].map(C=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 0"},children:[n.jsx("code",{style:{fontSize:"0.72rem",color:"#374151",fontFamily:"monospace"},children:C}),n.jsx("button",{onClick:()=>b(C,C),style:{background:"none",border:"none",cursor:"pointer",padding:"2px 4px",color:"#9CA3AF"},children:n.jsx(ho,{size:11})})]},C))]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px",display:"flex",flexDirection:"column",gap:"0"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[n.jsx("div",{style:{width:34,height:34,borderRadius:"9px",backgroundColor:"#3B82F615",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Iy,{size:16,color:"#3B82F6"})}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:0,fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:"Webhook URL"}),n.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:"MetaMap  Settings  Webhooks  Add Webhook"})]})]}),n.jsxs("div",{style:{backgroundColor:"#F3F4F6",borderRadius:"9px",padding:"12px 14px",marginBottom:"16px",position:"relative"},children:[n.jsx("code",{style:{fontSize:"0.7rem",color:"#374151",fontFamily:"monospace",wordBreak:"break-all",lineHeight:1.5},children:nL}),n.jsxs("button",{onClick:()=>b(nL,"Webhook URL"),style:{position:"absolute",top:"8px",right:"8px",background:"#fff",border:"1px solid #E5E7EB",borderRadius:"6px",padding:"4px 8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.68rem",color:"#6B7280"},children:[n.jsx(ho,{size:10})," Copiar"]})]}),n.jsxs("div",{style:{marginBottom:"18px"},children:[n.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.78rem",fontWeight:"700",color:"#374151"},children:"Eventos a suscribir:"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:["verification.completed","verification.updated","verification.approved","verification.rejected"].map(C=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"7px"},children:[n.jsx(ft,{size:12,color:"#10B981"}),n.jsx("code",{style:{fontSize:"0.74rem",color:"#374151",fontFamily:"monospace"},children:C})]},C))})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginTop:"auto"},children:[{icon:Ao,label:"Verificaciones",value:"5",color:to},{icon:ft,label:"Aprobadas",value:"3",color:"#10B981"},{icon:Ct,label:"Tasa aprobacin",value:"80%",color:"#3B82F6"}].map((C,S)=>n.jsxs("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"#F9FAFB",borderRadius:"9px"},children:[n.jsx(C.icon,{size:16,color:C.color,style:{marginBottom:"6px"}}),n.jsx("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"800",color:"#111827"},children:C.value}),n.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.65rem",color:"#9CA3AF"},children:C.label})]},S))})]})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px",marginBottom:"20px"},children:[n.jsxs("h3",{style:{margin:"0 0 16px",fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:["Verificaciones recientes ",n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"400",color:"#9CA3AF"},children:"(ltimas 5  datos de ejemplo)"})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[n.jsx("thead",{children:n.jsx("tr",{style:{borderBottom:"1px solid #F3F4F6"},children:["ID","Usuario","Documento","Estado","Pedido","Fecha"].map(C=>n.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em",whiteSpace:"nowrap"},children:C},C))})}),n.jsx("tbody",{children:dOe.map(C=>{const S=uOe[C.status];return n.jsxs("tr",{style:{borderBottom:"1px solid #F9FAFB"},children:[n.jsx("td",{style:{padding:"10px 12px"},children:n.jsx("code",{style:{fontSize:"0.72rem",color:"#6B7280"},children:C.id})}),n.jsx("td",{style:{padding:"10px 12px",color:"#374151"},children:C.user}),n.jsx("td",{style:{padding:"10px 12px",color:"#374151"},children:C.method}),n.jsx("td",{style:{padding:"10px 12px"},children:n.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:S.color,backgroundColor:S.bg,padding:"3px 9px",borderRadius:"6px"},children:S.label})}),n.jsx("td",{style:{padding:"10px 12px"},children:n.jsx("code",{style:{fontSize:"0.72rem",color:to},children:C.order})}),n.jsx("td",{style:{padding:"10px 12px",color:"#9CA3AF",whiteSpace:"nowrap"},children:C.date})]},C.id)})})]})})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden",marginBottom:"20px"},children:[n.jsxs("button",{onClick:()=>h(!p),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"18px 22px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left"},children:[n.jsx(Kr,{size:16,color:to}),n.jsx("p",{style:{margin:0,fontSize:"0.9rem",fontWeight:"700",color:"#111827",flex:1},children:"Documentos soportados por pas"}),p?n.jsx(Yn,{size:16,color:"#9CA3AF"}):n.jsx(Xr,{size:16,color:"#9CA3AF"})]}),p&&n.jsx("div",{style:{padding:"0 22px 22px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:pOe.map(C=>n.jsxs("div",{style:{padding:"14px",backgroundColor:"#F9FAFB",borderRadius:"10px",border:"1px solid #F3F4F6"},children:[n.jsxs("p",{style:{margin:"0 0 8px",fontSize:"0.88rem",fontWeight:"700",color:"#111827"},children:[C.flag," ",C.country]}),C.docs.map(S=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[n.jsx(ft,{size:11,color:"#10B981"}),n.jsx("span",{style:{fontSize:"0.74rem",color:"#6B7280"},children:S})]},S))]},C.country))})]}),n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:0,fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:"Planes de MetaMap"}),n.jsxs("a",{href:"https://metamap.com/pricing",target:"_blank",rel:"noopener noreferrer",style:{fontSize:"0.75rem",color:to,fontWeight:"700",display:"flex",alignItems:"center",gap:"4px",textDecoration:"none"},children:["Ver precios actuales ",n.jsx(gn,{size:11})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:[{plan:"Free",price:"$0",verifs:"100/mes",extra:"",highlight:!1},{plan:"Starter",price:"$299/mes",verifs:"500 incl.",extra:"$0.50 c/u",highlight:!1},{plan:"Growth",price:"$999/mes",verifs:"2.500 incl.",extra:"$0.30 c/u",highlight:!0},{plan:"Enterprise",price:"Custom",verifs:"Alto volumen",extra:"Negociable",highlight:!1}].map(C=>n.jsxs("div",{style:{padding:"16px",borderRadius:"10px",border:`1.5px solid ${C.highlight?to:"#E5E7EB"}`,backgroundColor:C.highlight?`${to}06`:"#F9FAFB",textAlign:"center",position:"relative"},children:[C.highlight&&n.jsx("div",{style:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",fontSize:"0.65rem",fontWeight:"800",color:"#fff",backgroundColor:to,padding:"2px 10px",borderRadius:"10px",whiteSpace:"nowrap"},children:"Recomendado"}),n.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.8rem",fontWeight:"700",color:"#111827"},children:C.plan}),n.jsx("p",{style:{margin:"0 0 8px",fontSize:"1.1rem",fontWeight:"900",color:C.highlight?to:"#374151"},children:C.price}),n.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.72rem",color:"#6B7280"},children:C.verifs}),n.jsxs("p",{style:{margin:0,fontSize:"0.68rem",color:"#9CA3AF"},children:["extra: ",C.extra]})]},C.plan))})]})]})]})}async function hOe(e){try{if(await Bx(),await zx(),!fc())throw new Error("Google Maps API no est disponible");const t=new window.google.maps.Geocoder;return new Promise((r,o)=>{t.geocode({address:e,region:"AR",language:"es"},(i,a)=>{if(a==="OK"&&i&&i.length>0){const s=i[0],l=s.geometry.location,c={};s.address_components.forEach(d=>{const f=d.types;f.includes("street_number")&&(c.street_number=d.long_name),f.includes("route")&&(c.route=d.long_name),f.includes("locality")&&(c.locality=d.long_name),f.includes("administrative_area_level_1")&&(c.administrative_area_level_1=d.short_name),f.includes("administrative_area_level_2")&&(c.administrative_area_level_2=d.long_name),f.includes("country")&&(c.country=d.short_name),f.includes("postal_code")&&(c.postal_code=d.long_name)}),r({address:e,lat:l.lat(),lng:l.lng(),formatted_address:s.formatted_address,place_id:s.place_id,types:s.types,components:c})}else a==="ZERO_RESULTS"?r(null):o(new Error(`Error en geocodificacin: ${a}`))})})}catch(t){throw console.error("[geocoding] Error geocodificando direccin:",t),t}}async function gOe(e,t){try{if(await Bx(),await zx(),!fc())throw new Error("Google Maps API no est disponible");const r=new window.google.maps.Geocoder;return new Promise((o,i)=>{r.geocode({location:{lat:e,lng:t},region:"AR",language:"es"},(a,s)=>{if(s==="OK"&&a&&a.length>0){const l=a[0],c={};l.address_components.forEach(d=>{const f=d.types;f.includes("street_number")&&(c.street_number=d.long_name),f.includes("route")&&(c.route=d.long_name),f.includes("locality")&&(c.locality=d.long_name),f.includes("administrative_area_level_1")&&(c.administrative_area_level_1=d.short_name),f.includes("administrative_area_level_2")&&(c.administrative_area_level_2=d.long_name),f.includes("country")&&(c.country=d.short_name),f.includes("postal_code")&&(c.postal_code=d.long_name)}),o({lat:e,lng:t,address:l.formatted_address,formatted_address:l.formatted_address,place_id:l.place_id,components:c})}else s==="ZERO_RESULTS"?o(null):i(new Error(`Error en geocodificacin inversa: ${s}`))})})}catch(r){throw console.error("[geocoding] Error en geocodificacin inversa:",r),r}}function xOe(){const[e,t]=A.useState(""),[r,o]=A.useState(""),[i,a]=A.useState(null),[s,l]=A.useState([]),[c,d]=A.useState(!1),[f,p]=A.useState(""),h=b=>{a(b),l([{id:"selected",lat:b.lat,lng:b.lng,title:b.address,color:"#FF6835"}]),ke.success("Direccin seleccionada")},x=async()=>{if(!r.trim()){ke.error("Ingres una direccin para geocodificar");return}d(!0),p("");try{const b=await hOe(r);b?(p(` Direccin encontrada:
 ${b.formatted_address}
 Lat: ${b.lat.toFixed(6)}
 Lng: ${b.lng.toFixed(6)}
 Place ID: ${b.place_id||"N/A"}`),l([{id:"geocoded",lat:b.lat,lng:b.lng,title:b.formatted_address,color:"#10B981"}]),ke.success("Geocodificacin exitosa")):(p(" No se encontr la direccin"),ke.error("Direccin no encontrada"))}catch(b){const v=b instanceof Error?b.message:"Error desconocido";p(` Error: ${v}`),ke.error("Error en geocodificacin")}finally{d(!1)}},m=async()=>{if(!i){ke.error("Seleccion una direccin primero");return}d(!0);try{const b=await gOe(i.lat,i.lng);b?(ke.success("Geocodificacin inversa exitosa"),p(` Coordenadas  Direccin:
 ${b.formatted_address}
 Lat: ${b.lat.toFixed(6)}
 Lng: ${b.lng.toFixed(6)}`)):p(" No se encontr direccin para esas coordenadas")}catch(b){const v=b instanceof Error?b.message:"Error desconocido";p(` Error: ${v}`),ke.error("Error en geocodificacin inversa")}finally{d(!1)}},y=i?{lat:i.lat,lng:i.lng}:{lat:-34.9011,lng:-56.1645};return n.jsxs("div",{style:{padding:"24px",maxWidth:"1400px",margin:"0 auto"},children:[n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",marginBottom:"8px"},children:" Prueba de Google Maps API"}),n.jsx("p",{style:{color:"#6B7280",fontSize:"16px"},children:"Prob los componentes de geolocalizacin de Google Maps"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[n.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"8px",border:"1px solid #E5E7EB",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(tr,{className:"w-5 h-5"}),"Autocompletado de Direcciones"]}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Buscar direccin (con autocompletado)"}),n.jsx(DG,{value:e,onChange:t,onSelect:h,placeholder:"Ej: Av. 18 de Julio 1234, Montevideo"})]}),i&&n.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#F3F4F6",borderRadius:"6px",fontSize:"14px"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Direccin seleccionada:"}),n.jsx("div",{style:{color:"#6B7280"},children:i.address}),n.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#9CA3AF"},children:["Lat: ",i.lat.toFixed(6),", Lng: ",i.lng.toFixed(6)]})]})]}),n.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"8px",border:"1px solid #E5E7EB",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Di,{className:"w-5 h-5"}),"Geocodificacin Manual"]}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Direccin a geocodificar"}),n.jsx("input",{type:"text",value:r,onChange:b=>o(b.target.value),placeholder:"Ej: Plaza Independencia, Montevideo",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),n.jsx("button",{onClick:x,disabled:c||!r.trim(),style:{width:"100%",padding:"10px",background:c?"#9CA3AF":"#FF6835",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:c?n.jsxs(n.Fragment,{children:[n.jsx(ur,{className:"w-4 h-4 animate-spin"}),"Geocodificando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"w-4 h-4"}),"Obtener Coordenadas"]})}),i&&n.jsx("button",{onClick:m,disabled:c,style:{width:"100%",marginTop:"8px",padding:"10px",background:c?"#9CA3AF":"#10B981",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:c?"not-allowed":"pointer"},children:"Geocodificacin Inversa (Coordenadas  Direccin)"})]})]}),f&&n.jsx("div",{style:{marginBottom:"24px",padding:"16px",background:"#F3F4F6",borderRadius:"8px",whiteSpace:"pre-line",fontSize:"14px",fontFamily:"monospace"},children:f}),n.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"8px",border:"1px solid #E5E7EB",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dn,{className:"w-5 h-5"}),"Mapa Interactivo"]}),n.jsx(tK,{center:y,zoom:i?15:13,markers:s,height:"500px",onMarkerClick:b=>{ke.info(`Marcador: ${b.title}`)}})]}),n.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#EFF6FF",borderRadius:"8px",border:"1px solid #BFDBFE"},children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:" Instrucciones de prueba:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1E40AF"},children:[n.jsx("li",{children:"Us el autocompletado para buscar una direccin (aparecern sugerencias mientras escribs)"}),n.jsx("li",{children:"Seleccion una direccin y vers el marcador en el mapa"}),n.jsx("li",{children:'Prob la geocodificacin manual ingresando una direccin y haciendo clic en "Obtener Coordenadas"'}),n.jsx("li",{children:"Si hay una direccin seleccionada, pods probar la geocodificacin inversa"}),n.jsx("li",{children:"El mapa se centrar automticamente en la direccin seleccionada"})]})]})]})}function mOe(){const[e,t]=A.useState("dashboard"),r=o=>t(o);return n.jsxs(n.Fragment,{children:[n.jsx(u2e,{position:"top-right",richColors:!0}),n.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:"#F8F9FA",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif'},children:[n.jsx(die,{activeSection:e,onNavigate:r}),n.jsxs("main",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minWidth:0},children:[e==="dashboard"&&n.jsx(eje,{onNavigate:r}),e==="ecommerce"&&n.jsx(tje,{onNavigate:r}),e==="marketing"&&n.jsx(uje,{onNavigate:r}),e==="herramientas"&&n.jsx(pje,{onNavigate:r}),e==="qr-generator"&&n.jsx(g2e,{onNavigate:r}),e==="gestion"&&n.jsx(x2e,{onNavigate:r}),e==="pos"&&n.jsx(b2e,{onNavigate:r}),e==="sistema"&&n.jsx(v2e,{onNavigate:r}),e==="diseno"&&n.jsx(F2e,{onNavigate:r}),e==="checklist"&&n.jsx(s$,{onNavigate:r}),e==="roadmap"&&n.jsx(s$,{onNavigate:r}),e==="integraciones"&&n.jsx(Jke,{onNavigate:r}),e==="migracion-rrss"&&n.jsx(lFe,{onNavigate:r}),e==="mailing"&&n.jsx(mFe,{onNavigate:r}),e==="google-ads"&&n.jsx(bFe,{onNavigate:r}),e==="rueda-sorteos"&&n.jsx(jFe,{onNavigate:r}),e==="fidelizacion"&&n.jsx(SFe,{onNavigate:r}),e==="redes-sociales"&&n.jsx(wFe,{onNavigate:r}),e==="rrss"&&n.jsx(AFe,{onNavigate:r}),e==="departamentos"&&n.jsx(LFe,{onNavigate:r}),e==="secondhand"&&n.jsx(UFe,{onNavigate:r}),e==="erp-inventario"&&n.jsx(XFe,{onNavigate:r}),e==="erp-facturacion"&&n.jsx(QFe,{onNavigate:r}),e==="erp-compras"&&n.jsx(eAe,{onNavigate:r}),e==="erp-crm"&&n.jsx(iAe,{onNavigate:r}),e==="erp-contabilidad"&&n.jsx(uAe,{onNavigate:r}),e==="erp-rrhh"&&n.jsx(bAe,{onNavigate:r}),e==="proyectos"&&n.jsx(CAe,{onNavigate:r}),e==="personas"&&n.jsx($Ae,{onNavigate:r}),e==="organizaciones"&&n.jsx(KAe,{onNavigate:r}),e==="clientes"&&n.jsx(YAe,{onNavigate:r}),e==="pedidos"&&n.jsx(g5e,{onNavigate:r}),e==="metodos-pago"&&n.jsx(w5e,{onNavigate:r}),e==="metodos-envio"&&n.jsx(A5e,{onNavigate:r}),e==="pagos"&&n.jsx(I5e,{onNavigate:r}),e==="envios"&&n.jsx(V5e,{onNavigate:r}),e==="logistica"&&n.jsx(U5e,{onNavigate:r}),e==="transportistas"&&n.jsx(u8e,{onNavigate:r}),e==="rutas"&&n.jsx(x8e,{onNavigate:r}),e==="produccion"&&n.jsx(w8e,{onNavigate:r}),e==="abastecimiento"&&n.jsx(A8e,{onNavigate:r}),e==="mapa-envios"&&n.jsx(I8e,{onNavigate:r}),e==="tracking-publico"&&n.jsx(L8e,{onNavigate:r}),e==="fulfillment"&&n.jsx(b8e,{onNavigate:r}),e==="seo"&&n.jsx(q8e,{onNavigate:r}),e==="etiqueta-emotiva"&&n.jsx(Q5e,{onNavigate:r}),e==="ideas-board"&&n.jsx(RTe,{onNavigate:r}),e==="integraciones-pagos"&&n.jsx(ITe,{onNavigate:r}),e==="integraciones-logistica"&&n.jsx($Te,{onNavigate:r}),e==="integraciones-tiendas"&&n.jsx(LTe,{onNavigate:r}),e==="integraciones-rrss"&&n.jsx(VTe,{onNavigate:r}),e==="integraciones-servicios"&&n.jsx(qTe,{onNavigate:r}),e==="integraciones-marketplace"&&n.jsx(YTe,{onNavigate:r}),e==="integraciones-comunicacion"&&n.jsx(GTe,{onNavigate:r}),e==="integraciones-identidad"&&n.jsx(XTe,{onNavigate:r}),e==="integraciones-api-keys"&&n.jsx(JTe,{onNavigate:r}),e==="integraciones-webhooks"&&n.jsx(QTe,{onNavigate:r}),e==="biblioteca"&&n.jsx(sPe,{onNavigate:r}),e==="editor-imagenes"&&n.jsx(mPe,{onNavigate:r}),e==="gen-documentos"&&n.jsx(EPe,{onNavigate:r}),e==="gen-presupuestos"&&n.jsx(_Pe,{onNavigate:r}),e==="ocr"&&n.jsx(DPe,{onNavigate:r}),e==="impresion"&&n.jsx(LPe,{onNavigate:r}),e==="auditoria"&&n.jsx(WPe,{onNavigate:r}),e==="auditoria-health"&&n.jsx(HPe,{onNavigate:r}),e==="auditoria-logs"&&n.jsx(KPe,{onNavigate:r}),e==="integraciones-apis"&&n.jsx(XPe,{onNavigate:r}),e==="constructor"&&n.jsx(lze,{onNavigate:r}),e==="auth-registro"&&n.jsx(NIe,{onNavigate:r}),e==="carga-masiva"&&n.jsx(LIe,{onNavigate:r}),e==="meta-business"&&n.jsx(VIe,{onNavigate:r}),e==="unified-workspace"&&n.jsx(ZIe,{onNavigate:r}),e==="dashboard-admin"&&n.jsx(iOe,{onNavigate:r}),e==="dashboard-usuario"&&n.jsx(sOe,{onNavigate:r}),e==="config-vistas"&&n.jsx(lOe,{onNavigate:r}),e==="documentacion"&&n.jsx(cOe,{onNavigate:r}),e==="metamap-config"&&n.jsx(fOe,{onNavigate:r}),e==="google-maps-test"&&n.jsx(xOe,{})]})]})]})}const yOe=see([{path:"/",element:n.jsx(OZ,{to:"/admin",replace:!0})},{path:"/admin",Component:mOe},{path:"/m/:token",Component:sie}]);function bOe(){return n.jsx(zZ,{router:yOe})}GJ.createRoot(document.getElementById("root")).render(n.jsx(bOe,{}));export{nr as g};
