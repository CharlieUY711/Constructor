import{s as n}from"./index-D8gJryvN.js";async function a(o){let r=n.from("organizaciones").select("*");o!=null&&o.tipo&&(r=r.eq("tipo",o.tipo)),(o==null?void 0:o.activo)!==void 0&&(r=r.eq("activo",o.activo)),o!=null&&o.search&&(r=r.or(`nombre.ilike.%${o.search}%,email.ilike.%${o.search}%`));const{data:e,error:i}=await r.order("nombre");if(i)throw console.error("[organizacionesApi] Error obteniendo organizaciones:",i),new Error(i.message||"Error cargando organizaciones");return e||[]}async function t(o){const{data:r,error:e}=await n.from("organizaciones").insert({...o,activo:o.activo??!0}).select().single();if(e)throw console.error("[organizacionesApi] Error creando organizacion:",e),new Error(e.message||"Error creando organizacion");return r}async function s(o,r){const{data:e,error:i}=await n.from("organizaciones").update(r).eq("id",o).select().single();if(i)throw console.error("[organizacionesApi] Error actualizando organizacion:",i),new Error(i.message||"Error actualizando organizacion");return e}async function g(o){const{error:r}=await n.from("organizaciones").delete().eq("id",o);return r?(console.error("[organizacionesApi] Error eliminando organizacion:",r),!1):!0}export{t as c,g as d,a as g,s as u};
