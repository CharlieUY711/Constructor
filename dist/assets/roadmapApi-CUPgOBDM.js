import{s,k as y,h as p}from"./index-N4sibPIm.js";const u=[{id:"admin-settings",name:"Configuración del Sistema",category:"admin",description:"Configuración general del sistema, parámetros y ajustes",estimatedHours:8},{id:"admin-users",name:"Gestión de Usuarios",category:"admin",description:"Administración de usuarios, roles y permisos",estimatedHours:12},{id:"base-personas",name:"Base de Personas",category:"crm",description:"CRUD completo de personas físicas y jurídicas",estimatedHours:16},{id:"ecommerce-pedidos",name:"Pedidos eCommerce",category:"ecommerce",description:"Gestión y seguimiento de pedidos con estados y pipeline visual",estimatedHours:24},{id:"ecommerce-metodos-pago",name:"Métodos de Pago",category:"ecommerce",description:"Configuración de pasarelas de pago y métodos de cobro",estimatedHours:16,submodules:[{id:"metodos-pago-plexo",name:"Plexo",estimatedHours:4},{id:"metodos-pago-mercadopago",name:"Mercado Pago",estimatedHours:4},{id:"metodos-pago-paypal",name:"PayPal",estimatedHours:4},{id:"metodos-pago-stripe",name:"Stripe",estimatedHours:4}]},{id:"ecommerce-metodos-envio",name:"Métodos de Envío",category:"ecommerce",description:"Configuración de métodos de envío y tarifas",estimatedHours:12},{id:"logistics-hub",name:"Hub Logístico",category:"logistics",description:"Centro de operaciones logísticas con diagrama de flujo",estimatedHours:8},{id:"logistics-shipping",name:"Envíos",category:"logistics",description:"Gestión de envíos con árbol pedido→envíos y timeline de tracking",estimatedHours:20},{id:"logistics-carriers",name:"Transportistas",category:"logistics",description:"Catálogo de carriers, tramos, zonas y simulador de tarifas",estimatedHours:16},{id:"logistics-routes",name:"Rutas",category:"logistics",description:"Rutas estándar y por proyecto con paradas y progreso de entrega",estimatedHours:16},{id:"logistics-fulfillment",name:"Fulfillment",category:"logistics",description:"Wave picking, lotes, cola de órdenes, empaque y materiales",estimatedHours:20},{id:"logistics-production",name:"Producción / Armado",category:"logistics",description:"BOM, órdenes de armado, catálogo de kits y combos",estimatedHours:20},{id:"logistics-supply",name:"Abastecimiento",category:"logistics",description:"Alertas de stock, OC sugeridas y MRP",estimatedHours:16},{id:"logistics-map",name:"Mapa de Envíos",category:"logistics",description:"Mapa SVG de Argentina con puntos de envíos activos",estimatedHours:12},{id:"logistics-tracking",name:"Tracking Público",category:"logistics",description:"Búsqueda por número de envío y timeline de estados",estimatedHours:12},{id:"logistics-integraciones",name:"Integraciones Logística",category:"logistics",description:"Carriers con y sin API, Google Maps Platform",estimatedHours:16},{id:"marketing-campaigns",name:"Campañas de Marketing",category:"marketing",description:"Gestión de campañas de marketing y publicidad",estimatedHours:16},{id:"marketing-email",name:"Email Marketing",category:"marketing",description:"Envío de emails transaccionales y campañas",estimatedHours:12},{id:"marketing-email-bulk",name:"Email Masivo",category:"marketing",description:"Campañas masivas de email con segmentación",estimatedHours:16},{id:"marketing-seo",name:"SEO",category:"marketing",description:"Optimización SEO, keywords, rankings y análisis on-page",estimatedHours:20},{id:"marketing-loyalty",name:"Fidelización",category:"marketing",description:"Programa de puntos, recompensas y rueda de sorteos",estimatedHours:20},{id:"marketing-etiqueta-emotiva",name:"Etiqueta Emotiva",category:"marketing",description:"Generador de etiquetas personalizadas con QR para envíos",estimatedHours:12},{id:"rrss-centro-operativo",name:"Centro Operativo RRSS",category:"rrss",description:"Métricas, programación de posts y análisis de audiencia",estimatedHours:20},{id:"rrss-migracion",name:"Migración RRSS",category:"rrss",description:"Herramienta de migración/rebranding Instagram + Facebook",estimatedHours:16},{id:"tools-library",name:"Biblioteca de Assets",category:"tools",description:"Biblioteca de assets con upload, colecciones y tags",estimatedHours:16},{id:"tools-image-editor",name:"Editor de Imágenes",category:"tools",description:"Editor de imágenes con filtros, rotación y export",estimatedHours:12},{id:"tools-documents",name:"Generador de Documentos",category:"tools",description:"Generador WYSIWYG de documentos con export PDF",estimatedHours:16},{id:"tools-quotes",name:"Generador de Presupuestos",category:"tools",description:"Generador de presupuestos con ítems, IVA y multi-moneda",estimatedHours:16},{id:"tools-ocr",name:"OCR",category:"tools",description:"OCR con Tesseract.js, 100% browser, sin API key",estimatedHours:12},{id:"tools-print",name:"Impresión",category:"tools",description:"Módulo de impresión con cola de trabajos y preview",estimatedHours:12},{id:"tools-qr",name:"Generador QR",category:"tools",description:"Generador QR sin APIs externas, genera PNG y SVG",estimatedHours:8},{id:"tools-ideas-board",name:"Ideas Board",category:"tools",description:"Canvas visual de módulos e ideas con stickers y conectores",estimatedHours:20},{id:"erp-inventory",name:"ERP Inventario",category:"erp",description:"Control de stock, inventario, movimientos y alertas",estimatedHours:24},{id:"erp-invoicing",name:"ERP Facturación",category:"erp",description:"Facturación electrónica y comprobantes",estimatedHours:20},{id:"erp-purchasing",name:"ERP Compras",category:"erp",description:"Gestión de compras y proveedores",estimatedHours:20},{id:"erp-accounting",name:"ERP Contabilidad",category:"erp",description:"Contabilidad, plan de cuentas, asientos y bancos",estimatedHours:24},{id:"erp-hr",name:"ERP RRHH",category:"erp",description:"Empleados, asistencia y nómina",estimatedHours:20},{id:"crm-contacts",name:"CRM Contactos",category:"crm",description:"Gestión de contactos y relaciones",estimatedHours:16},{id:"crm-opportunities",name:"CRM Oportunidades",category:"crm",description:"Pipeline de oportunidades y ventas",estimatedHours:20},{id:"crm-activities",name:"CRM Actividades",category:"crm",description:"Actividades y seguimiento de clientes",estimatedHours:16},{id:"projects-management",name:"Gestión de Proyectos",category:"projects",description:"Gestión de proyectos con Gantt y Kanban",estimatedHours:24},{id:"projects-tasks",name:"Tareas de Proyectos",category:"projects",description:"Gestión de tareas y subtareas",estimatedHours:16},{id:"projects-time",name:"Tiempo de Proyectos",category:"projects",description:"Seguimiento de tiempo y recursos",estimatedHours:12},{id:"marketplace-productos",name:"Productos Marketplace",category:"marketplace",description:"Catálogo de productos del marketplace",estimatedHours:20},{id:"marketplace-departamentos",name:"Departamentos",category:"marketplace",description:"Gestión de departamentos y categorías",estimatedHours:12},{id:"marketplace-carrito",name:"Carrito",category:"marketplace",description:"Gestión de carrito de compras",estimatedHours:16},{id:"marketplace-storefront",name:"Storefront",category:"marketplace",description:"Vista pública del marketplace",estimatedHours:24},{id:"marketplace-secondhand",name:"Segunda Mano",category:"marketplace",description:"Marketplace de productos de segunda mano",estimatedHours:24},{id:"marketplace-secondhand-mediacion",name:"Mediación Segunda Mano",category:"marketplace",description:"Sistema de mediación de disputas",estimatedHours:16},{id:"integrations-mercadolibre",name:"Integración MercadoLibre",category:"integrations",description:"Integración con MercadoLibre para sincronización de productos",estimatedHours:20},{id:"integrations-mercadopago",name:"Integración Mercado Pago",category:"integrations",description:"Integración con Mercado Pago para pagos",estimatedHours:16},{id:"integrations-plexo",name:"Integración Plexo",category:"integrations",description:"Integración con Plexo para pagos en Uruguay",estimatedHours:16},{id:"integrations-paypal",name:"Integración PayPal",category:"integrations",description:"Integración con PayPal para pagos internacionales",estimatedHours:16},{id:"integrations-stripe",name:"Integración Stripe",category:"integrations",description:"Integración con Stripe para pagos con tarjeta",estimatedHours:16},{id:"integrations-meta",name:"Integración Meta",category:"integrations",description:"Integración con Meta para Facebook e Instagram",estimatedHours:20},{id:"integrations-twilio",name:"Integración Twilio",category:"integrations",description:"Integración con Twilio para SMS y WhatsApp",estimatedHours:16},{id:"integrations-logistics",name:"Integraciones Logística",category:"integrations",description:"Integraciones con carriers y servicios logísticos",estimatedHours:16},{id:"audit-hub",name:"Hub Auditoría",category:"audit",description:"Centro de auditoría con métricas y diagnóstico rápido",estimatedHours:12},{id:"audit-health",name:"Health Monitor",category:"audit",description:"Monitoreo de salud de servicios en tiempo real",estimatedHours:16},{id:"audit-logs",name:"System Logs",category:"audit",description:"Visualización de logs del sistema con filtros",estimatedHours:12},{id:"audit-apis-repo",name:"Repositorio de APIs",category:"audit",description:"Repositorio centralizado de APIs externas",estimatedHours:16}];new Map(u.map(r=>[r.id,r]));const n=`${y}/roadmap`,d={"Content-Type":"application/json",Authorization:`Bearer ${p}`,apikey:p};async function k(r){try{const o=await fetch(`${n}${r}`,{headers:d}),e=await o.json();return o.ok?{ok:!0,data:e}:{ok:!1,error:e.error||"Error en la petición"}}catch(o){return console.error(`Roadmap API GET ${r}:`,o),{ok:!1,error:String(o)}}}async function l(r,o){try{const e=await fetch(`${n}${r}`,{method:"POST",headers:d,body:JSON.stringify(o)}),t=await e.json();return e.ok?{ok:!0,data:t}:{ok:!1,error:t.error||"Error en la petición"}}catch(e){return console.error(`Roadmap API POST ${r}:`,e),{ok:!1,error:String(e)}}}async function f(r,o){try{const e=await fetch(`${n}${r}`,{method:"PUT",headers:d,body:JSON.stringify(o)}),t=await e.json();return e.ok?{ok:!0,data:t}:{ok:!1,error:t.error||"Error en la petición"}}catch(e){return console.error(`Roadmap API PUT ${r}:`,e),{ok:!1,error:String(e)}}}async function g(r){try{const o=await fetch(`${n}${r}`,{method:"DELETE",headers:d}),e=await o.json();return o.ok?{ok:!0}:{ok:!1,error:e.error||"Error en la petición"}}catch(o){return console.error(`Roadmap API DELETE ${r}:`,o),{ok:!1,error:String(o)}}}async function H(){try{const{data:r,error:o}=await s.from("roadmap_modules").select("*").order("exec_order",{ascending:!0,nullsFirst:!1});if(o)return console.error("[roadmapApi] Error en getModules:",o),[];const e=new Map;(r??[]).forEach(i=>{e.set(i.id,{status:i.status,priority:i.priority,execOrder:i.exec_order,estimatedHours:i.estimated_hours,notas:i.notas,tiene_view:i.tiene_view,tiene_backend:i.tiene_backend,endpoint_ok:i.endpoint_ok,tiene_datos:i.tiene_datos,updated_at:i.updated_at})});const t=u.map(i=>{var m;const a=e.get(i.id);return{id:i.id,name:i.name,category:i.category,description:i.description,status:(a==null?void 0:a.status)??"not-started",priority:(a==null?void 0:a.priority)??"medium",execOrder:(a==null?void 0:a.execOrder)??void 0,estimatedHours:(a==null?void 0:a.estimatedHours)??i.estimatedHours??void 0,notas:(a==null?void 0:a.notas)??void 0,submodules:(m=i.submodules)==null?void 0:m.map(c=>({id:c.id,name:c.name,status:(a==null?void 0:a.status)??"not-started",estimatedHours:c.estimatedHours})),tiene_view:(a==null?void 0:a.tiene_view)??!1,tiene_backend:(a==null?void 0:a.tiene_backend)??!1,endpoint_ok:(a==null?void 0:a.endpoint_ok)??!1,tiene_datos:(a==null?void 0:a.tiene_datos)??!1,updated_at:(a==null?void 0:a.updated_at)??void 0}});return console.log("[roadmapApi] Módulos recibidos:",t.length),t}catch(r){return console.error("[roadmapApi] Error en getModules:",r),[]}}async function v(r){try{const o=r.map(t=>({id:t.id,status:t.status,priority:t.priority||"medium",exec_order:t.execOrder??null,estimated_hours:t.estimatedHours??null,notas:t.notas||null,tiene_view:t.tiene_view??!1,tiene_backend:t.tiene_backend??!1,endpoint_ok:t.endpoint_ok??!1,tiene_datos:t.tiene_datos??!1,updated_at:new Date().toISOString()})),{error:e}=await s.from("roadmap_modules").upsert(o,{onConflict:"id"});if(e)throw console.error("[roadmapApi] Error en saveModulesBulk:",e),new Error(e.message)}catch(o){throw console.error("[roadmapApi] Error en saveModulesBulk:",o),o}}async function E(r,o){try{const e={updated_at:new Date().toISOString()};o.status!==void 0&&(e.status=o.status),o.priority!==void 0&&(e.priority=o.priority),o.execOrder!==void 0&&(e.exec_order=o.execOrder),o.estimatedHours!==void 0&&(e.estimated_hours=o.estimatedHours),o.notas!==void 0&&(e.notas=o.notas),o.tiene_view!==void 0&&(e.tiene_view=o.tiene_view),o.tiene_backend!==void 0&&(e.tiene_backend=o.tiene_backend),o.endpoint_ok!==void 0&&(e.endpoint_ok=o.endpoint_ok),o.tiene_datos!==void 0&&(e.tiene_datos=o.tiene_datos);const{error:t}=await s.from("roadmap_modules").update(e).eq("id",r);if(t)throw console.error("[roadmapApi] Error en saveModule:",t),new Error(t.message)}catch(e){throw console.error("[roadmapApi] Error en saveModule:",e),e}}async function P(){await g("/modules/reset")}async function h(r){const o=await k(`/tasks/${r}`);return!o.ok||!o.data?[]:o.data.tasks||[]}async function M(r){const o=await l("/tasks",r);if(!o.ok||!o.data)throw new Error(o.error||"Error creando task");return o.data.task}async function w(r,o){const e=await f(`/tasks/${r}`,o);if(!e.ok||!e.data)throw new Error(e.error||"Error actualizando task");return e.data.task}async function I(r){const o=await g(`/tasks/${r}`);if(!o.ok)throw new Error(o.error||"Error eliminando task")}async function b(r,o){const e=await l("/audit",{moduleId:r,...o});return!e.ok||!e.data?{ok:!1,error:e.error||"Error en auditoría"}:e.data}async function A(){try{const{data:r,error:o}=await s.from("ideas_promovidas").select("*").order("created_at",{ascending:!1});return o?(console.error("[roadmapApi] Error en getIdeasPromovidas:",o),[]):(r??[]).map(e=>({id:e.id,idea_id:e.idea_id,module_id:e.module_id,idea_texto:e.idea_texto,idea_area:e.idea_area,estado:e.estado,notas:e.notas,created_at:e.created_at}))}catch(r){return console.error("[roadmapApi] Error en getIdeasPromovidas:",r),[]}}async function S(r){try{const o={idea_id:r.idea_id,idea_texto:r.idea_texto,idea_area:r.idea_area||null,estado:"pendiente",notas:r.notas||null},{data:e,error:t}=await s.from("ideas_promovidas").insert(o).select().single();if(t)throw console.error("[roadmapApi] Error en promoverIdea:",t),new Error(t.message);return{id:e.id,idea_id:e.idea_id,module_id:e.module_id,idea_texto:e.idea_texto,idea_area:e.idea_area,estado:e.estado,notas:e.notas,created_at:e.created_at}}catch(o){throw console.error("[roadmapApi] Error en promoverIdea:",o),o}}async function C(r,o,e){try{const t={estado:o};o==="convertida"&&e&&(t.module_id=e);const{error:i}=await s.from("ideas_promovidas").update(t).eq("id",r);if(i)throw console.error("[roadmapApi] Error en resolverIdea:",i),new Error(i.message);if(o==="convertida"&&e){const{data:a}=await s.from("ideas_promovidas").select("idea_texto").eq("id",r).single();a&&(await s.from("roadmap_modules").upsert({id:e,status:"spec-ready",priority:"medium",updated_at:new Date().toISOString()},{onConflict:"id"}),await s.from("roadmap_historial").insert({module_id:e,status_anterior:null,status_nuevo:"spec-ready",origen:"promocion_idea",notas:`Convertido desde idea: ${a.idea_texto}`}))}}catch(t){throw console.error("[roadmapApi] Error en resolverIdea:",t),t}}export{H as a,P as b,b as c,E as d,M as e,I as f,A as g,h,S as p,C as r,v as s,w as u};
