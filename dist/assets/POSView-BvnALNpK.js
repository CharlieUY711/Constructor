import{c as P,r as n,Q as ge,j as e,f as fe,P as ue,S as U}from"./index-CqR9Aq3W.js";import{B as X}from"./banknote-DLf1TRGz.js";import{C as me}from"./credit-card-B2EnAvjV.js";import{P as V}from"./plus-CCYOtKpX.js";import{P as he}from"./printer-cRzL6tbl.js";import{A as ye}from"./arrow-left-Czhdgrbl.js";import{S as G}from"./scan-line-B5LT51pC.js";import{U as $}from"./user-fLhEF_Px.js";import{C as je}from"./clock-j6cEw-Pq.js";import{X as _}from"./x-C1iZqykG.js";import{T as be}from"./trash-2-B_fu8ItL.js";import{C as Ce}from"./check-DxH8CQRW.js";import{C as ke}from"./chevron-down-DLdC5CGC.js";import{M as Se}from"./minus-EyGhLBsl.js";import{C as Ee}from"./chevron-right-B8JRCTek.js";import{P as ze}from"./percent-DCa2dQ08.js";import{T as Fe}from"./tag-CUj-zolV.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],Ae=P("book-user",ve);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],we=P("circle-dollar-sign",Be);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],Q=P("receipt-text",Te),r="#FF6835",K="rgba(255,104,53,0.10)",We=[{id:"all",label:"Todos",emoji:"ðŸ”¢"},{id:"alimentos",label:"Alimentos",emoji:"ðŸ¥«"},{id:"bebidas",label:"Bebidas",emoji:"ðŸ¥¤"},{id:"limpieza",label:"Limpieza",emoji:"ðŸ§¹"},{id:"higiene",label:"Higiene",emoji:"ðŸ§´"},{id:"frescos",label:"Frescos",emoji:"ðŸ¥©"},{id:"lacteos",label:"LÃ¡cteos",emoji:"ðŸ¥›"},{id:"panaderia",label:"PanaderÃ­a",emoji:"ðŸ¥–"}],De=[{id:"p1",code:"7890001",name:"Arroz Largo Fino 1kg",category:"alimentos",price:89,unit:"kg",tax:10,emoji:"ðŸš",stock:48},{id:"p2",code:"7890002",name:"Aceite Girasol 900ml",category:"alimentos",price:125,unit:"u",tax:10,emoji:"ðŸ«™",stock:32},{id:"p3",code:"7890003",name:"Fideos Spaghetti 500g",category:"alimentos",price:62,unit:"u",tax:10,emoji:"ðŸ",stock:60},{id:"p4",code:"7890004",name:"Harina 000 1kg",category:"alimentos",price:55,unit:"u",tax:10,emoji:"ðŸŒ¾",stock:25},{id:"p5",code:"7890005",name:"AzÃºcar Blanca 1kg",category:"alimentos",price:70,unit:"u",tax:10,emoji:"ðŸ¬",stock:40},{id:"p6",code:"7890006",name:"Coca Cola 2.25L",category:"bebidas",price:135,unit:"u",tax:22,emoji:"ðŸ¥¤",stock:55},{id:"p7",code:"7890007",name:"Agua Mineral 500ml",category:"bebidas",price:38,unit:"u",tax:22,emoji:"ðŸ’§",stock:120},{id:"p8",code:"7890008",name:"Jugo Naranja 1L",category:"bebidas",price:95,unit:"u",tax:22,emoji:"ðŸŠ",stock:30},{id:"p9",code:"7890009",name:"Cerveza Lata 473ml",category:"bebidas",price:88,unit:"u",tax:22,emoji:"ðŸº",stock:80},{id:"p10",code:"7890010",name:"Detergente LimÃ³n 750ml",category:"limpieza",price:98,unit:"u",tax:22,emoji:"ðŸ§´",stock:22},{id:"p11",code:"7890011",name:"Lavandina 1L",category:"limpieza",price:45,unit:"u",tax:22,emoji:"ðŸª£",stock:35},{id:"p12",code:"7890012",name:"JabÃ³n en Polvo 800g",category:"limpieza",price:215,unit:"u",tax:22,emoji:"ðŸ§º",stock:18},{id:"p13",code:"7890013",name:"Shampoo 400ml",category:"higiene",price:185,unit:"u",tax:22,emoji:"ðŸ§´",stock:12},{id:"p14",code:"7890014",name:"Papel HigiÃ©nico x4",category:"higiene",price:120,unit:"u",tax:22,emoji:"ðŸ§»",stock:50},{id:"p15",code:"7890015",name:"Desodorante Roll-On",category:"higiene",price:145,unit:"u",tax:22,emoji:"ðŸ§¼",stock:20},{id:"p16",code:"7890016",name:"Pollo Entero kg",category:"frescos",price:195,unit:"kg",tax:10,emoji:"ðŸ—",stock:15},{id:"p17",code:"7890017",name:"Carne Picada kg",category:"frescos",price:380,unit:"kg",tax:10,emoji:"ðŸ¥©",stock:8},{id:"p18",code:"7890018",name:"Milanesa de Ternera kg",category:"frescos",price:450,unit:"kg",tax:10,emoji:"ðŸ–",stock:6},{id:"p19",code:"7890019",name:"Leche Entera 1L",category:"lacteos",price:72,unit:"u",tax:0,emoji:"ðŸ¥›",stock:90},{id:"p20",code:"7890020",name:"Yogur Natural 190g",category:"lacteos",price:58,unit:"u",tax:0,emoji:"ðŸ«™",stock:45},{id:"p21",code:"7890021",name:"Queso Dambo kg",category:"lacteos",price:520,unit:"kg",tax:0,emoji:"ðŸ§€",stock:5},{id:"p22",code:"7890022",name:"Manteca 200g",category:"lacteos",price:110,unit:"u",tax:0,emoji:"ðŸ§ˆ",stock:28},{id:"p23",code:"7890023",name:"Pan Lactal 500g",category:"panaderia",price:95,unit:"u",tax:0,emoji:"ðŸž",stock:20},{id:"p24",code:"7890024",name:"Medialunas x6",category:"panaderia",price:85,unit:"u",tax:0,emoji:"ðŸ¥",stock:15}],J=[{id:"efectivo",label:"Efectivo",icon:X,color:"#10B981"},{id:"tarjeta",label:"Tarjeta",icon:me,color:"#3B82F6"},{id:"qr",label:"QR / Transfer",icon:ge,color:"#8B5CF6"},{id:"cuenta",label:"Cuenta Cte.",icon:Ae,color:r}],a=k=>k.toLocaleString("es-UY",{minimumFractionDigits:2,maximumFractionDigits:2});function C({label:k,onPress:T,color:v,flex:S,fontSize:A}){const[h,E]=n.useState(!1);return e.jsx("button",{onPointerDown:()=>E(!0),onPointerUp:()=>{E(!1),T()},onPointerLeave:()=>E(!1),style:{flex:S??1,padding:"14px 4px",border:"1px solid #E5E7EB",borderRadius:10,backgroundColor:h?"#F3F4F6":"#FFFFFF",color:v??"#111827",fontSize:A??"1.1rem",fontWeight:"700",cursor:"pointer",transition:"background 0.08s",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:k})}function Xe({onNavigate:k}){const[T,v]=n.useState("pos"),[S,A]=n.useState(""),[h,E]=n.useState("all"),[s,x]=n.useState([]),[y,z]=n.useState(null),[g,M]=n.useState(0),[f,Z]=n.useState("efectivo"),[u,W]=n.useState(""),[D,j]=n.useState(""),[d,B]=n.useState("qty"),[I,ee]=n.useState(new Date),[oe,te]=n.useState([]),[ie,re]=n.useState(0),[R,ne]=n.useState(1001),[m,q]=n.useState(""),[se,N]=n.useState(!1),le=n.useRef(null);n.useEffect(()=>{const o=setInterval(()=>ee(new Date),1e3);return()=>clearInterval(o)},[]);const H=De.filter(o=>{const t=h==="all"||o.category===h,i=S.toLowerCase(),l=!i||o.name.toLowerCase().includes(i)||o.code.includes(i);return t&&l}),w=s.reduce((o,t)=>{const i=t.product.price*t.qty;return o+i*(1-t.discount/100)},0),O=w*(g/100),b=w-O,Y=f==="efectivo"?Math.max(0,parseFloat(u||"0")-b):0,ae=o=>{x(t=>t.find(l=>l.product.id===o.id)?t.map(l=>l.product.id===o.id?{...l,qty:l.qty+1}:l):[...t,{product:o,qty:1,discount:0}]),z(o.id),j(""),B("qty")},F=o=>{if(d==="cash"){W(t=>o==="."&&t.includes(".")?t:o==="âŒ«"?t.slice(0,-1):o==="C"?"":t+o);return}y&&j(t=>o==="âŒ«"?t.slice(0,-1):o==="C"?"":o==="."&&t.includes(".")?t:t+o)},de=()=>{if(!y||!D)return;const o=parseFloat(D);isNaN(o)||o<=0||(x(t=>t.map(i=>i.product.id!==y?i:d==="qty"?{...i,qty:o}:d==="discount"?{...i,discount:Math.min(o,100)}:i)),j(""))},ce=o=>{x(t=>t.filter(i=>i.product.id!==o)),y===o&&z(null)},pe=()=>{s.length!==0&&(te([...s]),re(b),v("receipt"))},xe=()=>{x([]),z(null),M(0),W(""),j(""),ne(o=>o+1),q(""),v("pos")},p=s.find(o=>o.product.id===y);if(T==="receipt"){const o=J.find(t=>t.id===f);return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#F8F9FA",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"18px 28px",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF",display:"flex",alignItems:"center",gap:16},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:`linear-gradient(135deg, ${r} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Q,{size:20,color:"#fff",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h1",{style:{margin:0,fontSize:"1.2rem",fontWeight:"800",color:"#1A1A2E"},children:"Venta Completada âœ“"}),e.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"#6C757D"},children:["Ticket #",R," Â· ",I.toLocaleString("es-UY")]})]}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsxs("button",{onClick:xe,style:{padding:"10px 22px",borderRadius:10,border:"none",background:`linear-gradient(135deg, ${r} 0%, #ff8c42 100%)`,color:"#fff",fontWeight:"800",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:8},children:[e.jsx(V,{size:16})," Nueva Venta"]})})]}),e.jsx("div",{style:{flex:1,overflowY:"auto",padding:"32px",display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{width:420,backgroundColor:"#fff",borderRadius:16,border:"1px solid #E9ECEF",padding:"32px",boxShadow:"0 8px 32px rgba(0,0,0,0.08)"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:24,paddingBottom:20,borderBottom:"1px dashed #D1D5DB"},children:[e.jsx("div",{style:{width:52,height:52,borderRadius:12,background:`linear-gradient(135deg, ${r} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 10px"},children:e.jsx(Q,{size:24,color:"#fff"})}),e.jsx("p",{style:{margin:0,fontWeight:"800",fontSize:"1.1rem",color:"#111"},children:"CHARLIE MARKETPLACE"}),e.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.75rem",color:"#9CA3AF"},children:"Punto de Venta Â· Caja #1"}),e.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.78rem",color:"#6B7280"},children:I.toLocaleString("es-UY",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsxs("p",{style:{margin:"2px 0 0",fontSize:"0.78rem",fontWeight:"700",color:"#111"},children:["TICKET #",R]}),m&&e.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.75rem",color:"#6B7280"},children:["Cliente: ",m]})]}),e.jsx("div",{style:{marginBottom:20},children:oe.map((t,i)=>{const l=t.product.price*t.qty*(1-t.discount/100);return e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid #F3F4F6",alignItems:"flex-start",gap:8},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600",color:"#111"},children:[t.product.emoji," ",t.product.name]}),e.jsxs("p",{style:{margin:"1px 0 0",fontSize:"0.7rem",color:"#9CA3AF"},children:[t.qty," ",t.product.unit," Ã— $",a(t.product.price),t.discount>0&&` (âˆ’${t.discount}%)`]})]}),e.jsxs("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:"700",color:"#111",whiteSpace:"nowrap"},children:["$",a(l)]})]},i)})}),e.jsxs("div",{style:{borderTop:"1px dashed #D1D5DB",paddingTop:16,marginBottom:20},children:[g>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[e.jsxs("span",{style:{fontSize:"0.8rem",color:"#6B7280"},children:["Descuento general (",g,"%)"]}),e.jsxs("span",{style:{fontSize:"0.8rem",color:"#EF4444",fontWeight:"700"},children:["âˆ’$",a(w*g/100)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"1rem",fontWeight:"800",color:"#111"},children:"TOTAL"}),e.jsxs("span",{style:{fontSize:"1.3rem",fontWeight:"900",color:r},children:["$",a(ie)]})]})]}),e.jsxs("div",{style:{backgroundColor:`${o.color}10`,borderRadius:10,border:`1px solid ${o.color}30`,padding:"12px 16px",marginBottom:20},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(o.icon,{size:16,color:o.color}),e.jsx("span",{style:{fontWeight:"700",color:o.color,fontSize:"0.85rem"},children:o.label})]}),f==="efectivo"&&parseFloat(u)>0&&e.jsx("div",{style:{marginTop:8},children:e.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#6B7280"},children:["Recibido: $",a(parseFloat(u))," Â· Vuelto: ",e.jsxs("strong",{children:["$",a(Y)]})]})})]}),e.jsxs("div",{style:{textAlign:"center",paddingTop:16,borderTop:"1px dashed #D1D5DB"},children:[e.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#9CA3AF"},children:"Â¡Gracias por su compra!"}),e.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.68rem",color:"#D1D5DB"},children:"www.charliemarketplace.com"})]}),e.jsxs("button",{onClick:()=>window.print(),style:{marginTop:20,width:"100%",padding:"11px",border:"1.5px solid #E5E7EB",borderRadius:10,backgroundColor:"#F9FAFB",color:"#374151",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:7},children:[e.jsx(he,{size:15})," Imprimir Ticket"]})]})})]})}return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#F0F2F5",overflow:"hidden",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[e.jsxs("div",{style:{height:56,backgroundColor:"#1A1A2E",display:"flex",alignItems:"center",padding:"0 20px",gap:16,flexShrink:0},children:[e.jsxs("button",{onClick:()=>k("gestion"),style:{background:"none",border:"none",cursor:"pointer",color:"rgba(255,255,255,0.5)",display:"flex",alignItems:"center",gap:5,fontSize:"0.78rem",fontWeight:"600",padding:"4px 8px",borderRadius:6},onMouseEnter:o=>o.currentTarget.style.color="#fff",onMouseLeave:o=>o.currentTarget.style.color="rgba(255,255,255,0.5)",children:[e.jsx(ye,{size:14})," GestiÃ³n"]}),e.jsx("div",{style:{width:1,height:24,backgroundColor:"rgba(255,255,255,0.12)"}}),e.jsx("div",{style:{width:30,height:30,borderRadius:8,background:`linear-gradient(135deg, ${r} 0%, #ff8c42 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(G,{size:15,color:"#fff",strokeWidth:2.5})}),e.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"0.95rem"},children:"POS Terminal"}),e.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"700",padding:"2px 8px",borderRadius:6,backgroundColor:K,color:r,border:`1px solid ${r}40`},children:"Caja #1"}),e.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:"rgba(255,255,255,0.7)",fontSize:"0.78rem"},children:[e.jsx($,{size:13}),e.jsx("span",{children:"Operador"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:"rgba(255,255,255,0.7)",fontSize:"0.78rem"},children:[e.jsx(je,{size:13}),e.jsx("span",{children:I.toLocaleTimeString("es-UY",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),e.jsx("div",{style:{padding:"4px 10px",borderRadius:6,fontSize:"0.72rem",fontWeight:"700",backgroundColor:"#10B98120",color:"#10B981",border:"1px solid #10B98140"},children:"â— EN LÃNEA"})]})]}),e.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",gap:0},children:[e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F0F2F5",borderRight:"1px solid #E5E7EB"},children:[e.jsx("div",{style:{padding:"14px 16px 10px",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,backgroundColor:"#F3F4F6",borderRadius:12,padding:"10px 14px",border:"1.5px solid transparent"},onFocus:()=>{},children:[e.jsx(fe,{size:16,color:"#9CA3AF"}),e.jsx("input",{ref:le,value:S,onChange:o=>A(o.target.value),placeholder:"Buscar producto o cÃ³digo de barrasâ€¦",style:{flex:1,border:"none",background:"none",outline:"none",fontSize:"0.88rem",color:"#111827"}}),S&&e.jsx("button",{onClick:()=>A(""),style:{background:"none",border:"none",cursor:"pointer",display:"flex"},children:e.jsx(_,{size:14,color:"#9CA3AF"})}),e.jsx("div",{style:{width:1,height:18,backgroundColor:"#D1D5DB"}}),e.jsx(G,{size:16,color:r,style:{cursor:"pointer"},title:"Escanear cÃ³digo"})]})}),e.jsx("div",{style:{display:"flex",gap:8,padding:"10px 16px",overflowX:"auto",backgroundColor:"#fff",borderBottom:"1px solid #E9ECEF",flexShrink:0},children:We.map(o=>e.jsxs("button",{onClick:()=>E(o.id),style:{display:"flex",alignItems:"center",gap:5,padding:"6px 14px",borderRadius:20,border:"none",backgroundColor:h===o.id?r:"#F3F4F6",color:h===o.id?"#fff":"#374151",fontWeight:"700",fontSize:"0.78rem",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.12s",flexShrink:0},children:[e.jsx("span",{children:o.emoji})," ",o.label]},o.id))}),e.jsx("div",{style:{flex:1,overflowY:"auto",padding:"14px 16px"},children:H.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#9CA3AF"},children:[e.jsx(ue,{size:40,style:{marginBottom:12,opacity:.3}}),e.jsx("p",{style:{margin:0,fontWeight:"700"},children:"Sin resultados"})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:10},children:H.map(o=>{const t=s.find(i=>i.product.id===o.id);return e.jsxs("button",{onClick:()=>ae(o),style:{backgroundColor:"#fff",border:t?`2px solid ${r}`:"1.5px solid #E5E7EB",borderRadius:12,padding:"12px 10px",cursor:"pointer",textAlign:"left",transition:"all 0.12s",boxShadow:t?`0 0 0 3px ${r}20`:"0 1px 4px rgba(0,0,0,0.05)",position:"relative"},onMouseEnter:i=>{t||(i.currentTarget.style.borderColor="#D1D5DB"),i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{t||(i.currentTarget.style.borderColor="#E5E7EB"),i.currentTarget.style.transform="translateY(0)"},children:[t&&e.jsx("div",{style:{position:"absolute",top:6,right:6,width:20,height:20,borderRadius:"50%",backgroundColor:r,color:"#fff",fontSize:"0.65rem",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center"},children:t.qty}),e.jsx("div",{style:{fontSize:"1.8rem",marginBottom:6},children:o.emoji}),e.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.75rem",fontWeight:"700",color:"#111827",lineHeight:1.3},children:o.name}),e.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF",marginBottom:6},children:o.code}),e.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:"900",color:r},children:["$",a(o.price),e.jsxs("span",{style:{fontSize:"0.62rem",fontWeight:"500",color:"#9CA3AF",marginLeft:3},children:["/",o.unit]})]}),o.stock<=10&&e.jsxs("p",{style:{margin:"4px 0 0",fontSize:"0.62rem",color:"#F59E0B",fontWeight:"700"},children:["âš  Stock: ",o.stock]})]},o.id)})})})]}),e.jsxs("div",{style:{width:420,display:"flex",flexDirection:"column",backgroundColor:"#fff",overflow:"hidden",flexShrink:0},children:[e.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #E9ECEF",display:"flex",alignItems:"center",gap:10},children:[e.jsx(U,{size:18,color:r}),e.jsxs("span",{style:{fontWeight:"800",color:"#111827",flex:1},children:["Ticket #",R]}),e.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF",fontWeight:"600"},children:[s.length," ",s.length===1?"Ã­tem":"Ã­tems"]}),s.length>0&&e.jsx("button",{onClick:()=>{x([]),z(null)},style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444",display:"flex",padding:4},title:"Vaciar carrito",children:e.jsx(be,{size:15})})]}),e.jsx("div",{style:{borderBottom:"1px solid #E9ECEF"},children:se?e.jsxs("div",{style:{padding:"8px 12px",display:"flex",gap:8,alignItems:"center"},children:[e.jsx($,{size:14,color:"#9CA3AF"}),e.jsx("input",{value:m,onChange:o=>q(o.target.value),placeholder:"Nombre del clienteâ€¦",autoFocus:!0,style:{flex:1,border:"none",outline:"none",fontSize:"0.82rem",color:"#111827"}}),e.jsx("button",{onClick:()=>N(!1),style:{background:"none",border:"none",cursor:"pointer",display:"flex"},children:e.jsx(Ce,{size:14,color:r})})]}):e.jsxs("button",{onClick:()=>N(!0),style:{width:"100%",padding:"8px 12px",display:"flex",alignItems:"center",gap:8,border:"none",background:"none",cursor:"pointer",color:m?"#111827":"#9CA3AF",fontSize:"0.78rem",fontWeight:m?"700":"500",textAlign:"left"},children:[e.jsx($,{size:13,color:m?r:"#9CA3AF"}),m||"Cliente anÃ³nimo â€” Toca para asignar",e.jsx(ke,{size:12,style:{marginLeft:"auto",color:"#9CA3AF"}})]})}),e.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#FAFAFA"},children:s.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#D1D5DB"},children:[e.jsx(U,{size:36,style:{opacity:.3,marginBottom:10}}),e.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"600"},children:"Carrito vacÃ­o"}),e.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.72rem"},children:"SeleccionÃ¡ productos"})]}):e.jsx("div",{style:{padding:"8px 0"},children:s.map(o=>{const t=o.product.price*o.qty*(1-o.discount/100),i=y===o.product.id;return e.jsx("div",{onClick:()=>{z(o.product.id),j(""),B("qty")},style:{padding:"10px 14px",backgroundColor:i?`${r}08`:"transparent",borderLeft:i?`3px solid ${r}`:"3px solid transparent",cursor:"pointer",transition:"all 0.1s",borderBottom:"1px solid #F3F4F6"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[e.jsx("span",{style:{fontSize:"1.3rem",lineHeight:1},children:o.product.emoji}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("p",{style:{margin:0,fontSize:"0.82rem",fontWeight:"700",color:"#111827",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o.product.name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[e.jsx("button",{onClick:l=>{l.stopPropagation(),x(L=>L.map(c=>c.product.id===o.product.id?{...c,qty:Math.max(.5,c.qty-1)}:c))},style:{width:22,height:22,borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Se,{size:11,color:"#374151"})}),e.jsx("span",{style:{fontSize:"0.82rem",fontWeight:"800",minWidth:28,textAlign:"center",color:"#111"},children:o.qty}),e.jsx("button",{onClick:l=>{l.stopPropagation(),x(L=>L.map(c=>c.product.id===o.product.id?{...c,qty:c.qty+1}:c))},style:{width:22,height:22,borderRadius:6,border:"1px solid #E5E7EB",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(V,{size:11,color:"#374151"})}),e.jsxs("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:["Ã— $",a(o.product.price)]}),o.discount>0&&e.jsxs("span",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#EF4444",backgroundColor:"#FEF2F2",padding:"1px 5px",borderRadius:4},children:["âˆ’",o.discount,"%"]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:6},children:[e.jsxs("span",{style:{fontSize:"0.92rem",fontWeight:"900",color:"#111"},children:["$",a(t)]}),e.jsx("button",{onClick:l=>{l.stopPropagation(),ce(o.product.id)},style:{background:"none",border:"none",cursor:"pointer",display:"flex",color:"#EF4444",padding:0,opacity:.6},children:e.jsx(_,{size:13})})]})]})},o.product.id)})})}),e.jsxs("div",{style:{padding:"10px 12px",borderTop:"1px solid #E9ECEF",backgroundColor:"#F9FAFB"},children:[e.jsx("div",{style:{display:"flex",gap:6,marginBottom:8},children:["qty","discount","cash"].map(o=>{const t={qty:e.jsx(Fe,{size:11}),discount:e.jsx(ze,{size:11}),cash:e.jsx(X,{size:11})},i={qty:"Cantidad",discount:"Desc. Ã­tem",cash:"Efectivo"};return e.jsxs("button",{onClick:()=>{B(o),j("")},style:{flex:1,padding:"5px 4px",borderRadius:7,border:d===o?`1.5px solid ${r}`:"1.5px solid #E5E7EB",backgroundColor:d===o?K:"#fff",color:d===o?r:"#6B7280",fontWeight:"700",fontSize:"0.65rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:3},children:[t[o]," ",i[o]]},o)})}),e.jsxs("div",{style:{backgroundColor:"#1A1A2E",borderRadius:8,padding:"8px 14px",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("span",{style:{fontSize:"0.68rem",color:"rgba(255,255,255,0.4)",fontWeight:"600"},children:[d==="qty"?"CANT.":d==="discount"?"DESC. %":"EFECTIVO $",d!=="cash"&&p?` Â· ${p.product.name.slice(0,20)}`:""]}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"900",color:"#fff",letterSpacing:"0.05em"},children:d==="cash"?u||"0.00":D||(d==="qty"?(p==null?void 0:p.qty)??"â€”":(p==null?void 0:p.discount)??"0")})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6},children:[["7","8","9","4","5","6","1","2","3"].map(o=>e.jsx(C,{label:o,onPress:()=>F(o)},o)),e.jsx(C,{label:".",onPress:()=>F("."),color:"#9CA3AF"}),e.jsx(C,{label:"0",onPress:()=>F("0")}),e.jsx(C,{label:"âŒ«",onPress:()=>F("âŒ«"),color:"#EF4444"}),e.jsx(C,{label:"C",onPress:()=>F("C"),color:"#9CA3AF"}),e.jsx(C,{label:"âœ“",onPress:de,color:r,flex:2,fontSize:"1rem"})]})]}),e.jsxs("div",{style:{padding:"12px 16px",borderTop:"2px solid #E9ECEF",backgroundColor:"#fff"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[e.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:"Subtotal"}),e.jsxs("span",{style:{fontSize:"0.88rem",fontWeight:"700",color:"#111"},children:["$",a(w)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:"0.78rem",color:"#6B7280"},children:"Desc. general"}),e.jsx("div",{style:{display:"flex",gap:4},children:[0,5,10,15,20].map(o=>e.jsxs("button",{onClick:()=>M(o),style:{padding:"2px 6px",borderRadius:5,border:"none",backgroundColor:g===o?r:"#F3F4F6",color:g===o?"#fff":"#6B7280",fontSize:"0.65rem",fontWeight:"700",cursor:"pointer"},children:[o,"%"]},o))})]}),g>0&&e.jsxs("span",{style:{fontSize:"0.82rem",fontWeight:"700",color:"#EF4444"},children:["âˆ’$",a(O)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:8,borderTop:"2px solid #E9ECEF"},children:[e.jsx("span",{style:{fontSize:"1.05rem",fontWeight:"800",color:"#111"},children:"TOTAL"}),e.jsxs("span",{style:{fontSize:"1.6rem",fontWeight:"900",color:r},children:["$",a(b)]})]})]}),e.jsxs("div",{style:{padding:"10px 12px",borderTop:"1px solid #E9ECEF",backgroundColor:"#F9FAFB"},children:[e.jsx("div",{style:{display:"flex",gap:6},children:J.map(o=>e.jsxs("button",{onClick:()=>Z(o.id),style:{flex:1,padding:"8px 4px",borderRadius:9,border:f===o.id?`2px solid ${o.color}`:"1.5px solid #E5E7EB",backgroundColor:f===o.id?`${o.color}12`:"#fff",color:f===o.id?o.color:"#9CA3AF",cursor:"pointer",transition:"all 0.12s",display:"flex",flexDirection:"column",alignItems:"center",gap:3},children:[e.jsx(o.icon,{size:16}),e.jsx("span",{style:{fontSize:"0.58rem",fontWeight:"700",lineHeight:1},children:o.label})]},o.id))}),f==="efectivo"&&e.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280",whiteSpace:"nowrap"},children:"Recibido $"}),e.jsxs("div",{style:{flex:1,backgroundColor:"#fff",border:"1.5px solid #E5E7EB",borderRadius:8,padding:"5px 10px",display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"0.88rem",fontWeight:"700",color:"#111"},children:u||"â€”"}),u&&parseFloat(u)>b&&e.jsxs("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#10B981"},children:["Vuelto: $",a(Y)]})]}),e.jsx("button",{onClick:()=>{B("cash"),W(a(b).replace(",","").replace(".",""))},style:{padding:"5px 8px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#fff",fontSize:"0.65rem",fontWeight:"700",color:"#374151",cursor:"pointer"},children:"Exacto"})]})]}),e.jsx("div",{style:{padding:"12px 14px",borderTop:"2px solid #E9ECEF"},children:e.jsxs("button",{onClick:pe,disabled:s.length===0,style:{width:"100%",padding:"16px",borderRadius:14,border:"none",background:s.length>0?`linear-gradient(135deg, ${r} 0%, #ff8c42 100%)`:"#E5E7EB",color:s.length>0?"#fff":"#9CA3AF",fontSize:"1.05rem",fontWeight:"900",cursor:s.length>0?"pointer":"not-allowed",letterSpacing:"0.03em",transition:"all 0.15s",display:"flex",alignItems:"center",justifyContent:"center",gap:10,boxShadow:s.length>0?`0 4px 20px ${r}50`:"none"},onMouseEnter:o=>{s.length>0&&(o.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)"},children:[e.jsx(we,{size:20}),"COBRAR $",a(b),e.jsx(Ee,{size:18})]})})]})]})]})}export{Xe as POSView};
