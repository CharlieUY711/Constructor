import{c as R,u as H,r as t,P as O,a as U,t as F,j as e,g as L}from"./index-C7B7W1lQ.js";import{O as N}from"./OrangeHeader-CoTBbwWn.js";import{B as v}from"./book-open-BBx8CVKN.js";import{Z as _}from"./zap-DaP38y9l.js";import{U as $}from"./users-DXHuCiCX.js";import{G}from"./globe-BmYgUn7P.js";import{S as W}from"./shield-Cxs8rPd8.js";import{L as q}from"./lock-xapLEOlC.js";import{C as Y}from"./chevron-right-OAstMa5V.js";import{C as K}from"./clock-DiLnwBj6.js";import{P as Q}from"./pen-IKWzVw_A.js";import{X as J}from"./x-Bh1hE7_D.js";import{S as Z}from"./save--oZ-Y1nT.js";import{T as X}from"./triangle-alert-VEMrm09l.js";import{T as ee}from"./tag-BcdFaf5K.js";import"./lightbulb-QoB3Dxu8.js";import"./map-pin-QypTHBjh.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],P=R("code",oe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],y=R("history",ae),s="#FF6835",j=[{id:"introduccion",label:"Introducci√≥n & Overview",icon:v,color:s,tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Release inicial de documentaci√≥n oficial."},{version:"v1.4.0",date:"15 Ene 2026",author:"Carlos M.",summary:"Actualizaci√≥n de m√≥dulos de marketing."}],content:`# Charlie Marketplace Builder v1.5

**Charlie** es una plataforma empresarial modular dise√±ada para gestionar eCommerce, log√≠stica, marketing, ERP y m√°s desde un √∫nico panel de control.

## ¬øQu√© incluye?

- **68 m√≥dulos activos** organizados en 7 grandes √°reas
- **Multi-pa√≠s y multi-tenant**: soporte para UY, AR y expansi√≥n regional
- **Multi-rol**: 5 niveles de acceso configurables (Cliente, Colaborador, Editor, Administrador, SuperAdmin)
- **Paleta de dise√±o**: Naranja (#FF6835), Negro y Blanco

## √Åreas principales

| √Årea | Descripci√≥n |
|------|-------------|
| eCommerce | Pedidos, productos, clientes, pagos, env√≠os |
| Marketing | Campa√±as, email, RRSS, SEO, sorteos |
| Gesti√≥n ERP | Inventario, facturaci√≥n, RRHH, CRM |
| Log√≠stica | Transportistas, rutas, fulfillment |
| Herramientas | OCR, editor, presupuestos, QR |
| Integraciones | Pagos, log√≠stica, RRSS, tiendas |
| Sistema | Config, auditor√≠a, documentaci√≥n |

## Versi√≥n actual: v1.5.0
Fecha de release: 21 de febrero de 2026
`},{id:"guia-inicio",label:"Gu√≠a de inicio r√°pido",icon:_,color:"#10B981",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Mar√≠a G.",summary:"Gu√≠a completa para nuevos usuarios."}],content:`# Gu√≠a de Inicio R√°pido

## Paso 1: Acceder al sistema

1. Ingres√° a **charlie.io/admin**
2. Us√° tu email y contrase√±a asignados
3. El sistema te llevar√° a tu **Dashboard personalizado** seg√∫n tu rol

## Paso 2: Navegaci√≥n

El panel izquierdo (sidebar naranja) contiene todos los m√≥dulos disponibles para tu rol:

- üè† **Dashboard** ‚Äî Vista general de m√©tricas
- üõí **eCommerce** ‚Äî Gesti√≥n de ventas
- üì£ **Marketing** ‚Äî Campa√±as y comunicaci√≥n
- üìä **Gesti√≥n** ‚Äî ERP completo
- üöö **Log√≠stica** ‚Äî Env√≠os y rutas
- üîß **Herramientas** ‚Äî Suite de trabajo
- ‚öôÔ∏è **Sistema** ‚Äî Configuraci√≥n

## Paso 3: Tu primer pedido

1. Ir a **eCommerce ‚Üí Pedidos**
2. Click en **"Nuevo Pedido"**
3. Buscar el cliente o crearlo
4. Agregar productos del cat√°logo
5. Seleccionar m√©todo de pago y env√≠o
6. Confirmar

## Paso 4: Personalizar tu perfil

Ve a **Sistema ‚Üí Dashboard de Usuario** para ver tu vista personalizada y ajustar preferencias.
`},{id:"modulos",label:"M√≥dulos del sistema",icon:O,color:"#3B82F6",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Documentaci√≥n de los 68 m√≥dulos activos."}],content:`# M√≥dulos del Sistema

## eCommerce (12 m√≥dulos)
Gesti√≥n completa del ciclo de ventas.

- **Pedidos**: Crear, editar y trackear √≥rdenes
- **Clientes**: CRM b√°sico y perfiles
- **Productos**: Cat√°logo con variantes y precios
- **Pagos**: Historial y gesti√≥n de cobros
- **Env√≠os**: Tracking y gesti√≥n log√≠stica
- **Storefront**: Vista p√∫blica del comercio
- **POS**: Punto de venta presencial
- **Second Hand**: Marketplace de usados

## Marketing (8 m√≥dulos)
Herramientas de comunicaci√≥n y crecimiento.

- **Campa√±as**: Email y push notifications
- **RRSS Hub**: Meta Business, TikTok, Instagram
- **SEO**: Optimizaci√≥n de motores de b√∫squeda
- **Mailing**: Gesti√≥n de listas y env√≠os masivos
- **Fidelizaci√≥n**: Programa de puntos y recompensas
- **Rueda de Sorteos**: Gamificaci√≥n para clientes
- **Google Ads**: Integraci√≥n publicitaria

## Gesti√≥n ERP (10 m√≥dulos)
Suite empresarial completa.

- **Inventario**: Stock, alertas y movimientos
- **Facturaci√≥n**: Comprobantes electr√≥nicos
- **Compras**: √ìrdenes de compra a proveedores
- **RRHH**: Personal, liquidaciones y ausencias
- **CRM**: Pipeline de ventas y contactos
- **Contabilidad**: Asientos y reportes financieros
- **Proyectos**: Gesti√≥n √°gil de proyectos

## Sistema (6 m√≥dulos)
Configuraci√≥n y control del sistema.

- **Dashboard Admin**: M√©tricas de administraci√≥n
- **Dashboard Usuario**: Vista personalizada por rol
- **Config. Vistas**: Permisos granulares por rol
- **Documentaci√≥n**: Esta secci√≥n
- **Dise√±o & Pruebas**: UI preview y testing
- **Checklist & Roadmap**: Estado del proyecto
`},{id:"integraciones-doc",label:"Integraciones & Pasarelas",icon:U,color:"#14B8A6",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Gu√≠a de integraciones disponibles."}],content:`# Integraciones & Pasarelas de Pago

## Pasarelas de Pago disponibles

### Mercado Pago üü°
La pasarela principal para mercado latinoamericano.
- Checkout transparente y redirect
- Pagos con tarjeta, efectivo, transferencia
- Suscripciones y pagos recurrentes
- **Estado**: Activo

### Plexo üîµ
Orquestador de pagos multi-adquirente para Uruguay.
- Visa, Mastercard, OCA, Cabal
- ANDA, BPS, Club del Este
- **Estado**: En configuraci√≥n

### Transferencia bancaria
- BROU, Santander, ITA√ö, BBVA, Scotiabank
- **Estado**: Activo

### Efectivo / Contra entrega
- **Estado**: Activo

## Integraciones Log√≠sticas

| Proveedor | Pa√≠s | Estado |
|-----------|------|--------|
| OCA | AR | Disponible |
| Andreani | AR | Disponible |
| Correo UY | UY | Disponible |
| PedidosYa | UY/AR | Disponible |

## RRSS Conectadas

- **Meta Business**: Facebook + Instagram Ads
- **TikTok for Business**: Ads y cat√°logo
- **Google Ads**: Campa√±as de b√∫squeda y shopping

## Tiendas Marketplace

- **Mercado Libre**: Sincronizaci√≥n de cat√°logo
- **Shopify**: Import/Export de productos
`},{id:"faq",label:"Preguntas frecuentes",icon:$,color:"#8B5CF6",tecnica:!1,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Mar√≠a G.",summary:"FAQ inicial del sistema."}],content:`# Preguntas Frecuentes

## General

**¬øQu√© es Charlie Marketplace Builder?**
Charlie es una plataforma all-in-one para gestionar tu negocio digital: ventas, log√≠stica, marketing, ERP y m√°s desde un √∫nico panel.

**¬øFunciona para m√∫ltiples pa√≠ses?**
S√≠. Charlie es multi-pa√≠s (Uruguay, Argentina) con soporte multi-moneda y multi-impuestos.

**¬øPuedo tener m√∫ltiples tiendas?**
S√≠, la arquitectura es multi-tenant. Cada tenant tiene su propia configuraci√≥n, datos y usuarios.

## Acceso y roles

**¬øC√≥mo recupero mi contrase√±a?**
En la pantalla de login, click en "Olvid√© mi contrase√±a". Recibir√°s un email con el link de recuperaci√≥n.

**¬øQu√© diferencia hay entre un Editor y un Colaborador?**
- **Colaborador**: Gesti√≥n operativa (pedidos, clientes, tareas)
- **Editor**: Acceso completo a marketing, contenido y RRSS. Sin acceso a sistema/config.

**¬øUn cliente puede ver el panel admin?**
No. Los clientes acceden al Storefront p√∫blico. El panel admin es solo para roles internos.

## Pedidos y pagos

**¬øPuedo procesar devoluciones?**
S√≠, desde eCommerce ‚Üí Pedidos ‚Üí Devoluciones (requiere rol Administrador).

**¬øMercado Pago cobra comisi√≥n?**
S√≠, seg√∫n el plan contratado con MP. Charlie no agrega comisi√≥n adicional.

## T√©cnico

**¬øD√≥nde est√°n los logs del sistema?**
En Sistema ‚Üí Auditor√≠a ‚Üí System Logs.

**¬øCon qu√© frecuencia se hace backup?**
Backup autom√°tico diario a las 03:00 AM. Tambi√©n pod√©s ejecutar backup manual desde Auditor√≠a.
`},{id:"arquitectura",label:"Arquitectura del sistema",icon:P,color:"#1F2937",badge:"T√©cnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Documentaci√≥n arquitectura v1.5."},{version:"v1.4.0",date:"15 Ene 2026",author:"Carlos M.",summary:"Migraci√≥n a Supabase Edge Functions."}],content:`# Arquitectura del Sistema

## Stack tecnol√≥gico

\`\`\`
Frontend:    React 18.3 + TypeScript + Vite 6.3 + Tailwind CSS v4
Backend:     Supabase Edge Functions + Hono + Deno
Database:    PostgreSQL (Supabase managed)
Auth:        Supabase Auth (JWT)
Storage:     Supabase Storage (S3-compatible)
Deploy:      Vercel / Netlify (frontend) + Supabase (backend)
\`\`\`

## Arquitectura tres capas

\`\`\`
[Frontend React]  ‚Üí  [Supabase Edge Function / Hono]  ‚Üí  [PostgreSQL]
     ‚Üï                          ‚Üï
[Supabase Auth]         [Supabase Storage]
\`\`\`

## Estructura de directorios

\`\`\`
/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                    # Entry point
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboard.tsx         # Shell principal + routing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.tsx                 # React Router config
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminSidebar.tsx   # Sidebar naranja colapsable
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HubView.tsx        # Componente hub reutilizable
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrangeHeader.tsx   # Header est√°ndar de m√≥dulo
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views/             # ~70 vistas de m√≥dulos
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/                    # Componentes UI gen√©ricos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storefront/                # Vistas p√∫blicas del storefront
‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ       ‚îú‚îÄ‚îÄ theme.css                  # Tokens de dise√±o
‚îÇ       ‚îî‚îÄ‚îÄ fonts.css                  # Tipograf√≠as
‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îî‚îÄ‚îÄ functions/
‚îÇ       ‚îî‚îÄ‚îÄ server/
‚îÇ           ‚îú‚îÄ‚îÄ index.tsx              # Servidor Hono principal
‚îÇ           ‚îî‚îÄ‚îÄ kv_store.tsx           # KV Store utilities
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ supabase/
        ‚îî‚îÄ‚îÄ info.tsx                   # projectId + publicAnonKey
\`\`\`

## Patrones de dise√±o

- **HubView Pattern**: Cada m√≥dulo principal expone un HubView (estilo RRSS) con cards de acceso a sub-m√≥dulos
- **MainSection routing**: El shell AdminDashboard gestiona la navegaci√≥n por estado (sin React Router para el admin)
- **onNavigate prop**: Todas las vistas reciben \`onNavigate: (s: MainSection) => void\` para navegaci√≥n interna

## Base de datos

- **Tabla principal**: \`kv_store\` (key-value store flexible)
- **Auth tables**: Gestionadas por Supabase Auth (no tocar directamente)
- **Storage buckets**: Supabase Storage Buckets
`},{id:"api-endpoints",label:"API & Endpoints",icon:G,color:"#3B82F6",badge:"T√©cnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Documentaci√≥n de endpoints v1.5."}],content:`# API & Endpoints

## Base URL

\`\`\`
https://{projectId}.supabase.co/functions/v1/api
\`\`\`

## Autenticaci√≥n

Todas las requests requieren el header:
\`\`\`
Authorization: Bearer {publicAnonKey}
\`\`\`

Para rutas protegidas, usar el \`access_token\` del usuario:
\`\`\`
Authorization: Bearer {access_token}
\`\`\`

## Endpoints disponibles

### Carga Masiva
\`\`\`
POST /api/carga-masiva/upload
Content-Type: multipart/form-data

Body: { file: File, tipo: 'productos' | 'clientes' | 'precios' }
Response: { jobId, total, procesados, errores }
\`\`\`

### KV Store (interno)
\`\`\`
GET    /api/kv/{key}
POST   /api/kv/{key}
DELETE /api/kv/{key}
\`\`\`

### Auth
\`\`\`
POST /api/signup
Body: { email, password, name, role }

POST /api/auth/verify
Headers: { Authorization: Bearer token }
\`\`\`

## Respuestas est√°ndar

\`\`\`json
// √âxito
{ "data": {...}, "error": null }

// Error
{ "data": null, "error": { "code": "...", "message": "..." } }
\`\`\`

## CORS

Todos los endpoints responden con:
\`\`\`
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
Access-Control-Allow-Headers: Authorization, Content-Type
\`\`\`
`},{id:"auth-config",label:"Autenticaci√≥n & Roles",icon:W,color:"#7C3AED",badge:"T√©cnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Config de Supabase Auth + roles."}],content:`# Autenticaci√≥n & Configuraci√≥n de Roles

## Supabase Auth

Charlie usa Supabase Auth con JWT para la autenticaci√≥n de usuarios.

### Flujo de registro
\`\`\`typescript
// Llamar al endpoint del servidor (usa service role key)
POST /api/signup
{
  email: "user@example.com",
  password: "secure-password",
  name: "Nombre Apellido",
  role: "Editor"
}
\`\`\`

### Flujo de login (frontend)
\`\`\`typescript
import { createClient } from '@supabase/supabase-js';

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

const { data, error } = await supabase.auth.signInWithPassword({
  email: 'user@example.com',
  password: 'password',
});

const accessToken = data.session?.access_token;
\`\`\`

### Verificar sesi√≥n activa
\`\`\`typescript
const { data: { session } } = await supabase.auth.getSession();
if (session?.access_token) {
  // Usuario logueado
}
\`\`\`

## Sistema de roles

Los roles se almacenan en \`user_metadata\` de Supabase Auth:

\`\`\`json
{
  "role": "Editor",
  "name": "Diego L√≥pez",
  "tenant_id": "empresa-xyz"
}
\`\`\`

### Jerarqu√≠a de roles

| Rol | Nivel | Acceso |
|-----|-------|--------|
| SuperAdmin | 5 | Total |
| Administrador | 4 | Avanzado |
| Editor | 3 | Editorial |
| Colaborador | 2 | Operativo |
| Cliente | 1 | B√°sico |

## Variables de entorno requeridas

\`\`\`bash
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...  # Solo backend
SUPABASE_DB_URL=postgresql://...
\`\`\`

‚ö†Ô∏è **IMPORTANTE**: Nunca exponer \`SUPABASE_SERVICE_ROLE_KEY\` en el frontend.
`},{id:"changelog",label:"Changelog & Versiones",icon:y,color:"#F59E0B",badge:"T√©cnico",tecnica:!0,currentVersion:"v1.5.0",lastModified:"21 Feb 2026",versions:[{version:"v1.5.0",date:"21 Feb 2026",author:"Carlos M.",summary:"Release v1.5 ‚Äî Nuevos m√≥dulos y correcciones."}],content:`# Changelog & Versiones

## v1.5.0 ‚Äî 21 Feb 2026

### Nuevos m√≥dulos
- ‚úÖ **AuthRegistroView**: Sistema de autenticaci√≥n completo con OAuth
- ‚úÖ **CargaMasivaView**: Upload masivo de productos/clientes con backend Hono
- ‚úÖ **MetaBusinessView**: Integraci√≥n Meta Business (Facebook + Instagram)
- ‚úÖ **UnifiedWorkspaceView**: Workspace unificado para herramientas
- ‚úÖ **AdminDashboardView**: Dashboard de administraci√≥n del sistema
- ‚úÖ **UserDashboardView**: Dashboard personalizado por rol
- ‚úÖ **ConfigVistasPorRolView**: Configurador granular de permisos
- ‚úÖ **DocumentacionView**: Este m√≥dulo de documentaci√≥n

### Correcciones
- üîß \`@supabase/supabase-js\` instalado y configurado correctamente
- üîß Constante \`META_BLUE\` reordenada en UnifiedWorkspaceView
- üîß Errores de importaci√≥n corregidos en todos los m√≥dulos nuevos

### Mejoras de arquitectura
- Patr√≥n HubView consolidado como componente reutilizable
- AdminSidebar con soporte para secciones anidadas
- OrangeHeader v3.0 con slot derecho flexible

---

## v1.4.0 ‚Äî 15 Ene 2026

### Nuevos m√≥dulos
- ‚úÖ AuditoriaHubView + HealthMonitorView + SystemLogsView
- ‚úÖ RepositorioAPIsView
- ‚úÖ ConstructorView (GitHub integration)
- ‚úÖ 6 workspaces: Biblioteca, Editor, OCR, QR, Documentos, Impresi√≥n

### Mejoras
- Migraci√≥n a Supabase Edge Functions + Hono
- Multi-pa√≠s: soporte UY + AR
- Sistema de integraciones: 65 proveedores en 6 m√≥dulos

---

## v1.3.0 ‚Äî 10 Dic 2025

### Nuevos m√≥dulos
- ‚úÖ Suite completa de integraciones (Pagos, Log√≠stica, RRSS, Tiendas, Servicios)
- ‚úÖ ERP completo: Inventario, Facturaci√≥n, Compras, RRHH, CRM, Contabilidad
- ‚úÖ Log√≠stica: Transportistas, Rutas, Fulfillment, Abastecimiento

---

## Pr√≥ximas versiones (roadmap)

### v1.6.0 (planificado)
- üî≤ GitHub API ‚Üí generaci√≥n autom√°tica de repositorio desde Constructor
- üî≤ Integraci√≥n Mercado Pago real (backend conectado)
- üî≤ Integraci√≥n Plexo (pasarela UY)
- üî≤ Nivel 2 de Config. de Vistas (aplicaci√≥n en tiempo real)

### v2.0.0 (futuro)
- üî≤ Documentaci√≥n auto-generada desde JSDoc + GitHub webhooks
- üî≤ Module Marketplace (m√≥dulos enterprise portables)
- üî≤ Multi-idioma (ES, EN, PT)
`}];function Se({onNavigate:ie}){const{clienteNombre:B}=H(),[S,M]=t.useState("usuario"),[A,C]=t.useState("introduccion"),[p,l]=t.useState(!1),[g,f]=t.useState(""),[b,x]=t.useState(!1),[h,z]=t.useState(j),[u,w]=t.useState("tecnico"),E=h.filter(o=>S==="tecnica"?o.tecnica:!o.tecnica),i=h.find(o=>o.id===A)??E[0]??h[0],T=()=>{f(i.content),l(!0),x(!1)},I=t.useCallback(()=>{const a=new Date().toLocaleDateString("es-UY",{day:"2-digit",month:"short",year:"numeric"});z(m=>m.map(r=>{if(r.id!==i.id)return r;const n=r.currentVersion.replace("v","").split("."),c=parseInt(n[2]||"0")+1,d=`v${n[0]}.${n[1]}.${c}`;return{...r,content:g,lastModified:a,currentVersion:d,versions:[{version:d,date:a,author:"SuperAdmin",summary:"Edici√≥n manual desde el m√≥dulo de documentaci√≥n."},...r.versions]}})),l(!1),F.success("Documentaci√≥n guardada",{description:`Secci√≥n "${i.label}" actualizada con nueva versi√≥n.`})},[i,g]),V=()=>{l(!1),f("")},D=o=>o.replace(/^### (.+)$/gm,'<h3 style="font-size:0.95rem;font-weight:700;color:#1A1A2E;margin:18px 0 8px;">$1</h3>').replace(/^## (.+)$/gm,'<h2 style="font-size:1.1rem;font-weight:800;color:#1A1A2E;margin:22px 0 10px;padding-bottom:6px;border-bottom:2px solid #F3F4F6;">$2</h2>').replace(/^# (.+)$/gm,'<h1 style="font-size:1.35rem;font-weight:900;color:#1A1A2E;margin:0 0 18px;">$1</h1>').replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/`([^`]+)`/g,'<code style="background:#F3F4F6;padding:2px 6px;border-radius:4px;font-size:0.82em;font-family:monospace;color:#374151;">$1</code>').replace(/```[\w]*\n?([\s\S]*?)```/g,'<pre style="background:#1F2937;color:#E5E7EB;padding:16px;border-radius:10px;font-size:0.78rem;overflow-x:auto;line-height:1.6;margin:14px 0;">$1</pre>').replace(/^\| (.+) \|$/gm,a=>"<tr>"+a.split("|").filter(r=>r.trim()&&!r.match(/^[-\s]+$/)).map(r=>`<td style="padding:6px 12px;border:1px solid #E5E7EB;font-size:0.8rem;">${r.trim()}</td>`).join("")+"</tr>").replace(/^- (.+)$/gm,'<li style="font-size:0.85rem;color:#374151;margin:5px 0;line-height:1.5;">$1</li>').replace(/(<li[^>]*>.*<\/li>\n?)+/g,'<ul style="margin:10px 0 10px 20px;padding:0;">$&</ul>').replace(/\n\n/g,'</p><p style="margin:0 0 12px;font-size:0.85rem;color:#374151;line-height:1.6;">').replace(/^(?!<[hupltc])/gm,"").replace(/‚ö†Ô∏è/g,'<span style="color:#F59E0B;">‚ö†Ô∏è</span>');return e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[e.jsx(N,{icon:v,title:"Documentaci√≥n",subtitle:`${B} ¬∑ Sistema de Gesti√≥n`,rightSlot:e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF",fontWeight:"500"},children:"Vista como:"}),["usuario","tecnico"].map(o=>e.jsx("button",{onClick:()=>w(o),style:{padding:"5px 12px",borderRadius:7,border:`1.5px solid ${u===o?s:"#E5E7EB"}`,backgroundColor:u===o?`${s}10`:"#fff",color:u===o?s:"#6B7280",fontSize:"0.75rem",fontWeight:"700",cursor:"pointer"},children:o==="usuario"?"üë§ Usuario":"üîß T√©cnico"},o))]})}),e.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"0 28px",display:"flex",gap:0,flexShrink:0},children:[["usuario",v,"Documentaci√≥n de Usuario","Todos los roles"],["tecnica",P,"Documentaci√≥n T√©cnica","Admin ¬∑ Editor ¬∑ SuperAdmin"]].map(([o,a,m,r])=>{const n=o===S,c=o==="tecnica"&&u==="usuario";return e.jsxs("button",{onClick:()=>{if(c){F.warning("Solo disponible para Admin, Editor y SuperAdmin");return}M(o),l(!1);const d=j.find(k=>o==="tecnica"?k.tecnica:!k.tecnica);d&&C(d.id)},style:{padding:"14px 22px",border:"none",borderBottom:n?`3px solid ${s}`:"3px solid transparent",backgroundColor:"transparent",color:n?s:c?"#D1D5DB":"#6B7280",fontSize:"0.85rem",fontWeight:n?"800":"600",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:8,transition:"all 0.15s"},children:[c?e.jsx(q,{size:13,color:"#D1D5DB"}):e.jsx(a,{size:14,color:n?s:"#9CA3AF"}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{children:m}),e.jsx("div",{style:{fontSize:"0.68rem",color:"#9CA3AF",fontWeight:"400"},children:r})]})]},o)})}),e.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex"},children:[e.jsxs("div",{style:{width:240,borderRight:"1px solid #E5E7EB",backgroundColor:"#fff",overflowY:"auto",flexShrink:0},children:[e.jsx("div",{style:{padding:"16px 16px 8px"},children:e.jsx("p",{style:{margin:0,fontSize:"0.68rem",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Secciones"})}),E.map(o=>{const a=o.id===A;return e.jsxs("button",{onClick:()=>{C(o.id),l(!1),x(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:9,padding:"10px 16px",border:"none",backgroundColor:a?`${o.color}10`:"transparent",borderLeft:a?`3px solid ${o.color}`:"3px solid transparent",cursor:"pointer",textAlign:"left",transition:"all 0.12s"},children:[e.jsx(o.icon,{size:14,color:a?o.color:"#9CA3AF"}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("p",{style:{margin:0,fontSize:"0.8rem",fontWeight:a?"700":"500",color:a?o.color:"#374151",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o.label}),o.badge&&e.jsx("span",{style:{fontSize:"0.62rem",fontWeight:"700",color:"#9CA3AF",backgroundColor:"#F3F4F6",padding:"1px 5px",borderRadius:4},children:o.badge})]}),a&&e.jsx(Y,{size:12,color:o.color})]},o.id)})]}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px 32px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24,gap:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:38,height:38,borderRadius:10,backgroundColor:`${i.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i.icon,{size:18,color:i.color})}),e.jsxs("div",{children:[e.jsx("h2",{style:{margin:0,fontSize:"1.1rem",fontWeight:"800",color:"#1A1A2E"},children:i.label}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[e.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"700",color:i.color,backgroundColor:`${i.color}15`,padding:"2px 8px",borderRadius:5},children:i.currentVersion}),e.jsxs("span",{style:{fontSize:"0.7rem",color:"#9CA3AF",display:"flex",alignItems:"center",gap:3},children:[e.jsx(K,{size:11})," ",i.lastModified]})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:8,flexShrink:0},children:[e.jsxs("button",{onClick:()=>{x(!b),l(!1)},style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"1.5px solid #E5E7EB",backgroundColor:b?"#F3F4F6":"#fff",color:"#6B7280",fontSize:"0.78rem",fontWeight:"600",cursor:"pointer"},children:[e.jsx(y,{size:13})," Historial"]}),!p&&e.jsxs("button",{onClick:T,style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"none",backgroundColor:s,color:"#fff",fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:[e.jsx(Q,{size:13})," Editar"]}),p&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:V,style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"1.5px solid #E5E7EB",backgroundColor:"#fff",color:"#6B7280",fontSize:"0.78rem",fontWeight:"600",cursor:"pointer"},children:[e.jsx(J,{size:13})," Cancelar"]}),e.jsxs("button",{onClick:I,style:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:8,border:"none",backgroundColor:"#10B981",color:"#fff",fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:[e.jsx(Z,{size:13})," Guardar"]})]})]})]}),b&&e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #E5E7EB",padding:"18px 20px",marginBottom:24},children:[e.jsxs("h3",{style:{margin:"0 0 14px",fontSize:"0.88rem",fontWeight:"700",color:"#111827",display:"flex",alignItems:"center",gap:7},children:[e.jsx(y,{size:15,color:s})," Historial de versiones ‚Äî ",i.label]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:i.versions.map((o,a)=>e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start",padding:"10px 0",borderBottom:a<i.versions.length-1?"1px solid #F3F4F6":"none"},children:[e.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"800",color:a===0?s:"#6B7280",backgroundColor:a===0?`${s}15`:"#F3F4F6",padding:"3px 9px",borderRadius:6,flexShrink:0},children:o.version}),e.jsxs("div",{children:[e.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.8rem",color:"#374151",fontWeight:"600"},children:o.summary}),e.jsxs("p",{style:{margin:0,fontSize:"0.7rem",color:"#9CA3AF"},children:[o.author," ¬∑ ",o.date]})]}),a===0&&e.jsx("span",{style:{marginLeft:"auto",fontSize:"0.65rem",fontWeight:"700",color:"#10B981",backgroundColor:"#D1FAE5",padding:"2px 7px",borderRadius:5},children:"Actual"})]},a))})]}),p?e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:12,padding:"10px 14px",backgroundColor:"#FFFBEB",borderRadius:8,border:"1px solid #FCD34D",display:"flex",alignItems:"center",gap:7},children:[e.jsx(X,{size:14,color:"#F59E0B"}),e.jsx("p",{style:{margin:0,fontSize:"0.78rem",color:"#92400E"},children:"Editando en formato Markdown. Al guardar se crear√° una nueva versi√≥n autom√°ticamente."})]}),e.jsx("textarea",{value:g,onChange:o=>f(o.target.value),style:{width:"100%",minHeight:480,padding:"20px",borderRadius:12,border:`2px solid ${s}40`,fontSize:"0.84rem",lineHeight:"1.7",fontFamily:'"JetBrains Mono", "Fira Code", monospace',color:"#1A1A2E",backgroundColor:"#FAFAFA",outline:"none",resize:"vertical",boxSizing:"border-box"}})]}):e.jsx("div",{style:{backgroundColor:"#fff",borderRadius:14,border:"1px solid #E5E7EB",padding:"28px 32px",lineHeight:"1.7"},dangerouslySetInnerHTML:{__html:D(i.content)}}),!p&&e.jsxs("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #F3F4F6"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7},children:[e.jsx(L,{size:13,color:"#10B981"}),e.jsxs("span",{style:{fontSize:"0.75rem",color:"#6B7280"},children:["√öltima actualizaci√≥n: ",e.jsx("strong",{children:i.lastModified})," ¬∑ Versi√≥n ",e.jsx("strong",{children:i.currentVersion})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx(ee,{size:12,color:"#9CA3AF"}),e.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:"Charlie Marketplace Builder ¬∑ Nivel 1 ‚Äî Edici√≥n manual"})]})]})]})]})]})}export{Se as DocumentacionView};
