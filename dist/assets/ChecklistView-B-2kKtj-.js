import{c as Ce,r as y,j as r,e as Re,D as er,t as G,E as ra,b as Je,C as tr,f as oa,P as aa}from"./index-DReGUpL_.js";import{O as la}from"./OrangeHeader-CoYSG2gk.js";import{p as Ct,a as Yt}from"./info-tCLo8W3J.js";import{R as Nt}from"./refresh-cw-CU94sDMj.js";import{X as sr}from"./x-D09xiXcS.js";import{C as zs}from"./circle-x-CynRMLrK.js";import{G as nr}from"./git-branch-5cLKEjYb.js";import{C as ge}from"./circle-check-CBP7cJcy.js";import{C as ps}from"./chevron-down-C8lOYyaR.js";import{C as gs}from"./chevron-right-Dm2jx9ov.js";import{I as ca}from"./info-BN3V1wY1.js";import{T as da}from"./triangle-alert-DEWrFmdZ.js";import{F as ua}from"./file-text-CgUNZgTk.js";import{S as ha}from"./settings-2-C2-DO688.js";import{F as fa}from"./folder-open-iMAN0kct.js";import{L as Ve}from"./loader-circle-BP-pNhIs.js";import{U as ma}from"./upload-CXZwU6Bo.js";import{D as pa}from"./download-6EtVK3eC.js";import{T as ga}from"./trash-2-CWeF7lSH.js";import{g as xa,a as ya,r as ba,b as va,c as wa,s as ja,d as Ta,e as Sa,u as Ca,f as Na,h as Pa}from"./roadmapApi-BI86Fhpd.js";import{L as xt}from"./lightbulb-CFHFOFDJ.js";import{C as ka}from"./check-YztPu4W_.js";import{S as Vn}from"./save-BkOKXHBp.js";import{T as ir}from"./trending-up-Ccx_4__s.js";import{C as Aa}from"./chart-column-DuO1M2ee.js";import{C as rr}from"./clock-CcLraqAT.js";import{C as or}from"./circle-DH0rK5bE.js";import{P as Ma}from"./paperclip-Dw-SCm9C.js";import{A as Ea}from"./arrow-up-a_w_hWls.js";import{A as Va}from"./arrow-down-BTVUiaKE.js";import{P as Da}from"./play-Dln8HXGc.js";import{Z as Fa}from"./zap-CPr5Ap6C.js";import{S as Ra}from"./square-check-big-DNLzbHq0.js";import"./ConnectionStatusIcon-vKyUMKDa.js";import"./index-yKjPlrCh.js";import"./map-pin-Bu5paOmy.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],Dn=Ce("chevrons-down-up",La);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Fn=Ce("chevrons-up-down",Ia);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],xs=Ce("file-check-2",Ba);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],$a=Ce("file-code-2",Oa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],za=Ce("file-plus",Ua);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],yt=Ce("inbox",Ha);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],bt=Ce("list-ordered",Wa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m16 16-1.9-1.9",key:"1dq9hf"}]],Zt=Ce("scan-search",_a),Hs=y.createContext({});function Ws(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const ar=typeof window<"u",lr=ar?y.useLayoutEffect:y.useEffect,Ut=y.createContext(null);function _s(e,t){e.indexOf(t)===-1&&e.push(t)}function Dt(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ye=(e,t,s)=>s>t?t:s<e?e:s;let Ks=()=>{};const be={},cr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dr(e){return typeof e=="object"&&e!==null}const ur=e=>/^0[^.\s]+$/u.test(e);function hr(e){let t;return()=>(t===void 0&&(t=e()),t)}const le=e=>e,Ka=(e,t)=>s=>t(e(s)),ct=(...e)=>e.reduce(Ka),it=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class Gs{constructor(){this.subscriptions=[]}add(t){return _s(this.subscriptions,t),()=>Dt(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const he=e=>e*1e3,ae=e=>e/1e3;function fr(e,t){return t?e*(1e3/t):0}const mr=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Ga=1e-7,Xa=12;function qa(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=mr(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>Ga&&++l<Xa);return o}function dt(e,t,s,n){if(e===t&&s===n)return le;const i=a=>qa(a,0,1,e,s);return a=>a===0||a===1?a:mr(i(a),t,n)}const pr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gr=e=>t=>1-e(1-t),xr=dt(.33,1.53,.69,.99),Xs=gr(xr),yr=pr(Xs),br=e=>(e*=2)<1?.5*Xs(e):.5*(2-Math.pow(2,-10*(e-1))),qs=e=>1-Math.sin(Math.acos(e)),vr=gr(qs),wr=pr(qs),Ya=dt(.42,0,1,1),Za=dt(0,0,.58,1),jr=dt(.42,0,.58,1),Ja=e=>Array.isArray(e)&&typeof e[0]!="number",Tr=e=>Array.isArray(e)&&typeof e[0]=="number",Qa={linear:le,easeIn:Ya,easeInOut:jr,easeOut:Za,circIn:qs,circInOut:wr,circOut:vr,backIn:Xs,backInOut:yr,backOut:xr,anticipate:br},el=e=>typeof e=="string",Rn=e=>{if(Tr(e)){Ks(e.length===4);const[t,s,n,i]=e;return dt(t,s,n,i)}else if(el(e))return Qa[e];return e},vt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tl(e,t){let s=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,f=!1,h=!1)=>{const x=h&&i?s:n;return f&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[s,n]=[n,s],s.forEach(c),s.clear(),i=!1,a&&(a=!1,d.process(u))}};return d}const sl=40;function Sr(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=vt.reduce((N,E)=>(N[E]=tl(a),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:h,render:p,postRender:x}=o,m=()=>{const N=be.useManualTiming?i.timestamp:performance.now();s=!1,be.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(N-i.timestamp,sl),1)),i.timestamp=N,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),f.process(i),h.process(i),p.process(i),x.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(m))},b=()=>{s=!0,n=!0,i.isProcessing||e(m)};return{schedule:vt.reduce((N,E)=>{const C=o[E];return N[E]=(j,S=!1,P=!1)=>(s||b(),C.schedule(j,S,P)),N},{}),cancel:N=>{for(let E=0;E<vt.length;E++)o[vt[E]].cancel(N)},state:i,steps:o}}const{schedule:$,cancel:Se,state:J,steps:Jt}=Sr(typeof requestAnimationFrame<"u"?requestAnimationFrame:le,!0);let Pt;function nl(){Pt=void 0}const se={now:()=>(Pt===void 0&&se.set(J.isProcessing||be.useManualTiming?J.timestamp:performance.now()),Pt),set:e=>{Pt=e,queueMicrotask(nl)}},Cr=e=>t=>typeof t=="string"&&t.startsWith(e),Nr=Cr("--"),il=Cr("var(--"),Ys=e=>il(e)?rl.test(e.split("/*")[0].trim()):!1,rl=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Ln(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Ge={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rt={...Ge,transform:e=>ye(0,1,e)},wt={...Ge,default:1},et=e=>Math.round(e*1e5)/1e5,Zs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ol(e){return e==null}const al=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Js=(e,t)=>s=>!!(typeof s=="string"&&al.test(s)&&s.startsWith(e)||t&&!ol(s)&&Object.prototype.hasOwnProperty.call(s,t)),Pr=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(Zs);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ll=e=>ye(0,255,e),Qt={...Ge,transform:e=>Math.round(ll(e))},De={test:Js("rgb","red"),parse:Pr("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Qt.transform(e)+", "+Qt.transform(t)+", "+Qt.transform(s)+", "+et(rt.transform(n))+")"};function cl(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ys={test:Js("#"),parse:cl,transform:De.transform},ut=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),we=ut("deg"),xe=ut("%"),M=ut("px"),dl=ut("vh"),ul=ut("vw"),In={...xe,parse:e=>xe.parse(e)/100,transform:e=>xe.transform(e*100)},Oe={test:Js("hsl","hue"),parse:Pr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+xe.transform(et(t))+", "+xe.transform(et(s))+", "+et(rt.transform(n))+")"},X={test:e=>De.test(e)||ys.test(e)||Oe.test(e),parse:e=>De.test(e)?De.parse(e):Oe.test(e)?Oe.parse(e):ys.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?De.transform(e):Oe.transform(e),getAnimatableNone:e=>{const t=X.parse(e);return t.alpha=0,X.transform(t)}},hl=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fl(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zs))==null?void 0:t.length)||0)+(((s=e.match(hl))==null?void 0:s.length)||0)>0}const kr="number",Ar="color",ml="var",pl="var(",Bn="${}",gl=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ot(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(gl,c=>(X.test(c)?(n.color.push(a),i.push(Ar),s.push(X.parse(c))):c.startsWith(pl)?(n.var.push(a),i.push(ml),s.push(c)):(n.number.push(a),i.push(kr),s.push(parseFloat(c))),++a,Bn)).split(Bn);return{values:s,split:l,indexes:n,types:i}}function Mr(e){return ot(e).values}function Er(e){const{split:t,types:s}=ot(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===kr?a+=et(i[o]):l===Ar?a+=X.transform(i[o]):a+=i[o]}return a}}const xl=e=>typeof e=="number"?0:X.test(e)?X.getAnimatableNone(e):e;function yl(e){const t=Mr(e);return Er(e)(t.map(xl))}const fe={test:fl,parse:Mr,createTransformer:Er,getAnimatableNone:yl};function es(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function bl({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=es(c,l,e+1/3),a=es(c,l,e),o=es(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Ft(e,t){return s=>s>0?t:e}const H=(e,t,s)=>e+(t-e)*s,ts=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},vl=[ys,De,Oe],wl=e=>vl.find(t=>t.test(e));function On(e){const t=wl(e);if(!t)return!1;let s=t.parse(e);return t===Oe&&(s=bl(s)),s}const $n=(e,t)=>{const s=On(e),n=On(t);if(!s||!n)return Ft(e,t);const i={...s};return a=>(i.red=ts(s.red,n.red,a),i.green=ts(s.green,n.green,a),i.blue=ts(s.blue,n.blue,a),i.alpha=H(s.alpha,n.alpha,a),De.transform(i))},bs=new Set(["none","hidden"]);function jl(e,t){return bs.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Tl(e,t){return s=>H(e,t,s)}function Qs(e){return typeof e=="number"?Tl:typeof e=="string"?Ys(e)?Ft:X.test(e)?$n:Nl:Array.isArray(e)?Vr:typeof e=="object"?X.test(e)?$n:Sl:Ft}function Vr(e,t){const s=[...e],n=s.length,i=e.map((a,o)=>Qs(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}}function Sl(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Qs(e[i])(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}}function Cl(e,t){const s=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][n[a]],l=e.values[o]??0;s[i]=l,n[a]++}return s}const Nl=(e,t)=>{const s=fe.createTransformer(t),n=ot(e),i=ot(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?bs.has(e)&&!i.values.length||bs.has(t)&&!n.values.length?jl(e,t):ct(Vr(Cl(n,i),i.values),s):Ft(e,t)};function Dr(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?H(e,t,s):Qs(e)(e,t)}const Pl=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>$.update(t,s),stop:()=>Se(t),now:()=>J.isProcessing?J.timestamp:se.now()}},Fr=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Rt=2e4;function en(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Rt;)t+=s,n=e.next(t);return t>=Rt?1/0:t}function kl(e,t=100,s){const n=s({...e,keyframes:[0,t]}),i=Math.min(en(n),Rt);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:ae(i)}}const Al=5;function Rr(e,t,s){const n=Math.max(t-Al,0);return fr(s-e(n),t-n)}const W={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ss=.001;function Ml({duration:e=W.duration,bounce:t=W.bounce,velocity:s=W.velocity,mass:n=W.mass}){let i,a,o=1-t;o=ye(W.minDamping,W.maxDamping,o),e=ye(W.minDuration,W.maxDuration,ae(e)),o<1?(i=d=>{const u=d*o,f=u*e,h=u-s,p=vs(d,o),x=Math.exp(-f);return ss-h/p*x},a=d=>{const f=d*o*e,h=f*s+s,p=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-f),m=vs(Math.pow(d,2),o);return(-i(d)+ss>0?-1:1)*((h-p)*x)/m}):(i=d=>{const u=Math.exp(-d*e),f=(d-s)*e+1;return-ss+u*f},a=d=>{const u=Math.exp(-d*e),f=(s-d)*(e*e);return u*f});const l=5/e,c=Vl(i,a,l);if(e=he(e),isNaN(c))return{stiffness:W.stiffness,damping:W.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const El=12;function Vl(e,t,s){let n=s;for(let i=1;i<El;i++)n=n-e(n)/t(n);return n}function vs(e,t){return e*Math.sqrt(1-t*t)}const Dl=["duration","bounce"],Fl=["stiffness","damping","mass"];function Un(e,t){return t.some(s=>e[s]!==void 0)}function Rl(e){let t={velocity:W.velocity,stiffness:W.stiffness,damping:W.damping,mass:W.mass,isResolvedFromDuration:!1,...e};if(!Un(e,Fl)&&Un(e,Dl))if(t.velocity=0,e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,a=2*ye(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:W.mass,stiffness:i,damping:a}}else{const s=Ml({...e,velocity:0});t={...t,...s,mass:W.mass},t.isResolvedFromDuration=!0}return t}function Lt(e=W.visualDuration,t=W.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Rl({...s,velocity:-ae(s.velocity||0)}),x=h||0,m=d/(2*Math.sqrt(c*u)),b=o-a,v=ae(Math.sqrt(c/u)),k=Math.abs(b)<5;n||(n=k?W.restSpeed.granular:W.restSpeed.default),i||(i=k?W.restDelta.granular:W.restDelta.default);let N;if(m<1){const C=vs(v,m);N=j=>{const S=Math.exp(-m*v*j);return o-S*((x+m*v*b)/C*Math.sin(C*j)+b*Math.cos(C*j))}}else if(m===1)N=C=>o-Math.exp(-v*C)*(b+(x+v*b)*C);else{const C=v*Math.sqrt(m*m-1);N=j=>{const S=Math.exp(-m*v*j),P=Math.min(C*j,300);return o-S*((x+m*v*b)*Math.sinh(P)+C*b*Math.cosh(P))/C}}const E={calculatedDuration:p&&f||null,next:C=>{const j=N(C);if(p)l.done=C>=f;else{let S=C===0?x:0;m<1&&(S=C===0?he(x):Rr(N,C,j));const P=Math.abs(S)<=n,V=Math.abs(o-j)<=i;l.done=P&&V}return l.value=l.done?o:j,l},toString:()=>{const C=Math.min(en(E),Rt),j=Fr(S=>E.next(C*S).value,C,30);return C+"ms "+j},toTransition:()=>{}};return E}Lt.applyToOptions=e=>{const t=kl(e,100,Lt);return e.ease=t.ease,e.duration=he(t.duration),e.type="keyframes",e};function ws({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let m=s*t;const b=f+m,v=o===void 0?b:o(b);v!==b&&(m=v-f);const k=P=>-m*Math.exp(-P/n),N=P=>v+k(P),E=P=>{const V=k(P),D=N(P);h.done=Math.abs(V)<=d,h.value=h.done?v:D};let C,j;const S=P=>{p(h.value)&&(C=P,j=Lt({keyframes:[h.value,x(h.value)],velocity:Rr(N,P,h.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:P=>{let V=!1;return!j&&C===void 0&&(V=!0,E(P),S(P)),C!==void 0&&P>=C?j.next(P-C):(!V&&E(P),h)}}}function Ll(e,t,s){const n=[],i=s||be.mix||Dr,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||le:t;l=ct(c,l)}n.push(l)}return n}function Il(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(Ks(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ll(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=it(e[f],e[f+1],u);return l[f](h)};return s?u=>d(ye(e[0],e[a-1],u)):d}function Bl(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=it(0,t,n);e.push(H(s,1,i))}}function Ol(e){const t=[0];return Bl(t,e.length-1),t}function $l(e,t){return e.map(s=>s*t)}function Ul(e,t){return e.map(()=>t||jr).splice(0,e.length-1)}function tt({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=Ja(n)?n.map(Rn):Rn(n),a={done:!1,value:t[0]},o=$l(s&&s.length===t.length?s:Ol(t),e),l=Il(o,t,{ease:Array.isArray(i)?i:Ul(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const zl=e=>e!==null;function tn(e,{repeat:t,repeatType:s="loop"},n,i=1){const a=e.filter(zl),l=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const Hl={decay:ws,inertia:ws,tween:tt,keyframes:tt,spring:Lt};function Lr(e){typeof e.type=="string"&&(e.type=Hl[e.type])}class sn{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Wl=e=>e/100;class nn extends sn{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:s}=this.options;s&&s.updatedAt!==se.now()&&this.tick(se.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Lr(t);const{type:s=tt,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=s||tt;c!==tt&&typeof l[0]!="number"&&(this.mixKeyframes=ct(Wl,Dr(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=en(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:x,onUpdate:m,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,E=n;if(f){const P=Math.min(this.currentTime,i)/l;let V=Math.floor(P),D=P%1;!D&&P>=1&&(D=1),D===1&&V--,V=Math.min(V,f+1),!!(V%2)&&(h==="reverse"?(D=1-D,p&&(D-=p/l)):h==="mirror"&&(E=o)),N=ye(0,1,D)*l}const C=k?{done:!1,value:u[0]}:E.next(N);a&&(C.value=a(C.value));let{done:j}=C;!k&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return S&&x!==ws&&(C.value=tn(u,this.options,b,this.speed)),m&&m(C.value),S&&this.finish(),C}then(t,s){return this.finished.then(t,s)}get duration(){return ae(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ae(t)}get time(){return ae(this.currentTime)}set time(t){var s;t=he(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(se.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ae(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Pl,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(se.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function _l(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fe=e=>e*180/Math.PI,js=e=>{const t=Fe(Math.atan2(e[1],e[0]));return Ts(t)},Kl={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:js,rotateZ:js,skewX:e=>Fe(Math.atan(e[1])),skewY:e=>Fe(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ts=e=>(e=e%360,e<0&&(e+=360),e),zn=js,Hn=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Wn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Gl={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hn,scaleY:Wn,scale:e=>(Hn(e)+Wn(e))/2,rotateX:e=>Ts(Fe(Math.atan2(e[6],e[5]))),rotateY:e=>Ts(Fe(Math.atan2(-e[2],e[0]))),rotateZ:zn,rotate:zn,skewX:e=>Fe(Math.atan(e[4])),skewY:e=>Fe(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ss(e){return e.includes("scale")?1:0}function Cs(e,t){if(!e||e==="none")return Ss(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=Gl,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Kl,i=l}if(!i)return Ss(t);const a=n[t],o=i[1].split(",").map(ql);return typeof a=="function"?a(o):o[a]}const Xl=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Cs(s,t)};function ql(e){return parseFloat(e.trim())}const Xe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qe=new Set(Xe),_n=e=>e===Ge||e===M,Yl=new Set(["x","y","z"]),Zl=Xe.filter(e=>!Yl.has(e));function Jl(e){const t=[];return Zl.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Te={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Cs(t,"x"),y:(e,{transform:t})=>Cs(t,"y")};Te.translateX=Te.x;Te.translateY=Te.y;const Le=new Set;let Ns=!1,Ps=!1,ks=!1;function Ir(){if(Ps){const e=Array.from(Le).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=Jl(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ps=!1,Ns=!1,Le.forEach(e=>e.complete(ks)),Le.clear()}function Br(){Le.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ps=!0)})}function Ql(){ks=!0,Br(),Ir(),ks=!1}class rn{constructor(t,s,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Le.add(this),Ns||(Ns=!0,$.read(Br),$.resolveKeyframes(Ir))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&s){const l=n.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}_l(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Le.delete(this)}cancel(){this.state==="scheduled"&&(Le.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ec=e=>e.startsWith("--");function tc(e,t,s){ec(t)?e.style.setProperty(t,s):e.style[t]=s}const sc={};function Or(e,t){const s=hr(e);return()=>sc[t]??s()}const nc=Or(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),$r=Or(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qe=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Kn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qe([0,.65,.55,1]),circOut:Qe([.55,0,1,.45]),backIn:Qe([.31,.01,.66,-.59]),backOut:Qe([.33,1.53,.69,.99])};function Ur(e,t){if(e)return typeof e=="function"?$r()?Fr(e,t):"ease-out":Tr(e)?Qe(e):Array.isArray(e)?e.map(s=>Ur(s,t)||Kn.easeOut):Kn[e]}function ic(e,t,s,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const f=Ur(l,i);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(u,h)}function zr(e){return typeof e=="function"&&"applyToOptions"in e}function rc({type:e,...t}){return zr(e)&&$r()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Hr extends sn{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Ks(typeof t.type!="string");const d=rc(t);this.animation=ic(s,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=tn(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):tc(s,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n,i;const t=(s=this.options)==null?void 0:s.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(n=this.animation).commitStyles)==null||i.call(n))}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return ae(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ae(t)}get time(){return ae(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=he(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&nc()?(this.animation.timeline=t,le):s(this)}}const Wr={anticipate:br,backInOut:yr,circInOut:wr};function oc(e){return e in Wr}function ac(e){typeof e.ease=="string"&&oc(e.ease)&&(e.ease=Wr[e.ease])}const ns=10;class lc extends Hr{constructor(t){ac(t),Lr(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new nn({...o,autoplay:!1}),c=Math.max(ns,se.now()-this.startTime),d=ye(0,ns,c-ns);s.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const Gn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fe.test(e)||e==="0")&&!e.startsWith("url("));function cc(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function dc(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Gn(i,t),l=Gn(a,t);return!o||!l?!1:cc(e)||(s==="spring"||zr(s))&&n}function As(e){e.duration=0,e.type="keyframes"}const uc=new Set(["opacity","clipPath","filter","transform"]),hc=hr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fc(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:i,damping:a,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return hc()&&s&&uc.has(s)&&(s!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const mc=40;class pc extends sn{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var x;super(),this.stop=()=>{var m,b;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=se.now();const h={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||rn;this.keyframeResolver=new p(l,(m,b,v)=>this.onKeyframesResolved(m,b,h,!v),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,n,i){var b,v;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=se.now(),dc(t,a,o,l)||((be.instantAnimations||!c)&&(u==null||u(tn(t,n,s))),t[0]=t[t.length-1],As(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mc?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},p=!d&&fc(h),x=(v=(b=h.motionValue)==null?void 0:b.owner)==null?void 0:v.current,m=p?new lc({...h,element:x}):new nn(h);m.finished.then(()=>{this.notifyFinished()}).catch(le),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Ql()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function _r(e,t,s,n=0,i=1){const a=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*n;return typeof s=="function"?s(a,o):i===1?a*n:l-a*n}const gc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xc(e){const t=gc.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function Kr(e,t,s=1){const[n,i]=xc(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return cr(o)?parseFloat(o):o}return Ys(i)?Kr(i,t,s+1):i}const yc={type:"spring",stiffness:500,damping:25,restSpeed:10},bc=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vc={type:"keyframes",duration:.8},wc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jc=(e,{keyframes:t})=>t.length>2?vc:qe.has(e)?e.startsWith("scale")?bc(t[1]):yc:wc,Tc=e=>e!==null;function Sc(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(Tc),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[a]}function Gr(e,t){if(e!=null&&e.inherit&&t){const{inherit:s,...n}=e;return{...t,...n}}return e}function on(e,t){const s=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return s!==e?Gr(s,e):s}function Cc({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const an=(e,t,s,n={},i,a)=>o=>{const l=on(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-he(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Cc(l)||Object.assign(u,jc(e,u)),u.duration&&(u.duration=he(u.duration)),u.repeatDelay&&(u.repeatDelay=he(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(As(u),u.delay===0&&(f=!0)),(be.instantAnimations||be.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(f=!0,As(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=Sc(u.keyframes,l);if(h!==void 0){$.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new nn(u):new pc(u)};function Xn(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function ln(e,t,s,n){if(typeof t=="function"){const[i,a]=Xn(n);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Xn(n);t=t(s!==void 0?s:e.custom,i,a)}return t}function _e(e,t,s){const n=e.getProps();return ln(n,t,s!==void 0?s:n.custom,e)}const Xr=new Set(["width","height","top","left","right","bottom",...Xe]),qn=30,Nc=e=>!isNaN(parseFloat(e));class Pc{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const i=se.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=se.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Nc(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Gs);const n=this.events[t].add(s);return t==="change"?()=>{n(),$.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=se.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,qn);return fr(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ke(e,t){return new Pc(e,t)}const Ms=e=>Array.isArray(e);function kc(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ke(s))}function Ac(e){return Ms(e)?e[e.length-1]||0:e}function Mc(e,t){const s=_e(e,t);let{transitionEnd:n={},transition:i={},...a}=s||{};a={...a,...n};for(const o in a){const l=Ac(a[o]);kc(e,o,l)}}const ee=e=>!!(e&&e.getVelocity);function Ec(e){return!!(ee(e)&&e.add)}function Es(e,t){const s=e.getValue("willChange");if(Ec(s))return s.add(t);if(!s&&be.WillChange){const n=new be.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function cn(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Vc="framerAppearId",qr="data-"+cn(Vc);function Yr(e){return e.props[qr]}function Dc({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Zr(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:a,transitionEnd:o,...l}=t;const c=e.getDefaultTransition();a=a?Gr(a,c):c;const d=a==null?void 0:a.reduceMotion;n&&(a=n);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const p=e.getValue(h,e.latestValues[h]??null),x=l[h];if(x===void 0||f&&Dc(f,h))continue;const m={delay:s,...on(a||{},h)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(x)&&x===b&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const E=Yr(e);if(E){const C=window.MotionHandoffAnimation(E,h,$);C!==null&&(m.startTime=C,v=!0)}}Es(e,h);const k=d??e.shouldReduceMotion;p.start(an(h,p,x,k&&Xr.has(h)?{type:!1}:m,e,v));const N=p.animation;N&&u.push(N)}if(o){const h=()=>$.update(()=>{o&&Mc(e,o)});u.length?Promise.all(u).then(h):h()}return u}function Vs(e,t,s={}){var c;const n=_e(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const a=n?()=>Promise.all(Zr(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return Fc(e,t,d,u,f,h,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(s.delay)])}function Fc(e,t,s=0,n=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Vs(c,t,{...o,delay:s+(typeof n=="function"?0:n)+_r(e.variantChildren,c,n,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Rc(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Vs(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=Vs(e,t,s);else{const i=typeof t=="function"?_e(e,t,s.custom):t;n=Promise.all(Zr(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Lc={test:e=>e==="auto",parse:e=>e},Jr=e=>t=>t.test(e),Qr=[Ge,M,xe,we,ul,dl,Lc],Yn=e=>Qr.find(Jr(e));function Ic(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ur(e):!0}const Bc=new Set(["brightness","contrast","saturate","opacity"]);function Oc(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Zs)||[];if(!n)return e;const i=s.replace(n,"");let a=Bc.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const $c=/\b([a-z-]*)\(.*?\)/gu,Ds={...fe,getAnimatableNone:e=>{const t=e.match($c);return t?t.map(Oc).join(" "):e}},Fs={...fe,getAnimatableNone:e=>{const t=fe.parse(e);return fe.createTransformer(e)(t.map(n=>typeof n=="number"?0:typeof n=="object"?{...n,alpha:1}:n))}},Zn={...Ge,transform:Math.round},Uc={rotate:we,rotateX:we,rotateY:we,rotateZ:we,scale:wt,scaleX:wt,scaleY:wt,scaleZ:wt,skew:we,skewX:we,skewY:we,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:rt,originX:In,originY:In,originZ:M},dn={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,top:M,right:M,bottom:M,left:M,inset:M,insetBlock:M,insetBlockStart:M,insetBlockEnd:M,insetInline:M,insetInlineStart:M,insetInlineEnd:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,paddingBlock:M,paddingBlockStart:M,paddingBlockEnd:M,paddingInline:M,paddingInlineStart:M,paddingInlineEnd:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,marginBlock:M,marginBlockStart:M,marginBlockEnd:M,marginInline:M,marginInlineStart:M,marginInlineEnd:M,fontSize:M,backgroundPositionX:M,backgroundPositionY:M,...Uc,zIndex:Zn,fillOpacity:rt,strokeOpacity:rt,numOctaves:Zn},zc={...dn,color:X,backgroundColor:X,outlineColor:X,fill:X,stroke:X,borderColor:X,borderTopColor:X,borderRightColor:X,borderBottomColor:X,borderLeftColor:X,filter:Ds,WebkitFilter:Ds,mask:Fs,WebkitMask:Fs},eo=e=>zc[e],Hc=new Set([Ds,Fs]);function to(e,t){let s=eo(e);return Hc.has(s)||(s=fe),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Wc=new Set(["auto","none","0"]);function _c(e,t,s){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Wc.has(a)&&ot(a).values.length&&(i=e[n]),n++}if(i&&s)for(const a of t)e[a]=to(s,i)}class Kc extends rn{constructor(t,s,n,i,a){super(t,s,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),Ys(f))){const h=Kr(f,s.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Xr.has(n)||t.length!==2)return;const[i,a]=t,o=Yn(i),l=Yn(a),c=Ln(i),d=Ln(a);if(c!==d&&Te[n]){this.needsMeasurement=!0;return}if(o!==l)if(_n(o)&&_n(l))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else Te[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||Ic(t[i]))&&n.push(i);n.length&&_c(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Te[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=Te[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Gc=new Set(["opacity","clipPath","filter","transform"]);function so(e,t,s){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(s==null?void 0:s[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(n=>n!=null)}const no=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Rs(e){return dr(e)&&"offsetHeight"in e}const{schedule:un}=Sr(queueMicrotask,!1),ue={x:!1,y:!1};function io(){return ue.x||ue.y}function Xc(e){return e==="x"||e==="y"?ue[e]?null:(ue[e]=!0,()=>{ue[e]=!1}):ue.x||ue.y?null:(ue.x=ue.y=!0,()=>{ue.x=ue.y=!1})}function ro(e,t){const s=so(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function qc(e){return!(e.pointerType==="touch"||io())}function Yc(e,t,s={}){const[n,i,a]=ro(e,s);return n.forEach(o=>{let l=!1,c=!1,d;const u=()=>{o.removeEventListener("pointerleave",x)},f=b=>{d&&(d(b),d=void 0),u()},h=b=>{l=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),c&&(c=!1,f(b))},p=()=>{l=!0,window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",h,i)},x=b=>{if(b.pointerType!=="touch"){if(l){c=!0;return}f(b)}},m=b=>{if(!qc(b))return;c=!1;const v=t(o,b);typeof v=="function"&&(d=v,o.addEventListener("pointerleave",x,i))};o.addEventListener("pointerenter",m,i),o.addEventListener("pointerdown",p,i)}),a}const oo=(e,t)=>t?e===t?!0:oo(e,t.parentElement):!1,hn=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Zc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Jc(e){return Zc.has(e.tagName)||e.isContentEditable===!0}const Qc=new Set(["INPUT","SELECT","TEXTAREA"]);function ed(e){return Qc.has(e.tagName)||e.isContentEditable===!0}const kt=new WeakSet;function Jn(e){return t=>{t.key==="Enter"&&e(t)}}function is(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const td=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=Jn(()=>{if(kt.has(s))return;is(s,"down");const i=Jn(()=>{is(s,"up")}),a=()=>is(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Qn(e){return hn(e)&&!io()}const ei=new WeakSet;function sd(e,t,s={}){const[n,i,a]=ro(e,s),o=l=>{const c=l.currentTarget;if(!Qn(l)||ei.has(l))return;kt.add(c),s.stopPropagation&&ei.add(l);const d=t(c,l),u=(p,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),kt.has(c)&&kt.delete(c),Qn(p)&&typeof d=="function"&&d(p,{success:x})},f=p=>{u(p,c===window||c===document||s.useGlobalTarget||oo(c,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),Rs(l)&&(l.addEventListener("focus",d=>td(d,i)),!Jc(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function fn(e){return dr(e)&&"ownerSVGElement"in e}const At=new WeakMap;let je;const ao=(e,t,s)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:fn(n)&&"getBBox"in n?n.getBBox()[t]:n[s],nd=ao("inline","width","offsetWidth"),id=ao("block","height","offsetHeight");function rd({target:e,borderBoxSize:t}){var s;(s=At.get(e))==null||s.forEach(n=>{n(e,{get width(){return nd(e,t)},get height(){return id(e,t)}})})}function od(e){e.forEach(rd)}function ad(){typeof ResizeObserver>"u"||(je=new ResizeObserver(od))}function ld(e,t){je||ad();const s=so(e);return s.forEach(n=>{let i=At.get(n);i||(i=new Set,At.set(n,i)),i.add(t),je==null||je.observe(n)}),()=>{s.forEach(n=>{const i=At.get(n);i==null||i.delete(t),i!=null&&i.size||je==null||je.unobserve(n)})}}const Mt=new Set;let $e;function cd(){$e=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Mt.forEach(t=>t(e))},window.addEventListener("resize",$e)}function dd(e){return Mt.add(e),$e||cd(),()=>{Mt.delete(e),!Mt.size&&typeof $e=="function"&&(window.removeEventListener("resize",$e),$e=void 0)}}function ti(e,t){return typeof e=="function"?dd(e):ld(e,t)}function ud(e){return fn(e)&&e.tagName==="svg"}const hd=[...Qr,X,fe],fd=e=>hd.find(Jr(e)),si=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ue=()=>({x:si(),y:si()}),ni=()=>({min:0,max:0}),Z=()=>({x:ni(),y:ni()}),md=new WeakMap;function zt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function at(e){return typeof e=="string"||Array.isArray(e)}const mn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pn=["initial",...mn];function Ht(e){return zt(e.animate)||pn.some(t=>at(e[t]))}function lo(e){return!!(Ht(e)||e.variants)}function pd(e,t,s){for(const n in t){const i=t[n],a=s[n];if(ee(i))e.addValue(n,i);else if(ee(a))e.addValue(n,Ke(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Ke(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Ls={current:null},co={current:!1},gd=typeof window<"u";function xd(){if(co.current=!0,!!gd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ls.current=e.matches;e.addEventListener("change",t),t()}else Ls.current=!1}const ii=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let It={};function uo(e){It=e}function yd(){return It}class bd{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=rn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=se.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,$.render(this.render,!1,!0))};const{latestValues:d,renderState:u}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Ht(s),this.isVariantNode=lo(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const p in h){const x=h[p];d[p]!==void 0&&ee(x)&&x.set(d[p])}}mount(t){var s,n;if(this.hasBeenMounted)for(const i in this.initialValues)(s=this.values.get(i))==null||s.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,md.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(co.current||xd(),this.shouldReduceMotion=Ls.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Se(this.notifyUpdate),Se(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),s.accelerate&&Gc.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:l,times:c,ease:d,duration:u}=s.accelerate,f=new Hr({element:this.current,name:t,keyframes:l,times:c,ease:d,duration:he(u)}),h=o(f);this.valueSubscriptions.set(t,()=>{h(),f.cancel()});return}const n=qe.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&$.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in It){const s=It[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Z()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<ii.length;n++){const i=ii[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=pd(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Ke(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(cr(n)||ur(n))?n=parseFloat(n):!fd(n)&&fe.test(s)&&(n=to(t,s)),this.setBaseTarget(t,ee(n)?n.get():n)),ee(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=ln(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[t])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ee(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Gs),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){un.render(this.render)}}class ho extends bd{constructor(){super(...arguments),this.KeyframeResolver=Kc}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){const n=t.style;return n?n[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ee(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Ne{constructor(t){this.isMounted=!1,this.node=t}update(){}}function fo({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function vd({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wd(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function rs(e){return e===void 0||e===1}function Is({scale:e,scaleX:t,scaleY:s}){return!rs(e)||!rs(t)||!rs(s)}function Me(e){return Is(e)||mo(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mo(e){return ri(e.x)||ri(e.y)}function ri(e){return e&&e!=="0%"}function Bt(e,t,s){const n=e-s,i=t*n;return s+i}function oi(e,t,s,n,i){return i!==void 0&&(e=Bt(e,i,n)),Bt(e,s,n)+t}function Bs(e,t=0,s=1,n,i){e.min=oi(e.min,t,s,n,i),e.max=oi(e.max,t,s,n,i)}function po(e,{x:t,y:s}){Bs(e.x,t.translate,t.scale,t.originPoint),Bs(e.y,s.translate,s.scale,s.originPoint)}const ai=.999999999999,li=1.0000000000001;function jd(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&He(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,po(e,o)),n&&Me(a.latestValues)&&He(e,a.latestValues))}t.x<li&&t.x>ai&&(t.x=1),t.y<li&&t.y>ai&&(t.y=1)}function ze(e,t){e.min=e.min+t,e.max=e.max+t}function ci(e,t,s,n,i=.5){const a=H(e.min,e.max,i);Bs(e,t,s,a,n)}function He(e,t){ci(e.x,t.x,t.scaleX,t.scale,t.originX),ci(e.y,t.y,t.scaleY,t.scale,t.originY)}function go(e,t){return fo(wd(e.getBoundingClientRect(),t))}function Td(e,t,s){const n=go(e,s),{scroll:i}=t;return i&&(ze(n.x,i.offset.x),ze(n.y,i.offset.y)),n}const Sd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cd=Xe.length;function Nd(e,t,s){let n="",i=!0;for(let a=0;a<Cd;a++){const o=Xe[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);c=o.startsWith("scale")?d===1:d===0}if(!c||s){const d=no(l,dn[o]);if(!c){i=!1;const u=Sd[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function gn(e,t,s){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(qe.has(c)){o=!0;continue}else if(Nr(c)){i[c]=d;continue}else{const u=no(d,dn[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=Nd(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}function xo(e,{style:t,vars:s},n,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,n);for(o in s)a.setProperty(o,s[o])}function di(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ze={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(M.test(e))e=parseFloat(e);else return e;const s=di(e,t.target.x),n=di(e,t.target.y);return`${s}% ${n}%`}},Pd={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=fe.parse(e);if(i.length>5)return n;const a=fe.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=H(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},Os={borderRadius:{...Ze,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomLeftRadius:Ze,borderBottomRightRadius:Ze,boxShadow:Pd};function yo(e,{layout:t,layoutId:s}){return qe.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Os[e]||e==="opacity")}function xn(e,t,s){var o;const n=e.style,i=t==null?void 0:t.style,a={};if(!n)return a;for(const l in n)(ee(n[l])||i&&ee(i[l])||yo(l,e)||((o=s==null?void 0:s.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=n[l]);return a}function kd(e){return window.getComputedStyle(e)}class Ad extends ho{constructor(){super(...arguments),this.type="html",this.renderInstance=xo}readValueFromInstance(t,s){var n;if(qe.has(s))return(n=this.projection)!=null&&n.isProjecting?Ss(s):Xl(t,s);{const i=kd(t),a=(Nr(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return go(t,s)}build(t,s,n){gn(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return xn(t,s,n)}}const Md={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ed={offset:"strokeDashoffset",array:"strokeDasharray"};function Vd(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?Md:Ed;e[a.offset]=`${-n}`,e[a.array]=`${t} ${s}`}const Dd=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bo(e,{attrX:t,attrY:s,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(gn(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox);for(const p of Dd)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),i!==void 0&&Vd(f,i,a,o,!1)}const vo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wo=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Fd(e,t,s,n){xo(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(vo.has(i)?i:cn(i),t.attrs[i])}function jo(e,t,s){const n=xn(e,t,s);for(const i in e)if(ee(e[i])||ee(t[i])){const a=Xe.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}class Rd extends ho{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Z}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(qe.has(s)){const n=eo(s);return n&&n.default||0}return s=vo.has(s)?s:cn(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return jo(t,s,n)}build(t,s,n){bo(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,i){Fd(t,s,n,i)}mount(t){this.isSVGTag=wo(t.tagName),super.mount(t)}}const Ld=pn.length;function To(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?To(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Ld;s++){const n=pn[s],i=e.props[n];(at(i)||i===!1)&&(t[n]=i)}return t}function So(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const Id=[...mn].reverse(),Bd=mn.length;function Od(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Rc(e,s,n)))}function $d(e){let t=Od(e),s=ui(),n=!0;const i=c=>(d,u)=>{var h;const f=_e(e,u,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...m}=f;d={...d,...m,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=To(e.parent)||{},f=[],h=new Set;let p={},x=1/0;for(let b=0;b<Bd;b++){const v=Id[b],k=s[v],N=d[v]!==void 0?d[v]:u[v],E=at(N),C=v===c?k.isActive:null;C===!1&&(x=b);let j=N===u[v]&&N!==d[v]&&E;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),k.protectedKeys={...p},!k.isActive&&C===null||!N&&!k.prevProp||zt(N)||typeof N=="boolean")continue;if(v==="exit"&&k.isActive&&C!==!0){k.prevResolvedValues&&(p={...p,...k.prevResolvedValues});continue}const S=Ud(k.prevProp,N);let P=S||v===c&&k.isActive&&!j&&E||b>x&&E,V=!1;const D=Array.isArray(N)?N:[N];let K=D.reduce(i(v),{});C===!1&&(K={});const{prevResolvedValues:Pe={}}=k,Ie={...Pe,...K},me=U=>{P=!0,h.has(U)&&(V=!0,h.delete(U)),k.needsAnimating[U]=!0;const ie=e.getValue(U);ie&&(ie.liveStyle=!1)};for(const U in Ie){const ie=K[U],re=Pe[U];if(p.hasOwnProperty(U))continue;let Q=!1;Ms(ie)&&Ms(re)?Q=!So(ie,re):Q=ie!==re,Q?ie!=null?me(U):h.add(U):ie!==void 0&&h.has(U)?me(U):k.protectedKeys[U]=!0}k.prevProp=N,k.prevResolvedValues=K,k.isActive&&(p={...p,...K}),n&&e.blockInitialAnimation&&(P=!1);const Ye=j&&S;P&&(!Ye||V)&&f.push(...D.map(U=>{const ie={type:v};if(typeof U=="string"&&n&&!Ye&&e.manuallyAnimateOnMount&&e.parent){const{parent:re}=e,Q=_e(re,U);if(re.enteringChildren&&Q){const{delayChildren:ft}=Q.transition||{};ie.delay=_r(re.enteringChildren,e,ft)}}return{animation:U,options:ie}}))}if(h.size){const b={};if(typeof d.initial!="boolean"){const v=_e(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(b.transition=v.transition)}h.forEach(v=>{const k=e.getBaseTarget(v),N=e.getValue(v);N&&(N.liveStyle=!0),b[v]=k??null}),f.push({animation:b})}let m=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,d){var f;if(s[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const h in s)s[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=ui()}}}function Ud(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!So(t,e):!1}function ke(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ui(){return{animate:ke(!0),whileInView:ke(),whileHover:ke(),whileTap:ke(),whileDrag:ke(),whileFocus:ke(),exit:ke()}}function hi(e,t){e.min=t.min,e.max=t.max}function ce(e,t){hi(e.x,t.x),hi(e.y,t.y)}function fi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Co=1e-4,zd=1-Co,Hd=1+Co,No=.01,Wd=0-No,_d=0+No;function ne(e){return e.max-e.min}function Kd(e,t,s){return Math.abs(e-t)<=s}function mi(e,t,s,n=.5){e.origin=n,e.originPoint=H(t.min,t.max,e.origin),e.scale=ne(s)/ne(t),e.translate=H(s.min,s.max,e.origin)-e.originPoint,(e.scale>=zd&&e.scale<=Hd||isNaN(e.scale))&&(e.scale=1),(e.translate>=Wd&&e.translate<=_d||isNaN(e.translate))&&(e.translate=0)}function st(e,t,s,n){mi(e.x,t.x,s.x,n?n.originX:void 0),mi(e.y,t.y,s.y,n?n.originY:void 0)}function pi(e,t,s){e.min=s.min+t.min,e.max=e.min+ne(t)}function Gd(e,t,s){pi(e.x,t.x,s.x),pi(e.y,t.y,s.y)}function gi(e,t,s){e.min=t.min-s.min,e.max=e.min+ne(t)}function Ot(e,t,s){gi(e.x,t.x,s.x),gi(e.y,t.y,s.y)}function xi(e,t,s,n,i){return e-=t,e=Bt(e,1/s,n),i!==void 0&&(e=Bt(e,1/i,n)),e}function Xd(e,t=0,s=1,n=.5,i,a=e,o=e){if(xe.test(t)&&(t=parseFloat(t),t=H(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=H(a.min,a.max,n);e===a&&(l-=t),e.min=xi(e.min,t,s,l,i),e.max=xi(e.max,t,s,l,i)}function yi(e,t,[s,n,i],a,o){Xd(e,t[s],t[n],t[i],t.scale,a,o)}const qd=["x","scaleX","originX"],Yd=["y","scaleY","originY"];function bi(e,t,s,n){yi(e.x,t,qd,s?s.x:void 0,n?n.x:void 0),yi(e.y,t,Yd,s?s.y:void 0,n?n.y:void 0)}function vi(e){return e.translate===0&&e.scale===1}function Po(e){return vi(e.x)&&vi(e.y)}function wi(e,t){return e.min===t.min&&e.max===t.max}function Zd(e,t){return wi(e.x,t.x)&&wi(e.y,t.y)}function ji(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ko(e,t){return ji(e.x,t.x)&&ji(e.y,t.y)}function Ti(e){return ne(e.x)/ne(e.y)}function Si(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function pe(e){return[e("x"),e("y")]}function Jd(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:x}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Ao=["TopLeft","TopRight","BottomLeft","BottomRight"],Qd=Ao.length,Ci=e=>typeof e=="string"?parseFloat(e):e,Ni=e=>typeof e=="number"||M.test(e);function eu(e,t,s,n,i,a){i?(e.opacity=H(0,s.opacity??1,tu(n)),e.opacityExit=H(t.opacity??1,0,su(n))):a&&(e.opacity=H(t.opacity??1,s.opacity??1,n));for(let o=0;o<Qd;o++){const l=`border${Ao[o]}Radius`;let c=Pi(t,l),d=Pi(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Ni(c)===Ni(d)?(e[l]=Math.max(H(Ci(c),Ci(d),n),0),(xe.test(d)||xe.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=H(t.rotate||0,s.rotate||0,n))}function Pi(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tu=Mo(0,.5,vr),su=Mo(.5,.95,le);function Mo(e,t,s){return n=>n<e?0:n>t?1:s(it(e,t,n))}function nu(e,t,s){const n=ee(e)?e:Ke(e);return n.start(an("",n,t,s)),n.animation}function lt(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const iu=(e,t)=>e.depth-t.depth;class ru{constructor(){this.children=[],this.isDirty=!1}add(t){_s(this.children,t),this.isDirty=!0}remove(t){Dt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(iu),this.isDirty=!1,this.children.forEach(t)}}function ou(e,t){const s=se.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(Se(n),e(a-t))};return $.setup(n,!0),()=>Se(n)}function Et(e){return ee(e)?e.get():e}class au{constructor(){this.members=[]}add(t){_s(this.members,t);for(let s=this.members.length-1;s>=0;s--){const n=this.members[s];if(n===t||n===this.lead||n===this.prevLead)continue;const i=n.instance;i&&i.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Dt(this.members,n)}t.scheduleRender()}remove(t){if(Dt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i],o=a.instance;if(a.isPresent!==!1&&(!o||o.isConnected!==!1)){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const i=n.options.layoutDependency,a=t.options.layoutDependency;if(!(i!==void 0&&a!==void 0&&i===a)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},os=["","X","Y","Z"],lu=1e3;let cu=0;function as(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Eo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Yr(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",$,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Eo(n)}function Vo({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=cu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hu),this.nodes.forEach(gu),this.nodes.forEach(xu),this.nodes.forEach(fu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ru)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gs),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=fn(o)&&!ud(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;$.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=ou(h,250),Vt.hasAnimatedSinceResize&&(Vt.hasAnimatedSinceResize=!1,this.nodes.forEach(Mi)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||ju,{onLayoutAnimationStart:m,onLayoutAnimationComplete:b}=d.getProps(),v=!this.targetLayout||!ko(this.targetLayout,p),k=!f&&h;if(this.options.layoutRoot||this.resumeFrom||k||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...on(x,"layout"),onPlay:m,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(u,k)}else f||Mi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Se(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yu),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Eo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ki);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ai);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pu),this.nodes.forEach(du),this.nodes.forEach(uu)):this.nodes.forEach(Ai),this.clearAllSnapshots();const l=se.now();J.delta=ye(0,1e3/60,l-J.timestamp),J.timestamp=l,J.isProcessing=!0,Jt.update.process(J),Jt.preRender.process(J),Jt.render.process(J),J.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,un.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mu),this.sharedNodes.forEach(bu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ne(this.snapshot.measuredBox.x)&&!ne(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Z(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Po(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Me(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Tu(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Z();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Su))){const{scroll:u}=this.root;u&&(ze(l.x,u.offset.x),ze(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Z();if(ce(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ce(l,o),ze(l.x,f.offset.x),ze(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Z();ce(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&He(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Me(u.latestValues)&&He(c,u.latestValues)}return Me(this.latestValues)&&He(c,this.latestValues),c}removeTransform(o){const l=Z();ce(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Me(d.latestValues))continue;Is(d.latestValues)&&d.updateSnapshot();const u=Z(),f=d.measurePageBox();ce(u,f),bi(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Me(this.latestValues)&&bi(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==J.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=J.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Z(),this.targetWithTransforms=Z()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gd(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ce(this.target,this.layout.layoutBox),po(this.target,this.targetDelta)):ce(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Is(this.parent.latestValues)||mo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Z(),this.relativeTargetOrigin=Z(),Ot(this.relativeTargetOrigin,l,c),ce(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===J.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ce(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;jd(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Z());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fi(this.prevProjectionDelta.x,this.projectionDelta.x),fi(this.prevProjectionDelta.y,this.projectionDelta.y)),st(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Si(this.projectionDelta.x,this.prevProjectionDelta.x)||!Si(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ue(),this.projectionDelta=Ue(),this.projectionDeltaWithTransform=Ue()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Ue();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Z(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,m=p!==x,b=this.getStack(),v=!b||b.members.length<=1,k=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(wu));this.animationProgress=0;let N;this.mixTargetDelta=E=>{const C=E/1e3;Ei(f.x,o.x,C),Ei(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ot(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vu(this.relativeTarget,this.relativeTargetOrigin,h,C),N&&Zd(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Z()),ce(N,this.relativeTarget)),m&&(this.animationValues=u,eu(u,d,this.latestValues,C,k,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Se(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$.update(()=>{Vt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ke(0)),this.motionValue.jump(0,!1),this.currentAnimation=nu(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Do(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Z();const f=ne(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=ne(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ce(l,c),He(l,u),st(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new au),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&as("z",o,d,this.animationValues);for(let u=0;u<os.length;u++)as(`rotate${os[u]}`,o,d,this.animationValues),as(`skew${os[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Et(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Et(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Me(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=Jd(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:h,y:p}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Os){if(u[x]===void 0)continue;const{correct:m,applyTo:b,isCSSVariable:v}=Os[x],k=f==="none"?u[x]:m(u[x],d);if(b){const N=b.length;for(let E=0;E<N;E++)o[b[E]]=k}else v?this.options.visualElement.renderState.vars[x]=k:o[x]=k}this.options.layoutId&&(o.pointerEvents=d===this?Et(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ki),this.root.sharedNodes.clear()}}}function du(e){e.updateLayout()}function uu(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?pe(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=ne(h);h.min=n[f].min,h.max=h.min+p}):Do(a,t.layoutBox,n)&&pe(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=ne(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Ue();st(l,n,t.layoutBox);const c=Ue();o?st(c,e.applyTransform(i,!0),t.measuredBox):st(c,n,t.layoutBox);const d=!Po(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const x=Z();Ot(x,t.layoutBox,h.layoutBox);const m=Z();Ot(m,n,p.layoutBox),ko(x,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function hu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mu(e){e.clearSnapshot()}function ki(e){e.clearMeasurements()}function Ai(e){e.isLayoutDirty=!1}function pu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gu(e){e.resolveTargetDelta()}function xu(e){e.calcProjection()}function yu(e){e.resetSkewAndRotation()}function bu(e){e.removeLeadSnapshot()}function Ei(e,t,s){e.translate=H(t.translate,0,s),e.scale=H(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Vi(e,t,s,n){e.min=H(t.min,s.min,n),e.max=H(t.max,s.max,n)}function vu(e,t,s,n){Vi(e.x,t.x,s.x,n),Vi(e.y,t.y,s.y,n)}function wu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ju={duration:.45,ease:[.4,0,.1,1]},Di=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Fi=Di("applewebkit/")&&!Di("chrome/")?Math.round:le;function Ri(e){e.min=Fi(e.min),e.max=Fi(e.max)}function Tu(e){Ri(e.x),Ri(e.y)}function Do(e,t,s){return e==="position"||e==="preserve-aspect"&&!Kd(Ti(t),Ti(s),.2)}function Su(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Cu=Vo({attachResizeListener:(e,t)=>lt(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),ls={current:void 0},Fo=Vo({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ls.current){const e=new Cu({});e.mount(window),e.setOptions({layoutScroll:!0}),ls.current=e}return ls.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yn=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Li(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nu(...e){return t=>{let s=!1;const n=e.map(i=>{const a=Li(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Li(e[i],null)}}}}function Pu(...e){return y.useCallback(Nu(...e),e)}class ku extends y.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=s.offsetParent,i=Rs(n)&&n.offsetWidth||0,a=Rs(n)&&n.offsetHeight||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=i-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Au({children:e,isPresent:t,anchorX:s,anchorY:n,root:i,pop:a}){var h;const o=y.useId(),l=y.useRef(null),c=y.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=y.useContext(yn),u=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),f=Pu(l,u);return y.useInsertionEffect(()=>{const{width:p,height:x,top:m,left:b,right:v,bottom:k}=c.current;if(t||a===!1||!l.current||!p||!x)return;const N=s==="left"?`left: ${b}`:`right: ${v}`,E=n==="bottom"?`bottom: ${k}`:`top: ${m}`;l.current.dataset.motionPopId=o;const C=document.createElement("style");d&&(C.nonce=d);const j=i??document.head;return j.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${x}px !important;
            ${N}px !important;
            ${E}px !important;
          }
        `),()=>{j.contains(C)&&j.removeChild(C)}},[t]),r.jsx(ku,{isPresent:t,childRef:l,sizeRef:c,pop:a,children:a===!1?e:y.cloneElement(e,{ref:f})})}const Mu=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,anchorY:c,root:d})=>{const u=Ws(Eu),f=y.useId();let h=!0,p=y.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:s,custom:i,onExitComplete:x=>{u.set(x,!0);for(const m of u.values())if(!m)return;n&&n()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[s,u,n]);return a&&h&&(p={...p}),y.useMemo(()=>{u.forEach((x,m)=>u.set(m,!1))},[s]),y.useEffect(()=>{!s&&!u.size&&n&&n()},[s]),e=r.jsx(Au,{pop:o==="popLayout",isPresent:s,anchorX:l,anchorY:c,root:d,children:e}),r.jsx(Ut.Provider,{value:p,children:e})};function Eu(){return new Map}function Ro(e=!0){const t=y.useContext(Ut);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,a=y.useId();y.useEffect(()=>{if(e)return i(a)},[e]);const o=y.useCallback(()=>e&&n&&n(a),[a,n,e]);return!s&&n?[!1,o]:[!0]}const jt=e=>e.key||"";function Ii(e){const t=[];return y.Children.forEach(e,s=>{y.isValidElement(s)&&t.push(s)}),t}const Ee=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[u,f]=Ro(o),h=y.useMemo(()=>Ii(e),[e]),p=o&&!u?[]:h.map(jt),x=y.useRef(!0),m=y.useRef(h),b=Ws(()=>new Map),v=y.useRef(new Set),[k,N]=y.useState(h),[E,C]=y.useState(h);lr(()=>{x.current=!1,m.current=h;for(let P=0;P<E.length;P++){const V=jt(E[P]);p.includes(V)?(b.delete(V),v.current.delete(V)):b.get(V)!==!0&&b.set(V,!1)}},[E,p.length,p.join("-")]);const j=[];if(h!==k){let P=[...h];for(let V=0;V<E.length;V++){const D=E[V],K=jt(D);p.includes(K)||(P.splice(V,0,D),j.push(D))}return a==="wait"&&j.length&&(P=j),C(Ii(P)),N(h),null}const{forceRender:S}=y.useContext(Hs);return r.jsx(r.Fragment,{children:E.map(P=>{const V=jt(P),D=o&&!u?!1:h===E||p.includes(V),K=()=>{if(v.current.has(V))return;if(v.current.add(V),b.has(V))b.set(V,!0);else return;let Pe=!0;b.forEach(Ie=>{Ie||(Pe=!1)}),Pe&&(S==null||S(),C(m.current),o&&(f==null||f()),n&&n())};return r.jsx(Mu,{isPresent:D,initial:!x.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:D?void 0:K,anchorX:l,anchorY:c,children:P},V)})})},Lo=y.createContext({strict:!1}),Bi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Oi=!1;function Vu(){if(Oi)return;const e={};for(const t in Bi)e[t]={isEnabled:s=>Bi[t].some(n=>!!s[n])};uo(e),Oi=!0}function Io(){return Vu(),yd()}function Du(e){const t=Io();for(const s in e)t[s]={...t[s],...e[s]};uo(t)}const Fu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function $t(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Fu.has(e)}let Bo=e=>!$t(e);function Ru(e){typeof e=="function"&&(Bo=t=>t.startsWith("on")?!$t(t):e(t))}try{Ru(require("@emotion/is-prop-valid").default)}catch{}function Lu(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(Bo(i)||s===!0&&$t(i)||!t&&!$t(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Wt=y.createContext({});function Iu(e,t){if(Ht(e)){const{initial:s,animate:n}=e;return{initial:s===!1||at(s)?s:void 0,animate:at(n)?n:void 0}}return e.inherit!==!1?t:{}}function Bu(e){const{initial:t,animate:s}=Iu(e,y.useContext(Wt));return y.useMemo(()=>({initial:t,animate:s}),[$i(t),$i(s)])}function $i(e){return Array.isArray(e)?e.join(" "):e}const bn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Oo(e,t,s){for(const n in t)!ee(t[n])&&!yo(n,s)&&(e[n]=t[n])}function Ou({transformTemplate:e},t){return y.useMemo(()=>{const s=bn();return gn(s,t,e),Object.assign({},s.vars,s.style)},[t])}function $u(e,t){const s=e.style||{},n={};return Oo(n,s,e),Object.assign(n,Ou(e,t)),n}function Uu(e,t){const s={},n=$u(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const $o=()=>({...bn(),attrs:{}});function zu(e,t,s,n){const i=y.useMemo(()=>{const a=$o();return bo(a,t,wo(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Oo(a,e.style,e),i.style={...a,...i.style}}return i}const Hu=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vn(e){return typeof e!="string"||e.includes("-")?!1:!!(Hu.indexOf(e)>-1||/[A-Z]/u.test(e))}function Wu(e,t,s,{latestValues:n},i,a=!1,o){const c=(o??vn(e)?zu:Uu)(t,n,i,e),d=Lu(t,typeof e=="string",a),u=e!==y.Fragment?{...d,...c,ref:s}:{},{children:f}=t,h=y.useMemo(()=>ee(f)?f.get():f,[f]);return y.createElement(e,{...u,children:h})}function _u({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,i){return{latestValues:Ku(s,n,i,e),renderState:t()}}function Ku(e,t,s,n){const i={},a=n(e,{});for(const h in a)i[h]=Et(a[h]);let{initial:o,animate:l}=e;const c=Ht(e),d=lo(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!zt(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const x=ln(e,h[p]);if(x){const{transitionEnd:m,transition:b,...v}=x;for(const k in v){let N=v[k];if(Array.isArray(N)){const E=u?N.length-1:0;N=N[E]}N!==null&&(i[k]=N)}for(const k in m)i[k]=m[k]}}}return i}const Uo=e=>(t,s)=>{const n=y.useContext(Wt),i=y.useContext(Ut),a=()=>_u(e,t,n,i);return s?a():Ws(a)},Gu=Uo({scrapeMotionValuesFromProps:xn,createRenderState:bn}),Xu=Uo({scrapeMotionValuesFromProps:jo,createRenderState:$o}),qu=Symbol.for("motionComponentSymbol");function Yu(e,t,s){const n=y.useRef(s);y.useInsertionEffect(()=>{n.current=s});const i=y.useRef(null);return y.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=n.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const zo=y.createContext({});function Be(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Zu(e,t,s,n,i,a){var N,E;const{visualElement:o}=y.useContext(Wt),l=y.useContext(Lo),c=y.useContext(Ut),d=y.useContext(yn),u=d.reducedMotion,f=d.skipAnimations,h=y.useRef(null),p=y.useRef(!1);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,skipAnimations:f,isSVG:a}),p.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const x=h.current,m=y.useContext(zo);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&Ju(h.current,s,i,m);const b=y.useRef(!1);y.useInsertionEffect(()=>{x&&b.current&&x.update(s,c)});const v=s[qr],k=y.useRef(!!v&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,v))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,v)));return lr(()=>{p.current=!0,x&&(b.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),k.current&&x.animationState&&x.animationState.animateChanges())}),y.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,v)}),k.current=!1),x.enteringChildren=void 0)}),x}function Ju(e,t,s,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Ho(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Be(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function Ho(e){if(e)return e.options.allowProjection!==!1?e.projection:Ho(e.parent)}function cs(e,{forwardMotionProps:t=!1,type:s}={},n,i){n&&Du(n);const a=s?s==="svg":vn(e),o=a?Xu:Gu;function l(d,u){let f;const h={...y.useContext(yn),...d,layoutId:Qu(d)},{isStatic:p}=h,x=Bu(d),m=o(d,p);if(!p&&ar){eh();const b=th(h);f=b.MeasureLayout,x.visualElement=Zu(e,m,h,i,b.ProjectionNode,a)}return r.jsxs(Wt.Provider,{value:x,children:[f&&x.visualElement?r.jsx(f,{visualElement:x.visualElement,...h}):null,Wu(e,d,Yu(m,x.visualElement,u),m,p,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=y.forwardRef(l);return c[qu]=e,c}function Qu({layoutId:e}){const t=y.useContext(Hs).id;return t&&e!==void 0?t+"-"+e:e}function eh(e,t){y.useContext(Lo).strict}function th(e){const t=Io(),{drag:s,layout:n}=t;if(!s&&!n)return{};const i={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function sh(e,t){if(typeof Proxy>"u")return cs;const s=new Map,n=(a,o)=>cs(a,o,e,t),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(s.has(o)||s.set(o,cs(o,void 0,e,t)),s.get(o))})}const nh=(e,t)=>t.isSVG??vn(e)?new Rd(t):new Ad(t,{allowProjection:e!==y.Fragment});class ih extends Ne{constructor(t){super(t),t.animationState||(t.animationState=$d(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let rh=0;class oh extends Ne{constructor(){super(...arguments),this.id=rh++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ah={animation:{Feature:ih},exit:{Feature:oh}};function ht(e){return{point:{x:e.pageX,y:e.pageY}}}const lh=e=>t=>hn(t)&&e(t,ht(t));function nt(e,t,s,n){return lt(e,t,lh(s),n)}const Wo=({current:e})=>e?e.ownerDocument.defaultView:null,Ui=(e,t)=>Math.abs(e-t);function ch(e,t){const s=Ui(e.x,t.x),n=Ui(e.y,t.y);return Math.sqrt(s**2+n**2)}const zi=new Set(["auto","scroll"]);class _o{constructor(t,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=us(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,m=ch(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!m)return;const{point:b}=p,{timestamp:v}=J;this.history.push({...b,timestamp:v});const{onStart:k,onMove:N}=this.handlers;x||(k&&k(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ds(x,this.transformPagePoint),$.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=us(p.type==="pointercancel"?this.lastMoveEventInfo:ds(x,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,k),b&&b(p,k)},!hn(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const c=ht(t),d=ds(c,this.transformPagePoint),{point:u}=d,{timestamp:f}=J;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=s;h&&h(t,us(d,this.history)),this.removeListeners=ct(nt(this.contextWindow,"pointermove",this.handlePointerMove),nt(this.contextWindow,"pointerup",this.handlePointerUp),nt(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let s=t.parentElement;for(;s;){const n=getComputedStyle(s);(zi.has(n.overflowX)||zi.has(n.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-s.x,y:i.y-s.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),$.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Se(this.updatePoint)}}function ds(e,t){return t?{point:t(e.point)}:e}function Hi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function us({point:e},t){return{point:e,delta:Hi(e,Ko(t)),offset:Hi(e,dh(t)),velocity:uh(t,.1)}}function dh(e){return e[0]}function Ko(e){return e[e.length-1]}function uh(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=Ko(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>he(t)));)s--;if(!n)return{x:0,y:0};n===e[0]&&e.length>2&&i.timestamp-n.timestamp>he(t)*2&&(n=e[1]);const a=ae(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hh(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?H(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?H(s,e,n.max):Math.min(e,s)),e}function Wi(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function fh(e,{top:t,left:s,bottom:n,right:i}){return{x:Wi(e.x,s,i),y:Wi(e.y,t,n)}}function _i(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function mh(e,t){return{x:_i(e.x,t.x),y:_i(e.y,t.y)}}function ph(e,t){let s=.5;const n=ne(e),i=ne(t);return i>n?s=it(t.min,t.max-n,e.min):n>i&&(s=it(e.min,e.max-i,t.min)),ye(0,1,s)}function gh(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const $s=.35;function xh(e=$s){return e===!1?e=0:e===!0&&(e=$s),{x:Ki(e,"left","right"),y:Ki(e,"top","bottom")}}function Ki(e,t,s){return{min:Gi(e,t),max:Gi(e,s)}}function Gi(e,t){return typeof e=="number"?e:e[t]||0}const yh=new WeakMap;class bh{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Z(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{s&&this.snapToCursor(ht(f).point),this.stopAnimation()},o=(f,h)=>{const{drag:p,dragPropagation:x,onDragStart:m}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xc(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pe(v=>{let k=this.getAxisMotionValue(v).get()||0;if(xe.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const E=N.layout.layoutBox[v];E&&(k=ne(E)*(parseFloat(k)/100))}}this.originPoint[v]=k}),m&&$.update(()=>m(f,h),!1,!0),Es(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:m,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(x&&this.currentDirection===null){this.currentDirection=wh(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),b&&$.update(()=>b(f,h),!1,!0)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:f}=this.getProps();(f||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new _o(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Wo(this.visualElement),element:this.visualElement.current})}stop(t,s){const n=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&$.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!Tt(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=hh(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Be(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=fh(n.layoutBox,t):this.constraints=!1,this.elastic=xh(s),i!==this.constraints&&!Be(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&pe(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gh(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Be(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Td(n,i.root,this.visualElement.getTransformPagePoint());let o=mh(i.layout.layoutBox,a);if(s){const l=s(vd(o));this.hasMutatedConstraints=!!l,l&&(o=fo(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=pe(u=>{if(!Tt(u,s,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Es(this.visualElement,t),n.start(an(t,n,0,s,this.visualElement,!1))}stopAnimation(){pe(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){pe(s=>{const{drag:n}=this.getProps();if(!Tt(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s],c=a.get()||0;a.set(t[s]-H(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Be(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pe(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=ph({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),pe(o=>{if(!Tt(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(H(c,d,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;yh.set(this.visualElement,this);const t=this.visualElement.current,s=nt(t,"pointerdown",d=>{const{drag:u,dragListener:f=!0}=this.getProps(),h=d.target,p=h!==t&&ed(h);u&&f&&!p&&this.start(d)});let n;const i=()=>{const{dragConstraints:d}=this.getProps();Be(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),n||(n=vh(t,d.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),$.read(i);const l=lt(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:u})=>{this.isDragging&&u&&(pe(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=d[f].translate,h.set(h.get()+d[f].translate))}),this.visualElement.render())}));return()=>{l(),s(),o(),c&&c(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=$s,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Xi(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function vh(e,t,s){const n=ti(e,Xi(s)),i=ti(t,Xi(s));return()=>{n(),i()}}function Tt(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function wh(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class jh extends Ne{constructor(t){super(t),this.removeGroupControls=le,this.removeListeners=le,this.controls=new bh(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||le}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const hs=e=>(t,s)=>{e&&$.update(()=>e(t,s),!1,!0)};class Th extends Ne{constructor(){super(...arguments),this.removePointerDownListener=le}onPointerDown(t){this.session=new _o(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Wo(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:hs(t),onStart:hs(s),onMove:hs(n),onEnd:(a,o)=>{delete this.session,i&&$.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=nt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let fs=!1;class Sh extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),fs&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Vt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,t.layoutDependency!==s&&o.setOptions({...o.options,layoutDependency:s}),fs=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||$.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),un.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;fs=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Go(e){const[t,s]=Ro(),n=y.useContext(Hs);return r.jsx(Sh,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(zo),isPresent:t,safeToRemove:s})}const Ch={pan:{Feature:Th},drag:{Feature:jh,ProjectionNode:Fo,MeasureLayout:Go}};function qi(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=n[i];a&&$.postRender(()=>a(t,ht(t)))}class Nh extends Ne{mount(){const{current:t}=this.node;t&&(this.unmount=Yc(t,(s,n)=>(qi(this.node,n,"Start"),i=>qi(this.node,i,"End"))))}unmount(){}}class Ph extends Ne{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ct(lt(this.node.current,"focus",()=>this.onFocus()),lt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yi(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=n[i];a&&$.postRender(()=>a(t,ht(t)))}class kh extends Ne{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:s,propagate:n}=this.node.props;this.unmount=sd(t,(i,a)=>(Yi(this.node,a,"Start"),(o,{success:l})=>Yi(this.node,o,l?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const Us=new WeakMap,ms=new WeakMap,Ah=e=>{const t=Us.get(e.target);t&&t(e)},Mh=e=>{e.forEach(Ah)};function Eh({root:e,...t}){const s=e||document;ms.has(s)||ms.set(s,{});const n=ms.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Mh,{root:e,...t})),n[i]}function Vh(e,t,s){const n=Eh(t);return Us.set(e,s),n.observe(e),()=>{Us.delete(e),n.unobserve(e)}}const Dh={some:0,all:1};class Fh extends Ne{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Dh[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=d?u:f;h&&h(c)};return Vh(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Rh(t,s))&&this.startObserver()}unmount(){}}function Rh({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Lh={inView:{Feature:Fh},tap:{Feature:kh},focus:{Feature:Ph},hover:{Feature:Nh}},Ih={layout:{ProjectionNode:Fo,MeasureLayout:Go}},Bh={...ah,...Lh,...Ch,...Ih},Y=sh(Bh,nh),Zi={covered:{label:"Cubiertos",icon:ge,color:"text-green-700",bg:"bg-green-50 border-green-200"},hubs:{label:"Hubs / Placeholders",icon:nr,color:"text-blue-700",bg:"bg-blue-50 border-blue-200"},missing:{label:"Sin vista",icon:zs,color:"text-red-700",bg:"bg-red-50 border-red-200"}};function Oh({modules:e,onClose:t}){const[s,n]=y.useState("missing"),[i,a]=y.useState(new Set),[o,l]=y.useState(0),[c,d]=y.useState(!1),u=m=>a(b=>{const v=new Set(b);return v.has(m)?v.delete(m):v.add(m),v}),f=()=>{d(!0),l(m=>m+1),setTimeout(()=>d(!1),600)},h=y.useMemo(()=>{const m=new Set(e.map(j=>j.id)),b=new Map;for(const j of Re)if(j.isReal)for(const S of j.checklistIds){const P=b.get(S)??[];b.set(S,[...P,j])}const v=[];for(const[j,S]of b.entries()){if(!m.has(j))continue;const P=e.find(V=>V.id===j);v.push({id:j,name:P.name,hours:P.estimatedHours??0,entries:S})}v.sort((j,S)=>j.name.localeCompare(S.name));const k=Re.filter(j=>j.isReal&&j.checklistIds.length===0),N=Re.filter(j=>!j.isReal),E=e.filter(j=>!b.has(j.id)).map(j=>({id:j.id,name:j.name,hours:j.estimatedHours??0,category:j.category})).sort((j,S)=>j.name.localeCompare(S.name));return{covered:v,realNoIds:k,hubs:N,missing:E,orphan:[]}},[e,o]),p={covered:h.covered.length,hubs:h.hubs.length,missing:h.missing.length},x=h.missing.reduce((m,b)=>m+b.hours,0);return r.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.55)",backdropFilter:"blur(4px)"},onClick:m=>{m.target===m.currentTarget&&t()},children:r.jsxs(Y.div,{initial:{scale:.94,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.94,y:20,opacity:0},transition:{type:"spring",stiffness:320,damping:30},className:"bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden",style:{width:"780px",maxWidth:"95vw",maxHeight:"88vh"},children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #FF6835 0%, #e5532a 100%)",padding:"20px 24px"},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:f,title:"Recalcular auditora",className:"w-9 h-9 rounded-xl bg-white/20 hover:bg-white/35 active:scale-95 flex items-center justify-center transition-all cursor-pointer",children:r.jsx(Nt,{size:18,className:`text-white transition-transform duration-500 ${c?"animate-spin":""}`})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-white font-bold text-lg leading-none",children:"Auditora de Mdulos"}),r.jsxs("p",{className:"text-white/75 text-xs mt-0.5",children:["Compara ",r.jsx("code",{className:"bg-white/20 px-1 rounded text-white",children:"moduleManifest.ts"})," vs"," ",r.jsx("code",{className:"bg-white/20 px-1 rounded text-white",children:"MODULES_DATA"}),"  auto-actualizado en cada render"]})]})]}),r.jsx("button",{onClick:t,className:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/35 flex items-center justify-center transition-colors",children:r.jsx(sr,{size:16,className:"text-white"})})]}),r.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:[{label:"Cubiertos",value:h.covered.length,color:"#22c55e"},{label:"Hubs",value:h.hubs.length,color:"#60a5fa"},{label:"Sin vista",value:h.missing.length,color:"#f87171"},{label:`${x}h pendientes`,value:null,color:"rgba(255,255,255,0.5)"}].map(m=>r.jsxs("span",{className:"text-xs font-semibold px-3 py-1 rounded-full",style:{backgroundColor:"rgba(255,255,255,0.18)",color:"white",border:`1px solid ${m.color}55`},children:[m.value!==null&&r.jsx("span",{style:{color:m.color},className:"font-bold mr-1",children:m.value}),m.label]},m.label))})]}),r.jsx("div",{className:"flex border-b border-gray-200 bg-gray-50 px-4 pt-3 gap-1",children:Object.keys(Zi).map(m=>{const b=Zi[m],v=b.icon,k=s===m;return r.jsxs("button",{onClick:()=>n(m),className:`flex items-center gap-1.5 px-3 py-2 rounded-t-lg text-sm font-medium transition-all border-b-2 ${k?"bg-white border-[#FF6835] text-[#FF6835]":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-white/60"}`,children:[r.jsx(v,{size:14}),b.label,r.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded-full ml-0.5 ${k?"bg-[#FF6835] text-white":"bg-gray-200 text-gray-600"}`,children:p[m]})]},m)})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:r.jsx(Ee,{mode:"wait",children:r.jsxs(Y.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},children:[s==="covered"&&r.jsxs("div",{className:"space-y-1.5",children:[h.covered.length===0&&r.jsx(Ji,{label:"Ningn mdulo cubierto an."}),h.covered.map(m=>{var b;return r.jsxs("div",{className:"border border-green-200 rounded-xl overflow-hidden",children:[r.jsxs("button",{onClick:()=>u(m.id),className:"w-full flex items-center gap-3 px-4 py-3 bg-green-50 hover:bg-green-100 transition-colors text-left",children:[r.jsx(ge,{size:16,className:"text-green-600 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:m.name}),r.jsxs("code",{className:"ml-2 text-xs text-gray-400",children:["#",m.id]})]}),r.jsxs("span",{className:"text-xs text-gray-400 shrink-0",children:[m.hours,"h"]}),i.has(m.id)?r.jsx(ps,{size:14,className:"text-gray-400"}):r.jsx(gs,{size:14,className:"text-gray-400"})]}),i.has(m.id)&&r.jsxs("div",{className:"px-4 py-2 bg-white border-t border-green-100 space-y-1",children:[m.entries.map(v=>r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[r.jsx($a,{size:12,className:"text-green-500"}),r.jsx("code",{className:"text-green-700 font-mono",children:v.viewFile}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{className:"text-gray-500",children:["seccin: ",r.jsx("code",{children:v.section})]}),v.hasSupabase&&r.jsxs("span",{className:"flex items-center gap-0.5 text-blue-600",children:[r.jsx(er,{size:10})," Supabase"]})]},v.section)),((b=m.entries[0])==null?void 0:b.notes)&&r.jsx("p",{className:"text-xs text-gray-400 italic mt-1",children:m.entries[0].notes})]})]},m.id)})]}),s==="hubs"&&r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-xl mb-3 text-sm text-blue-700",children:[r.jsx(ca,{size:15,className:"mt-0.5 shrink-0"}),r.jsxs("span",{children:["Estos hubs son secciones de navegacin. ",r.jsx("strong",{children:"No cuentan como completados"})," en el checklist  son el cascarn que contiene a los mdulos reales."]})]}),h.hubs.map(m=>r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-blue-50 border border-blue-100 rounded-xl",children:[r.jsx(nr,{size:15,className:"text-blue-400 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("code",{className:"text-xs text-blue-600 font-mono",children:m.viewFile}),r.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["seccin: ",r.jsx("code",{children:m.section})]})]}),m.notes&&r.jsx("span",{className:"text-xs text-gray-400 italic truncate max-w-[220px]",children:m.notes})]},m.section))]}),s==="missing"&&r.jsxs("div",{className:"space-y-1.5",children:[h.missing.length===0&&r.jsx(Ji,{label:"Todos los mdulos del checklist tienen vista asignada!",icon:""}),h.missing.length>0&&r.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-xl mb-3 text-sm text-red-700",children:[r.jsx(da,{size:15,className:"mt-0.5 shrink-0"}),r.jsxs("span",{children:["Estos ",r.jsxs("strong",{children:[h.missing.length," mdulos"]})," existen en el checklist pero no tienen ninguna vista real en ",r.jsx("code",{className:"bg-red-100 px-1 rounded",children:"moduleManifest.ts"}),". Son el backlog real pendiente de construir (",x,"h estimadas)."]})]}),h.missing.map(m=>r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-red-50 border border-red-100 rounded-xl",children:[r.jsx(zs,{size:15,className:"text-red-400 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:m.name}),r.jsxs("code",{className:"ml-2 text-xs text-gray-400",children:["#",m.id]})]}),r.jsx("span",{className:"text-xs text-gray-400 shrink-0",children:m.category}),r.jsxs("span",{className:"text-xs font-semibold text-red-600 shrink-0",children:[m.hours,"h"]})]},m.id))]})]},s)})}),r.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 px-5 py-3 flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Para agregar un mdulo: edit ",r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"moduleManifest.ts"}),"  el checklist se actualiza solo."]}),r.jsx("button",{onClick:t,className:"px-4 py-1.5 rounded-lg text-sm font-medium bg-gray-200 hover:bg-gray-300 text-gray-700 transition-colors",children:"Cerrar"})]})]})})}function Ji({label:e,icon:t=""}){return r.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-gray-400",children:[r.jsx("span",{className:"text-3xl",children:t}),r.jsx("p",{className:"text-sm",children:e})]})}const Qi=[{id:"definicion",label:"Definicin",icon:ua,color:"#2563EB",bg:"#EFF6FF",desc:"Documento de especificacin funcional, wireframes, requerimientos"},{id:"variables",label:"Variables",icon:ha,color:"#7C3AED",bg:"#F5F3FF",desc:"Variables de entorno, configuracin, constantes y parmetros"},{id:"otros",label:"Otros",icon:fa,color:"#D97706",bg:"#FFFBEB",desc:"Referencias, mockups, recursos adicionales"}];function $h(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function Uh(e){try{return new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"})}catch{return e}}function zh({moduleId:e,moduleName:t}){const[s,n]=y.useState("definicion"),[i,a]=y.useState([]),[o,l]=y.useState(!0),[c,d]=y.useState(!1),[u,f]=y.useState(!1),[h,p]=y.useState(null),x=y.useRef(null),m=`https://${Ct}.supabase.co/functions/v1/api`,b=y.useCallback(async()=>{if(!m){l(!1);return}try{l(!0);const S=await fetch(`${m}/roadmap/files/${e}`,{headers:{Authorization:`Bearer ${Yt}`}});if(!S.ok)throw new Error(await S.text());const{files:P}=await S.json();a(P??[])}catch(S){console.error("[ModuleFilesPanel] loadFiles:",S),G.error("No se pudieron cargar los archivos")}finally{l(!1)}},[m,e]);y.useEffect(()=>{b()},[b]);const v=async S=>{if(!m){G.error("Servidor no disponible");return}if(S.size>20*1024*1024){G.error("El archivo no puede superar 20 MB");return}d(!0);try{const P=new FormData;P.append("file",S),P.append("moduleId",e),P.append("fileType",s);const V=await fetch(`${m}/roadmap/files/upload`,{method:"POST",headers:{Authorization:`Bearer ${Yt}`},body:P});if(!V.ok)throw new Error(await V.text());G.success(` "${S.name}" subido correctamente`),await b()}catch(P){console.error("[ModuleFilesPanel] uploadFile:",P),G.error(`Error subiendo archivo: ${P}`)}finally{d(!1)}},k=async(S,P)=>{if(m){p(S);try{const V=await fetch(`${m}/roadmap/files/${e}/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${Yt}`}});if(!V.ok)throw new Error(await V.text());G.success(`"${P}" eliminado`),a(D=>D.filter(K=>K.id!==S))}catch(V){console.error("[ModuleFilesPanel] deleteFile:",V),G.error(`Error eliminando archivo: ${V}`)}finally{p(null)}}},N=S=>{S.preventDefault(),f(!1);const P=S.dataTransfer.files[0];P&&v(P)},E=i.filter(S=>S.type===s),C=Qi.find(S=>S.id===s),j=C.icon;return r.jsxs("div",{style:{borderTop:"1px dashed #E5E7EB",backgroundColor:"#FAFAFA",padding:"16px 20px 16px 64px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[r.jsx(za,{size:14,color:"#6B7280"}),r.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:"#374151"},children:["Archivos adjuntos  ",t]}),i.length>0&&r.jsxs("span",{style:{fontSize:"10px",fontWeight:700,padding:"2px 7px",borderRadius:"20px",backgroundColor:"#F3F4F6",color:"#6B7280",border:"1px solid #E5E7EB"},children:[i.length," archivo",i.length>1?"s":""]})]}),r.jsx("div",{style:{display:"flex",gap:"0",marginBottom:"14px",borderBottom:"1px solid #E5E7EB"},children:Qi.map(S=>{const P=i.filter(K=>K.type===S.id).length,V=s===S.id,D=S.icon;return r.jsxs("button",{onClick:()=>n(S.id),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"12px",fontWeight:V?700:500,color:V?S.color:"#6B7280",borderBottom:V?`2px solid ${S.color}`:"2px solid transparent",whiteSpace:"nowrap",transition:"all 0.15s"},children:[r.jsx(D,{size:13}),S.label,P>0&&r.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"1px 6px",borderRadius:"20px",backgroundColor:V?S.color:"#E5E7EB",color:V?"#fff":"#6B7280",minWidth:"18px",textAlign:"center"},children:P})]},S.id)})}),r.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[r.jsxs("div",{onDragOver:S=>{S.preventDefault(),f(!0)},onDragLeave:()=>f(!1),onDrop:N,onClick:()=>{var S;return!c&&((S=x.current)==null?void 0:S.click())},style:{width:"220px",flexShrink:0,border:`2px dashed ${u?C.color:"#D1D5DB"}`,borderRadius:"12px",backgroundColor:u?C.bg:"#FFFFFF",padding:"20px 14px",textAlign:"center",cursor:c?"wait":"pointer",transition:"all 0.15s"},children:[r.jsx("input",{ref:x,type:"file",style:{display:"none"},onChange:S=>{var P;return((P=S.target.files)==null?void 0:P[0])&&v(S.target.files[0])}}),r.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:C.bg,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px"},children:c?r.jsx(Ve,{size:18,color:C.color,style:{animation:"spin 1s linear infinite"}}):r.jsx(ma,{size:18,color:C.color})}),r.jsx("p",{style:{margin:"0 0 4px",fontSize:"12px",fontWeight:700,color:"#374151"},children:c?"Subiendo...":"Subir archivo"}),r.jsx("p",{style:{margin:0,fontSize:"10px",color:"#9CA3AF"},children:C.desc}),r.jsx("p",{style:{margin:"8px 0 0",fontSize:"10px",color:"#D1D5DB"},children:"Mx. 20 MB"})]}),r.jsx("div",{style:{flex:1,minWidth:0},children:o?r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#9CA3AF",padding:"20px 0"},children:[r.jsx(Ve,{size:14,style:{animation:"spin 1s linear infinite"}}),r.jsx("span",{style:{fontSize:"12px"},children:"Cargando archivos..."})]}):E.length===0?r.jsxs("div",{style:{padding:"24px 16px",borderRadius:"10px",border:"1px dashed #E5E7EB",backgroundColor:"#FFFFFF",textAlign:"center"},children:[r.jsx(j,{size:22,color:"#D1D5DB",style:{margin:"0 auto 8px",display:"block"}}),r.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#9CA3AF"},children:["Sin archivos de ",r.jsx("strong",{children:C.label})," todava"]})]}):r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:E.map(S=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"#FFFFFF",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:C.bg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.jsx(j,{size:14,color:C.color})}),r.jsxs("div",{style:{flex:1,minWidth:0},children:[r.jsx("p",{style:{margin:0,fontSize:"12px",fontWeight:600,color:"#111827",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.name}),r.jsxs("p",{style:{margin:"2px 0 0",fontSize:"10px",color:"#9CA3AF"},children:[$h(S.size),"  ",Uh(S.uploadedAt)]})]}),r.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[S.url&&r.jsx("a",{href:S.url,target:"_blank",rel:"noreferrer",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",textDecoration:"none"},title:"Descargar",children:r.jsx(pa,{size:12,color:"#6B7280"})}),r.jsx("button",{onClick:()=>k(S.id,S.name),disabled:h===S.id,style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",border:"1px solid #FEE2E2",backgroundColor:"#FFF5F5",cursor:"pointer"},title:"Eliminar",children:h===S.id?r.jsx(Ve,{size:12,color:"#EF4444",style:{animation:"spin 1s linear infinite"}}):r.jsx(ga,{size:12,color:"#EF4444"})})]})]},S.id))})})]}),r.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}Re.map(e=>e.section);Re.filter(e=>e.isReal&&e.checklistIds.length>0).reduce((e,t)=>{const s=e[t.section]??[],n=Array.from(new Set([...s,...t.checklistIds]));return{...e,[t.section]:n}},{});const Xo=new Set(Re.filter(e=>e.isReal).flatMap(e=>e.checklistIds)),qo=new Set(Re.filter(e=>e.isReal&&e.hasSupabase===!0).flatMap(e=>e.checklistIds)),de={ecommerce:{label:"eCommerce / Pedidos",color:"bg-orange-500",icon:""},logistics:{label:"Logstica",color:"bg-green-600",icon:"??"},marketing:{label:"Marketing",color:"bg-pink-500",icon:""},rrss:{label:"Redes Sociales",color:"bg-rose-500",icon:""},tools:{label:"Herramientas",color:"bg-teal-500",icon:""},erp:{label:"ERP + POS",color:"bg-blue-600",icon:""},crm:{label:"CRM",color:"bg-purple-600",icon:""},projects:{label:"Proyectos",color:"bg-indigo-600",icon:""},marketplace:{label:"Marketplace",color:"bg-amber-500",icon:""},integrations:{label:"Integraciones",color:"bg-cyan-600",icon:""},audit:{label:"Auditora & Diagnstico",color:"bg-violet-600",icon:""},admin:{label:"Admin / Sistema",color:"bg-slate-600",icon:""},enterprise:{label:"Enterprise",color:"bg-red-600",icon:""},territory:{label:"Territorio",color:"bg-lime-600",icon:""},verification:{label:"Verificacin",color:"bg-yellow-600",icon:"?"},analytics:{label:"Analytics & BI",color:"bg-sky-600",icon:""},builder:{label:"Constructor",color:"bg-fuchsia-600",icon:""}},We={"not-started":{label:"No Iniciado",color:"text-gray-400",icon:or,percent:0},"spec-ready":{label:"Definicin Lista",color:"text-violet-600",icon:xs,percent:15},"progress-10":{label:"En Progreso (10%)",color:"text-red-500",icon:tr,percent:10},"progress-50":{label:"En Progreso (50%)",color:"text-yellow-500",icon:rr,percent:50},"progress-80":{label:"En Progreso (80%)",color:"text-blue-500",icon:ir,percent:80},"ui-only":{label:"UI Lista  Sin Backend",color:"text-blue-500",icon:Je,percent:80},completed:{label:"Completado (con DB)",color:"text-[#FF6835]",icon:ge,percent:100}},Ae={critical:{label:"Crtica",color:"text-red-600 border-red-300 bg-red-50"},high:{label:"Alta",color:"text-orange-600 border-orange-300 bg-orange-50"},medium:{label:"Media",color:"text-yellow-600 border-yellow-300 bg-yellow-50"},low:{label:"Baja",color:"text-gray-500 border-gray-300 bg-gray-50"}};function St(e,t){return e===0?"bg-gray-300":e<30?"bg-red-400":e<60?"bg-yellow-400":t==="ui-only"?"bg-blue-400":e<100?"bg-blue-500":"bg-green-500"}function oe(e){if(!e.submodules||e.submodules.length===0)return We[e.status].percent;const t=e.submodules.reduce((s,n)=>s+(n.estimatedHours||1),0);return Math.round(e.submodules.reduce((s,n)=>s+We[n.status].percent*((n.estimatedHours||1)/t),0))}function Hh(e){var s;if(!Xo.has(e.id))return e;const t=qo.has(e.id)?"completed":"ui-only";return{...e,status:t,submodules:(s=e.submodules)==null?void 0:s.map(n=>({...n,status:t}))}}function Wh({hideHeader:e=!1,onNavigate:t}){const[s,n]=y.useState("list"),[i,a]=y.useState(""),[o,l]=y.useState("all"),[c,d]=y.useState("all"),[u,f]=y.useState("all"),[h,p]=y.useState(new Set),[x,m]=y.useState(new Set),[b,v]=y.useState(new Set),[k,N]=y.useState(new Set),[E,C]=y.useState({}),[j,S]=y.useState([]),[P,V]=y.useState(!1),[D,K]=y.useState([]),[Pe,Ie]=y.useState(!0),[me,Ye]=y.useState(!1),[ve,U]=y.useState(!1),[ie,re]=y.useState(!1),[Q,ft]=y.useState(!1),[wn,jn]=y.useState(!1),[Tn,_t]=y.useState({current:0,total:0}),[mt,Sn]=y.useState(!1),Yo={"ecommerce-pedidos":{endpointUrl:"/api/pedidos",tableName:"pedidos"},"ecommerce-metodos-pago":{endpointUrl:"/api/metodos-pago",tableName:"metodos_pago"},"ecommerce-metodos-envio":{endpointUrl:"/api/metodos-envio",tableName:"metodos_envio"},"crm-contacts":{endpointUrl:"/api/personas",tableName:"personas"},"marketplace-productos":{endpointUrl:"/api/productos/market",tableName:"productos_market"},"marketplace-departamentos":{endpointUrl:"/api/departamentos",tableName:"departamentos"},"marketplace-carrito":{endpointUrl:"/api/carrito",tableName:"carrito"},"logistics-shipping":{endpointUrl:"/api/envios",tableName:"envios"}};y.useEffect(()=>{gt(),pt()},[]),y.useEffect(()=>{P&&pt()},[P]);const pt=async()=>{try{const g=await xa();S(g.filter(T=>T.estado==="pendiente"))}catch(g){console.error("[ChecklistRoadmap] Error cargando ideas:",g)}},Kt=async(g,T,w)=>{try{await ba(g,T,w),await pt(),T==="convertida"&&await gt(),G.success(`Idea ${T==="aprobada"?"aprobada":T==="rechazada"?"rechazada":"convertida a mdulo"}`)}catch{G.error("Error resolviendo idea")}},gt=async()=>{try{Ie(!0);const g=await ya();if(g&&g.length>0){const T=g.map(w=>{var O;const R={id:w.id,name:w.name||w.id,category:w.category||"admin",description:w.description||"",status:w.status,priority:w.priority,execOrder:w.execOrder,estimatedHours:w.estimatedHours,notas:w.notas,submodules:(O=w.submodules)==null?void 0:O.map(z=>({id:z.id,name:z.name,status:z.status,estimatedHours:z.estimatedHours}))};return Hh(R)});K(T)}else K([])}catch{K([])}finally{Ie(!1)}},Cn=async(g,T)=>{const w=D.filter(B=>B.status==="spec-ready"&&B.id!==g).reduce((B,A)=>Math.max(B,A.execOrder??0),0),R=D.find(B=>B.id===g),O=D.map(B=>{var I;if(B.id!==g)return B;const A=(I=B.submodules)==null?void 0:I.map(L=>({...L,status:T==="completed"||T==="not-started"||T==="ui-only"||T==="spec-ready"?T:L.status}));return{...B,status:T,submodules:A,execOrder:T==="spec-ready"?B.execOrder??w+1:void 0}});let z=O;if((R==null?void 0:R.status)==="spec-ready"&&T!=="spec-ready"){const B=O.filter(A=>A.status==="spec-ready").sort((A,I)=>(A.execOrder??0)-(I.execOrder??0));z=O.map(A=>{if(A.status!=="spec-ready")return A;const I=B.findIndex(L=>L.id===A.id);return{...A,execOrder:I+1}})}K(z),U(!0);try{const B=z.find(A=>A.id===g);if(!B)return;await Ta(g,{status:B.status,priority:B.priority,execOrder:B.execOrder,estimatedHours:B.estimatedHours,notas:B.notas}),U(!1)}catch{}},Nn=(g,T)=>{const w=[...D].filter(I=>I.status==="spec-ready").sort((I,L)=>(I.execOrder??0)-(L.execOrder??0)),R=w.findIndex(I=>I.id===g);if(R===-1)return;const O=T==="up"?R-1:R+1;if(O<0||O>=w.length)return;const z=w[R].execOrder??R+1,B=w[O].execOrder??O+1,A=D.map(I=>I.id===w[R].id?{...I,execOrder:B}:I.id===w[O].id?{...I,execOrder:z}:I);K(A),U(!0)},Pn=async()=>{try{Ye(!0),await ja(D.map(g=>({id:g.id,status:g.status,priority:g.priority,execOrder:g.execOrder,estimatedHours:g.estimatedHours,notas:g.notas}))),U(!1),G.success(" Progreso guardado en el servidor")}catch{G.warning(" Cambios guardados localmente")}finally{Ye(!1)}},Gt=async()=>{ft(!0);try{Ct&&(await va().catch(()=>{}),await gt()),U(!1)}catch(g){G.error(`Error en resync: ${g}`)}finally{ft(!1)}},Zo=g=>{p(T=>{const w=new Set(T);return w.has(g)?w.delete(g):w.add(g),w})},Jo=g=>{m(T=>{const w=new Set(T);return w.has(g)?w.delete(g):w.add(g),w})},kn=()=>{mt?(m(new Set),Sn(!1)):(m(new Set(Object.keys(de))),Sn(!0))},Qo=async g=>{if(!E[g])try{const T=await Pa(g);C(w=>({...w,[g]:T}))}catch(T){console.error("[ChecklistRoadmap] Error cargando tasks:",T)}},ea=g=>{N(T=>{const w=new Set(T);return w.has(g)?w.delete(g):(w.add(g),Qo(g)),w})},ta=async(g,T,w)=>{try{const R=await Sa({module_id:g,submodule_id:T,nombre:w,status:"todo"});C(O=>({...O,[g]:[...O[g]||[],R]})),G.success("Task creada")}catch{G.error("Error creando task")}},An=async(g,T,w)=>{try{const R=await Ca(g,w);C(O=>({...O,[T]:(O[T]||[]).map(z=>z.id===g?R:z)})),G.success("Task actualizada")}catch{G.error("Error actualizando task")}},Mn=async(g,T)=>{try{await Na(g),C(w=>({...w,[T]:(w[T]||[]).filter(R=>R.id!==g)})),G.success("Task eliminada")}catch{G.error("Error eliminando task")}},sa=async()=>{jn(!0),_t({current:0,total:D.length});try{const g=D.map(async(T,w)=>{_t({current:w+1,total:D.length});const R=Yo[T.id]||{},O=Xo.has(T.id),z=qo.has(T.id),B=R.endpointUrl?`https://${Ct}.supabase.co/functions/v1${R.endpointUrl}`:void 0;await wa(T.id,{moduleId:T.id,endpointUrl:B,tableName:R.tableName,tiene_view:O,tiene_backend:z})});await Promise.all(g),await gt(),G.success(` Auditora completada  ${D.length} mdulos verificados`)}catch(g){console.error("[ChecklistRoadmap] Error en auditora:",g),G.error(" Error durante la auditora")}finally{jn(!1),_t({current:0,total:0})}},q=y.useMemo(()=>{const g=D.length,T=D.filter(L=>oe(L)===100).length,w=D.filter(L=>L.status==="ui-only").length,R=D.filter(L=>L.status==="spec-ready").length,O=D.filter(L=>oe(L)===0).length,z=D.filter(L=>{const F=oe(L);return F>0&&F<100}).length,B=D.reduce((L,F)=>L+(F.estimatedHours||0),0),A=D.filter(L=>oe(L)===100).reduce((L,F)=>L+(F.estimatedHours||0),0),I=D.reduce((L,F)=>{const te=oe(F),_=(F.estimatedHours||1)/Math.max(B,1);return L+te*_},0);return{total:g,completed:T,uiOnly:w,specReady:R,notStarted:O,inProgress:z,completedPercent:Math.round(T/g*100),progressPercent:Math.round(I),totalHours:B,completedHours:A,remainingHours:B-A}},[D]),Xt=y.useMemo(()=>D.filter(g=>!(i&&!g.name.toLowerCase().includes(i.toLowerCase())&&!g.description.toLowerCase().includes(i.toLowerCase())||o!=="all"&&g.category!==o||c!=="all"&&g.status!==c||u!=="all"&&g.priority!==u)),[D,i,o,c,u]),En=y.useMemo(()=>Object.keys(de).reduce((g,T)=>{const w=Xt.filter(I=>I.category===T);if(w.length===0)return g;const R=w.filter(I=>oe(I)===100).length,O=w.filter(I=>{const L=oe(I);return L>0&&L<100}).length,z=w.reduce((I,L)=>I+(L.estimatedHours||1),0),B=Math.round(w.reduce((I,L)=>{const F=oe(L),te=(L.estimatedHours||1)/z;return I+F*te},0)),A=w.reduce((I,L)=>I+(oe(L)===100?0:L.estimatedHours||0),0);return g.push({cat:T,mods:w,areaStats:{total:w.length,completed:R,inProgress:O,pct:B,hours:A}}),g},[]),[Xt]),na=y.useMemo(()=>i.trim()||o!=="all"||c!=="all"||u!=="all"?new Set(Object.keys(de)):x,[i,o,c,u,x]);return Pe?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ve,{className:"h-12 w-12 animate-spin text-[#FF6835] mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Cargando roadmap..."})]})}):r.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[r.jsx(Ee,{children:ie&&r.jsx(Oh,{modules:D,onClose:()=>re(!1)})}),r.jsx(Ee,{children:P&&r.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>V(!1),children:r.jsxs(Y.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:g=>g.stopPropagation(),className:"bg-card rounded-xl border border-border shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-100 flex items-center justify-center",children:r.jsx(xt,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Ideas Promovidas"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.length," idea",j.length!==1?"s":""," pendiente",j.length!==1?"s":""," de aprobacin"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:pt,className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Recargar ideas",children:r.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})}),r.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:r.jsx(sr,{className:"h-5 w-5 text-muted-foreground"})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:j.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(yt,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),r.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"No hay ideas pendientes"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Las ideas promovidas desde Ideas Board aparecern aqu"})]}):r.jsx("div",{className:"space-y-3",children:j.map(g=>r.jsx(Y.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-background rounded-lg border border-border p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 border border-orange-200",children:g.idea_area||"General"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(g.created_at).toLocaleDateString("es-AR")})]}),r.jsx("p",{className:"text-sm text-foreground mb-2",children:g.idea_texto}),g.notas&&r.jsxs("p",{className:"text-xs text-muted-foreground italic mb-2",children:[" ",g.notas]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>Kt(g.id,"aprobada"),className:"p-2 hover:bg-green-50 rounded-lg transition-colors border border-green-200",title:"Aprobar idea",children:r.jsx(ka,{className:"h-4 w-4 text-green-600"})}),r.jsx("button",{onClick:()=>{const T=prompt("ID del mdulo (opcional):");T&&Kt(g.id,"convertida",T)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",title:"Convertir a mdulo",children:r.jsx(ge,{className:"h-4 w-4 text-blue-600"})}),r.jsx("button",{onClick:()=>Kt(g.id,"rechazada"),className:"p-2 hover:bg-red-50 rounded-lg transition-colors border border-red-200",title:"Rechazar idea",children:r.jsx(zs,{className:"h-4 w-4 text-red-600"})})]})]})},g.id))})}),r.jsx("div",{className:"p-5 border-t border-border bg-background/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Crea y promueve ideas desde ",r.jsx("strong",{children:"Ideas Board"})]}),r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-orange-600 hover:bg-orange-50 rounded-lg border border-orange-200 transition-colors",children:[r.jsx(ra,{className:"h-3.5 w-3.5"}),"Ir a Ideas Board"]})]})})]})})}),!e&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Checklist & Roadmap"}),!ve&&!me&&r.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[r.jsx(ge,{className:"h-4 w-4"})," Sincronizado"]}),r.jsxs("button",{onClick:()=>V(!P),disabled:j.length===0,className:`flex items-center gap-1.5 px-3 py-1 rounded-full border text-sm font-bold transition-colors ${j.length>0?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200 cursor-pointer":"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed opacity-60"}`,title:j.length>0?`Ver ${j.length} idea${j.length!==1?"s":""} promovida${j.length!==1?"s":""} desde Ideas Board`:"No hay ideas promovidas pendientes. Crea ideas en Ideas Board y promuvelas para verlas aqu.",children:[r.jsx(yt,{className:"h-3.5 w-3.5"}),j.length>0?r.jsxs(r.Fragment,{children:[j.length," idea",j.length!==1?"s":""," pendiente",j.length!==1?"s":""]}):"Ideas Promovidas"]}),r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-100 text-teal-700 border border-teal-300 text-sm font-bold hover:bg-teal-200 transition-colors",title:"Abrir Ideas Board para crear y gestionar ideas",children:[r.jsx(xt,{className:"h-3.5 w-3.5"}),"Ideas Board"]}),D.filter(g=>g.status==="spec-ready").length>0&&r.jsxs("button",{onClick:()=>n("queue"),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[r.jsx(bt,{className:"h-3.5 w-3.5"}),D.filter(g=>g.status==="spec-ready").length," en cola"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:Gt,disabled:Q,title:"Resincroniza estadsticas desde el manifest  corrige estados stale del backend",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:[r.jsx(Nt,{className:`h-4 w-4 ${Q?"animate-spin":""}`}),Q?"Sincronizando...":"Resync manifest"]}),r.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 bg-white hover:bg-orange-50 hover:border-[#FF6835]/40 text-gray-600 hover:text-[#FF6835] transition-colors text-sm font-medium",children:[r.jsx(Zt,{className:"h-4 w-4"})," Auditora"]}),r.jsx("button",{onClick:sa,disabled:wn,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:wn?r.jsxs(r.Fragment,{children:[r.jsx(Ve,{className:"h-4 w-4 animate-spin"}),"Auditando ",Tn.current,"/",Tn.total,"..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"h-4 w-4"})," Auditar mdulos"]})}),ve&&r.jsx("button",{onClick:Pn,disabled:me,className:"px-4 py-2 bg-[#FF6835] text-white rounded-lg hover:bg-[#FF6835]/90 transition-colors flex items-center gap-2 disabled:opacity-50",children:me?r.jsxs(r.Fragment,{children:[r.jsx(Ve,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"h-4 w-4"}),"Guardar"]})})]})]}),r.jsx("p",{className:"text-muted-foreground",children:"Estado completo de todos los mdulos de Charlie Marketplace Builder"})]}),e&&r.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs("button",{onClick:()=>V(!P),disabled:j.length===0,className:`flex items-center gap-1.5 px-3 py-1 rounded-full border text-sm font-bold transition-colors flex-shrink-0 ${j.length>0?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200 cursor-pointer":"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed opacity-60"}`,title:j.length>0?`Ver ${j.length} idea${j.length!==1?"s":""} promovida${j.length!==1?"s":""} desde Ideas Board`:"No hay ideas promovidas pendientes. Crea ideas en Ideas Board y promuvelas para verlas aqu.",children:[r.jsx(yt,{className:"h-3.5 w-3.5"}),j.length>0?r.jsxs(r.Fragment,{children:[j.length," idea",j.length!==1?"s":""," pendiente",j.length!==1?"s":""]}):"Ideas Promovidas"]}),r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-100 text-teal-700 border border-teal-300 text-sm font-bold hover:bg-teal-200 transition-colors flex-shrink-0",title:"Abrir Ideas Board para crear y gestionar ideas",children:[r.jsx(xt,{className:"h-3.5 w-3.5"}),"Ideas Board"]}),ve&&r.jsx("button",{onClick:Pn,disabled:me,className:"px-4 py-2 bg-[#FF6835] text-white rounded-lg hover:bg-[#FF6835]/90 transition-colors flex items-center gap-2 text-sm disabled:opacity-50",children:me?r.jsxs(r.Fragment,{children:[r.jsx(Ve,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"h-4 w-4"}),"Guardar Cambios"]})}),(()=>{const g=D.filter(T=>T.status==="spec-ready").length;return g>0?r.jsxs("button",{onClick:()=>n("queue"),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[r.jsx(bt,{className:"h-3.5 w-3.5"}),"Tareas en cola ",g]}):null})()]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:Gt,disabled:Q,title:"Resincroniza estadsticas desde el manifest  corrige estados stale del backend",className:`flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg border font-semibold transition-colors disabled:opacity-50 ${!ve&&!me?"border-green-200 bg-green-50 hover:bg-green-100 text-green-700":ve?"border-red-200 bg-red-50 hover:bg-red-100 text-red-700":"border-yellow-200 bg-yellow-50 hover:bg-yellow-100 text-yellow-700"}`,children:[r.jsx(ge,{className:`h-3.5 w-3.5 ${Q?"animate-spin":""}`}),Q?"Sincronizando...":"Sincronizado"]}),r.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg border border-[#FF6835]/30 bg-orange-50 hover:bg-orange-100 text-[#FF6835] font-semibold transition-colors",children:[r.jsx(Zt,{className:"h-3.5 w-3.5"})," Auditora"]}),r.jsx("button",{onClick:kn,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-card border border-border rounded-lg hover:bg-accent transition-colors text-muted-foreground",children:mt?r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"h-3.5 w-3.5"})," Colapsar"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fn,{className:"h-3.5 w-3.5"})," Expandir"]})})]})]}),r.jsxs("div",{className:"bg-card rounded-xl p-5 border border-border mb-6",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-5",children:[r.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Progreso Total"}),r.jsx(ir,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[q.progressPercent,"%"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:r.jsx("div",{className:"bg-[#FF6835] h-1.5 rounded-full transition-all duration-700",style:{width:`${q.progressPercent}%`}})}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1.5",children:"promedio ponderado por horas"})]}),r.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.08},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Completados"}),r.jsx(ge,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[q.completed,"/",q.total]}),r.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:[q.completedPercent,"% mdulos con DB"]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-orange-50 text-orange-700 border border-orange-200",children:[" ",q.completed," DB"]}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:[" ",q.uiOnly," UI"]}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-gray-100 text-gray-500 border border-gray-200",children:[" ",q.notStarted," pend."]})]})]}),r.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.16},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"UI Lista / En Progreso"}),r.jsx(Je,{className:"h-4 w-4 text-blue-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:q.uiOnly}),r.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"vistas construidas sin backend"}),q.specReady>0&&r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-violet-50 text-violet-700 border border-violet-200",children:[" ",q.specReady," en cola"]})]}),r.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.24},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Horas Restantes"}),r.jsx(tr,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[q.remainingHours,"h"]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["de ",q.totalHours,"h estimadas totales"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:r.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-700",style:{width:`${Math.round(q.completedHours/Math.max(q.totalHours,1)*100)}%`}})})]}),r.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.32},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Checklist"}),r.jsx(xs,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:q.total}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"mdulos totales"}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[q.inProgress," en progreso"]})]}),r.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Roadmap"}),r.jsx(Aa,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:q.specReady}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"mdulos en cola"}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[q.notStarted," pendientes"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-border flex-wrap",children:[r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-teal-200 bg-teal-50 hover:bg-teal-100 text-teal-700 text-sm font-semibold transition-colors",children:[r.jsx(xt,{className:"h-3.5 w-3.5"}),"Ideas"]}),r.jsxs("button",{onClick:()=>n("list"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 text-sm font-semibold transition-colors",children:[r.jsx(Je,{className:"h-3.5 w-3.5"}),"Desarrollo"]}),r.jsxs("button",{onClick:Gt,disabled:Q,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg border text-sm font-semibold transition-colors disabled:opacity-50 ${!ve&&!me?"border-green-200 bg-green-50 hover:bg-green-100 text-green-700":ve?"border-red-200 bg-red-50 hover:bg-red-100 text-red-700":"border-yellow-200 bg-yellow-50 hover:bg-yellow-100 text-yellow-700"}`,children:[r.jsx(ge,{className:`h-3.5 w-3.5 ${Q?"animate-spin":""}`}),Q?"Sincronizando...":"Sincronizado"]}),r.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-[#FF6835]/30 bg-orange-50 hover:bg-orange-100 text-[#FF6835] text-sm font-semibold transition-colors",children:[r.jsx(Zt,{className:"h-3.5 w-3.5"}),"Auditora"]}),r.jsx("button",{onClick:kn,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-border bg-card hover:bg-accent text-muted-foreground text-sm font-semibold transition-colors",children:mt?r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"h-3.5 w-3.5"})," Colapsar"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fn,{className:"h-3.5 w-3.5"})," Expandir"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx("input",{type:"text",placeholder:"Buscar mdulo...",value:i,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]"})]}),r.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[r.jsx("option",{value:"all",children:"Todas las reas"}),Object.entries(de).map(([g,T])=>r.jsx("option",{value:g,children:T.label},g))]}),r.jsxs("select",{value:c,onChange:g=>d(g.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[r.jsx("option",{value:"all",children:"Todos los estados"}),Object.entries(We).map(([g,T])=>r.jsx("option",{value:g,children:T.label},g))]}),r.jsxs("select",{value:u,onChange:g=>f(g.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[r.jsx("option",{value:"all",children:"Todas las prioridades"}),Object.entries(Ae).map(([g,T])=>r.jsx("option",{value:g,children:T.label},g))]})]})]}),s==="list"&&r.jsx("div",{className:"space-y-2",children:En.map(({cat:g,mods:T,areaStats:w},R)=>{const O=de[g],z=na.has(g),B=w.pct===100;return r.jsxs(Y.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:R*.03},className:"rounded-xl border border-border overflow-hidden shadow-sm",children:[r.jsxs("button",{onClick:()=>Jo(g),className:`w-full flex items-center gap-2 px-4 py-3.5 text-left transition-colors ${z?"bg-card":"bg-card hover:bg-accent/30"}`,children:[r.jsx("div",{className:`w-1 self-stretch rounded-full flex-shrink-0 ${O.color}`}),r.jsx(gs,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform duration-200 ${z?"rotate-90":""}`}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full text-white whitespace-nowrap flex-shrink-0 ${O.color}`,children:O.label}),B&&r.jsx(ge,{className:"h-4 w-4 text-[#FF6835] flex-shrink-0"})]}),r.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:w.hours>0?`${w.hours}h`:""}),r.jsx("div",{className:"w-36 flex-shrink-0",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`${St(w.pct)} h-2 rounded-full transition-all duration-500`,style:{width:`${w.pct}%`}})})}),r.jsxs("span",{className:"w-10 text-right text-sm font-semibold text-foreground flex-shrink-0",children:[w.pct,"%"]}),r.jsxs("div",{className:"w-40 flex-shrink-0 hidden sm:flex items-center gap-2 justify-end",children:[r.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.completed,"/",w.total," mods"]}),w.inProgress>0&&r.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-yellow-100 text-yellow-700 border border-yellow-200",children:[w.inProgress," activos"]})]}),r.jsx("div",{className:"w-7 flex-shrink-0"}),r.jsx("div",{className:"w-7 flex-shrink-0"})]}),r.jsx(Ee,{initial:!1,children:z&&r.jsx(Y.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},style:{overflow:"hidden"},children:r.jsx("div",{className:"border-t border-border divide-y divide-border/50 bg-background/40",children:T.map(A=>{var I,L;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 hover:bg-accent/20 transition-colors",children:[r.jsx("div",{onClick:F=>F.stopPropagation(),className:"flex-shrink-0 w-44",children:r.jsx("select",{value:A.status,onChange:F=>Cn(A.id,F.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-[#FF6835] cursor-pointer hover:border-[#FF6835] transition-colors",children:Object.entries(We).map(([F,te])=>r.jsxs("option",{value:F,children:[te.label," (",te.percent,"%)"]},F))})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-semibold text-foreground truncate block",children:A.name}),A.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:A.description})]}),r.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:(A.estimatedHours??0)>0?`${A.estimatedHours}h`:""}),r.jsx("div",{className:"w-36 flex-shrink-0",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`${St(oe(A),A.status)} h-2 rounded-full transition-all duration-500`,style:{width:`${oe(A)}%`}})})}),r.jsxs("span",{className:"w-10 text-right text-xs font-bold text-foreground flex-shrink-0",children:[oe(A),"%"]}),r.jsxs("div",{className:"w-40 flex-shrink-0 hidden sm:flex items-center gap-1 flex-wrap",children:[r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${Ae[A.priority].color}`,children:Ae[A.priority].label}),A.status==="completed"&&r.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-green-50 border border-green-200 text-green-700 flex-shrink-0 font-semibold",children:[r.jsx(er,{className:"h-3 w-3"})," DB"]}),A.status==="ui-only"&&r.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-blue-50 border border-blue-200 text-blue-600 flex-shrink-0 font-semibold",children:[r.jsx(Je,{className:"h-3 w-3"})," UI"]}),A.status==="spec-ready"&&r.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-violet-50 border border-violet-300 text-violet-700 flex-shrink-0 font-bold",children:[r.jsx(xs,{className:"h-3 w-3"})," #",A.execOrder??"?"]})]}),r.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:r.jsx("button",{onClick:F=>{F.stopPropagation(),v(te=>{const _=new Set(te);return _.has(A.id)?_.delete(A.id):_.add(A.id),_})},className:`p-1 rounded-lg transition-colors ${b.has(A.id)?"bg-[#FF6835]/10 text-[#FF6835]":"hover:bg-gray-100 text-gray-400 hover:text-gray-600"}`,title:"Archivos adjuntos",children:r.jsx(Ma,{className:"h-4 w-4"})})}),r.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:r.jsx("button",{onClick:()=>ea(A.id),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:k.has(A.id)?"Ocultar tasks":"Ver tasks",children:k.has(A.id)?r.jsx(ps,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})})}),r.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:A.submodules?r.jsx("button",{onClick:()=>Zo(A.id),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:h.has(A.id)?"Ocultar submdulos":"Ver submdulos",children:h.has(A.id)?r.jsx(ps,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})}):null})]}),r.jsx(Ee,{initial:!1,children:A.submodules&&h.has(A.id)&&r.jsx(Y.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},style:{overflow:"hidden"},children:r.jsx("div",{className:"bg-background/60 border-t border-dashed border-border/40",children:A.submodules.map(F=>{const te=We[F.status].percent,_=F.status==="completed",qt=F.status==="ui-only",ia=te>0&&!_&&!qt;return r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 hover:bg-accent/10 transition-colors",children:[r.jsx("div",{className:"w-44 flex-shrink-0 flex items-center gap-2 pl-2",children:_?r.jsx(ge,{className:"h-5 w-5 text-[#FF6835]"}):qt?r.jsx(Je,{className:"h-5 w-5 text-blue-500"}):ia?r.jsx(rr,{className:"h-5 w-5 text-yellow-500"}):r.jsx(or,{className:"h-5 w-5 text-gray-300"})}),r.jsx("span",{className:`flex-1 text-xs min-w-0 truncate ${_?"text-[#FF6835] font-medium":qt?"text-blue-600 font-medium":"text-foreground"}`,children:F.name}),r.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:(F.estimatedHours??0)>0?`${F.estimatedHours}h`:""}),r.jsx("div",{className:"w-36 flex-shrink-0",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:`${St(te)} h-1.5 rounded-full transition-all duration-500`,style:{width:`${te}%`}})})}),r.jsx("div",{className:"w-10 flex-shrink-0"}),r.jsx("div",{className:"w-40 flex-shrink-0 hidden sm:block"}),r.jsx("div",{className:"w-7  flex-shrink-0"}),r.jsx("div",{className:"w-7  flex-shrink-0"})]},F.id)})})},`sub-${A.id}`)}),r.jsx(Ee,{initial:!1,children:k.has(A.id)&&r.jsx(Y.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},style:{overflow:"hidden"},children:r.jsxs("div",{className:"bg-background/40 border-t border-dashed border-border/30 pl-8 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:"Tasks"}),r.jsx("button",{onClick:()=>{const F=prompt("Nombre de la task:");F&&ta(A.id,void 0,F)},className:"text-xs px-2 py-1 bg-[#FF6835]/10 text-[#FF6835] rounded hover:bg-[#FF6835]/20 transition-colors",children:"+ Agregar"})]}),(I=E[A.id])!=null&&I.length?r.jsxs("div",{className:"space-y-1",children:[(L=A.submodules)==null?void 0:L.map(F=>{const te=(E[A.id]||[]).filter(_=>_.submodule_id===F.id);return te.length===0?null:r.jsxs("div",{className:"ml-4 mb-2",children:[r.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:F.name}),te.map(_=>r.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-accent/10 rounded text-xs",children:[r.jsx("input",{type:"checkbox",checked:_.status==="done",onChange:()=>An(_.id,A.id,{status:_.status==="done"?"todo":"done"}),className:"h-3 w-3"}),r.jsx("span",{className:`flex-1 ${_.status==="done"?"line-through text-muted-foreground":""}`,children:_.nombre}),_.blocker&&r.jsx("span",{className:"text-red-500 text-xs",children:"??"}),r.jsx("button",{onClick:()=>Mn(_.id,A.id),className:"text-red-500 hover:text-red-700",children:""})]},_.id))]},F.id)}),(E[A.id]||[]).filter(F=>!F.submodule_id).map(F=>r.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-accent/10 rounded text-xs",children:[r.jsx("input",{type:"checkbox",checked:F.status==="done",onChange:()=>An(F.id,A.id,{status:F.status==="done"?"todo":"done"}),className:"h-3 w-3"}),r.jsx("span",{className:`flex-1 ${F.status==="done"?"line-through text-muted-foreground":""}`,children:F.nombre}),F.blocker&&r.jsx("span",{className:"text-red-500 text-xs",children:"??"}),r.jsx("button",{onClick:()=>Mn(F.id,A.id),className:"text-red-500 hover:text-red-700",children:""})]},F.id))]}):r.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No hay tasks an"})]})},`tasks-${A.id}`)}),r.jsx(Ee,{initial:!1,children:b.has(A.id)&&r.jsx(Y.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},style:{overflow:"hidden"},children:r.jsx(zh,{moduleId:A.id,moduleName:A.name})},`files-${A.id}`)})]},A.id)})})},"area-body")})]},g)})}),s==="kanban"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:Object.entries(We).map(([g,T])=>{const w=Xt.filter(R=>R.status===g);return r.jsxs("div",{className:"bg-card rounded-xl border border-border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(T.icon,{className:`h-5 w-5 ${T.color}`}),r.jsx("h3",{className:"font-semibold text-foreground text-sm",children:T.label}),r.jsx("span",{className:"ml-auto text-sm text-muted-foreground",children:w.length})]}),r.jsxs("div",{className:"space-y-2",children:[w.map(R=>r.jsxs("div",{className:"bg-background p-3 rounded-lg border border-border hover:border-[#FF6835] transition-colors",children:[r.jsx("div",{className:"font-medium text-sm text-foreground mb-1",children:R.name}),r.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${de[R.category].color} text-white`,children:de[R.category].label}),r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border ${Ae[R.priority].color}`,children:Ae[R.priority].label})]})]},R.id)),w.length===0&&r.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Sin mdulos"})]})]},g)})}),s==="queue"&&(()=>{const g=[...D].filter(T=>T.status==="spec-ready").sort((T,w)=>(T.execOrder??999)-(w.execOrder??999));return r.jsxs("div",{className:"space-y-4 max-w-3xl",children:[r.jsxs("div",{className:"flex items-center gap-3 p-5 bg-violet-50 border border-violet-200 rounded-xl",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center flex-shrink-0",children:r.jsx(bt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-base font-bold text-violet-900",children:"Cola de Ejecucin"}),r.jsxs("p",{className:"text-xs text-violet-600 mt-0.5",children:["Mdulos con definicin completa  ordenados por prioridad de implementacin. Cambi el estado de cualquier mdulo a ",r.jsx("strong",{children:'"Definicin Lista"'})," para agregarlo."]})]}),g.length>0&&r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsx("p",{className:"text-2xl font-black text-violet-700",children:g.length}),r.jsx("p",{className:"text-xs text-violet-500",children:"en cola"})]})]}),g.length===0?r.jsxs("div",{className:"bg-card rounded-xl border border-dashed border-border p-16 text-center",children:[r.jsx(yt,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),r.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Cola vaca"}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs mx-auto",children:["And a la vista ",r.jsx("strong",{children:"Lista"}),", busc un mdulo y cambi su estado a",r.jsx("span",{className:"font-semibold text-violet-600",children:' "Definicin Lista"'})," para agregarlo aqu."]})]}):r.jsxs("div",{className:"space-y-2",children:[g.map((T,w)=>r.jsx(Y.div,{layout:!0,initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:w*.04},className:"bg-card rounded-xl border border-violet-200 hover:border-violet-400 hover:shadow-md transition-all overflow-hidden",children:r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3.5",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 text-white flex items-center justify-center font-black text-lg flex-shrink-0 shadow-sm",children:w+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-bold text-sm text-foreground",children:T.name}),r.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full text-white flex-shrink-0 ${de[T.category].color}`,children:[de[T.category].icon," ",de[T.category].label]}),r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${Ae[T.priority].color}`,children:Ae[T.priority].label})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:T.description})]}),r.jsxs("div",{className:"text-center flex-shrink-0 hidden md:block",children:[r.jsxs("p",{className:"text-sm font-bold text-foreground",children:[T.estimatedHours??"","h"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"estimadas"})]}),r.jsxs("div",{className:"flex flex-col gap-0.5 flex-shrink-0",children:[r.jsx("button",{onClick:()=>Nn(T.id,"up"),disabled:w===0,className:"p-1.5 rounded-lg hover:bg-violet-100 text-violet-400 hover:text-violet-700 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",title:"Subir en la cola",children:r.jsx(Ea,{className:"h-3.5 w-3.5"})}),r.jsx("button",{onClick:()=>Nn(T.id,"down"),disabled:w===g.length-1,className:"p-1.5 rounded-lg hover:bg-violet-100 text-violet-400 hover:text-violet-700 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",title:"Bajar en la cola",children:r.jsx(Va,{className:"h-3.5 w-3.5"})})]}),r.jsxs("button",{onClick:()=>Cn(T.id,"progress-10"),className:"flex items-center gap-1.5 px-3 py-2 bg-[#FF6835] text-white rounded-lg text-xs font-bold hover:bg-[#FF6835]/90 transition-colors flex-shrink-0 shadow-sm",title:"Iniciar implementacin (pasa a En Progreso 10%)",children:[r.jsx(Da,{className:"h-3 w-3"})," Iniciar"]})]})},T.id)),r.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-violet-50 border border-violet-200 flex items-center justify-between flex-wrap gap-2",children:[r.jsxs("div",{className:"text-sm text-violet-700 font-medium",children:[r.jsx("span",{className:"font-black",children:g.length})," mdulo",g.length!==1?"s":""," en cola","  ",r.jsxs("span",{className:"font-black",children:[g.reduce((T,w)=>T+(w.estimatedHours??0),0),"h"]})," estimadas totales"]}),r.jsx("span",{className:"text-xs text-violet-500 italic",children:' Reordenar   Iniciar cambia el estado a "En Progreso 10%"'})]})]})]})})(),s==="stats"&&r.jsx("div",{className:"space-y-4",children:En.map(({cat:g,mods:T,areaStats:w},R)=>{const O=de[g];return r.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.05},className:"bg-card rounded-xl border border-border p-5",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full text-white ${O.color}`,children:O.label}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.completed,"/",w.total," completados"]}),r.jsxs("span",{className:"ml-auto text-xl font-bold text-foreground",children:[w.pct,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:r.jsx("div",{className:`${St(w.pct)} h-3 rounded-full transition-all duration-700`,style:{width:`${w.pct}%`}})}),r.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:[r.jsx(Fa,{className:"h-3 w-3 inline mr-1"}),w.inProgress," en progreso"]}),r.jsxs("span",{children:[r.jsx(aa,{className:"h-3 w-3 inline mr-1"}),w.hours,"h restantes"]})]})]},g)})})]})}function Af({onNavigate:e}){return r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[r.jsx(la,{icon:Ra,title:"Checklist & Roadmap",subtitle:"Estado completo de todos los mdulos de Charlie Marketplace Builder",onNavigate:e,actions:[{label:"Volver",onClick:()=>e("sistema")},{label:"Exportar",primary:!0}]}),r.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:r.jsx(Wh,{hideHeader:!0,onNavigate:e})})]})}export{Af as ChecklistView};
