import{s}from"./index-DO6aBovJ.js";async function i(e){let r=s.from("personas").select("*");e!=null&&e.tipo&&(r=r.eq("tipo",e.tipo)),(e==null?void 0:e.activo)!==void 0&&(r=r.eq("activo",e.activo)),e!=null&&e.search&&(r=r.or(`nombre.ilike.%${e.search}%,apellido.ilike.%${e.search}%,email.ilike.%${e.search}%`));const{data:o,error:n}=await r.order("created_at",{ascending:!1});if(n)throw console.error("[personasApi] Error obteniendo personas:",n),new Error(n.message||"Error cargando personas");return o||[]}async function a(e){const{data:r,error:o}=await s.from("personas").insert({...e,activo:e.activo??!0}).select().single();if(o)throw console.error("[personasApi] Error creando persona:",o),new Error(o.message||"Error creando persona");return r}async function c(e,r){const{data:o,error:n}=await s.from("personas").update(r).eq("id",e).select().single();if(n)throw console.error("[personasApi] Error actualizando persona:",n),new Error(n.message||"Error actualizando persona");return o}async function l(e){const{error:r}=await s.from("personas").delete().eq("id",e);return r?(console.error("[personasApi] Error eliminando persona:",r),!1):!0}export{a as c,l as d,i as g,c as u};
