import{s as t}from"./index-DpZjhHPo.js";const s="oddy";async function a(){const{data:e,error:o}=await t.from("depositos").select("*, inventario(id, sku, nombre, cantidad)").eq("tenant_id",s).order("nombre");if(o)throw console.error("[depositosApi] Error obteniendo depósitos:",o),new Error(o.message||"Error cargando depósitos");return e||[]}async function d(e){if(!e.nombre||!e.direccion)throw new Error("nombre y direccion son requeridos");const{data:o,error:r}=await t.from("depositos").insert({...e,tenant_id:s,activo:e.activo??!0}).select().single();if(r)throw console.error("[depositosApi] Error creando depósito:",r),new Error(r.message||"Error creando depósito");return o}async function c(e,o){const{data:r,error:i}=await t.from("depositos").update({...o,updated_at:new Date().toISOString()}).eq("id",e).eq("tenant_id",s).select().single();if(i)throw console.error("[depositosApi] Error actualizando depósito:",i),new Error(i.message||"Error actualizando depósito");return r}async function p(e){const{error:o}=await t.from("depositos").delete().eq("id",e).eq("tenant_id",s);return o?(console.error("[depositosApi] Error eliminando depósito:",o),!1):!0}export{d as c,p as d,a as g,c as u};
