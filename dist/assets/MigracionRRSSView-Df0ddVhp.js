import{r as g,j as e,E as q,t as f}from"./index-_pG1R_m2.js";import{O as P}from"./OrangeHeader-Dm7qfkYA.js";import{R as M}from"./RRSSBanner-DIwD7Obr.js";import{b as U,s as K,v as Y,d as J}from"./rrssApi-DMQa2AwU.js";import{A as L}from"./arrow-left-right-COq8Jepk.js";import{C as F}from"./circle-check-DiVEdbP2.js";import{D as z}from"./download-D_c1PDiK.js";import{T as _}from"./trash-2-Bx95z1Pp.js";import{R as Z}from"./refresh-cw-BWOzGTQb.js";import{L as R}from"./loader-circle-CCP4ByuH.js";import{C as Q}from"./chevron-left-CjYjnUiW.js";import{T as A}from"./triangle-alert-D6nPsUS0.js";import{E as X}from"./eye-off-MKU-pddq.js";import{E as ee}from"./eye-Be2Ga0kf.js";import{C as re}from"./copy-BJevNXe1.js";import{I as G}from"./info-M0ua1pkB.js";import{C as ie}from"./check-W9BB-MoG.js";import{U as W}from"./upload-B0JY9PbE.js";import"./ConnectionStatusIcon-Cj5oRRiF.js";import"./zap-BPO3BAon.js";import"./lightbulb-jAYhX-yD.js";import"./map-pin-zhhZDdt2.js";import"./share-2-Dn-wb7Vz.js";import"./facebook-BFtfLwlY.js";import"./message-circle-B0rkwQy7.js";import"./info-tCLo8W3J.js";const oe="linear-gradient(135deg, #833AB4 0%, #C13584 55%, #E1306C 100%)",se="linear-gradient(135deg, #1877F2 0%, #0C5FCC 100%)",V={instagram:{name:"MigraciÃ³n de Instagram",subtitle:"Respalda, elimina y rebrandea tu perfil de Instagram",gradient:oe,accent:"#E1306C",icon:e.jsx(ce,{}),permissions:["instagram_basic","instagram_content_publish","pages_read_engagement","pages_manage_posts","pages_show_list"],credentialFields:[{key:"appId",label:"App ID",placeholder:"1234567890123456"},{key:"appSecret",label:"App Secret",placeholder:"abcdef1234567890abcdef1234567890"},{key:"token",label:"Access Token",placeholder:"EAAxxxxxxxxxxxxx"},{key:"accountId",label:"Instagram Account ID",placeholder:"1234567890123456"}]},facebook:{name:"MigraciÃ³n de Facebook",subtitle:"Respalda, elimina y rebrandea tu pÃ¡gina de Facebook",gradient:se,accent:"#1877F2",icon:e.jsx(pe,{}),permissions:["pages_manage_posts","pages_read_engagement","pages_show_list","pages_manage_metadata","publish_to_groups"],credentialFields:[{key:"appId",label:"App ID",placeholder:"1234567890123456"},{key:"appSecret",label:"App Secret",placeholder:"abcdef1234567890abcdef1234567890"},{key:"token",label:"Page Access Token",placeholder:"EAAxxxxxxxxxxxxx"},{key:"pageId",label:"Page ID",placeholder:"1234567890123456"}],fbSpecific:!0}};function Ge({onNavigate:s}){const[c,t]=g.useState(null);return c?e.jsx(ne,{platform:c,onBack:()=>t(null),onNavigate:s}):e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[e.jsx(P,{icon:L,title:"MigraciÃ³n de Redes Sociales",subtitle:"Respalda, eliminÃ¡ y rebrandeÃ¡ tu presencia en Facebook e Instagram",actions:[{label:"Volver",onClick:()=>s("rrss")},{label:"Ver Historial",primary:!0}]}),e.jsx(M,{onNavigate:s,active:"migracion-rrss"}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"32px 28px"},children:[e.jsx("p",{style:{color:"#888",fontSize:"14px",marginBottom:"24px"},children:"SeleccionÃ¡ la plataforma que querÃ©s gestionar:"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",maxWidth:"840px"},children:["instagram","facebook"].map(i=>{const d=V[i];return e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[e.jsxs("div",{style:{background:d.gradient,padding:"24px",display:"flex",alignItems:"center",gap:"14px"},children:[d.icon,e.jsxs("div",{children:[e.jsx("div",{style:{color:"#fff",fontWeight:800,fontSize:"17px"},children:i==="instagram"?"Instagram":"Facebook"}),e.jsx("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px"},children:d.subtitle})]})]}),e.jsxs("div",{style:{padding:"20px"},children:[[i==="instagram"?"Respaldo de Posts, Stories y Reels":"Respaldo de Posts, Fotos, Videos y Eventos","EliminaciÃ³n masiva con confirmaciÃ³n",i==="instagram"?"ActualizaciÃ³n de biografÃ­a y website":"ActualizaciÃ³n de pÃ¡gina y fotos de portada"].map((a,x)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(F,{size:14,color:"#10B981"}),e.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:a})]},x)),e.jsxs("button",{onClick:()=>t(i),style:{width:"100%",marginTop:"16px",padding:"12px",background:d.gradient,color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:"pointer",transition:"opacity 0.15s"},onMouseEnter:a=>a.currentTarget.style.opacity="0.9",onMouseLeave:a=>a.currentTarget.style.opacity="1",children:["Gestionar ",i==="instagram"?"Instagram":"Facebook"," â†’"]})]})]},i)})}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginTop:"24px",maxWidth:"840px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"18px"},children:[e.jsx("span",{children:"â„¹ï¸"}),e.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:700,color:"#111"},children:"InformaciÃ³n Importante"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px"},children:[{icon:"âš ï¸",title:"Requisitos Previos",items:["Cuenta de Meta for Developers","AplicaciÃ³n Meta tipo Business","Access Token de larga duraciÃ³n","Permisos configurados","IG debe ser cuenta Business"]},{icon:"âœ…",title:"Proceso Recomendado",items:["Configurar credenciales en Setup","Verificar conexiÃ³n exitosa","Respaldar todo el contenido","Eliminar contenido (opcional)","Rebrandear pÃ¡gina/perfil"]},{icon:"ðŸš¨",title:"Advertencias",items:["La eliminaciÃ³n es irreversible","Access Tokens expiran 60 dÃ­as","Instagram tiene lÃ­mites de API","Siempre respaldar antes de eliminar","Algunas ops. toman tiempo"]}].map(i=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginBottom:"10px"},children:[e.jsx("span",{style:{fontSize:"14px"},children:i.icon}),e.jsx("span",{style:{fontWeight:700,fontSize:"13px",color:"#374151"},children:i.title})]}),e.jsx("ul",{style:{margin:0,paddingLeft:"16px",color:"#555",fontSize:"12px",lineHeight:"1.8"},children:i.items.map((d,a)=>e.jsx("li",{children:d},a))})]},i.title))})]})]})]})}function ne({platform:s,onBack:c,onNavigate:t}){const i=V[s],[d,a]=g.useState("config"),[x,h]=g.useState(!1),l=[{id:"config",icon:e.jsx(xe,{}),label:"ConfiguraciÃ³n"},{id:"backup",icon:e.jsx(z,{size:15}),label:"Respaldar"},{id:"delete",icon:e.jsx(_,{size:15}),label:"Eliminar"},{id:"rebrand",icon:e.jsx(Z,{size:15}),label:"Rebrandear"}];return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(P,{icon:L,title:i.name,subtitle:i.subtitle,actions:[{label:"â† Volver",onClick:c}]}),e.jsx(M,{onNavigate:t,active:"migracion-rrss"}),e.jsxs("div",{style:{background:i.gradient,padding:"14px 28px",display:"flex",alignItems:"center",gap:"14px",flexShrink:0},children:[e.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"11px",backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255,255,255,0.35)"},children:i.icon}),e.jsxs("div",{children:[e.jsx("h2",{style:{color:"#fff",margin:0,fontWeight:800,fontSize:"16px",lineHeight:1.2},children:i.name}),e.jsx("p",{style:{color:"rgba(255,255,255,0.8)",margin:"2px 0 0",fontSize:"12px"},children:i.subtitle})]})]}),e.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",flexShrink:0},children:l.map(p=>{const o=d===p.id;return e.jsxs("button",{onClick:()=>a(p.id),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 22px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:o?700:500,transition:"all 0.15s",background:o?i.gradient:"transparent",color:o?"#fff":"#555",borderRadius:"0",position:"relative",whiteSpace:"nowrap"},children:[p.icon,p.label,!o&&e.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"3px",backgroundColor:"transparent"}})]},p.id)})}),e.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F5F5F5"},children:[d==="config"&&e.jsx(ae,{cfg:i,platform:s,onBack:c,onVerified:()=>h(!0)}),d==="backup"&&e.jsx(te,{cfg:i,verified:x}),d==="delete"&&e.jsx(le,{cfg:i}),d==="rebrand"&&e.jsx(de,{cfg:i,platform:s})]})]})}function ae({cfg:s,platform:c,onBack:t,onVerified:i}){const[d,a]=g.useState(!1),[x,h]=g.useState({}),[l,p]=g.useState(!1),[o,b]=g.useState(!1),[m,D]=g.useState(!0),[E,B]=g.useState(null),[k,I]=g.useState(new Set),[v,S]=g.useState(null);g.useEffect(()=>{let r=!1;return D(!0),U(c).then(n=>{var u;r||(n&&(h({appId:n.appId??"",appSecret:n.appSecret??"",token:n.token??"",accountId:n.accountId??"",pageId:n.pageId??""}),B(n.savedAt??null),(u=n.verified)!=null&&u.verified&&(S({ok:!0,msg:`Cuenta conectada: ${n.verified.accountName} (ID: ${n.verified.accountId})`}),i())),D(!1))}),()=>{r=!0}},[c]);const $=c==="instagram"?[{n:1,label:"Crear Meta Business Account",link:"https://business.facebook.com",desc:"AsegurÃ¡te de tener una cuenta de Meta Business con Instagram Business conectado"},{n:2,label:"Crear App en Meta for Developers",link:"https://developers.facebook.com",desc:"Crea una aplicaciÃ³n de tipo 'Business' en developers.facebook.com"},{n:3,label:"Agregar Instagram Graph API",link:null,desc:"Agrega el producto 'Instagram Graph API' a tu app"},{n:4,label:"Obtener Instagram Account ID",link:null,desc:"ObtÃ©n el ID de tu cuenta de Instagram Business"},{n:5,label:"Generar Access Token",link:"https://developers.facebook.com/tools/explorer",desc:"Genera un Access Token de larga duraciÃ³n con los permisos necesarios"},{n:6,label:"Configurar Credenciales",link:null,desc:"Ingresa las credenciales en el sistema"}]:[{n:1,label:"Crear Meta Business Account",link:"https://business.facebook.com",desc:"AsegurÃ¡te de tener una cuenta de Meta Business con PÃ¡gina de Facebook"},{n:2,label:"Crear App en Meta for Developers",link:"https://developers.facebook.com",desc:"Crea una aplicaciÃ³n de tipo 'Business'"},{n:3,label:"Agregar Facebook Login / Pages API",link:null,desc:"Agrega los productos necesarios para gestionar pÃ¡ginas"},{n:4,label:"Obtener Page ID",link:null,desc:"ObtÃ©n el ID de tu PÃ¡gina de Facebook desde ConfiguraciÃ³n de PÃ¡gina"},{n:5,label:"Generar Page Access Token",link:"https://developers.facebook.com/tools/explorer",desc:"Genera un token con los permisos de gestiÃ³n de pÃ¡gina"},{n:6,label:"Configurar Credenciales",link:null,desc:"Ingresa las credenciales en el sistema"}],H=async()=>{var u,y;const r=s.credentialFields.filter(j=>{var T;return!((T=x[j.key])!=null&&T.trim())});if(r.length>0){f.error(`CompletÃ¡ estos campos antes de verificar: ${r.map(j=>j.label).join(", ")}`),I(new Set(r.map(j=>j.key)));return}I(new Set),E||(f.info("Guardando credenciales antes de verificarâ€¦"),await w()),p(!0),S(null);const n=await Y(c);if(p(!1),n.ok&&((u=n.data)!=null&&u.verified))S({ok:!0,msg:`Cuenta conectada: ${n.data.accountName} (ID: ${n.data.accountId})`}),f.success(`âœ… ConexiÃ³n verificada â€” ${n.data.accountName}`),i();else{const j=((y=n.data)==null?void 0:y.error)??n.error??"Error desconocido";S({ok:!1,msg:j}),f.error(`âŒ ${j}`)}},N=(r,n)=>{navigator.clipboard.writeText(r||"Sin valor"),f.success(`${n} copiado`)},w=async()=>{const r=s.credentialFields.filter(u=>{var y;return!((y=x[u.key])!=null&&y.trim())});if(r.length>0){f.error(`CompletÃ¡ todos los campos: ${r.map(u=>u.label).join(", ")}`),I(new Set(r.map(u=>u.key)));return}b(!0);const n=await K(c,{appId:x.appId,appSecret:x.appSecret,token:x.token,accountId:x.accountId||void 0,pageId:x.pageId||void 0});b(!1),n.ok?(B(n.savedAt??new Date().toISOString()),S(null),f.success("âœ… Credenciales guardadas en la base de datos")):f.error(`âŒ Error al guardar: ${n.error}`)},O=async()=>{if(!confirm("Â¿Seguro que querÃ©s eliminar las credenciales guardadas?"))return;const r=await J(c);r.ok?(h({}),B(null),S(null),f.success("Credenciales eliminadas")):f.error(`Error: ${r.error}`)};return m?e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"60px",gap:"12px",color:"#6B7280"},children:[e.jsx(R,{size:22,style:{animation:"spin 1s linear infinite"}}),e.jsx("span",{style:{fontSize:"14px"},children:"Cargando credenciales desde la base de datosâ€¦"}),e.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]}):e.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:[e.jsxs("button",{onClick:t,style:{display:"flex",alignItems:"center",gap:"4px",background:"none",border:"none",cursor:"pointer",color:"#555",fontSize:"14px",marginBottom:"20px",padding:"4px 0"},children:[e.jsx(Q,{size:16})," Volver"]}),e.jsxs("div",{style:{background:s.gradient,borderRadius:"16px",padding:"24px 28px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",margin:"0 0 6px",fontWeight:800,fontSize:"20px"},children:["ConfiguraciÃ³n de ",s.name.replace("MigraciÃ³n de ","")]}),e.jsxs("p",{style:{color:"rgba(255,255,255,0.85)",margin:0,fontSize:"14px"},children:["Sigue estos pasos para configurar la integraciÃ³n con ",s.name.replace("MigraciÃ³n de ","")]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:"0 0 18px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Pasos de ConfiguraciÃ³n"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:$.map(r=>e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px",padding:"14px 16px",borderRadius:"10px",border:"1px solid #F0F0F0",backgroundColor:"#FAFAFA"},children:[e.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:s.gradient,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:800,fontSize:"13px",flexShrink:0},children:r.n}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"3px"},children:[e.jsx("span",{style:{fontWeight:600,fontSize:"14px",color:"#111"},children:r.label}),r.link&&e.jsxs("a",{href:r.link,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"3px",color:s.accent,fontSize:"12px",fontWeight:600,textDecoration:"none"},children:[e.jsx(q,{size:11})," Abrir"]})]}),e.jsx("p",{style:{margin:0,fontSize:"12px",color:"#6B7280"},children:r.desc})]})]},r.n))})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:"0 0 14px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Permisos Requeridos"}),e.jsxs("div",{style:{backgroundColor:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:"10px",padding:"12px 16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"7px",marginBottom:"10px"},children:[e.jsx(A,{size:14,color:"#D97706"}),e.jsx("span",{style:{fontSize:"13px",color:"#D97706",fontWeight:600},children:"Estos permisos deben ser aprobados en Meta for Developers"})]}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:s.permissions.map(r=>e.jsx("span",{style:{padding:"3px 10px",border:`1px solid ${s.accent}`,borderRadius:"20px",fontSize:"12px",color:s.accent,fontWeight:500,backgroundColor:"#fff"},children:r},r))})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:0,fontSize:"15px",fontWeight:700,color:"#111"},children:"Credenciales"}),e.jsxs("button",{onClick:()=>a(!d),style:{display:"flex",alignItems:"center",gap:"6px",padding:"7px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"13px",fontWeight:600,color:"#333"},children:[d?e.jsx(X,{size:14}):e.jsx(ee,{size:14}),d?"Ocultar":"Mostrar"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"14px",marginBottom:"24px"},children:s.credentialFields.map(r=>e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:k.has(r.key)?"#DC2626":"#333",marginBottom:"6px"},children:[r.label,k.has(r.key)&&e.jsx("span",{style:{marginLeft:"6px",fontSize:"11px",fontWeight:700,color:"#DC2626"},children:"â† Requerido"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("input",{type:d?"text":"password",value:x[r.key]??"",onChange:n=>{h(u=>({...u,[r.key]:n.target.value})),I(u=>{const y=new Set(u);return y.delete(r.key),y})},placeholder:r.placeholder,style:{flex:1,border:`1.5px solid ${k.has(r.key)?"#DC2626":"#E0E0E0"}`,borderRadius:"10px",padding:"10px 14px",fontSize:"14px",outline:"none",backgroundColor:k.has(r.key)?"#FEF2F2":"#FAFAFA",color:"#888"},onFocus:n=>n.target.style.borderColor=k.has(r.key)?"#DC2626":s.accent,onBlur:n=>n.target.style.borderColor=k.has(r.key)?"#DC2626":"#E0E0E0"}),e.jsx("button",{onClick:()=>N(x[r.key]??"",r.label),style:{width:"40px",height:"40px",border:"1.5px solid #E0E0E0",borderRadius:"10px",backgroundColor:"#FAFAFA",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(re,{size:14,color:"#888"})})]})]},r.key))}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsx("button",{onClick:w,disabled:o,style:{padding:"14px",background:s.gradient,color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:o?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:o?.7:1},children:o?e.jsxs(e.Fragment,{children:[e.jsx(R,{size:15,style:{animation:"spin 1s linear infinite"}})," Guardandoâ€¦"]}):"ðŸ’¾ Guardar Credenciales"}),e.jsx("button",{onClick:H,disabled:l,style:{padding:"14px",backgroundColor:"#fff",color:"#333",border:"1.5px solid #E0E0E0",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:l?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:l?.7:1},children:l?e.jsxs(e.Fragment,{children:[e.jsx(R,{size:15,style:{animation:"spin 1s linear infinite"}})," Verificandoâ€¦"]}):"ðŸ”Œ Verificar ConexiÃ³n"})]}),v&&e.jsxs("div",{style:{marginTop:"12px",padding:"12px 16px",backgroundColor:v.ok?"#ECFDF5":"#FEF2F2",border:`1px solid ${v.ok?"#A7F3D0":"#FECACA"}`,borderRadius:"10px",display:"flex",alignItems:"flex-start",gap:"8px"},children:[v.ok?e.jsx(F,{size:15,color:"#059669",style:{flexShrink:0,marginTop:"1px"}}):e.jsx(A,{size:15,color:"#DC2626",style:{flexShrink:0,marginTop:"1px"}}),e.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:v.ok?"#065F46":"#7F1D1D",lineHeight:1.5},children:v.msg})]}),e.jsxs("div",{style:{marginTop:"14px",padding:"12px 16px",backgroundColor:"#F0F9FF",border:"1px solid #BAE6FD",borderRadius:"10px",display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(G,{size:13,color:"#0369A1"}),e.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#0369A1"},children:"Almacenamiento â€” Supabase KV"})]}),E&&e.jsx("button",{onClick:O,style:{fontSize:"11px",color:"#DC2626",background:"none",border:"none",cursor:"pointer",fontWeight:600,padding:0},children:"ðŸ—‘ Eliminar credenciales"})]}),e.jsxs("span",{style:{fontSize:"12px",color:"#0369A1",lineHeight:1.5},children:["Las credenciales se guardan en la ",e.jsx("strong",{children:"base de datos Supabase"})," del proyecto (tabla KV), cifradas en trÃ¡nsito via HTTPS. Persisten entre sesiones y dispositivos."]}),E&&e.jsxs("span",{style:{fontSize:"11px",color:"#0EA5E9",fontWeight:600,marginTop:"2px"},children:["ðŸ’¾ Ãšltimo guardado: ",new Date(E).toLocaleString("es-UY",{dateStyle:"short",timeStyle:"short"})]}),!E&&e.jsx("span",{style:{fontSize:"11px",color:"#F59E0B",fontWeight:600,marginTop:"2px"},children:"âš ï¸ Sin credenciales en la base de datos â€” completÃ¡ los campos y guardÃ¡"})]}),e.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})]})}function te({cfg:s,verified:c}){var b;const[t,i]=g.useState("all"),[d,a]=g.useState(!1),[x,h]=g.useState(!1),l=s.permissions.includes("instagram_basic"),p=l?[{id:"posts",icon:e.jsx(C,{}),label:"Posts",sub:"Fotos y videos"},{id:"stories",icon:e.jsx(C,{}),label:"Stories",sub:"Ãšltimas 24 horas"},{id:"reels",icon:e.jsx(C,{}),label:"Reels",sub:"Todos los reels"},{id:"all",icon:e.jsx(C,{}),label:"Todo",sub:"Respaldo completo"}]:[{id:"posts",icon:e.jsx(C,{}),label:"Posts",sub:"Publicaciones"},{id:"stories",icon:e.jsx(C,{}),label:"Fotos",sub:"Ãlbumes de fotos"},{id:"reels",icon:e.jsx(C,{}),label:"Videos",sub:"Videos publicados"},{id:"all",icon:e.jsx(C,{}),label:"Todo",sub:"Respaldo completo"}],o=()=>{if(!c){f.error("VerificÃ¡ la conexiÃ³n primero en la pestaÃ±a ConfiguraciÃ³n");return}a(!0),setTimeout(()=>{a(!1),h(!0),f.success(`Respaldo de "${t}" completado`)},2200)};return e.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:[!c&&e.jsxs("div",{style:{backgroundColor:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:"12px",padding:"14px 18px",marginBottom:"20px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[e.jsx(A,{size:18,color:"#D97706",style:{flexShrink:0,marginTop:"1px"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#D97706",marginBottom:"2px"},children:"ConexiÃ³n no verificada"}),e.jsx("div",{style:{fontSize:"13px",color:"#92400E"},children:'Por favor verifica tu conexiÃ³n en la pestaÃ±a "ConfiguraciÃ³n" antes de respaldar.'})]})]}),x&&e.jsxs("div",{style:{backgroundColor:"#ECFDF5",border:"1px solid #A7F3D0",borderRadius:"12px",padding:"14px 18px",marginBottom:"20px",display:"flex",gap:"12px",alignItems:"center"},children:[e.jsx(F,{size:18,color:"#059669"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,fontSize:"14px",color:"#059669"},children:"Respaldo completado"}),e.jsx("div",{style:{fontSize:"13px",color:"#065F46"},children:"Tu contenido fue respaldado y estÃ¡ disponible para descargar."})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:"0 0 6px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Respaldar Contenido"}),e.jsxs("p",{style:{margin:"0 0 20px",fontSize:"13px",color:"#6B7280"},children:["SeleccionÃ¡ quÃ© tipo de contenido deseas respaldar.",l?" Las stories solo estÃ¡n disponibles por 24 horas.":""]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:p.map(m=>e.jsxs("button",{onClick:()=>i(m.id),style:{padding:"20px 12px",borderRadius:"12px",border:`2px solid ${t===m.id?"transparent":"#E5E7EB"}`,background:t===m.id?s.gradient:"#fff",cursor:"pointer",textAlign:"center",transition:"all 0.15s"},children:[e.jsx("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"center",opacity:t===m.id?1:.6},children:e.jsx(z,{size:22,color:t===m.id?"#fff":"#555"})}),e.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:t===m.id?"#fff":"#333"},children:m.label}),e.jsx("div",{style:{fontSize:"11px",color:t===m.id?"rgba(255,255,255,0.8)":"#9CA3AF",marginTop:"3px"},children:m.sub})]},m.id))})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[e.jsx("h3",{style:{margin:"0 0 14px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Iniciar Respaldo"}),e.jsx("p",{style:{margin:"0 0 20px",fontSize:"13px",color:"#6B7280"},children:"El respaldo descargarÃ¡ tu contenido en formato JSON + imÃ¡genes ZIP. El proceso puede demorar algunos minutos segÃºn la cantidad de publicaciones."}),e.jsxs("button",{onClick:o,disabled:d,style:{padding:"14px 32px",background:c?s.gradient:"#E5E7EB",color:c?"#fff":"#9CA3AF",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"15px",cursor:c?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px",transition:"opacity 0.15s"},children:[e.jsx(z,{size:17}),d?"Respaldando...":`Respaldar ${(b=p.find(m=>m.id===t))==null?void 0:b.label}`]})]})]})}function le({cfg:s}){const[c,t]=g.useState(""),[i,d]=g.useState(null),a=c==="ELIMINAR",x=[{id:"posts",label:"Eliminar Posts"},{id:"stories",label:"Eliminar Stories"},{id:"reels",label:"Eliminar Reels"},{id:"all",label:"Eliminar Todo"}],h=l=>{if(!a){f.error("EscribÃ­ ELIMINAR para confirmar");return}d(l),setTimeout(()=>{var p;d(null),t(""),f.success(`${(p=x.find(o=>o.id===l))==null?void 0:p.label} completado`)},2e3)};return e.jsx("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[e.jsx("h3",{style:{margin:"0 0 20px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Eliminar Contenido"}),e.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"10px",padding:"12px 16px",marginBottom:"20px",display:"flex",gap:"10px",alignItems:"flex-start"},children:[e.jsx(A,{size:16,color:"#DC2626",style:{flexShrink:0,marginTop:"1px"}}),e.jsxs("div",{children:[e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#7F1D1D",fontWeight:600},children:"âš ï¸ Esta acciÃ³n es irreversible"}),e.jsx("p",{style:{margin:"3px 0 0",fontSize:"12px",color:"#991B1B"},children:"AsegurÃ¡te de haber hecho un respaldo completo antes de continuar."})]})]}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#333",marginBottom:"8px"},children:["Para confirmar, escribe ",e.jsx("strong",{children:'"ELIMINAR"'}),":"]}),e.jsx("input",{value:c,onChange:l=>t(l.target.value),placeholder:"Escribe ELIMINAR para confirmar",style:{width:"100%",border:`1.5px solid ${a?"#DC2626":"#E0E0E0"}`,borderRadius:"10px",padding:"11px 14px",fontSize:"14px",outline:"none",backgroundColor:a?"#FEF2F2":"#FAFAFA",boxSizing:"border-box"},onFocus:l=>l.target.style.borderColor="#DC2626",onBlur:l=>l.target.style.borderColor=a?"#DC2626":"#E0E0E0"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:x.map((l,p)=>e.jsxs("button",{onClick:()=>h(l.id),disabled:!!i,style:{padding:"20px 12px",borderRadius:"12px",border:`2px solid ${p===3?"transparent":"#FECACA"}`,background:p===3?a?"linear-gradient(135deg, #DC2626, #B91C1C)":"#E5E7EB":a?"#FEF2F2":"#FAFAFA",cursor:a?"pointer":"not-allowed",textAlign:"center",transition:"all 0.15s"},children:[e.jsx("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"center"},children:e.jsx(_,{size:22,color:p===3?a?"#fff":"#9CA3AF":a?"#DC2626":"#D1D5DB"})}),e.jsx("div",{style:{fontWeight:700,fontSize:"13px",color:p===3?a?"#fff":"#9CA3AF":a?"#DC2626":"#9CA3AF"},children:i===l.id?"â³ Eliminando...":l.label})]},l.id))})]})})}function de({cfg:s,platform:c}){const t=c==="instagram",[i,d]=g.useState(""),[a,x]=g.useState("https://charliemarketplace.com"),[h,l]=g.useState(!1),p=()=>{l(!0),setTimeout(()=>{l(!1),f.success("Â¡Cambios guardados exitosamente!")},1600)};return e.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"24px 24px 48px"},children:[e.jsxs("div",{style:{backgroundColor:"#EFF6FF",border:"1px solid #BFDBFE",borderRadius:"12px",padding:"14px 18px",marginBottom:"20px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[e.jsx(G,{size:18,color:"#2563EB",style:{flexShrink:0,marginTop:"1px"}}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700,fontSize:"14px",color:"#1D4ED8",marginBottom:"6px"},children:["Limitaciones de la API de ",t?"Instagram":"Facebook"]}),t?e.jsxs("ul",{style:{margin:0,paddingLeft:"16px",color:"#1E40AF",fontSize:"13px",lineHeight:"1.7"},children:[e.jsxs("li",{children:["Solo se puede actualizar la ",e.jsx("strong",{children:"biografÃ­a"})," y el ",e.jsx("strong",{children:"sitio web"})]}),e.jsxs("li",{children:["El ",e.jsx("strong",{children:"username"}),", ",e.jsx("strong",{children:"nombre"})," y ",e.jsx("strong",{children:"foto de perfil"})," deben cambiarse manualmente en Instagram"]}),e.jsx("li",{children:"La configuraciÃ³n de privacidad debe cambiarse en la app"})]}):e.jsxs("ul",{style:{margin:0,paddingLeft:"16px",color:"#1E40AF",fontSize:"13px",lineHeight:"1.7"},children:[e.jsxs("li",{children:["Se puede actualizar la ",e.jsx("strong",{children:"descripciÃ³n"})," y el ",e.jsx("strong",{children:"sitio web"})," de la pÃ¡gina"]}),e.jsxs("li",{children:["El ",e.jsx("strong",{children:"nombre de la pÃ¡gina"})," puede requerir aprobaciÃ³n de Meta"]}),e.jsx("li",{children:"La foto de portada y perfil se pueden cambiar vÃ­a API"})]})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:"0 0 20px",fontSize:"15px",fontWeight:700,color:"#111"},children:"InformaciÃ³n del Perfil"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[[{label:t?"Username (Solo lectura - cambiar en Instagram)":"Nombre de PÃ¡gina (Solo lectura)",placeholder:t?"@charliemarketplace":"Charlie Marketplace",editable:!1},{label:t?"Nombre (Solo lectura - cambiar en Instagram)":"Username (Solo lectura)",placeholder:t?"Charlie Marketplace":"@charliemarketplace",editable:!1}].map(o=>e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#9CA3AF",marginBottom:"6px"},children:o.label}),e.jsx("input",{disabled:!0,placeholder:o.placeholder,style:{width:"100%",border:"1.5px solid #F0F0F0",borderRadius:"10px",padding:"11px 14px",fontSize:"14px",backgroundColor:"#F9F9F9",color:"#9CA3AF",boxSizing:"border-box",cursor:"not-allowed"}})]},o.label)),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:600,color:"#333",marginBottom:"6px"},children:["BiografÃ­a ",e.jsx(F,{size:14,color:"#10B981"})]}),e.jsx("textarea",{value:i,onChange:o=>d(o.target.value.slice(0,150)),rows:4,placeholder:"Tu marketplace favorito ðŸ›ï¸",style:{width:"100%",border:"1.5px solid #E0E0E0",borderRadius:"10px",padding:"11px 14px",fontSize:"14px",boxSizing:"border-box",outline:"none",resize:"vertical",fontFamily:"inherit",backgroundColor:"#FAFAFA"},onFocus:o=>o.target.style.borderColor=s.accent,onBlur:o=>o.target.style.borderColor="#E0E0E0"}),e.jsxs("div",{style:{textAlign:"right",fontSize:"12px",color:"#9CA3AF",marginTop:"4px"},children:[i.length,"/150 caracteres"]})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:600,color:"#333",marginBottom:"6px"},children:["Sitio Web ",e.jsx(F,{size:14,color:"#10B981"})]}),e.jsx("input",{value:a,onChange:o=>x(o.target.value),placeholder:"https://charliemarketplace.com",style:{width:"100%",border:"1.5px solid #E0E0E0",borderRadius:"10px",padding:"11px 14px",fontSize:"14px",boxSizing:"border-box",outline:"none",backgroundColor:"#FAFAFA"},onFocus:o=>o.target.style.borderColor=s.accent,onBlur:o=>o.target.style.borderColor="#E0E0E0"})]}),e.jsx("button",{onClick:p,style:{padding:"14px",background:s.gradient,color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%"},children:h?"â³ Guardando...":e.jsxs(e.Fragment,{children:[e.jsx(ie,{size:16})," Guardar Cambios"]})})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"24px"},children:[e.jsx("h3",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:700,color:"#111"},children:"Foto de Perfil"}),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"10px",padding:"12px 16px",marginBottom:"20px",display:"flex",gap:"10px",alignItems:"flex-start"},children:[e.jsx(A,{size:16,color:"#DC2626",style:{flexShrink:0,marginTop:"1px"}}),e.jsxs("p",{style:{margin:0,fontSize:"13px",color:"#7F1D1D"},children:[e.jsx("strong",{children:"Instagram NO permite"})," cambiar la foto de perfil vÃ­a API. Debes hacerlo manualmente en la app de Instagram."]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"24px"},children:[e.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",cursor:"not-allowed"},children:e.jsx(W,{size:28,color:"#D1D5DB"})}),e.jsxs("p",{style:{textAlign:"center",fontSize:"13px",color:"#9CA3AF",lineHeight:"1.6"},children:["Para cambiar tu foto de perfil, abrÃ­ la app de Instagram â†’ Perfil",e.jsx("br",{}),"â†’ Editar perfil â†’ Cambiar foto de perfil"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:"En Facebook puedes actualizar la foto de perfil y la foto de portada de tu pÃ¡gina vÃ­a API."}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:["Foto de Perfil","Foto de Portada"].map(o=>e.jsxs("div",{style:{border:"2px dashed #E0E0E0",borderRadius:"12px",padding:"24px",textAlign:"center",cursor:"pointer",backgroundColor:"#FAFAFA"},onMouseEnter:b=>b.currentTarget.style.borderColor=s.accent,onMouseLeave:b=>b.currentTarget.style.borderColor="#E0E0E0",onClick:()=>f.info(`SubÃ­ ${o.toLowerCase()} aquÃ­`),children:[e.jsx(W,{size:24,color:"#9CA3AF",style:{margin:"0 auto 10px"}}),e.jsx("div",{style:{fontWeight:600,fontSize:"13px",color:"#333",marginBottom:"3px"},children:o}),e.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:"JPG / PNG Â· Max 5MB"})]},o))})]})]})]})}function ce(){return e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"6",stroke:"white",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"4",stroke:"white",strokeWidth:"2"}),e.jsx("circle",{cx:"17.5",cy:"6.5",r:"1.2",fill:"white"})]})}function pe(){return e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function xe(){return e.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function C(){return e.jsx(z,{size:22})}export{Ge as MigracionRRSSView};
