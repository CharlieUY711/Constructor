import{c as Me,r as y,j as r,e as Ie,D as ir,t as X,E as aa,b as et,C as rr,f as la,P as ca}from"./index-DnFAImgt.js";import{O as da}from"./OrangeHeader-DJJ7prMK.js";import{p as Pt,a as Jt}from"./info-tCLo8W3J.js";import{R as kt}from"./refresh-cw-D7tOdR_P.js";import{X as xs}from"./x-CDf_6lBE.js";import{C as _s}from"./circle-x-DzR_FMqc.js";import{G as or}from"./git-branch-BG2EeLUD.js";import{C as pe}from"./circle-check-C1r64eKI.js";import{C as ys}from"./chevron-down-ungjbWei.js";import{C as bs}from"./chevron-right-DsZY4Jnb.js";import{I as ua}from"./info-B9DTMj8I.js";import{T as ha}from"./triangle-alert-C5dhpLhp.js";import{F as fa}from"./file-text-DlJgVlZs.js";import{S as ma}from"./settings-2-DSXN9xTw.js";import{F as pa}from"./folder-open-BbsMNuUC.js";import{L as Fe}from"./loader-circle-Bs4_jfMb.js";import{U as ga}from"./upload-WvCqHPjZ.js";import{D as xa}from"./download-CIrG5QUb.js";import{T as ya}from"./trash-2-HVQG-INa.js";import{g as ba,a as va,r as wa,b as ja,c as Ta,s as Sa,d as Na,e as Ca,u as Pa,f as ka,h as Aa}from"./roadmapApi-krRhmtOE.js";import{L as vt}from"./lightbulb-QtUPcbhG.js";import{C as Ma}from"./check-BSVtR8cS.js";import{T as tt}from"./trending-up-BDIolxI0.js";import{C as ar}from"./clock-BQBIX4Fm.js";import{C as lr}from"./circle-CQTxE1dk.js";import{S as Ln}from"./save-fljajWrO.js";import{C as Ea}from"./chart-column-eRGGZmca.js";import{P as Da}from"./paperclip-DiQLRZdQ.js";import{A as Va}from"./arrow-up-B0Iv7IcR.js";import{A as Fa}from"./arrow-down-IRBZz7mC.js";import{P as Ra}from"./play-BLVMtQzq.js";import{Z as La}from"./zap-BhzBy_ra.js";import{S as Ia}from"./square-check-big-BPnisYVV.js";import"./ConnectionStatusIcon-DptUcDR6.js";import"./map-pin-Cevzqbvu.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],In=Me("chevrons-down-up",Ba);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Bn=Me("chevrons-up-down",Oa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],vs=Me("file-check-2",$a);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],za=Me("file-code-2",Ua);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Wa=Me("file-plus",Ha);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Je=Me("inbox",_a);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],wt=Me("list-ordered",Ka);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m16 16-1.9-1.9",key:"1dq9hf"}]],Qt=Me("scan-search",Ga),Ks=y.createContext({});function Gs(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const cr=typeof window<"u",dr=cr?y.useLayoutEffect:y.useEffect,Ht=y.createContext(null);function qs(e,t){e.indexOf(t)===-1&&e.push(t)}function Rt(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const xe=(e,t,s)=>s>t?t:s<e?e:s;let Xs=()=>{};const we={},ur=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hr(e){return typeof e=="object"&&e!==null}const fr=e=>/^0[^.\s]+$/u.test(e);function mr(e){let t;return()=>(t===void 0&&(t=e()),t)}const le=e=>e,qa=(e,t)=>s=>t(e(s)),ht=(...e)=>e.reduce(qa),at=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class Ys{constructor(){this.subscriptions=[]}add(t){return qs(this.subscriptions,t),()=>Rt(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const he=e=>e*1e3,ae=e=>e/1e3;function pr(e,t){return t?e*(1e3/t):0}const gr=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Xa=1e-7,Ya=12;function Za(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=gr(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>Xa&&++l<Ya);return o}function ft(e,t,s,n){if(e===t&&s===n)return le;const i=a=>Za(a,0,1,e,s);return a=>a===0||a===1?a:gr(i(a),t,n)}const xr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yr=e=>t=>1-e(1-t),br=ft(.33,1.53,.69,.99),Zs=yr(br),vr=xr(Zs),wr=e=>(e*=2)<1?.5*Zs(e):.5*(2-Math.pow(2,-10*(e-1))),Js=e=>1-Math.sin(Math.acos(e)),jr=yr(Js),Tr=xr(Js),Ja=ft(.42,0,1,1),Qa=ft(0,0,.58,1),Sr=ft(.42,0,.58,1),el=e=>Array.isArray(e)&&typeof e[0]!="number",Nr=e=>Array.isArray(e)&&typeof e[0]=="number",tl={linear:le,easeIn:Ja,easeInOut:Sr,easeOut:Qa,circIn:Js,circInOut:Tr,circOut:jr,backIn:Zs,backInOut:vr,backOut:br,anticipate:wr},sl=e=>typeof e=="string",On=e=>{if(Nr(e)){Xs(e.length===4);const[t,s,n,i]=e;return ft(t,s,n,i)}else if(sl(e))return tl[e];return e},jt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nl(e,t){let s=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,f=!1,h=!1)=>{const x=h&&i?s:n;return f&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[s,n]=[n,s],s.forEach(c),s.clear(),i=!1,a&&(a=!1,d.process(u))}};return d}const il=40;function Cr(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=jt.reduce((C,E)=>(C[E]=nl(a),C),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:h,render:g,postRender:x}=o,m=()=>{const C=we.useManualTiming?i.timestamp:performance.now();s=!1,we.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(C-i.timestamp,il),1)),i.timestamp=C,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),f.process(i),h.process(i),g.process(i),x.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(m))},b=()=>{s=!0,n=!0,i.isProcessing||e(m)};return{schedule:jt.reduce((C,E)=>{const N=o[E];return C[E]=(T,S=!1,P=!1)=>(s||b(),N.schedule(T,S,P)),C},{}),cancel:C=>{for(let E=0;E<jt.length;E++)o[jt[E]].cancel(C)},state:i,steps:o}}const{schedule:U,cancel:Ae,state:ee,steps:es}=Cr(typeof requestAnimationFrame<"u"?requestAnimationFrame:le,!0);let At;function rl(){At=void 0}const ne={now:()=>(At===void 0&&ne.set(ee.isProcessing||we.useManualTiming?ee.timestamp:performance.now()),At),set:e=>{At=e,queueMicrotask(rl)}},Pr=e=>t=>typeof t=="string"&&t.startsWith(e),kr=Pr("--"),ol=Pr("var(--"),Qs=e=>ol(e)?al.test(e.split("/*")[0].trim()):!1,al=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function $n(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const qe={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lt={...qe,transform:e=>xe(0,1,e)},Tt={...qe,default:1},nt=e=>Math.round(e*1e5)/1e5,en=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ll(e){return e==null}const cl=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tn=(e,t)=>s=>!!(typeof s=="string"&&cl.test(s)&&s.startsWith(e)||t&&!ll(s)&&Object.prototype.hasOwnProperty.call(s,t)),Ar=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(en);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dl=e=>xe(0,255,e),ts={...qe,transform:e=>Math.round(dl(e))},Re={test:tn("rgb","red"),parse:Ar("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+ts.transform(e)+", "+ts.transform(t)+", "+ts.transform(s)+", "+nt(lt.transform(n))+")"};function ul(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ws={test:tn("#"),parse:ul,transform:Re.transform},mt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Se=mt("deg"),ge=mt("%"),M=mt("px"),hl=mt("vh"),fl=mt("vw"),Un={...ge,parse:e=>ge.parse(e)/100,transform:e=>ge.transform(e*100)},Ue={test:tn("hsl","hue"),parse:Ar("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+ge.transform(nt(t))+", "+ge.transform(nt(s))+", "+nt(lt.transform(n))+")"},Y={test:e=>Re.test(e)||ws.test(e)||Ue.test(e),parse:e=>Re.test(e)?Re.parse(e):Ue.test(e)?Ue.parse(e):ws.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Re.transform(e):Ue.transform(e),getAnimatableNone:e=>{const t=Y.parse(e);return t.alpha=0,Y.transform(t)}},ml=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pl(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(en))==null?void 0:t.length)||0)+(((s=e.match(ml))==null?void 0:s.length)||0)>0}const Mr="number",Er="color",gl="var",xl="var(",zn="${}",yl=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ct(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(yl,c=>(Y.test(c)?(n.color.push(a),i.push(Er),s.push(Y.parse(c))):c.startsWith(xl)?(n.var.push(a),i.push(gl),s.push(c)):(n.number.push(a),i.push(Mr),s.push(parseFloat(c))),++a,zn)).split(zn);return{values:s,split:l,indexes:n,types:i}}function Dr(e){return ct(e).values}function Vr(e){const{split:t,types:s}=ct(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===Mr?a+=nt(i[o]):l===Er?a+=Y.transform(i[o]):a+=i[o]}return a}}const bl=e=>typeof e=="number"?0:Y.test(e)?Y.getAnimatableNone(e):e;function vl(e){const t=Dr(e);return Vr(e)(t.map(bl))}const fe={test:pl,parse:Dr,createTransformer:Vr,getAnimatableNone:vl};function ss(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function wl({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=ss(c,l,e+1/3),a=ss(c,l,e),o=ss(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Lt(e,t){return s=>s>0?t:e}const H=(e,t,s)=>e+(t-e)*s,ns=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},jl=[ws,Re,Ue],Tl=e=>jl.find(t=>t.test(e));function Hn(e){const t=Tl(e);if(!t)return!1;let s=t.parse(e);return t===Ue&&(s=wl(s)),s}const Wn=(e,t)=>{const s=Hn(e),n=Hn(t);if(!s||!n)return Lt(e,t);const i={...s};return a=>(i.red=ns(s.red,n.red,a),i.green=ns(s.green,n.green,a),i.blue=ns(s.blue,n.blue,a),i.alpha=H(s.alpha,n.alpha,a),Re.transform(i))},js=new Set(["none","hidden"]);function Sl(e,t){return js.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Nl(e,t){return s=>H(e,t,s)}function sn(e){return typeof e=="number"?Nl:typeof e=="string"?Qs(e)?Lt:Y.test(e)?Wn:kl:Array.isArray(e)?Fr:typeof e=="object"?Y.test(e)?Wn:Cl:Lt}function Fr(e,t){const s=[...e],n=s.length,i=e.map((a,o)=>sn(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}}function Cl(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=sn(e[i])(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}}function Pl(e,t){const s=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][n[a]],l=e.values[o]??0;s[i]=l,n[a]++}return s}const kl=(e,t)=>{const s=fe.createTransformer(t),n=ct(e),i=ct(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?js.has(e)&&!i.values.length||js.has(t)&&!n.values.length?Sl(e,t):ht(Fr(Pl(n,i),i.values),s):Lt(e,t)};function Rr(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?H(e,t,s):sn(e)(e,t)}const Al=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>U.update(t,s),stop:()=>Ae(t),now:()=>ee.isProcessing?ee.timestamp:ne.now()}},Lr=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},It=2e4;function nn(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<It;)t+=s,n=e.next(t);return t>=It?1/0:t}function Ml(e,t=100,s){const n=s({...e,keyframes:[0,t]}),i=Math.min(nn(n),It);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:ae(i)}}const El=5;function Ir(e,t,s){const n=Math.max(t-El,0);return pr(s-e(n),t-n)}const _={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},is=.001;function Dl({duration:e=_.duration,bounce:t=_.bounce,velocity:s=_.velocity,mass:n=_.mass}){let i,a,o=1-t;o=xe(_.minDamping,_.maxDamping,o),e=xe(_.minDuration,_.maxDuration,ae(e)),o<1?(i=d=>{const u=d*o,f=u*e,h=u-s,g=Ts(d,o),x=Math.exp(-f);return is-h/g*x},a=d=>{const f=d*o*e,h=f*s+s,g=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-f),m=Ts(Math.pow(d,2),o);return(-i(d)+is>0?-1:1)*((h-g)*x)/m}):(i=d=>{const u=Math.exp(-d*e),f=(d-s)*e+1;return-is+u*f},a=d=>{const u=Math.exp(-d*e),f=(s-d)*(e*e);return u*f});const l=5/e,c=Fl(i,a,l);if(e=he(e),isNaN(c))return{stiffness:_.stiffness,damping:_.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const Vl=12;function Fl(e,t,s){let n=s;for(let i=1;i<Vl;i++)n=n-e(n)/t(n);return n}function Ts(e,t){return e*Math.sqrt(1-t*t)}const Rl=["duration","bounce"],Ll=["stiffness","damping","mass"];function _n(e,t){return t.some(s=>e[s]!==void 0)}function Il(e){let t={velocity:_.velocity,stiffness:_.stiffness,damping:_.damping,mass:_.mass,isResolvedFromDuration:!1,...e};if(!_n(e,Ll)&&_n(e,Rl))if(t.velocity=0,e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,a=2*xe(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:_.mass,stiffness:i,damping:a}}else{const s=Dl({...e,velocity:0});t={...t,...s,mass:_.mass},t.isResolvedFromDuration=!0}return t}function Bt(e=_.visualDuration,t=_.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:f,velocity:h,isResolvedFromDuration:g}=Il({...s,velocity:-ae(s.velocity||0)}),x=h||0,m=d/(2*Math.sqrt(c*u)),b=o-a,v=ae(Math.sqrt(c/u)),k=Math.abs(b)<5;n||(n=k?_.restSpeed.granular:_.restSpeed.default),i||(i=k?_.restDelta.granular:_.restDelta.default);let C;if(m<1){const N=Ts(v,m);C=T=>{const S=Math.exp(-m*v*T);return o-S*((x+m*v*b)/N*Math.sin(N*T)+b*Math.cos(N*T))}}else if(m===1)C=N=>o-Math.exp(-v*N)*(b+(x+v*b)*N);else{const N=v*Math.sqrt(m*m-1);C=T=>{const S=Math.exp(-m*v*T),P=Math.min(N*T,300);return o-S*((x+m*v*b)*Math.sinh(P)+N*b*Math.cosh(P))/N}}const E={calculatedDuration:g&&f||null,next:N=>{const T=C(N);if(g)l.done=N>=f;else{let S=N===0?x:0;m<1&&(S=N===0?he(x):Ir(C,N,T));const P=Math.abs(S)<=n,D=Math.abs(o-T)<=i;l.done=P&&D}return l.value=l.done?o:T,l},toString:()=>{const N=Math.min(nn(E),It),T=Lr(S=>E.next(N*S).value,N,30);return N+"ms "+T},toTransition:()=>{}};return E}Bt.applyToOptions=e=>{const t=Ml(e,100,Bt);return e.ease=t.ease,e.duration=he(t.duration),e.type="keyframes",e};function Ss({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},g=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let m=s*t;const b=f+m,v=o===void 0?b:o(b);v!==b&&(m=v-f);const k=P=>-m*Math.exp(-P/n),C=P=>v+k(P),E=P=>{const D=k(P),$=C(P);h.done=Math.abs(D)<=d,h.value=h.done?v:$};let N,T;const S=P=>{g(h.value)&&(N=P,T=Bt({keyframes:[h.value,x(h.value)],velocity:Ir(C,P,h.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:P=>{let D=!1;return!T&&N===void 0&&(D=!0,E(P),S(P)),N!==void 0&&P>=N?T.next(P-N):(!D&&E(P),h)}}}function Bl(e,t,s){const n=[],i=s||we.mix||Rr,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||le:t;l=ht(c,l)}n.push(l)}return n}function Ol(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(Xs(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Bl(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=at(e[f],e[f+1],u);return l[f](h)};return s?u=>d(xe(e[0],e[a-1],u)):d}function $l(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=at(0,t,n);e.push(H(s,1,i))}}function Ul(e){const t=[0];return $l(t,e.length-1),t}function zl(e,t){return e.map(s=>s*t)}function Hl(e,t){return e.map(()=>t||Sr).splice(0,e.length-1)}function it({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=el(n)?n.map(On):On(n),a={done:!1,value:t[0]},o=zl(s&&s.length===t.length?s:Ul(t),e),l=Ol(o,t,{ease:Array.isArray(i)?i:Hl(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Wl=e=>e!==null;function rn(e,{repeat:t,repeatType:s="loop"},n,i=1){const a=e.filter(Wl),l=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const _l={decay:Ss,inertia:Ss,tween:it,keyframes:it,spring:Bt};function Br(e){typeof e.type=="string"&&(e.type=_l[e.type])}class on{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Kl=e=>e/100;class an extends on{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:s}=this.options;s&&s.updatedAt!==ne.now()&&this.tick(ne.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Br(t);const{type:s=it,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=s||it;c!==it&&typeof l[0]!="number"&&(this.mixKeyframes=ht(Kl,Rr(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=nn(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:g,type:x,onUpdate:m,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,E=n;if(f){const P=Math.min(this.currentTime,i)/l;let D=Math.floor(P),$=P%1;!$&&P>=1&&($=1),$===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(h==="reverse"?($=1-$,g&&($-=g/l)):h==="mirror"&&(E=o)),C=xe(0,1,$)*l}const N=k?{done:!1,value:u[0]}:E.next(C);a&&(N.value=a(N.value));let{done:T}=N;!k&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return S&&x!==Ss&&(N.value=rn(u,this.options,b,this.speed)),m&&m(N.value),S&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return ae(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ae(t)}get time(){return ae(this.currentTime)}set time(t){var s;t=he(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ne.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ae(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Al,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ne.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Gl(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Le=e=>e*180/Math.PI,Ns=e=>{const t=Le(Math.atan2(e[1],e[0]));return Cs(t)},ql={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ns,rotateZ:Ns,skewX:e=>Le(Math.atan(e[1])),skewY:e=>Le(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cs=e=>(e=e%360,e<0&&(e+=360),e),Kn=Ns,Gn=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xl={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gn,scaleY:qn,scale:e=>(Gn(e)+qn(e))/2,rotateX:e=>Cs(Le(Math.atan2(e[6],e[5]))),rotateY:e=>Cs(Le(Math.atan2(-e[2],e[0]))),rotateZ:Kn,rotate:Kn,skewX:e=>Le(Math.atan(e[4])),skewY:e=>Le(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ps(e){return e.includes("scale")?1:0}function ks(e,t){if(!e||e==="none")return Ps(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=Xl,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=ql,i=l}if(!i)return Ps(t);const a=n[t],o=i[1].split(",").map(Zl);return typeof a=="function"?a(o):o[a]}const Yl=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ks(s,t)};function Zl(e){return parseFloat(e.trim())}const Xe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ye=new Set(Xe),Xn=e=>e===qe||e===M,Jl=new Set(["x","y","z"]),Ql=Xe.filter(e=>!Jl.has(e));function ec(e){const t=[];return Ql.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const ke={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ks(t,"x"),y:(e,{transform:t})=>ks(t,"y")};ke.translateX=ke.x;ke.translateY=ke.y;const Be=new Set;let As=!1,Ms=!1,Es=!1;function Or(){if(Ms){const e=Array.from(Be).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=ec(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ms=!1,As=!1,Be.forEach(e=>e.complete(Es)),Be.clear()}function $r(){Be.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ms=!0)})}function tc(){Es=!0,$r(),Or(),Es=!1}class ln{constructor(t,s,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Be.add(this),As||(As=!0,U.read($r),U.resolveKeyframes(Or))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&s){const l=n.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}Gl(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Be.delete(this)}cancel(){this.state==="scheduled"&&(Be.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sc=e=>e.startsWith("--");function nc(e,t,s){sc(t)?e.style.setProperty(t,s):e.style[t]=s}const ic={};function Ur(e,t){const s=mr(e);return()=>ic[t]??s()}const rc=Ur(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),zr=Ur(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),st=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Yn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:st([0,.65,.55,1]),circOut:st([.55,0,1,.45]),backIn:st([.31,.01,.66,-.59]),backOut:st([.33,1.53,.69,.99])};function Hr(e,t){if(e)return typeof e=="function"?zr()?Lr(e,t):"ease-out":Nr(e)?st(e):Array.isArray(e)?e.map(s=>Hr(s,t)||Yn.easeOut):Yn[e]}function oc(e,t,s,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const f=Hr(l,i);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(u,h)}function Wr(e){return typeof e=="function"&&"applyToOptions"in e}function ac({type:e,...t}){return Wr(e)&&zr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _r extends on{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Xs(typeof t.type!="string");const d=ac(t);this.animation=oc(s,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=rn(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):nc(s,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n,i;const t=(s=this.options)==null?void 0:s.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(n=this.animation).commitStyles)==null||i.call(n))}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return ae(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ae(t)}get time(){return ae(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=he(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&rc()?(this.animation.timeline=t,le):s(this)}}const Kr={anticipate:wr,backInOut:vr,circInOut:Tr};function lc(e){return e in Kr}function cc(e){typeof e.ease=="string"&&lc(e.ease)&&(e.ease=Kr[e.ease])}const rs=10;class dc extends _r{constructor(t){cc(t),Br(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new an({...o,autoplay:!1}),c=Math.max(rs,ne.now()-this.startTime),d=xe(0,rs,c-rs);s.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const Zn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fe.test(e)||e==="0")&&!e.startsWith("url("));function uc(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function hc(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Zn(i,t),l=Zn(a,t);return!o||!l?!1:uc(e)||(s==="spring"||Wr(s))&&n}function Ds(e){e.duration=0,e.type="keyframes"}const fc=new Set(["opacity","clipPath","filter","transform"]),mc=mr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pc(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:i,damping:a,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return mc()&&s&&fc.has(s)&&(s!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const gc=40;class xc extends on{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var x;super(),this.stop=()=>{var m,b;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ne.now();const h={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...f},g=(u==null?void 0:u.KeyframeResolver)||ln;this.keyframeResolver=new g(l,(m,b,v)=>this.onKeyframesResolved(m,b,h,!v),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,n,i){var b,v;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=ne.now(),hc(t,a,o,l)||((we.instantAnimations||!c)&&(u==null||u(rn(t,n,s))),t[0]=t[t.length-1],Ds(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>gc?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},g=!d&&pc(h),x=(v=(b=h.motionValue)==null?void 0:b.owner)==null?void 0:v.current,m=g?new dc({...h,element:x}):new an(h);m.finished.then(()=>{this.notifyFinished()}).catch(le),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),tc()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function Gr(e,t,s,n=0,i=1){const a=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*n;return typeof s=="function"?s(a,o):i===1?a*n:l-a*n}const yc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bc(e){const t=yc.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function qr(e,t,s=1){const[n,i]=bc(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return ur(o)?parseFloat(o):o}return Qs(i)?qr(i,t,s+1):i}const vc={type:"spring",stiffness:500,damping:25,restSpeed:10},wc=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jc={type:"keyframes",duration:.8},Tc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sc=(e,{keyframes:t})=>t.length>2?jc:Ye.has(e)?e.startsWith("scale")?wc(t[1]):vc:Tc,Nc=e=>e!==null;function Cc(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(Nc),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[a]}function Xr(e,t){if(e!=null&&e.inherit&&t){const{inherit:s,...n}=e;return{...t,...n}}return e}function cn(e,t){const s=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return s!==e?Xr(s,e):s}function Pc({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const dn=(e,t,s,n={},i,a)=>o=>{const l=cn(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-he(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Pc(l)||Object.assign(u,Sc(e,u)),u.duration&&(u.duration=he(u.duration)),u.repeatDelay&&(u.repeatDelay=he(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Ds(u),u.delay===0&&(f=!0)),(we.instantAnimations||we.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(f=!0,Ds(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=Cc(u.keyframes,l);if(h!==void 0){U.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new an(u):new xc(u)};function Jn(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function un(e,t,s,n){if(typeof t=="function"){const[i,a]=Jn(n);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Jn(n);t=t(s!==void 0?s:e.custom,i,a)}return t}function Ke(e,t,s){const n=e.getProps();return un(n,t,s!==void 0?s:n.custom,e)}const Yr=new Set(["width","height","top","left","right","bottom",...Xe]),Qn=30,kc=e=>!isNaN(parseFloat(e));class Ac{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const i=ne.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=ne.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kc(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Ys);const n=this.events[t].add(s);return t==="change"?()=>{n(),U.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ne.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Qn);return pr(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ge(e,t){return new Ac(e,t)}const Vs=e=>Array.isArray(e);function Mc(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ge(s))}function Ec(e){return Vs(e)?e[e.length-1]||0:e}function Dc(e,t){const s=Ke(e,t);let{transitionEnd:n={},transition:i={},...a}=s||{};a={...a,...n};for(const o in a){const l=Ec(a[o]);Mc(e,o,l)}}const te=e=>!!(e&&e.getVelocity);function Vc(e){return!!(te(e)&&e.add)}function Fs(e,t){const s=e.getValue("willChange");if(Vc(s))return s.add(t);if(!s&&we.WillChange){const n=new we.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function hn(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Fc="framerAppearId",Zr="data-"+hn(Fc);function Jr(e){return e.props[Zr]}function Rc({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Qr(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:a,transitionEnd:o,...l}=t;const c=e.getDefaultTransition();a=a?Xr(a,c):c;const d=a==null?void 0:a.reduceMotion;n&&(a=n);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const g=e.getValue(h,e.latestValues[h]??null),x=l[h];if(x===void 0||f&&Rc(f,h))continue;const m={delay:s,...cn(a||{},h)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===b&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const E=Jr(e);if(E){const N=window.MotionHandoffAnimation(E,h,U);N!==null&&(m.startTime=N,v=!0)}}Fs(e,h);const k=d??e.shouldReduceMotion;g.start(dn(h,g,x,k&&Yr.has(h)?{type:!1}:m,e,v));const C=g.animation;C&&u.push(C)}if(o){const h=()=>U.update(()=>{o&&Dc(e,o)});u.length?Promise.all(u).then(h):h()}return u}function Rs(e,t,s={}){var c;const n=Ke(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const a=n?()=>Promise.all(Qr(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return Lc(e,t,d,u,f,h,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(s.delay)])}function Lc(e,t,s=0,n=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Rs(c,t,{...o,delay:s+(typeof n=="function"?0:n)+Gr(e.variantChildren,c,n,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Ic(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Rs(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=Rs(e,t,s);else{const i=typeof t=="function"?Ke(e,t,s.custom):t;n=Promise.all(Qr(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Bc={test:e=>e==="auto",parse:e=>e},eo=e=>t=>t.test(e),to=[qe,M,ge,Se,fl,hl,Bc],ei=e=>to.find(eo(e));function Oc(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fr(e):!0}const $c=new Set(["brightness","contrast","saturate","opacity"]);function Uc(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(en)||[];if(!n)return e;const i=s.replace(n,"");let a=$c.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const zc=/\b([a-z-]*)\(.*?\)/gu,Ls={...fe,getAnimatableNone:e=>{const t=e.match(zc);return t?t.map(Uc).join(" "):e}},Is={...fe,getAnimatableNone:e=>{const t=fe.parse(e);return fe.createTransformer(e)(t.map(n=>typeof n=="number"?0:typeof n=="object"?{...n,alpha:1}:n))}},ti={...qe,transform:Math.round},Hc={rotate:Se,rotateX:Se,rotateY:Se,rotateZ:Se,scale:Tt,scaleX:Tt,scaleY:Tt,scaleZ:Tt,skew:Se,skewX:Se,skewY:Se,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:lt,originX:Un,originY:Un,originZ:M},fn={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,top:M,right:M,bottom:M,left:M,inset:M,insetBlock:M,insetBlockStart:M,insetBlockEnd:M,insetInline:M,insetInlineStart:M,insetInlineEnd:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,paddingBlock:M,paddingBlockStart:M,paddingBlockEnd:M,paddingInline:M,paddingInlineStart:M,paddingInlineEnd:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,marginBlock:M,marginBlockStart:M,marginBlockEnd:M,marginInline:M,marginInlineStart:M,marginInlineEnd:M,fontSize:M,backgroundPositionX:M,backgroundPositionY:M,...Hc,zIndex:ti,fillOpacity:lt,strokeOpacity:lt,numOctaves:ti},Wc={...fn,color:Y,backgroundColor:Y,outlineColor:Y,fill:Y,stroke:Y,borderColor:Y,borderTopColor:Y,borderRightColor:Y,borderBottomColor:Y,borderLeftColor:Y,filter:Ls,WebkitFilter:Ls,mask:Is,WebkitMask:Is},so=e=>Wc[e],_c=new Set([Ls,Is]);function no(e,t){let s=so(e);return _c.has(s)||(s=fe),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Kc=new Set(["auto","none","0"]);function Gc(e,t,s){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Kc.has(a)&&ct(a).values.length&&(i=e[n]),n++}if(i&&s)for(const a of t)e[a]=no(s,i)}class qc extends ln{constructor(t,s,n,i,a){super(t,s,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),Qs(f))){const h=qr(f,s.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Yr.has(n)||t.length!==2)return;const[i,a]=t,o=ei(i),l=ei(a),c=$n(i),d=$n(a);if(c!==d&&ke[n]){this.needsMeasurement=!0;return}if(o!==l)if(Xn(o)&&Xn(l))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else ke[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||Oc(t[i]))&&n.push(i);n.length&&Gc(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ke[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=ke[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Xc=new Set(["opacity","clipPath","filter","transform"]);function io(e,t,s){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(s==null?void 0:s[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(n=>n!=null)}const ro=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Bs(e){return hr(e)&&"offsetHeight"in e}const{schedule:mn}=Cr(queueMicrotask,!1),ue={x:!1,y:!1};function oo(){return ue.x||ue.y}function Yc(e){return e==="x"||e==="y"?ue[e]?null:(ue[e]=!0,()=>{ue[e]=!1}):ue.x||ue.y?null:(ue.x=ue.y=!0,()=>{ue.x=ue.y=!1})}function ao(e,t){const s=io(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function Zc(e){return!(e.pointerType==="touch"||oo())}function Jc(e,t,s={}){const[n,i,a]=ao(e,s);return n.forEach(o=>{let l=!1,c=!1,d;const u=()=>{o.removeEventListener("pointerleave",x)},f=b=>{d&&(d(b),d=void 0),u()},h=b=>{l=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),c&&(c=!1,f(b))},g=()=>{l=!0,window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",h,i)},x=b=>{if(b.pointerType!=="touch"){if(l){c=!0;return}f(b)}},m=b=>{if(!Zc(b))return;c=!1;const v=t(o,b);typeof v=="function"&&(d=v,o.addEventListener("pointerleave",x,i))};o.addEventListener("pointerenter",m,i),o.addEventListener("pointerdown",g,i)}),a}const lo=(e,t)=>t?e===t?!0:lo(e,t.parentElement):!1,pn=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Qc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ed(e){return Qc.has(e.tagName)||e.isContentEditable===!0}const td=new Set(["INPUT","SELECT","TEXTAREA"]);function sd(e){return td.has(e.tagName)||e.isContentEditable===!0}const Mt=new WeakSet;function si(e){return t=>{t.key==="Enter"&&e(t)}}function os(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nd=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=si(()=>{if(Mt.has(s))return;os(s,"down");const i=si(()=>{os(s,"up")}),a=()=>os(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function ni(e){return pn(e)&&!oo()}const ii=new WeakSet;function id(e,t,s={}){const[n,i,a]=ao(e,s),o=l=>{const c=l.currentTarget;if(!ni(l)||ii.has(l))return;Mt.add(c),s.stopPropagation&&ii.add(l);const d=t(c,l),u=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Mt.has(c)&&Mt.delete(c),ni(g)&&typeof d=="function"&&d(g,{success:x})},f=g=>{u(g,c===window||c===document||s.useGlobalTarget||lo(c,g.target))},h=g=>{u(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),Bs(l)&&(l.addEventListener("focus",d=>nd(d,i)),!ed(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function gn(e){return hr(e)&&"ownerSVGElement"in e}const Et=new WeakMap;let Ne;const co=(e,t,s)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:gn(n)&&"getBBox"in n?n.getBBox()[t]:n[s],rd=co("inline","width","offsetWidth"),od=co("block","height","offsetHeight");function ad({target:e,borderBoxSize:t}){var s;(s=Et.get(e))==null||s.forEach(n=>{n(e,{get width(){return rd(e,t)},get height(){return od(e,t)}})})}function ld(e){e.forEach(ad)}function cd(){typeof ResizeObserver>"u"||(Ne=new ResizeObserver(ld))}function dd(e,t){Ne||cd();const s=io(e);return s.forEach(n=>{let i=Et.get(n);i||(i=new Set,Et.set(n,i)),i.add(t),Ne==null||Ne.observe(n)}),()=>{s.forEach(n=>{const i=Et.get(n);i==null||i.delete(t),i!=null&&i.size||Ne==null||Ne.unobserve(n)})}}const Dt=new Set;let ze;function ud(){ze=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Dt.forEach(t=>t(e))},window.addEventListener("resize",ze)}function hd(e){return Dt.add(e),ze||ud(),()=>{Dt.delete(e),!Dt.size&&typeof ze=="function"&&(window.removeEventListener("resize",ze),ze=void 0)}}function ri(e,t){return typeof e=="function"?hd(e):dd(e,t)}function fd(e){return gn(e)&&e.tagName==="svg"}const md=[...to,Y,fe],pd=e=>md.find(eo(e)),oi=()=>({translate:0,scale:1,origin:0,originPoint:0}),He=()=>({x:oi(),y:oi()}),ai=()=>({min:0,max:0}),Q=()=>({x:ai(),y:ai()}),gd=new WeakMap;function Wt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function dt(e){return typeof e=="string"||Array.isArray(e)}const xn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yn=["initial",...xn];function _t(e){return Wt(e.animate)||yn.some(t=>dt(e[t]))}function uo(e){return!!(_t(e)||e.variants)}function xd(e,t,s){for(const n in t){const i=t[n],a=s[n];if(te(i))e.addValue(n,i);else if(te(a))e.addValue(n,Ge(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Ge(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Os={current:null},ho={current:!1},yd=typeof window<"u";function bd(){if(ho.current=!0,!!yd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Os.current=e.matches;e.addEventListener("change",t),t()}else Os.current=!1}const li=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ot={};function fo(e){Ot=e}function vd(){return Ot}class wd{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ln,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ne.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,U.render(this.render,!1,!0))};const{latestValues:d,renderState:u}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=_t(s),this.isVariantNode=uo(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const g in h){const x=h[g];d[g]!==void 0&&te(x)&&x.set(d[g])}}mount(t){var s,n;if(this.hasBeenMounted)for(const i in this.initialValues)(s=this.values.get(i))==null||s.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,gd.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ho.current||bd(),this.shouldReduceMotion=Os.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Ae(this.notifyUpdate),Ae(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),s.accelerate&&Xc.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:l,times:c,ease:d,duration:u}=s.accelerate,f=new _r({element:this.current,name:t,keyframes:l,times:c,ease:d,duration:he(u)}),h=o(f);this.valueSubscriptions.set(t,()=>{h(),f.cancel()});return}const n=Ye.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&U.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ot){const s=Ot[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Q()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<li.length;n++){const i=li[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=xd(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Ge(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(ur(n)||fr(n))?n=parseFloat(n):!pd(n)&&fe.test(s)&&(n=no(t,s)),this.setBaseTarget(t,te(n)?n.get():n)),te(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=un(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[t])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!te(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Ys),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){mn.render(this.render)}}class mo extends wd{constructor(){super(...arguments),this.KeyframeResolver=qc}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){const n=t.style;return n?n[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;te(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Ee{constructor(t){this.isMounted=!1,this.node=t}update(){}}function po({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function jd({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Td(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function as(e){return e===void 0||e===1}function $s({scale:e,scaleX:t,scaleY:s}){return!as(e)||!as(t)||!as(s)}function Ve(e){return $s(e)||go(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function go(e){return ci(e.x)||ci(e.y)}function ci(e){return e&&e!=="0%"}function $t(e,t,s){const n=e-s,i=t*n;return s+i}function di(e,t,s,n,i){return i!==void 0&&(e=$t(e,i,n)),$t(e,s,n)+t}function Us(e,t=0,s=1,n,i){e.min=di(e.min,t,s,n,i),e.max=di(e.max,t,s,n,i)}function xo(e,{x:t,y:s}){Us(e.x,t.translate,t.scale,t.originPoint),Us(e.y,s.translate,s.scale,s.originPoint)}const ui=.999999999999,hi=1.0000000000001;function Sd(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_e(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xo(e,o)),n&&Ve(a.latestValues)&&_e(e,a.latestValues))}t.x<hi&&t.x>ui&&(t.x=1),t.y<hi&&t.y>ui&&(t.y=1)}function We(e,t){e.min=e.min+t,e.max=e.max+t}function fi(e,t,s,n,i=.5){const a=H(e.min,e.max,i);Us(e,t,s,a,n)}function _e(e,t){fi(e.x,t.x,t.scaleX,t.scale,t.originX),fi(e.y,t.y,t.scaleY,t.scale,t.originY)}function yo(e,t){return po(Td(e.getBoundingClientRect(),t))}function Nd(e,t,s){const n=yo(e,s),{scroll:i}=t;return i&&(We(n.x,i.offset.x),We(n.y,i.offset.y)),n}const Cd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pd=Xe.length;function kd(e,t,s){let n="",i=!0;for(let a=0;a<Pd;a++){const o=Xe[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);c=o.startsWith("scale")?d===1:d===0}if(!c||s){const d=ro(l,fn[o]);if(!c){i=!1;const u=Cd[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function bn(e,t,s){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Ye.has(c)){o=!0;continue}else if(kr(c)){i[c]=d;continue}else{const u=ro(d,fn[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=kd(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}function bo(e,{style:t,vars:s},n,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,n);for(o in s)a.setProperty(o,s[o])}function mi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qe={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(M.test(e))e=parseFloat(e);else return e;const s=mi(e,t.target.x),n=mi(e,t.target.y);return`${s}% ${n}%`}},Ad={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=fe.parse(e);if(i.length>5)return n;const a=fe.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=H(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},zs={borderRadius:{...Qe,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomLeftRadius:Qe,borderBottomRightRadius:Qe,boxShadow:Ad};function vo(e,{layout:t,layoutId:s}){return Ye.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!zs[e]||e==="opacity")}function vn(e,t,s){var o;const n=e.style,i=t==null?void 0:t.style,a={};if(!n)return a;for(const l in n)(te(n[l])||i&&te(i[l])||vo(l,e)||((o=s==null?void 0:s.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=n[l]);return a}function Md(e){return window.getComputedStyle(e)}class Ed extends mo{constructor(){super(...arguments),this.type="html",this.renderInstance=bo}readValueFromInstance(t,s){var n;if(Ye.has(s))return(n=this.projection)!=null&&n.isProjecting?Ps(s):Yl(t,s);{const i=Md(t),a=(kr(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return yo(t,s)}build(t,s,n){bn(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return vn(t,s,n)}}const Dd={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vd={offset:"strokeDashoffset",array:"strokeDasharray"};function Fd(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?Dd:Vd;e[a.offset]=`${-n}`,e[a.array]=`${t} ${s}`}const Rd=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function wo(e,{attrX:t,attrY:s,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(bn(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox);for(const g of Rd)f[g]!==void 0&&(h[g]=f[g],delete f[g]);t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),i!==void 0&&Fd(f,i,a,o,!1)}const jo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),To=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ld(e,t,s,n){bo(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(jo.has(i)?i:hn(i),t.attrs[i])}function So(e,t,s){const n=vn(e,t,s);for(const i in e)if(te(e[i])||te(t[i])){const a=Xe.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}class Id extends mo{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Q}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Ye.has(s)){const n=so(s);return n&&n.default||0}return s=jo.has(s)?s:hn(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return So(t,s,n)}build(t,s,n){wo(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,i){Ld(t,s,n,i)}mount(t){this.isSVGTag=To(t.tagName),super.mount(t)}}const Bd=yn.length;function No(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?No(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Bd;s++){const n=yn[s],i=e.props[n];(dt(i)||i===!1)&&(t[n]=i)}return t}function Co(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const Od=[...xn].reverse(),$d=xn.length;function Ud(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Ic(e,s,n)))}function zd(e){let t=Ud(e),s=pi(),n=!0;const i=c=>(d,u)=>{var h;const f=Ke(e,u,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:x,...m}=f;d={...d,...m,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=No(e.parent)||{},f=[],h=new Set;let g={},x=1/0;for(let b=0;b<$d;b++){const v=Od[b],k=s[v],C=d[v]!==void 0?d[v]:u[v],E=dt(C),N=v===c?k.isActive:null;N===!1&&(x=b);let T=C===u[v]&&C!==d[v]&&E;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),k.protectedKeys={...g},!k.isActive&&N===null||!C&&!k.prevProp||Wt(C)||typeof C=="boolean")continue;if(v==="exit"&&k.isActive&&N!==!0){k.prevResolvedValues&&(g={...g,...k.prevResolvedValues});continue}const S=Hd(k.prevProp,C);let P=S||v===c&&k.isActive&&!T&&E||b>x&&E,D=!1;const $=Array.isArray(C)?C:[C];let Z=$.reduce(i(v),{});N===!1&&(Z={});const{prevResolvedValues:L={}}=k,ye={...L,...Z},gt=G=>{P=!0,h.has(G)&&(D=!0,h.delete(G)),k.needsAnimating[G]=!0;const q=e.getValue(G);q&&(q.liveStyle=!1)};for(const G in ye){const q=Z[G],re=L[G];if(g.hasOwnProperty(G))continue;let Te=!1;Vs(q)&&Vs(re)?Te=!Co(q,re):Te=q!==re,Te?q!=null?gt(G):h.add(G):q!==void 0&&h.has(G)?gt(G):k.protectedKeys[G]=!0}k.prevProp=C,k.prevResolvedValues=Z,k.isActive&&(g={...g,...Z}),n&&e.blockInitialAnimation&&(P=!1);const Ze=T&&S;P&&(!Ze||D)&&f.push(...$.map(G=>{const q={type:v};if(typeof G=="string"&&n&&!Ze&&e.manuallyAnimateOnMount&&e.parent){const{parent:re}=e,Te=Ke(re,G);if(re.enteringChildren&&Te){const{delayChildren:Oe}=Te.transition||{};q.delay=Gr(re.enteringChildren,e,Oe)}}return{animation:G,options:q}}))}if(h.size){const b={};if(typeof d.initial!="boolean"){const v=Ke(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(b.transition=v.transition)}h.forEach(v=>{const k=e.getBaseTarget(v),C=e.getValue(v);C&&(C.liveStyle=!0),b[v]=k??null}),f.push({animation:b})}let m=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,d){var f;if(s[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const h in s)s[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=pi()}}}function Hd(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Co(t,e):!1}function De(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pi(){return{animate:De(!0),whileInView:De(),whileHover:De(),whileTap:De(),whileDrag:De(),whileFocus:De(),exit:De()}}function gi(e,t){e.min=t.min,e.max=t.max}function ce(e,t){gi(e.x,t.x),gi(e.y,t.y)}function xi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Po=1e-4,Wd=1-Po,_d=1+Po,ko=.01,Kd=0-ko,Gd=0+ko;function ie(e){return e.max-e.min}function qd(e,t,s){return Math.abs(e-t)<=s}function yi(e,t,s,n=.5){e.origin=n,e.originPoint=H(t.min,t.max,e.origin),e.scale=ie(s)/ie(t),e.translate=H(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Wd&&e.scale<=_d||isNaN(e.scale))&&(e.scale=1),(e.translate>=Kd&&e.translate<=Gd||isNaN(e.translate))&&(e.translate=0)}function rt(e,t,s,n){yi(e.x,t.x,s.x,n?n.originX:void 0),yi(e.y,t.y,s.y,n?n.originY:void 0)}function bi(e,t,s){e.min=s.min+t.min,e.max=e.min+ie(t)}function Xd(e,t,s){bi(e.x,t.x,s.x),bi(e.y,t.y,s.y)}function vi(e,t,s){e.min=t.min-s.min,e.max=e.min+ie(t)}function Ut(e,t,s){vi(e.x,t.x,s.x),vi(e.y,t.y,s.y)}function wi(e,t,s,n,i){return e-=t,e=$t(e,1/s,n),i!==void 0&&(e=$t(e,1/i,n)),e}function Yd(e,t=0,s=1,n=.5,i,a=e,o=e){if(ge.test(t)&&(t=parseFloat(t),t=H(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=H(a.min,a.max,n);e===a&&(l-=t),e.min=wi(e.min,t,s,l,i),e.max=wi(e.max,t,s,l,i)}function ji(e,t,[s,n,i],a,o){Yd(e,t[s],t[n],t[i],t.scale,a,o)}const Zd=["x","scaleX","originX"],Jd=["y","scaleY","originY"];function Ti(e,t,s,n){ji(e.x,t,Zd,s?s.x:void 0,n?n.x:void 0),ji(e.y,t,Jd,s?s.y:void 0,n?n.y:void 0)}function Si(e){return e.translate===0&&e.scale===1}function Ao(e){return Si(e.x)&&Si(e.y)}function Ni(e,t){return e.min===t.min&&e.max===t.max}function Qd(e,t){return Ni(e.x,t.x)&&Ni(e.y,t.y)}function Ci(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Mo(e,t){return Ci(e.x,t.x)&&Ci(e.y,t.y)}function Pi(e){return ie(e.x)/ie(e.y)}function ki(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function me(e){return[e("x"),e("y")]}function eu(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:h,skewX:g,skewY:x}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Eo=["TopLeft","TopRight","BottomLeft","BottomRight"],tu=Eo.length,Ai=e=>typeof e=="string"?parseFloat(e):e,Mi=e=>typeof e=="number"||M.test(e);function su(e,t,s,n,i,a){i?(e.opacity=H(0,s.opacity??1,nu(n)),e.opacityExit=H(t.opacity??1,0,iu(n))):a&&(e.opacity=H(t.opacity??1,s.opacity??1,n));for(let o=0;o<tu;o++){const l=`border${Eo[o]}Radius`;let c=Ei(t,l),d=Ei(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Mi(c)===Mi(d)?(e[l]=Math.max(H(Ai(c),Ai(d),n),0),(ge.test(d)||ge.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=H(t.rotate||0,s.rotate||0,n))}function Ei(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nu=Do(0,.5,jr),iu=Do(.5,.95,le);function Do(e,t,s){return n=>n<e?0:n>t?1:s(at(e,t,n))}function ru(e,t,s){const n=te(e)?e:Ge(e);return n.start(dn("",n,t,s)),n.animation}function ut(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const ou=(e,t)=>e.depth-t.depth;class au{constructor(){this.children=[],this.isDirty=!1}add(t){qs(this.children,t),this.isDirty=!0}remove(t){Rt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ou),this.isDirty=!1,this.children.forEach(t)}}function lu(e,t){const s=ne.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(Ae(n),e(a-t))};return U.setup(n,!0),()=>Ae(n)}function Vt(e){return te(e)?e.get():e}class cu{constructor(){this.members=[]}add(t){qs(this.members,t);for(let s=this.members.length-1;s>=0;s--){const n=this.members[s];if(n===t||n===this.lead||n===this.prevLead)continue;const i=n.instance;i&&i.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Rt(this.members,n)}t.scheduleRender()}remove(t){if(Rt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i],o=a.instance;if(a.isPresent!==!1&&(!o||o.isConnected!==!1)){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const i=n.options.layoutDependency,a=t.options.layoutDependency;if(!(i!==void 0&&a!==void 0&&i===a)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ft={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ls=["","X","Y","Z"],du=1e3;let uu=0;function cs(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Vo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Jr(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",U,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Vo(n)}function Fo({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=uu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mu),this.nodes.forEach(yu),this.nodes.forEach(bu),this.nodes.forEach(pu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new au)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ys),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=gn(o)&&!fd(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;U.read(()=>{f=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,u&&u(),u=lu(h,250),Ft.hasAnimatedSinceResize&&(Ft.hasAnimatedSinceResize=!1,this.nodes.forEach(Fi)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Su,{onLayoutAnimationStart:m,onLayoutAnimationComplete:b}=d.getProps(),v=!this.targetLayout||!Mo(this.targetLayout,g),k=!f&&h;if(this.options.layoutRoot||this.resumeFrom||k||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...cn(x,"layout"),onPlay:m,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(u,k)}else f||Fi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ae(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vu),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Di);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vi);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xu),this.nodes.forEach(hu),this.nodes.forEach(fu)):this.nodes.forEach(Vi),this.clearAllSnapshots();const l=ne.now();ee.delta=xe(0,1e3/60,l-ee.timestamp),ee.timestamp=l,ee.isProcessing=!0,es.update.process(ee),es.preRender.process(ee),es.render.process(ee),ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gu),this.sharedNodes.forEach(wu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,U.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){U.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ie(this.snapshot.measuredBox.x)&&!ie(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Q(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ao(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ve(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Nu(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Q();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Cu))){const{scroll:u}=this.root;u&&(We(l.x,u.offset.x),We(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Q();if(ce(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ce(l,o),We(l.x,f.offset.x),We(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Q();ce(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_e(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ve(u.latestValues)&&_e(c,u.latestValues)}return Ve(this.latestValues)&&_e(c,this.latestValues),c}removeTransform(o){const l=Q();ce(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ve(d.latestValues))continue;$s(d.latestValues)&&d.updateSnapshot();const u=Q(),f=d.measurePageBox();ce(u,f),Ti(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ve(this.latestValues)&&Ti(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=ee.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Q(),this.targetWithTransforms=Q()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xd(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ce(this.target,this.layout.layoutBox),xo(this.target,this.targetDelta)):ce(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$s(this.parent.latestValues)||go(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Q(),this.relativeTargetOrigin=Q(),Ut(this.relativeTargetOrigin,l,c),ce(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ee.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ce(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Sd(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Q());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xi(this.prevProjectionDelta.x,this.projectionDelta.x),xi(this.prevProjectionDelta.y,this.projectionDelta.y)),rt(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!ki(this.projectionDelta.x,this.prevProjectionDelta.x)||!ki(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=He(),this.projectionDelta=He(),this.projectionDeltaWithTransform=He()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=He();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Q(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,m=g!==x,b=this.getStack(),v=!b||b.members.length<=1,k=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(Tu));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const N=E/1e3;Ri(f.x,o.x,N),Ri(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ut(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ju(this.relativeTarget,this.relativeTargetOrigin,h,N),C&&Qd(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Q()),ce(C,this.relativeTarget)),m&&(this.animationValues=u,su(u,d,this.latestValues,N,k,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ae(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=U.update(()=>{Ft.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ge(0)),this.motionValue.jump(0,!1),this.currentAnimation=ru(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(du),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Ro(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Q();const f=ie(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=ie(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ce(l,c),_e(l,u),rt(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cu),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&cs("z",o,d,this.animationValues);for(let u=0;u<ls.length;u++)cs(`rotate${ls[u]}`,o,d,this.animationValues),cs(`skew${ls[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Vt(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Vt(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ve(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=eu(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:h,y:g}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in zs){if(u[x]===void 0)continue;const{correct:m,applyTo:b,isCSSVariable:v}=zs[x],k=f==="none"?u[x]:m(u[x],d);if(b){const C=b.length;for(let E=0;E<C;E++)o[b[E]]=k}else v?this.options.visualElement.renderState.vars[x]=k:o[x]=k}this.options.layoutId&&(o.pointerEvents=d===this?Vt(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Di),this.root.sharedNodes.clear()}}}function hu(e){e.updateLayout()}function fu(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?me(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],g=ie(h);h.min=n[f].min,h.max=h.min+g}):Ro(a,t.layoutBox,n)&&me(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],g=ie(n[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=He();rt(l,n,t.layoutBox);const c=He();o?rt(c,e.applyTransform(i,!0),t.measuredBox):rt(c,n,t.layoutBox);const d=!Ao(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const x=Q();Ut(x,t.layoutBox,h.layoutBox);const m=Q();Ut(m,n,g.layoutBox),Mo(x,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function mu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gu(e){e.clearSnapshot()}function Di(e){e.clearMeasurements()}function Vi(e){e.isLayoutDirty=!1}function xu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yu(e){e.resolveTargetDelta()}function bu(e){e.calcProjection()}function vu(e){e.resetSkewAndRotation()}function wu(e){e.removeLeadSnapshot()}function Ri(e,t,s){e.translate=H(t.translate,0,s),e.scale=H(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Li(e,t,s,n){e.min=H(t.min,s.min,n),e.max=H(t.max,s.max,n)}function ju(e,t,s,n){Li(e.x,t.x,s.x,n),Li(e.y,t.y,s.y,n)}function Tu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Su={duration:.45,ease:[.4,0,.1,1]},Ii=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Bi=Ii("applewebkit/")&&!Ii("chrome/")?Math.round:le;function Oi(e){e.min=Bi(e.min),e.max=Bi(e.max)}function Nu(e){Oi(e.x),Oi(e.y)}function Ro(e,t,s){return e==="position"||e==="preserve-aspect"&&!qd(Pi(t),Pi(s),.2)}function Cu(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Pu=Fo({attachResizeListener:(e,t)=>ut(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),ds={current:void 0},Lo=Fo({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ds.current){const e=new Pu({});e.mount(window),e.setOptions({layoutScroll:!0}),ds.current=e}return ds.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wn=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function $i(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ku(...e){return t=>{let s=!1;const n=e.map(i=>{const a=$i(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():$i(e[i],null)}}}}function Au(...e){return y.useCallback(ku(...e),e)}class Mu extends y.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=s.offsetParent,i=Bs(n)&&n.offsetWidth||0,a=Bs(n)&&n.offsetHeight||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=i-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Eu({children:e,isPresent:t,anchorX:s,anchorY:n,root:i,pop:a}){var h;const o=y.useId(),l=y.useRef(null),c=y.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=y.useContext(wn),u=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),f=Au(l,u);return y.useInsertionEffect(()=>{const{width:g,height:x,top:m,left:b,right:v,bottom:k}=c.current;if(t||a===!1||!l.current||!g||!x)return;const C=s==="left"?`left: ${b}`:`right: ${v}`,E=n==="bottom"?`bottom: ${k}`:`top: ${m}`;l.current.dataset.motionPopId=o;const N=document.createElement("style");d&&(N.nonce=d);const T=i??document.head;return T.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${x}px !important;
            ${C}px !important;
            ${E}px !important;
          }
        `),()=>{T.contains(N)&&T.removeChild(N)}},[t]),r.jsx(Mu,{isPresent:t,childRef:l,sizeRef:c,pop:a,children:a===!1?e:y.cloneElement(e,{ref:f})})}const Du=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,anchorY:c,root:d})=>{const u=Gs(Vu),f=y.useId();let h=!0,g=y.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:s,custom:i,onExitComplete:x=>{u.set(x,!0);for(const m of u.values())if(!m)return;n&&n()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[s,u,n]);return a&&h&&(g={...g}),y.useMemo(()=>{u.forEach((x,m)=>u.set(m,!1))},[s]),y.useEffect(()=>{!s&&!u.size&&n&&n()},[s]),e=r.jsx(Eu,{pop:o==="popLayout",isPresent:s,anchorX:l,anchorY:c,root:d,children:e}),r.jsx(Ht.Provider,{value:g,children:e})};function Vu(){return new Map}function Io(e=!0){const t=y.useContext(Ht);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,a=y.useId();y.useEffect(()=>{if(e)return i(a)},[e]);const o=y.useCallback(()=>e&&n&&n(a),[a,n,e]);return!s&&n?[!1,o]:[!0]}const St=e=>e.key||"";function Ui(e){const t=[];return y.Children.forEach(e,s=>{y.isValidElement(s)&&t.push(s)}),t}const Ce=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[u,f]=Io(o),h=y.useMemo(()=>Ui(e),[e]),g=o&&!u?[]:h.map(St),x=y.useRef(!0),m=y.useRef(h),b=Gs(()=>new Map),v=y.useRef(new Set),[k,C]=y.useState(h),[E,N]=y.useState(h);dr(()=>{x.current=!1,m.current=h;for(let P=0;P<E.length;P++){const D=St(E[P]);g.includes(D)?(b.delete(D),v.current.delete(D)):b.get(D)!==!0&&b.set(D,!1)}},[E,g.length,g.join("-")]);const T=[];if(h!==k){let P=[...h];for(let D=0;D<E.length;D++){const $=E[D],Z=St($);g.includes(Z)||(P.splice(D,0,$),T.push($))}return a==="wait"&&T.length&&(P=T),N(Ui(P)),C(h),null}const{forceRender:S}=y.useContext(Ks);return r.jsx(r.Fragment,{children:E.map(P=>{const D=St(P),$=o&&!u?!1:h===E||g.includes(D),Z=()=>{if(v.current.has(D))return;if(v.current.add(D),b.has(D))b.set(D,!0);else return;let L=!0;b.forEach(ye=>{ye||(L=!1)}),L&&(S==null||S(),N(m.current),o&&(f==null||f()),n&&n())};return r.jsx(Du,{isPresent:$,initial:!x.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:$?void 0:Z,anchorX:l,anchorY:c,children:P},D)})})},Bo=y.createContext({strict:!1}),zi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Hi=!1;function Fu(){if(Hi)return;const e={};for(const t in zi)e[t]={isEnabled:s=>zi[t].some(n=>!!s[n])};fo(e),Hi=!0}function Oo(){return Fu(),vd()}function Ru(e){const t=Oo();for(const s in e)t[s]={...t[s],...e[s]};fo(t)}const Lu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function zt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lu.has(e)}let $o=e=>!zt(e);function Iu(e){typeof e=="function"&&($o=t=>t.startsWith("on")?!zt(t):e(t))}try{Iu(require("@emotion/is-prop-valid").default)}catch{}function Bu(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||($o(i)||s===!0&&zt(i)||!t&&!zt(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Kt=y.createContext({});function Ou(e,t){if(_t(e)){const{initial:s,animate:n}=e;return{initial:s===!1||dt(s)?s:void 0,animate:dt(n)?n:void 0}}return e.inherit!==!1?t:{}}function $u(e){const{initial:t,animate:s}=Ou(e,y.useContext(Kt));return y.useMemo(()=>({initial:t,animate:s}),[Wi(t),Wi(s)])}function Wi(e){return Array.isArray(e)?e.join(" "):e}const jn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uo(e,t,s){for(const n in t)!te(t[n])&&!vo(n,s)&&(e[n]=t[n])}function Uu({transformTemplate:e},t){return y.useMemo(()=>{const s=jn();return bn(s,t,e),Object.assign({},s.vars,s.style)},[t])}function zu(e,t){const s=e.style||{},n={};return Uo(n,s,e),Object.assign(n,Uu(e,t)),n}function Hu(e,t){const s={},n=zu(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const zo=()=>({...jn(),attrs:{}});function Wu(e,t,s,n){const i=y.useMemo(()=>{const a=zo();return wo(a,t,To(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Uo(a,e.style,e),i.style={...a,...i.style}}return i}const _u=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tn(e){return typeof e!="string"||e.includes("-")?!1:!!(_u.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ku(e,t,s,{latestValues:n},i,a=!1,o){const c=(o??Tn(e)?Wu:Hu)(t,n,i,e),d=Bu(t,typeof e=="string",a),u=e!==y.Fragment?{...d,...c,ref:s}:{},{children:f}=t,h=y.useMemo(()=>te(f)?f.get():f,[f]);return y.createElement(e,{...u,children:h})}function Gu({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,i){return{latestValues:qu(s,n,i,e),renderState:t()}}function qu(e,t,s,n){const i={},a=n(e,{});for(const h in a)i[h]=Vt(a[h]);let{initial:o,animate:l}=e;const c=_t(e),d=uo(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!Wt(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const x=un(e,h[g]);if(x){const{transitionEnd:m,transition:b,...v}=x;for(const k in v){let C=v[k];if(Array.isArray(C)){const E=u?C.length-1:0;C=C[E]}C!==null&&(i[k]=C)}for(const k in m)i[k]=m[k]}}}return i}const Ho=e=>(t,s)=>{const n=y.useContext(Kt),i=y.useContext(Ht),a=()=>Gu(e,t,n,i);return s?a():Gs(a)},Xu=Ho({scrapeMotionValuesFromProps:vn,createRenderState:jn}),Yu=Ho({scrapeMotionValuesFromProps:So,createRenderState:zo}),Zu=Symbol.for("motionComponentSymbol");function Ju(e,t,s){const n=y.useRef(s);y.useInsertionEffect(()=>{n.current=s});const i=y.useRef(null);return y.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=n.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const Wo=y.createContext({});function $e(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qu(e,t,s,n,i,a){var C,E;const{visualElement:o}=y.useContext(Kt),l=y.useContext(Bo),c=y.useContext(Ht),d=y.useContext(wn),u=d.reducedMotion,f=d.skipAnimations,h=y.useRef(null),g=y.useRef(!1);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,skipAnimations:f,isSVG:a}),g.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const x=h.current,m=y.useContext(Wo);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&eh(h.current,s,i,m);const b=y.useRef(!1);y.useInsertionEffect(()=>{x&&b.current&&x.update(s,c)});const v=s[Zr],k=y.useRef(!!v&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,v))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,v)));return dr(()=>{g.current=!0,x&&(b.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),k.current&&x.animationState&&x.animationState.animateChanges())}),y.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,v)}),k.current=!1),x.enteringChildren=void 0)}),x}function eh(e,t,s,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:_o(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&$e(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function _o(e){if(e)return e.options.allowProjection!==!1?e.projection:_o(e.parent)}function us(e,{forwardMotionProps:t=!1,type:s}={},n,i){n&&Ru(n);const a=s?s==="svg":Tn(e),o=a?Yu:Xu;function l(d,u){let f;const h={...y.useContext(wn),...d,layoutId:th(d)},{isStatic:g}=h,x=$u(d),m=o(d,g);if(!g&&cr){sh();const b=nh(h);f=b.MeasureLayout,x.visualElement=Qu(e,m,h,i,b.ProjectionNode,a)}return r.jsxs(Kt.Provider,{value:x,children:[f&&x.visualElement?r.jsx(f,{visualElement:x.visualElement,...h}):null,Ku(e,d,Ju(m,x.visualElement,u),m,g,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=y.forwardRef(l);return c[Zu]=e,c}function th({layoutId:e}){const t=y.useContext(Ks).id;return t&&e!==void 0?t+"-"+e:e}function sh(e,t){y.useContext(Bo).strict}function nh(e){const t=Oo(),{drag:s,layout:n}=t;if(!s&&!n)return{};const i={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function ih(e,t){if(typeof Proxy>"u")return us;const s=new Map,n=(a,o)=>us(a,o,e,t),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(s.has(o)||s.set(o,us(o,void 0,e,t)),s.get(o))})}const rh=(e,t)=>t.isSVG??Tn(e)?new Id(t):new Ed(t,{allowProjection:e!==y.Fragment});class oh extends Ee{constructor(t){super(t),t.animationState||(t.animationState=zd(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ah=0;class lh extends Ee{constructor(){super(...arguments),this.id=ah++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ch={animation:{Feature:oh},exit:{Feature:lh}};function pt(e){return{point:{x:e.pageX,y:e.pageY}}}const dh=e=>t=>pn(t)&&e(t,pt(t));function ot(e,t,s,n){return ut(e,t,dh(s),n)}const Ko=({current:e})=>e?e.ownerDocument.defaultView:null,_i=(e,t)=>Math.abs(e-t);function uh(e,t){const s=_i(e.x,t.x),n=_i(e.y,t.y);return Math.sqrt(s**2+n**2)}const Ki=new Set(["auto","scroll"]);class Go{constructor(t,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=fs(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,m=uh(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!m)return;const{point:b}=g,{timestamp:v}=ee;this.history.push({...b,timestamp:v});const{onStart:k,onMove:C}=this.handlers;x||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=hs(x,this.transformPagePoint),U.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=fs(g.type==="pointercancel"?this.lastMoveEventInfo:hs(x,this.transformPagePoint),this.history);this.startEvent&&m&&m(g,k),b&&b(g,k)},!pn(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const c=pt(t),d=hs(c,this.transformPagePoint),{point:u}=d,{timestamp:f}=ee;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=s;h&&h(t,fs(d,this.history)),this.removeListeners=ht(ot(this.contextWindow,"pointermove",this.handlePointerMove),ot(this.contextWindow,"pointerup",this.handlePointerUp),ot(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let s=t.parentElement;for(;s;){const n=getComputedStyle(s);(Ki.has(n.overflowX)||Ki.has(n.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-s.x,y:i.y-s.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),U.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ae(this.updatePoint)}}function hs(e,t){return t?{point:t(e.point)}:e}function Gi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fs({point:e},t){return{point:e,delta:Gi(e,qo(t)),offset:Gi(e,hh(t)),velocity:fh(t,.1)}}function hh(e){return e[0]}function qo(e){return e[e.length-1]}function fh(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=qo(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>he(t)));)s--;if(!n)return{x:0,y:0};n===e[0]&&e.length>2&&i.timestamp-n.timestamp>he(t)*2&&(n=e[1]);const a=ae(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mh(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?H(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?H(s,e,n.max):Math.min(e,s)),e}function qi(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function ph(e,{top:t,left:s,bottom:n,right:i}){return{x:qi(e.x,s,i),y:qi(e.y,t,n)}}function Xi(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function gh(e,t){return{x:Xi(e.x,t.x),y:Xi(e.y,t.y)}}function xh(e,t){let s=.5;const n=ie(e),i=ie(t);return i>n?s=at(t.min,t.max-n,e.min):n>i&&(s=at(e.min,e.max-i,t.min)),xe(0,1,s)}function yh(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Hs=.35;function bh(e=Hs){return e===!1?e=0:e===!0&&(e=Hs),{x:Yi(e,"left","right"),y:Yi(e,"top","bottom")}}function Yi(e,t,s){return{min:Zi(e,t),max:Zi(e,s)}}function Zi(e,t){return typeof e=="number"?e:e[t]||0}const vh=new WeakMap;class wh{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Q(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{s&&this.snapToCursor(pt(f).point),this.stopAnimation()},o=(f,h)=>{const{drag:g,dragPropagation:x,onDragStart:m}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yc(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),me(v=>{let k=this.getAxisMotionValue(v).get()||0;if(ge.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[v];E&&(k=ie(E)*(parseFloat(k)/100))}}this.originPoint[v]=k}),m&&U.update(()=>m(f,h),!1,!0),Fs(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:m,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:v}=h;if(x&&this.currentDirection===null){this.currentDirection=Th(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),b&&U.update(()=>b(f,h),!1,!0)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:f}=this.getProps();(f||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new Go(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Ko(this.visualElement),element:this.visualElement.current})}stop(t,s){const n=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&U.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!Nt(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=mh(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&$e(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=ph(n.layoutBox,t):this.constraints=!1,this.elastic=bh(s),i!==this.constraints&&!$e(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&me(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yh(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!$e(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Nd(n,i.root,this.visualElement.getTransformPagePoint());let o=gh(i.layout.layoutBox,a);if(s){const l=s(jd(o));this.hasMutatedConstraints=!!l,l&&(o=po(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=me(u=>{if(!Nt(u,s,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Fs(this.visualElement,t),n.start(dn(t,n,0,s,this.visualElement,!1))}stopAnimation(){me(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){me(s=>{const{drag:n}=this.getProps();if(!Nt(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s],c=a.get()||0;a.set(t[s]-H(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!$e(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};me(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=xh({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),me(o=>{if(!Nt(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(H(c,d,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;vh.set(this.visualElement,this);const t=this.visualElement.current,s=ot(t,"pointerdown",d=>{const{drag:u,dragListener:f=!0}=this.getProps(),h=d.target,g=h!==t&&sd(h);u&&f&&!g&&this.start(d)});let n;const i=()=>{const{dragConstraints:d}=this.getProps();$e(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),n||(n=jh(t,d.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),U.read(i);const l=ut(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:u})=>{this.isDragging&&u&&(me(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=d[f].translate,h.set(h.get()+d[f].translate))}),this.visualElement.render())}));return()=>{l(),s(),o(),c&&c(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Hs,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Ji(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function jh(e,t,s){const n=ri(e,Ji(s)),i=ri(t,Ji(s));return()=>{n(),i()}}function Nt(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Th(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Sh extends Ee{constructor(t){super(t),this.removeGroupControls=le,this.removeListeners=le,this.controls=new wh(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||le}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const ms=e=>(t,s)=>{e&&U.update(()=>e(t,s),!1,!0)};class Nh extends Ee{constructor(){super(...arguments),this.removePointerDownListener=le}onPointerDown(t){this.session=new Go(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ko(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ms(t),onStart:ms(s),onMove:ms(n),onEnd:(a,o)=>{delete this.session,i&&U.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=ot(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ps=!1;class Ch extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),ps&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ft.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,t.layoutDependency!==s&&o.setOptions({...o.options,layoutDependency:s}),ps=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||U.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mn.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;ps=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Xo(e){const[t,s]=Io(),n=y.useContext(Ks);return r.jsx(Ch,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(Wo),isPresent:t,safeToRemove:s})}const Ph={pan:{Feature:Nh},drag:{Feature:Sh,ProjectionNode:Lo,MeasureLayout:Xo}};function Qi(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=n[i];a&&U.postRender(()=>a(t,pt(t)))}class kh extends Ee{mount(){const{current:t}=this.node;t&&(this.unmount=Jc(t,(s,n)=>(Qi(this.node,n,"Start"),i=>Qi(this.node,i,"End"))))}unmount(){}}class Ah extends Ee{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ht(ut(this.node.current,"focus",()=>this.onFocus()),ut(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function er(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=n[i];a&&U.postRender(()=>a(t,pt(t)))}class Mh extends Ee{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:s,propagate:n}=this.node.props;this.unmount=id(t,(i,a)=>(er(this.node,a,"Start"),(o,{success:l})=>er(this.node,o,l?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const Ws=new WeakMap,gs=new WeakMap,Eh=e=>{const t=Ws.get(e.target);t&&t(e)},Dh=e=>{e.forEach(Eh)};function Vh({root:e,...t}){const s=e||document;gs.has(s)||gs.set(s,{});const n=gs.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Dh,{root:e,...t})),n[i]}function Fh(e,t,s){const n=Vh(t);return Ws.set(e,s),n.observe(e),()=>{Ws.delete(e),n.unobserve(e)}}const Rh={some:0,all:1};class Lh extends Ee{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Rh[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=d?u:f;h&&h(c)};return Fh(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Ih(t,s))&&this.startObserver()}unmount(){}}function Ih({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Bh={inView:{Feature:Lh},tap:{Feature:Mh},focus:{Feature:Ah},hover:{Feature:kh}},Oh={layout:{ProjectionNode:Lo,MeasureLayout:Xo}},$h={...ch,...Bh,...Ph,...Oh},W=ih($h,rh),tr={covered:{label:"Cubiertos",icon:pe,color:"text-green-700",bg:"bg-green-50 border-green-200"},hubs:{label:"Hubs / Placeholders",icon:or,color:"text-blue-700",bg:"bg-blue-50 border-blue-200"},missing:{label:"Sin vista",icon:_s,color:"text-red-700",bg:"bg-red-50 border-red-200"}};function Uh({modules:e,onClose:t}){const[s,n]=y.useState("missing"),[i,a]=y.useState(new Set),[o,l]=y.useState(0),[c,d]=y.useState(!1),u=m=>a(b=>{const v=new Set(b);return v.has(m)?v.delete(m):v.add(m),v}),f=()=>{d(!0),l(m=>m+1),setTimeout(()=>d(!1),600)},h=y.useMemo(()=>{const m=new Set(e.map(T=>T.id)),b=new Map;for(const T of Ie)if(T.isReal)for(const S of T.checklistIds){const P=b.get(S)??[];b.set(S,[...P,T])}const v=[];for(const[T,S]of b.entries()){if(!m.has(T))continue;const P=e.find(D=>D.id===T);v.push({id:T,name:P.name,hours:P.estimatedHours??0,entries:S})}v.sort((T,S)=>T.name.localeCompare(S.name));const k=Ie.filter(T=>T.isReal&&T.checklistIds.length===0),C=Ie.filter(T=>!T.isReal),E=e.filter(T=>!b.has(T.id)).map(T=>({id:T.id,name:T.name,hours:T.estimatedHours??0,category:T.category})).sort((T,S)=>T.name.localeCompare(S.name));return{covered:v,realNoIds:k,hubs:C,missing:E,orphan:[]}},[e,o]),g={covered:h.covered.length,hubs:h.hubs.length,missing:h.missing.length},x=h.missing.reduce((m,b)=>m+b.hours,0);return r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.55)",backdropFilter:"blur(4px)"},onClick:m=>{m.target===m.currentTarget&&t()},children:r.jsxs(W.div,{initial:{scale:.94,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.94,y:20,opacity:0},transition:{type:"spring",stiffness:320,damping:30},className:"bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden",style:{width:"780px",maxWidth:"95vw",maxHeight:"88vh"},children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #FF6835 0%, #e5532a 100%)",padding:"20px 24px"},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:f,title:"Recalcular auditora",className:"w-9 h-9 rounded-xl bg-white/20 hover:bg-white/35 active:scale-95 flex items-center justify-center transition-all cursor-pointer",children:r.jsx(kt,{size:18,className:`text-white transition-transform duration-500 ${c?"animate-spin":""}`})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-white font-bold text-lg leading-none",children:"Auditora de Mdulos"}),r.jsxs("p",{className:"text-white/75 text-xs mt-0.5",children:["Compara ",r.jsx("code",{className:"bg-white/20 px-1 rounded text-white",children:"moduleManifest.ts"})," vs"," ",r.jsx("code",{className:"bg-white/20 px-1 rounded text-white",children:"MODULES_DATA"}),"  auto-actualizado en cada render"]})]})]}),r.jsx("button",{onClick:t,className:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/35 flex items-center justify-center transition-colors",children:r.jsx(xs,{size:16,className:"text-white"})})]}),r.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:[{label:"Cubiertos",value:h.covered.length,color:"#22c55e"},{label:"Hubs",value:h.hubs.length,color:"#60a5fa"},{label:"Sin vista",value:h.missing.length,color:"#f87171"},{label:`${x}h pendientes`,value:null,color:"rgba(255,255,255,0.5)"}].map(m=>r.jsxs("span",{className:"text-xs font-semibold px-3 py-1 rounded-full",style:{backgroundColor:"rgba(255,255,255,0.18)",color:"white",border:`1px solid ${m.color}55`},children:[m.value!==null&&r.jsx("span",{style:{color:m.color},className:"font-bold mr-1",children:m.value}),m.label]},m.label))})]}),r.jsx("div",{className:"flex border-b border-gray-200 bg-gray-50 px-4 pt-3 gap-1",children:Object.keys(tr).map(m=>{const b=tr[m],v=b.icon,k=s===m;return r.jsxs("button",{onClick:()=>n(m),className:`flex items-center gap-1.5 px-3 py-2 rounded-t-lg text-sm font-medium transition-all border-b-2 ${k?"bg-white border-[#FF6835] text-[#FF6835]":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-white/60"}`,children:[r.jsx(v,{size:14}),b.label,r.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded-full ml-0.5 ${k?"bg-[#FF6835] text-white":"bg-gray-200 text-gray-600"}`,children:g[m]})]},m)})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:r.jsx(Ce,{mode:"wait",children:r.jsxs(W.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},children:[s==="covered"&&r.jsxs("div",{className:"space-y-1.5",children:[h.covered.length===0&&r.jsx(sr,{label:"Ningn mdulo cubierto an."}),h.covered.map(m=>{var b;return r.jsxs("div",{className:"border border-green-200 rounded-xl overflow-hidden",children:[r.jsxs("button",{onClick:()=>u(m.id),className:"w-full flex items-center gap-3 px-4 py-3 bg-green-50 hover:bg-green-100 transition-colors text-left",children:[r.jsx(pe,{size:16,className:"text-green-600 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:m.name}),r.jsxs("code",{className:"ml-2 text-xs text-gray-400",children:["#",m.id]})]}),r.jsxs("span",{className:"text-xs text-gray-400 shrink-0",children:[m.hours,"h"]}),i.has(m.id)?r.jsx(ys,{size:14,className:"text-gray-400"}):r.jsx(bs,{size:14,className:"text-gray-400"})]}),i.has(m.id)&&r.jsxs("div",{className:"px-4 py-2 bg-white border-t border-green-100 space-y-1",children:[m.entries.map(v=>r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[r.jsx(za,{size:12,className:"text-green-500"}),r.jsx("code",{className:"text-green-700 font-mono",children:v.viewFile}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{className:"text-gray-500",children:["seccin: ",r.jsx("code",{children:v.section})]}),v.hasSupabase&&r.jsxs("span",{className:"flex items-center gap-0.5 text-blue-600",children:[r.jsx(ir,{size:10})," Supabase"]})]},v.section)),((b=m.entries[0])==null?void 0:b.notes)&&r.jsx("p",{className:"text-xs text-gray-400 italic mt-1",children:m.entries[0].notes})]})]},m.id)})]}),s==="hubs"&&r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-xl mb-3 text-sm text-blue-700",children:[r.jsx(ua,{size:15,className:"mt-0.5 shrink-0"}),r.jsxs("span",{children:["Estos hubs son secciones de navegacin. ",r.jsx("strong",{children:"No cuentan como completados"})," en el checklist  son el cascarn que contiene a los mdulos reales."]})]}),h.hubs.map(m=>r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-blue-50 border border-blue-100 rounded-xl",children:[r.jsx(or,{size:15,className:"text-blue-400 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("code",{className:"text-xs text-blue-600 font-mono",children:m.viewFile}),r.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["seccin: ",r.jsx("code",{children:m.section})]})]}),m.notes&&r.jsx("span",{className:"text-xs text-gray-400 italic truncate max-w-[220px]",children:m.notes})]},m.section))]}),s==="missing"&&r.jsxs("div",{className:"space-y-1.5",children:[h.missing.length===0&&r.jsx(sr,{label:"Todos los mdulos del checklist tienen vista asignada!",icon:""}),h.missing.length>0&&r.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-xl mb-3 text-sm text-red-700",children:[r.jsx(ha,{size:15,className:"mt-0.5 shrink-0"}),r.jsxs("span",{children:["Estos ",r.jsxs("strong",{children:[h.missing.length," mdulos"]})," existen en el checklist pero no tienen ninguna vista real en ",r.jsx("code",{className:"bg-red-100 px-1 rounded",children:"moduleManifest.ts"}),". Son el backlog real pendiente de construir (",x,"h estimadas)."]})]}),h.missing.map(m=>r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-red-50 border border-red-100 rounded-xl",children:[r.jsx(_s,{size:15,className:"text-red-400 shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:m.name}),r.jsxs("code",{className:"ml-2 text-xs text-gray-400",children:["#",m.id]})]}),r.jsx("span",{className:"text-xs text-gray-400 shrink-0",children:m.category}),r.jsxs("span",{className:"text-xs font-semibold text-red-600 shrink-0",children:[m.hours,"h"]})]},m.id))]})]},s)})}),r.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 px-5 py-3 flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Para agregar un mdulo: edit ",r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"moduleManifest.ts"}),"  el checklist se actualiza solo."]}),r.jsx("button",{onClick:t,className:"px-4 py-1.5 rounded-lg text-sm font-medium bg-gray-200 hover:bg-gray-300 text-gray-700 transition-colors",children:"Cerrar"})]})]})})}function sr({label:e,icon:t=""}){return r.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-gray-400",children:[r.jsx("span",{className:"text-3xl",children:t}),r.jsx("p",{className:"text-sm",children:e})]})}const nr=[{id:"definicion",label:"Definicin",icon:fa,color:"#2563EB",bg:"#EFF6FF",desc:"Documento de especificacin funcional, wireframes, requerimientos"},{id:"variables",label:"Variables",icon:ma,color:"#7C3AED",bg:"#F5F3FF",desc:"Variables de entorno, configuracin, constantes y parmetros"},{id:"otros",label:"Otros",icon:pa,color:"#D97706",bg:"#FFFBEB",desc:"Referencias, mockups, recursos adicionales"}];function zh(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function Hh(e){try{return new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"})}catch{return e}}function Wh({moduleId:e,moduleName:t}){const[s,n]=y.useState("definicion"),[i,a]=y.useState([]),[o,l]=y.useState(!0),[c,d]=y.useState(!1),[u,f]=y.useState(!1),[h,g]=y.useState(null),x=y.useRef(null),m=`https://${Pt}.supabase.co/functions/v1/api`,b=y.useCallback(async()=>{if(!m){l(!1);return}try{l(!0);const S=await fetch(`${m}/roadmap/files/${e}`,{headers:{Authorization:`Bearer ${Jt}`}});if(!S.ok)throw new Error(await S.text());const{files:P}=await S.json();a(P??[])}catch(S){console.error("[ModuleFilesPanel] loadFiles:",S),X.error("No se pudieron cargar los archivos")}finally{l(!1)}},[m,e]);y.useEffect(()=>{b()},[b]);const v=async S=>{if(!m){X.error("Servidor no disponible");return}if(S.size>20*1024*1024){X.error("El archivo no puede superar 20 MB");return}d(!0);try{const P=new FormData;P.append("file",S),P.append("moduleId",e),P.append("fileType",s);const D=await fetch(`${m}/roadmap/files/upload`,{method:"POST",headers:{Authorization:`Bearer ${Jt}`},body:P});if(!D.ok)throw new Error(await D.text());X.success(` "${S.name}" subido correctamente`),await b()}catch(P){console.error("[ModuleFilesPanel] uploadFile:",P),X.error(`Error subiendo archivo: ${P}`)}finally{d(!1)}},k=async(S,P)=>{if(m){g(S);try{const D=await fetch(`${m}/roadmap/files/${e}/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${Jt}`}});if(!D.ok)throw new Error(await D.text());X.success(`"${P}" eliminado`),a($=>$.filter(Z=>Z.id!==S))}catch(D){console.error("[ModuleFilesPanel] deleteFile:",D),X.error(`Error eliminando archivo: ${D}`)}finally{g(null)}}},C=S=>{S.preventDefault(),f(!1);const P=S.dataTransfer.files[0];P&&v(P)},E=i.filter(S=>S.type===s),N=nr.find(S=>S.id===s),T=N.icon;return r.jsxs("div",{style:{borderTop:"1px dashed #E5E7EB",backgroundColor:"#FAFAFA",padding:"16px 20px 16px 64px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[r.jsx(Wa,{size:14,color:"#6B7280"}),r.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:"#374151"},children:["Archivos adjuntos  ",t]}),i.length>0&&r.jsxs("span",{style:{fontSize:"10px",fontWeight:700,padding:"2px 7px",borderRadius:"20px",backgroundColor:"#F3F4F6",color:"#6B7280",border:"1px solid #E5E7EB"},children:[i.length," archivo",i.length>1?"s":""]})]}),r.jsx("div",{style:{display:"flex",gap:"0",marginBottom:"14px",borderBottom:"1px solid #E5E7EB"},children:nr.map(S=>{const P=i.filter(Z=>Z.type===S.id).length,D=s===S.id,$=S.icon;return r.jsxs("button",{onClick:()=>n(S.id),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"12px",fontWeight:D?700:500,color:D?S.color:"#6B7280",borderBottom:D?`2px solid ${S.color}`:"2px solid transparent",whiteSpace:"nowrap",transition:"all 0.15s"},children:[r.jsx($,{size:13}),S.label,P>0&&r.jsx("span",{style:{fontSize:"10px",fontWeight:700,padding:"1px 6px",borderRadius:"20px",backgroundColor:D?S.color:"#E5E7EB",color:D?"#fff":"#6B7280",minWidth:"18px",textAlign:"center"},children:P})]},S.id)})}),r.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[r.jsxs("div",{onDragOver:S=>{S.preventDefault(),f(!0)},onDragLeave:()=>f(!1),onDrop:C,onClick:()=>{var S;return!c&&((S=x.current)==null?void 0:S.click())},style:{width:"220px",flexShrink:0,border:`2px dashed ${u?N.color:"#D1D5DB"}`,borderRadius:"12px",backgroundColor:u?N.bg:"#FFFFFF",padding:"20px 14px",textAlign:"center",cursor:c?"wait":"pointer",transition:"all 0.15s"},children:[r.jsx("input",{ref:x,type:"file",style:{display:"none"},onChange:S=>{var P;return((P=S.target.files)==null?void 0:P[0])&&v(S.target.files[0])}}),r.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:N.bg,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px"},children:c?r.jsx(Fe,{size:18,color:N.color,style:{animation:"spin 1s linear infinite"}}):r.jsx(ga,{size:18,color:N.color})}),r.jsx("p",{style:{margin:"0 0 4px",fontSize:"12px",fontWeight:700,color:"#374151"},children:c?"Subiendo...":"Subir archivo"}),r.jsx("p",{style:{margin:0,fontSize:"10px",color:"#9CA3AF"},children:N.desc}),r.jsx("p",{style:{margin:"8px 0 0",fontSize:"10px",color:"#D1D5DB"},children:"Mx. 20 MB"})]}),r.jsx("div",{style:{flex:1,minWidth:0},children:o?r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#9CA3AF",padding:"20px 0"},children:[r.jsx(Fe,{size:14,style:{animation:"spin 1s linear infinite"}}),r.jsx("span",{style:{fontSize:"12px"},children:"Cargando archivos..."})]}):E.length===0?r.jsxs("div",{style:{padding:"24px 16px",borderRadius:"10px",border:"1px dashed #E5E7EB",backgroundColor:"#FFFFFF",textAlign:"center"},children:[r.jsx(T,{size:22,color:"#D1D5DB",style:{margin:"0 auto 8px",display:"block"}}),r.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#9CA3AF"},children:["Sin archivos de ",r.jsx("strong",{children:N.label})," todava"]})]}):r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:E.map(S=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"#FFFFFF",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:N.bg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.jsx(T,{size:14,color:N.color})}),r.jsxs("div",{style:{flex:1,minWidth:0},children:[r.jsx("p",{style:{margin:0,fontSize:"12px",fontWeight:600,color:"#111827",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.name}),r.jsxs("p",{style:{margin:"2px 0 0",fontSize:"10px",color:"#9CA3AF"},children:[zh(S.size),"  ",Hh(S.uploadedAt)]})]}),r.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[S.url&&r.jsx("a",{href:S.url,target:"_blank",rel:"noreferrer",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",cursor:"pointer",textDecoration:"none"},title:"Descargar",children:r.jsx(xa,{size:12,color:"#6B7280"})}),r.jsx("button",{onClick:()=>k(S.id,S.name),disabled:h===S.id,style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",border:"1px solid #FEE2E2",backgroundColor:"#FFF5F5",cursor:"pointer"},title:"Eliminar",children:h===S.id?r.jsx(Fe,{size:12,color:"#EF4444",style:{animation:"spin 1s linear infinite"}}):r.jsx(ya,{size:12,color:"#EF4444"})})]})]},S.id))})})]}),r.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}Ie.map(e=>e.section);Ie.filter(e=>e.isReal&&e.checklistIds.length>0).reduce((e,t)=>{const s=e[t.section]??[],n=Array.from(new Set([...s,...t.checklistIds]));return{...e,[t.section]:n}},{});const Yo=new Set(Ie.filter(e=>e.isReal).flatMap(e=>e.checklistIds)),Zo=new Set(Ie.filter(e=>e.isReal&&e.hasSupabase===!0).flatMap(e=>e.checklistIds)),de={ecommerce:{label:"eCommerce / Pedidos",color:"bg-orange-500",icon:""},logistics:{label:"Logstica",color:"bg-green-600",icon:"??"},marketing:{label:"Marketing",color:"bg-pink-500",icon:""},rrss:{label:"Redes Sociales",color:"bg-rose-500",icon:""},tools:{label:"Herramientas",color:"bg-teal-500",icon:""},erp:{label:"ERP + POS",color:"bg-blue-600",icon:""},crm:{label:"CRM",color:"bg-purple-600",icon:""},projects:{label:"Proyectos",color:"bg-indigo-600",icon:""},marketplace:{label:"Marketplace",color:"bg-amber-500",icon:""},integrations:{label:"Integraciones",color:"bg-cyan-600",icon:""},audit:{label:"Auditora & Diagnstico",color:"bg-violet-600",icon:""},admin:{label:"Admin / Sistema",color:"bg-slate-600",icon:""},enterprise:{label:"Enterprise",color:"bg-red-600",icon:""},territory:{label:"Territorio",color:"bg-lime-600",icon:""},verification:{label:"Verificacin",color:"bg-yellow-600",icon:"?"},analytics:{label:"Analytics & BI",color:"bg-sky-600",icon:""},builder:{label:"Constructor",color:"bg-fuchsia-600",icon:""}},Pe={"not-started":{label:"No Iniciado",color:"text-gray-400",icon:lr,percent:0},"spec-ready":{label:"Definicin Lista",color:"text-violet-600",icon:vs,percent:15},"progress-10":{label:"En Progreso (10%)",color:"text-red-500",icon:rr,percent:10},"progress-50":{label:"En Progreso (50%)",color:"text-yellow-500",icon:ar,percent:50},"progress-80":{label:"En Progreso (80%)",color:"text-blue-500",icon:tt,percent:80},"ui-only":{label:"UI Lista  Sin Backend",color:"text-blue-500",icon:et,percent:80},completed:{label:"Completado (con DB)",color:"text-[#FF6835]",icon:pe,percent:100}},ve={critical:{label:"Crtica",color:"text-red-600 border-red-300 bg-red-50"},high:{label:"Alta",color:"text-orange-600 border-orange-300 bg-orange-50"},medium:{label:"Media",color:"text-yellow-600 border-yellow-300 bg-yellow-50"},low:{label:"Baja",color:"text-gray-500 border-gray-300 bg-gray-50"}};function Ct(e,t){return e===0?"bg-gray-300":e<30?"bg-red-400":e<60?"bg-yellow-400":t==="ui-only"?"bg-blue-400":e<100?"bg-blue-500":"bg-green-500"}function oe(e){if(!e.submodules||e.submodules.length===0)return Pe[e.status].percent;const t=e.submodules.reduce((s,n)=>s+(n.estimatedHours||1),0);return Math.round(e.submodules.reduce((s,n)=>s+Pe[n.status].percent*((n.estimatedHours||1)/t),0))}function _h(e){var s;if(!Yo.has(e.id))return e;const t=Zo.has(e.id)?"completed":"ui-only";return{...e,status:t,submodules:(s=e.submodules)==null?void 0:s.map(n=>({...n,status:t}))}}function Kh({hideHeader:e=!1,onNavigate:t}){const[s,n]=y.useState("list"),[i,a]=y.useState(""),[o,l]=y.useState("all"),[c,d]=y.useState("all"),[u,f]=y.useState("all"),[h,g]=y.useState(new Set),[x,m]=y.useState(new Set),[b,v]=y.useState(new Set),[k,C]=y.useState(new Set),[E,N]=y.useState({}),[T,S]=y.useState([]),[P,D]=y.useState(!1),[$,Z]=y.useState(!1),[L,ye]=y.useState([]),[gt,Ze]=y.useState(!0),[je,G]=y.useState(!1),[q,re]=y.useState(!1),[Te,Oe]=y.useState(!1),[be,Sn]=y.useState(!1),[Nn,Cn]=y.useState(!1),[Pn,Gt]=y.useState({current:0,total:0}),[xt,kn]=y.useState(!1),Jo={"ecommerce-pedidos":{endpointUrl:"/api/pedidos",tableName:"pedidos"},"ecommerce-metodos-pago":{endpointUrl:"/api/metodos-pago",tableName:"metodos_pago"},"ecommerce-metodos-envio":{endpointUrl:"/api/metodos-envio",tableName:"metodos_envio"},"crm-contacts":{endpointUrl:"/api/personas",tableName:"personas"},"marketplace-productos":{endpointUrl:"/api/productos/market",tableName:"productos_market"},"marketplace-departamentos":{endpointUrl:"/api/departamentos",tableName:"departamentos"},"marketplace-carrito":{endpointUrl:"/api/carrito",tableName:"carrito"},"logistics-shipping":{endpointUrl:"/api/envios",tableName:"envios"}};y.useEffect(()=>{bt(),yt()},[]),y.useEffect(()=>{P&&yt()},[P]);const yt=async()=>{try{const p=await ba();S(p.filter(w=>w.estado==="pendiente"))}catch(p){console.error("[ChecklistRoadmap] Error cargando ideas:",p)}},qt=async(p,w,j)=>{try{await wa(p,w,j),await yt(),w==="convertida"&&await bt(),X.success(`Idea ${w==="aprobada"?"aprobada":w==="rechazada"?"rechazada":"convertida a mdulo"}`)}catch{X.error("Error resolviendo idea")}},bt=async()=>{try{Ze(!0);const p=await va();if(p&&p.length>0){const w=p.map(j=>{var O;const F={id:j.id,name:j.name||j.id,category:j.category||"admin",description:j.description||"",status:j.status,priority:j.priority,execOrder:j.execOrder,estimatedHours:j.estimatedHours,notas:j.notas,submodules:(O=j.submodules)==null?void 0:O.map(z=>({id:z.id,name:z.name,status:z.status,estimatedHours:z.estimatedHours}))};return _h(F)});ye(w)}else ye([])}catch{ye([])}finally{Ze(!1)}},An=async(p,w)=>{const j=L.filter(B=>B.status==="spec-ready"&&B.id!==p).reduce((B,A)=>Math.max(B,A.execOrder??0),0),F=L.find(B=>B.id===p),O=L.map(B=>{var I;if(B.id!==p)return B;const A=(I=B.submodules)==null?void 0:I.map(R=>({...R,status:w==="completed"||w==="not-started"||w==="ui-only"||w==="spec-ready"?w:R.status}));return{...B,status:w,submodules:A,execOrder:w==="spec-ready"?B.execOrder??j+1:void 0}});let z=O;if((F==null?void 0:F.status)==="spec-ready"&&w!=="spec-ready"){const B=O.filter(A=>A.status==="spec-ready").sort((A,I)=>(A.execOrder??0)-(I.execOrder??0));z=O.map(A=>{if(A.status!=="spec-ready")return A;const I=B.findIndex(R=>R.id===A.id);return{...A,execOrder:I+1}})}ye(z),re(!0);try{const B=z.find(A=>A.id===p);if(!B)return;await Na(p,{status:B.status,priority:B.priority,execOrder:B.execOrder,estimatedHours:B.estimatedHours,notas:B.notas}),re(!1)}catch{}},Mn=(p,w)=>{const j=[...L].filter(I=>I.status==="spec-ready").sort((I,R)=>(I.execOrder??0)-(R.execOrder??0)),F=j.findIndex(I=>I.id===p);if(F===-1)return;const O=w==="up"?F-1:F+1;if(O<0||O>=j.length)return;const z=j[F].execOrder??F+1,B=j[O].execOrder??O+1,A=L.map(I=>I.id===j[F].id?{...I,execOrder:B}:I.id===j[O].id?{...I,execOrder:z}:I);ye(A),re(!0)},En=async()=>{try{G(!0),await Sa(L.map(p=>({id:p.id,status:p.status,priority:p.priority,execOrder:p.execOrder,estimatedHours:p.estimatedHours,notas:p.notas}))),re(!1),X.success(" Progreso guardado en el servidor")}catch{X.warning(" Cambios guardados localmente")}finally{G(!1)}},Xt=async()=>{Sn(!0);try{Pt&&(await ja().catch(()=>{}),await bt()),re(!1)}catch(p){X.error(`Error en resync: ${p}`)}finally{Sn(!1)}},Qo=p=>{g(w=>{const j=new Set(w);return j.has(p)?j.delete(p):j.add(p),j})},ea=p=>{m(w=>{const j=new Set(w);return j.has(p)?j.delete(p):j.add(p),j})},Dn=()=>{xt?(m(new Set),kn(!1)):(m(new Set(Object.keys(de))),kn(!0))},ta=async p=>{if(!E[p])try{const w=await Aa(p);N(j=>({...j,[p]:w}))}catch(w){console.error("[ChecklistRoadmap] Error cargando tasks:",w)}},sa=p=>{C(w=>{const j=new Set(w);return j.has(p)?j.delete(p):(j.add(p),ta(p)),j})},na=async(p,w,j)=>{try{const F=await Ca({module_id:p,submodule_id:w,nombre:j,status:"todo"});N(O=>({...O,[p]:[...O[p]||[],F]})),X.success("Task creada")}catch{X.error("Error creando task")}},Vn=async(p,w,j)=>{try{const F=await Pa(p,j);N(O=>({...O,[w]:(O[w]||[]).map(z=>z.id===p?F:z)})),X.success("Task actualizada")}catch{X.error("Error actualizando task")}},Fn=async(p,w)=>{try{await ka(p),N(j=>({...j,[w]:(j[w]||[]).filter(F=>F.id!==p)})),X.success("Task eliminada")}catch{X.error("Error eliminando task")}},ia=async()=>{Cn(!0),Gt({current:0,total:L.length});try{const p=L.map(async(w,j)=>{Gt({current:j+1,total:L.length});const F=Jo[w.id]||{},O=Yo.has(w.id),z=Zo.has(w.id),B=F.endpointUrl?`https://${Pt}.supabase.co/functions/v1${F.endpointUrl}`:void 0;await Ta(w.id,{moduleId:w.id,endpointUrl:B,tableName:F.tableName,tiene_view:O,tiene_backend:z})});await Promise.all(p),await bt(),X.success(` Auditora completada  ${L.length} mdulos verificados`)}catch(p){console.error("[ChecklistRoadmap] Error en auditora:",p),X.error(" Error durante la auditora")}finally{Cn(!1),Gt({current:0,total:0})}},J=y.useMemo(()=>{const p=L.length,w=L.filter(R=>oe(R)===100).length,j=L.filter(R=>R.status==="ui-only").length,F=L.filter(R=>R.status==="spec-ready").length,O=L.filter(R=>oe(R)===0).length,z=L.filter(R=>{const V=oe(R);return V>0&&V<100}).length,B=L.reduce((R,V)=>R+(V.estimatedHours||0),0),A=L.filter(R=>oe(R)===100).reduce((R,V)=>R+(V.estimatedHours||0),0),I=L.reduce((R,V)=>{const se=oe(V),K=(V.estimatedHours||1)/Math.max(B,1);return R+se*K},0);return{total:p,completed:w,uiOnly:j,specReady:F,notStarted:O,inProgress:z,completedPercent:Math.round(w/p*100),progressPercent:Math.round(I),totalHours:B,completedHours:A,remainingHours:B-A}},[L]),Yt=y.useMemo(()=>L.filter(p=>!(i&&!p.name.toLowerCase().includes(i.toLowerCase())&&!p.description.toLowerCase().includes(i.toLowerCase())||o!=="all"&&p.category!==o||c!=="all"&&p.status!==c||u!=="all"&&p.priority!==u)),[L,i,o,c,u]),Rn=y.useMemo(()=>Object.keys(de).reduce((p,w)=>{const j=Yt.filter(I=>I.category===w);if(j.length===0)return p;const F=j.filter(I=>oe(I)===100).length,O=j.filter(I=>{const R=oe(I);return R>0&&R<100}).length,z=j.reduce((I,R)=>I+(R.estimatedHours||1),0),B=Math.round(j.reduce((I,R)=>{const V=oe(R),se=(R.estimatedHours||1)/z;return I+V*se},0)),A=j.reduce((I,R)=>I+(oe(R)===100?0:R.estimatedHours||0),0);return p.push({cat:w,mods:j,areaStats:{total:j.length,completed:F,inProgress:O,pct:B,hours:A}}),p},[]),[Yt]),ra=y.useMemo(()=>i.trim()||o!=="all"||c!=="all"||u!=="all"?new Set(Object.keys(de)):x,[i,o,c,u,x]);return gt?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Fe,{className:"h-12 w-12 animate-spin text-[#FF6835] mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Cargando roadmap..."})]})}):r.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[r.jsx(Ce,{children:Te&&r.jsx(Uh,{modules:L,onClose:()=>Oe(!1)})}),r.jsx(Ce,{children:P&&r.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>D(!1),children:r.jsxs(W.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:p=>p.stopPropagation(),className:"bg-card rounded-xl border border-border shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-100 flex items-center justify-center",children:r.jsx(vt,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Ideas Promovidas"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.length," idea",T.length!==1?"s":""," pendiente",T.length!==1?"s":""," de aprobacin"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:yt,className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Recargar ideas",children:r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})}),r.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:r.jsx(xs,{className:"h-5 w-5 text-muted-foreground"})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:T.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Je,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),r.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"No hay ideas pendientes"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Las ideas promovidas desde Ideas Board aparecern aqu"})]}):r.jsx("div",{className:"space-y-3",children:T.map(p=>r.jsx(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-background rounded-lg border border-border p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 border border-orange-200",children:p.idea_area||"General"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(p.created_at).toLocaleDateString("es-AR")})]}),r.jsx("p",{className:"text-sm text-foreground mb-2",children:p.idea_texto}),p.notas&&r.jsxs("p",{className:"text-xs text-muted-foreground italic mb-2",children:[" ",p.notas]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>qt(p.id,"aprobada"),className:"p-2 hover:bg-green-50 rounded-lg transition-colors border border-green-200",title:"Aprobar idea",children:r.jsx(Ma,{className:"h-4 w-4 text-green-600"})}),r.jsx("button",{onClick:()=>{const w=prompt("ID del mdulo (opcional):");w&&qt(p.id,"convertida",w)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",title:"Convertir a mdulo",children:r.jsx(pe,{className:"h-4 w-4 text-blue-600"})}),r.jsx("button",{onClick:()=>qt(p.id,"rechazada"),className:"p-2 hover:bg-red-50 rounded-lg transition-colors border border-red-200",title:"Rechazar idea",children:r.jsx(_s,{className:"h-4 w-4 text-red-600"})})]})]})},p.id))})}),r.jsx("div",{className:"p-5 border-t border-border bg-background/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Crea y promueve ideas desde ",r.jsx("strong",{children:"Ideas Board"})]}),r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-orange-600 hover:bg-orange-50 rounded-lg border border-orange-200 transition-colors",children:[r.jsx(aa,{className:"h-3.5 w-3.5"}),"Ir a Ideas Board"]})]})})]})})}),r.jsx(Ce,{children:$&&r.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Z(!1),children:r.jsxs(W.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:p=>p.stopPropagation(),className:"bg-card rounded-xl border border-border shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 flex items-center justify-center",children:r.jsx(tt,{className:"h-5 w-5 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Roadmap  Prximamente"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.filter(p=>p.status==="spec-ready"||p.status==="not-started").length," mdulo",L.filter(p=>p.status==="spec-ready"||p.status==="not-started").length!==1?"s":""," pendiente",L.filter(p=>p.status==="spec-ready"||p.status==="not-started").length!==1?"s":""]})]})]}),r.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:r.jsx(xs,{className:"h-5 w-5 text-muted-foreground"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:(()=>{const p=L.filter(w=>w.status==="spec-ready"||w.status==="not-started").sort((w,j)=>{const F={critical:0,high:1,medium:2,low:3};return F[w.priority]-F[j.priority]});return p.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Je,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),r.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"No hay mdulos en roadmap"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Los mdulos con estado "Definicin Lista" o "No Iniciado" aparecern aqu'})]}):r.jsx("div",{className:"space-y-3",children:p.map(w=>r.jsx(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-background rounded-lg border border-border p-4",children:r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("span",{className:"text-sm font-semibold text-foreground",children:w.name}),r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${ve[w.priority].color}`,children:ve[w.priority].label}),r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${Pe[w.status].color} border-current/20`,children:Pe[w.status].label})]}),w.description&&r.jsx("p",{className:"text-xs text-muted-foreground",children:w.description})]})})},w.id))})})()})]})})}),!e&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Checklist & Roadmap"}),!q&&!je&&r.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[r.jsx(pe,{className:"h-4 w-4"})," Sincronizado"]}),r.jsxs("button",{onClick:()=>D(!P),disabled:T.length===0,className:`flex items-center gap-1.5 px-3 py-1 rounded-full border text-sm font-bold transition-colors ${T.length>0?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200 cursor-pointer":"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed opacity-60"}`,title:T.length>0?`Ver ${T.length} idea${T.length!==1?"s":""} promovida${T.length!==1?"s":""} desde Ideas Board`:"No hay ideas promovidas pendientes. Crea ideas en Ideas Board y promuvelas para verlas aqu.",children:[r.jsx(Je,{className:"h-3.5 w-3.5"}),T.length>0?r.jsxs(r.Fragment,{children:[T.length," idea",T.length!==1?"s":""," pendiente",T.length!==1?"s":""]}):"Ideas Promovidas"]}),r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-100 text-teal-700 border border-teal-300 text-sm font-bold hover:bg-teal-200 transition-colors",title:"Abrir Ideas Board para crear y gestionar ideas",children:[r.jsx(vt,{className:"h-3.5 w-3.5"}),"Ideas Board"]}),r.jsxs("button",{onClick:()=>Z(!$),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[r.jsx(tt,{className:"h-3.5 w-3.5"}),"Roadmap"]}),L.filter(p=>p.status==="spec-ready").length>0&&r.jsxs("button",{onClick:()=>n("queue"),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[r.jsx(wt,{className:"h-3.5 w-3.5"}),L.filter(p=>p.status==="spec-ready").length," en cola"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:Xt,disabled:be,title:"Resincroniza estadsticas desde el manifest  corrige estados stale del backend",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:[r.jsx(kt,{className:`h-4 w-4 ${be?"animate-spin":""}`}),be?"Sincronizando...":"Resync manifest"]}),r.jsxs("button",{onClick:()=>Oe(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 bg-white hover:bg-orange-50 hover:border-[#FF6835]/40 text-gray-600 hover:text-[#FF6835] transition-colors text-sm font-medium",children:[r.jsx(Qt,{className:"h-4 w-4"})," Auditora"]}),r.jsx("button",{onClick:ia,disabled:Nn,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:Nn?r.jsxs(r.Fragment,{children:[r.jsx(Fe,{className:"h-4 w-4 animate-spin"}),"Auditando ",Pn.current,"/",Pn.total,"..."]}):r.jsxs(r.Fragment,{children:[r.jsx(kt,{className:"h-4 w-4"})," Auditar mdulos"]})}),q&&r.jsx("button",{onClick:En,disabled:je,className:"px-4 py-2 bg-[#FF6835] text-white rounded-lg hover:bg-[#FF6835]/90 transition-colors flex items-center gap-2 disabled:opacity-50",children:je?r.jsxs(r.Fragment,{children:[r.jsx(Fe,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ln,{className:"h-4 w-4"}),"Guardar"]})})]})]}),r.jsx("p",{className:"text-muted-foreground",children:"Estado completo de todos los mdulos de Charlie Marketplace Builder"})]}),e&&r.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs("button",{onClick:()=>D(!P),disabled:T.length===0,className:`flex items-center gap-1.5 px-3 py-1 rounded-full border text-sm font-bold transition-colors flex-shrink-0 ${T.length>0?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200 cursor-pointer":"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed opacity-60"}`,title:T.length>0?`Ver ${T.length} idea${T.length!==1?"s":""} promovida${T.length!==1?"s":""} desde Ideas Board`:"No hay ideas promovidas pendientes. Crea ideas en Ideas Board y promuvelas para verlas aqu.",children:[r.jsx(Je,{className:"h-3.5 w-3.5"}),T.length>0?r.jsxs(r.Fragment,{children:[T.length," idea",T.length!==1?"s":""," pendiente",T.length!==1?"s":""]}):"Ideas Promovidas"]}),r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-100 text-teal-700 border border-teal-300 text-sm font-bold hover:bg-teal-200 transition-colors flex-shrink-0",title:"Abrir Ideas Board para crear y gestionar ideas",children:[r.jsx(vt,{className:"h-3.5 w-3.5"}),"Ideas Board"]}),r.jsxs("button",{onClick:()=>Z(!$),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[r.jsx(tt,{className:"h-3.5 w-3.5"}),"Roadmap"]}),q&&r.jsx("button",{onClick:En,disabled:je,className:"px-4 py-2 bg-[#FF6835] text-white rounded-lg hover:bg-[#FF6835]/90 transition-colors flex items-center gap-2 text-sm disabled:opacity-50",children:je?r.jsxs(r.Fragment,{children:[r.jsx(Fe,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ln,{className:"h-4 w-4"}),"Guardar Cambios"]})}),(()=>{const p=L.filter(w=>w.status==="spec-ready").length;return p>0?r.jsxs("button",{onClick:()=>n("queue"),className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-100 text-violet-700 border border-violet-300 text-sm font-bold hover:bg-violet-200 transition-colors",children:[r.jsx(wt,{className:"h-3.5 w-3.5"}),"Tareas en cola ",p]}):null})()]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:Xt,disabled:be,title:"Resincroniza estadsticas desde el manifest  corrige estados stale del backend",className:`flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg border font-semibold transition-colors disabled:opacity-50 ${!q&&!je?"border-green-200 bg-green-50 hover:bg-green-100 text-green-700":q?"border-red-200 bg-red-50 hover:bg-red-100 text-red-700":"border-yellow-200 bg-yellow-50 hover:bg-yellow-100 text-yellow-700"}`,children:[r.jsx(pe,{className:`h-3.5 w-3.5 ${be?"animate-spin":""}`}),be?"Sincronizando...":"Sincronizado"]}),r.jsxs("button",{onClick:()=>Oe(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg border border-[#FF6835]/30 bg-orange-50 hover:bg-orange-100 text-[#FF6835] font-semibold transition-colors",children:[r.jsx(Qt,{className:"h-3.5 w-3.5"})," Auditora"]}),r.jsx("button",{onClick:Dn,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-card border border-border rounded-lg hover:bg-accent transition-colors text-muted-foreground",children:xt?r.jsxs(r.Fragment,{children:[r.jsx(In,{className:"h-3.5 w-3.5"})," Colapsar"]}):r.jsxs(r.Fragment,{children:[r.jsx(Bn,{className:"h-3.5 w-3.5"})," Expandir"]})})]})]}),r.jsxs("div",{className:"bg-card rounded-xl p-5 border border-border mb-6",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-5",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Progreso Total"}),r.jsx(tt,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[J.progressPercent,"%"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:r.jsx("div",{className:"bg-[#FF6835] h-1.5 rounded-full transition-all duration-700",style:{width:`${J.progressPercent}%`}})}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1.5",children:"promedio ponderado por horas"})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.08},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Completados"}),r.jsx(pe,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[J.completed,"/",J.total]}),r.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:[J.completedPercent,"% mdulos con DB"]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-orange-50 text-orange-700 border border-orange-200",children:[" ",J.completed," DB"]}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:[" ",J.uiOnly," UI"]}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-gray-100 text-gray-500 border border-gray-200",children:[" ",J.notStarted," pend."]})]})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.16},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"UI Lista / En Progreso"}),r.jsx(et,{className:"h-4 w-4 text-blue-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:J.uiOnly}),r.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"vistas construidas sin backend"}),J.specReady>0&&r.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-violet-50 text-violet-700 border border-violet-200",children:[" ",J.specReady," en cola"]})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.24},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Horas Restantes"}),r.jsx(rr,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[J.remainingHours,"h"]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["de ",J.totalHours,"h estimadas totales"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:r.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-700",style:{width:`${Math.round(J.completedHours/Math.max(J.totalHours,1)*100)}%`}})})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.32},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Checklist"}),r.jsx(vs,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:J.total}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"mdulos totales"}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[J.inProgress," en progreso"]})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-background rounded-xl p-4 border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Roadmap"}),r.jsx(Ea,{className:"h-4 w-4 text-[#FF6835]"})]}),r.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:J.specReady}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"mdulos en cola"}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[J.notStarted," pendientes"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-border flex-wrap",children:[r.jsxs("button",{onClick:()=>{t?t("ideas-board"):window.location.href="#/admin?section=ideas-board"},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-teal-200 bg-teal-50 hover:bg-teal-100 text-teal-700 text-sm font-semibold transition-colors",children:[r.jsx(vt,{className:"h-3.5 w-3.5"}),"Ideas"]}),r.jsxs("button",{onClick:()=>n("list"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 text-sm font-semibold transition-colors",children:[r.jsx(et,{className:"h-3.5 w-3.5"}),"Desarrollo"]}),r.jsxs("button",{onClick:Xt,disabled:be,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg border text-sm font-semibold transition-colors disabled:opacity-50 ${!q&&!je?"border-green-200 bg-green-50 hover:bg-green-100 text-green-700":q?"border-red-200 bg-red-50 hover:bg-red-100 text-red-700":"border-yellow-200 bg-yellow-50 hover:bg-yellow-100 text-yellow-700"}`,children:[r.jsx(pe,{className:`h-3.5 w-3.5 ${be?"animate-spin":""}`}),be?"Sincronizando...":"Sincronizado"]}),r.jsxs("button",{onClick:()=>Oe(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-[#FF6835]/30 bg-orange-50 hover:bg-orange-100 text-[#FF6835] text-sm font-semibold transition-colors",children:[r.jsx(Qt,{className:"h-3.5 w-3.5"}),"Auditora"]}),r.jsx("button",{onClick:Dn,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-border bg-card hover:bg-accent text-muted-foreground text-sm font-semibold transition-colors",children:xt?r.jsxs(r.Fragment,{children:[r.jsx(In,{className:"h-3.5 w-3.5"})," Colapsar"]}):r.jsxs(r.Fragment,{children:[r.jsx(Bn,{className:"h-3.5 w-3.5"})," Expandir"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx("input",{type:"text",placeholder:"Buscar mdulo...",value:i,onChange:p=>a(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]"})]}),r.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[r.jsx("option",{value:"all",children:"Todas las reas"}),Object.entries(de).map(([p,w])=>r.jsx("option",{value:p,children:w.label},p))]}),r.jsxs("select",{value:c,onChange:p=>d(p.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[r.jsx("option",{value:"all",children:"Todos los estados"}),Object.entries(Pe).map(([p,w])=>r.jsx("option",{value:p,children:w.label},p))]}),r.jsxs("select",{value:u,onChange:p=>f(p.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6835]",children:[r.jsx("option",{value:"all",children:"Todas las prioridades"}),Object.entries(ve).map(([p,w])=>r.jsx("option",{value:p,children:w.label},p))]})]})]}),s==="list"&&r.jsx("div",{className:"space-y-2",children:Rn.map(({cat:p,mods:w,areaStats:j},F)=>{const O=de[p],z=ra.has(p),B=j.pct===100;return r.jsxs(W.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:F*.03},className:"rounded-xl border border-border overflow-hidden shadow-sm",children:[r.jsxs("button",{onClick:()=>ea(p),className:`w-full flex items-center gap-2 px-4 py-3.5 text-left transition-colors ${z?"bg-card":"bg-card hover:bg-accent/30"}`,children:[r.jsx("div",{className:`w-1 self-stretch rounded-full flex-shrink-0 ${O.color}`}),r.jsx(bs,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform duration-200 ${z?"rotate-90":""}`}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full text-white whitespace-nowrap flex-shrink-0 ${O.color}`,children:O.label}),B&&r.jsx(pe,{className:"h-4 w-4 text-[#FF6835] flex-shrink-0"})]}),r.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:j.hours>0?`${j.hours}h`:""}),r.jsx("div",{className:"w-36 flex-shrink-0",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`${Ct(j.pct)} h-2 rounded-full transition-all duration-500`,style:{width:`${j.pct}%`}})})}),r.jsxs("span",{className:"w-10 text-right text-sm font-semibold text-foreground flex-shrink-0",children:[j.pct,"%"]}),r.jsxs("div",{className:"w-40 flex-shrink-0 hidden sm:flex items-center gap-2 justify-end",children:[r.jsxs("span",{className:"text-xs text-muted-foreground",children:[j.completed,"/",j.total," mods"]}),j.inProgress>0&&r.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-yellow-100 text-yellow-700 border border-yellow-200",children:[j.inProgress," activos"]})]}),r.jsx("div",{className:"w-7 flex-shrink-0"}),r.jsx("div",{className:"w-7 flex-shrink-0"})]}),r.jsx(Ce,{initial:!1,children:z&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},style:{overflow:"hidden"},children:r.jsx("div",{className:"border-t border-border divide-y divide-border/50 bg-background/40",children:w.map(A=>{var I,R;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 hover:bg-accent/20 transition-colors",children:[r.jsx("div",{onClick:V=>V.stopPropagation(),className:"flex-shrink-0 w-44",children:r.jsx("select",{value:A.status,onChange:V=>An(A.id,V.target.value),className:"w-full px-2 py-1 bg-background border border-border rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-[#FF6835] cursor-pointer hover:border-[#FF6835] transition-colors",children:Object.entries(Pe).map(([V,se])=>r.jsxs("option",{value:V,children:[se.label," (",se.percent,"%)"]},V))})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-semibold text-foreground truncate block",children:A.name}),A.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:A.description})]}),r.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:(A.estimatedHours??0)>0?`${A.estimatedHours}h`:""}),r.jsx("div",{className:"w-36 flex-shrink-0",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`${Ct(oe(A),A.status)} h-2 rounded-full transition-all duration-500`,style:{width:`${oe(A)}%`}})})}),r.jsxs("span",{className:"w-10 text-right text-xs font-bold text-foreground flex-shrink-0",children:[oe(A),"%"]}),r.jsxs("div",{className:"w-40 flex-shrink-0 hidden sm:flex items-center gap-1 flex-wrap",children:[r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${ve[A.priority].color}`,children:ve[A.priority].label}),A.status==="completed"&&r.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-green-50 border border-green-200 text-green-700 flex-shrink-0 font-semibold",children:[r.jsx(ir,{className:"h-3 w-3"})," DB"]}),A.status==="ui-only"&&r.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-blue-50 border border-blue-200 text-blue-600 flex-shrink-0 font-semibold",children:[r.jsx(et,{className:"h-3 w-3"})," UI"]}),A.status==="spec-ready"&&r.jsxs("span",{className:"flex items-center gap-1 text-xs px-1.5 py-0.5 rounded bg-violet-50 border border-violet-300 text-violet-700 flex-shrink-0 font-bold",children:[r.jsx(vs,{className:"h-3 w-3"})," #",A.execOrder??"?"]})]}),r.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:r.jsx("button",{onClick:V=>{V.stopPropagation(),v(se=>{const K=new Set(se);return K.has(A.id)?K.delete(A.id):K.add(A.id),K})},className:`p-1 rounded-lg transition-colors ${b.has(A.id)?"bg-[#FF6835]/10 text-[#FF6835]":"hover:bg-gray-100 text-gray-400 hover:text-gray-600"}`,title:"Archivos adjuntos",children:r.jsx(Da,{className:"h-4 w-4"})})}),r.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:r.jsx("button",{onClick:()=>sa(A.id),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:k.has(A.id)?"Ocultar tasks":"Ver tasks",children:k.has(A.id)?r.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})})}),r.jsx("div",{className:"w-7 flex-shrink-0 flex justify-center",children:A.submodules?r.jsx("button",{onClick:()=>Qo(A.id),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:h.has(A.id)?"Ocultar submdulos":"Ver submdulos",children:h.has(A.id)?r.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})}):null})]}),r.jsx(Ce,{initial:!1,children:A.submodules&&h.has(A.id)&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},style:{overflow:"hidden"},children:r.jsx("div",{className:"bg-background/60 border-t border-dashed border-border/40",children:A.submodules.map(V=>{const se=Pe[V.status].percent,K=V.status==="completed",Zt=V.status==="ui-only",oa=se>0&&!K&&!Zt;return r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 hover:bg-accent/10 transition-colors",children:[r.jsx("div",{className:"w-44 flex-shrink-0 flex items-center gap-2 pl-2",children:K?r.jsx(pe,{className:"h-5 w-5 text-[#FF6835]"}):Zt?r.jsx(et,{className:"h-5 w-5 text-blue-500"}):oa?r.jsx(ar,{className:"h-5 w-5 text-yellow-500"}):r.jsx(lr,{className:"h-5 w-5 text-gray-300"})}),r.jsx("span",{className:`flex-1 text-xs min-w-0 truncate ${K?"text-[#FF6835] font-medium":Zt?"text-blue-600 font-medium":"text-foreground"}`,children:V.name}),r.jsx("span",{className:"w-14 text-right text-xs text-muted-foreground flex-shrink-0 hidden lg:block",children:(V.estimatedHours??0)>0?`${V.estimatedHours}h`:""}),r.jsx("div",{className:"w-36 flex-shrink-0",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:`${Ct(se)} h-1.5 rounded-full transition-all duration-500`,style:{width:`${se}%`}})})}),r.jsx("div",{className:"w-10 flex-shrink-0"}),r.jsx("div",{className:"w-40 flex-shrink-0 hidden sm:block"}),r.jsx("div",{className:"w-7  flex-shrink-0"}),r.jsx("div",{className:"w-7  flex-shrink-0"})]},V.id)})})},`sub-${A.id}`)}),r.jsx(Ce,{initial:!1,children:k.has(A.id)&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},style:{overflow:"hidden"},children:r.jsxs("div",{className:"bg-background/40 border-t border-dashed border-border/30 pl-8 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:"Tasks"}),r.jsx("button",{onClick:()=>{const V=prompt("Nombre de la task:");V&&na(A.id,void 0,V)},className:"text-xs px-2 py-1 bg-[#FF6835]/10 text-[#FF6835] rounded hover:bg-[#FF6835]/20 transition-colors",children:"+ Agregar"})]}),(I=E[A.id])!=null&&I.length?r.jsxs("div",{className:"space-y-1",children:[(R=A.submodules)==null?void 0:R.map(V=>{const se=(E[A.id]||[]).filter(K=>K.submodule_id===V.id);return se.length===0?null:r.jsxs("div",{className:"ml-4 mb-2",children:[r.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:V.name}),se.map(K=>r.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-accent/10 rounded text-xs",children:[r.jsx("input",{type:"checkbox",checked:K.status==="done",onChange:()=>Vn(K.id,A.id,{status:K.status==="done"?"todo":"done"}),className:"h-3 w-3"}),r.jsx("span",{className:`flex-1 ${K.status==="done"?"line-through text-muted-foreground":""}`,children:K.nombre}),K.blocker&&r.jsx("span",{className:"text-red-500 text-xs",children:"??"}),r.jsx("button",{onClick:()=>Fn(K.id,A.id),className:"text-red-500 hover:text-red-700",children:""})]},K.id))]},V.id)}),(E[A.id]||[]).filter(V=>!V.submodule_id).map(V=>r.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 hover:bg-accent/10 rounded text-xs",children:[r.jsx("input",{type:"checkbox",checked:V.status==="done",onChange:()=>Vn(V.id,A.id,{status:V.status==="done"?"todo":"done"}),className:"h-3 w-3"}),r.jsx("span",{className:`flex-1 ${V.status==="done"?"line-through text-muted-foreground":""}`,children:V.nombre}),V.blocker&&r.jsx("span",{className:"text-red-500 text-xs",children:"??"}),r.jsx("button",{onClick:()=>Fn(V.id,A.id),className:"text-red-500 hover:text-red-700",children:""})]},V.id))]}):r.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No hay tasks an"})]})},`tasks-${A.id}`)}),r.jsx(Ce,{initial:!1,children:b.has(A.id)&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},style:{overflow:"hidden"},children:r.jsx(Wh,{moduleId:A.id,moduleName:A.name})},`files-${A.id}`)})]},A.id)})})},"area-body")})]},p)})}),s==="kanban"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:Object.entries(Pe).map(([p,w])=>{const j=Yt.filter(F=>F.status===p);return r.jsxs("div",{className:"bg-card rounded-xl border border-border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(w.icon,{className:`h-5 w-5 ${w.color}`}),r.jsx("h3",{className:"font-semibold text-foreground text-sm",children:w.label}),r.jsx("span",{className:"ml-auto text-sm text-muted-foreground",children:j.length})]}),r.jsxs("div",{className:"space-y-2",children:[j.map(F=>r.jsxs("div",{className:"bg-background p-3 rounded-lg border border-border hover:border-[#FF6835] transition-colors",children:[r.jsx("div",{className:"font-medium text-sm text-foreground mb-1",children:F.name}),r.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${de[F.category].color} text-white`,children:de[F.category].label}),r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border ${ve[F.priority].color}`,children:ve[F.priority].label})]})]},F.id)),j.length===0&&r.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Sin mdulos"})]})]},p)})}),s==="queue"&&(()=>{const p=[...L].filter(w=>w.status==="spec-ready").sort((w,j)=>(w.execOrder??999)-(j.execOrder??999));return r.jsxs("div",{className:"space-y-4 max-w-3xl",children:[r.jsxs("div",{className:"flex items-center gap-3 p-5 bg-violet-50 border border-violet-200 rounded-xl",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center flex-shrink-0",children:r.jsx(wt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-base font-bold text-violet-900",children:"Cola de Ejecucin"}),r.jsxs("p",{className:"text-xs text-violet-600 mt-0.5",children:["Mdulos con definicin completa  ordenados por prioridad de implementacin. Cambi el estado de cualquier mdulo a ",r.jsx("strong",{children:'"Definicin Lista"'})," para agregarlo."]})]}),p.length>0&&r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsx("p",{className:"text-2xl font-black text-violet-700",children:p.length}),r.jsx("p",{className:"text-xs text-violet-500",children:"en cola"})]})]}),p.length===0?r.jsxs("div",{className:"bg-card rounded-xl border border-dashed border-border p-16 text-center",children:[r.jsx(Je,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),r.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"Cola vaca"}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs mx-auto",children:["And a la vista ",r.jsx("strong",{children:"Lista"}),", busc un mdulo y cambi su estado a",r.jsx("span",{className:"font-semibold text-violet-600",children:' "Definicin Lista"'})," para agregarlo aqu."]})]}):r.jsxs("div",{className:"space-y-2",children:[p.map((w,j)=>r.jsx(W.div,{layout:!0,initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:j*.04},className:"bg-card rounded-xl border border-violet-200 hover:border-violet-400 hover:shadow-md transition-all overflow-hidden",children:r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3.5",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 text-white flex items-center justify-center font-black text-lg flex-shrink-0 shadow-sm",children:j+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-bold text-sm text-foreground",children:w.name}),r.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full text-white flex-shrink-0 ${de[w.category].color}`,children:[de[w.category].icon," ",de[w.category].label]}),r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border flex-shrink-0 ${ve[w.priority].color}`,children:ve[w.priority].label})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:w.description})]}),r.jsxs("div",{className:"text-center flex-shrink-0 hidden md:block",children:[r.jsxs("p",{className:"text-sm font-bold text-foreground",children:[w.estimatedHours??"","h"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"estimadas"})]}),r.jsxs("div",{className:"flex flex-col gap-0.5 flex-shrink-0",children:[r.jsx("button",{onClick:()=>Mn(w.id,"up"),disabled:j===0,className:"p-1.5 rounded-lg hover:bg-violet-100 text-violet-400 hover:text-violet-700 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",title:"Subir en la cola",children:r.jsx(Va,{className:"h-3.5 w-3.5"})}),r.jsx("button",{onClick:()=>Mn(w.id,"down"),disabled:j===p.length-1,className:"p-1.5 rounded-lg hover:bg-violet-100 text-violet-400 hover:text-violet-700 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",title:"Bajar en la cola",children:r.jsx(Fa,{className:"h-3.5 w-3.5"})})]}),r.jsxs("button",{onClick:()=>An(w.id,"progress-10"),className:"flex items-center gap-1.5 px-3 py-2 bg-[#FF6835] text-white rounded-lg text-xs font-bold hover:bg-[#FF6835]/90 transition-colors flex-shrink-0 shadow-sm",title:"Iniciar implementacin (pasa a En Progreso 10%)",children:[r.jsx(Ra,{className:"h-3 w-3"})," Iniciar"]})]})},w.id)),r.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-violet-50 border border-violet-200 flex items-center justify-between flex-wrap gap-2",children:[r.jsxs("div",{className:"text-sm text-violet-700 font-medium",children:[r.jsx("span",{className:"font-black",children:p.length})," mdulo",p.length!==1?"s":""," en cola","  ",r.jsxs("span",{className:"font-black",children:[p.reduce((w,j)=>w+(j.estimatedHours??0),0),"h"]})," estimadas totales"]}),r.jsx("span",{className:"text-xs text-violet-500 italic",children:' Reordenar   Iniciar cambia el estado a "En Progreso 10%"'})]})]})]})})(),s==="stats"&&r.jsx("div",{className:"space-y-4",children:Rn.map(({cat:p,mods:w,areaStats:j},F)=>{const O=de[p];return r.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:F*.05},className:"bg-card rounded-xl border border-border p-5",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full text-white ${O.color}`,children:O.label}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[j.completed,"/",j.total," completados"]}),r.jsxs("span",{className:"ml-auto text-xl font-bold text-foreground",children:[j.pct,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:r.jsx("div",{className:`${Ct(j.pct)} h-3 rounded-full transition-all duration-700`,style:{width:`${j.pct}%`}})}),r.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:[r.jsx(La,{className:"h-3 w-3 inline mr-1"}),j.inProgress," en progreso"]}),r.jsxs("span",{children:[r.jsx(ca,{className:"h-3 w-3 inline mr-1"}),j.hours,"h restantes"]})]})]},p)})})]})}function Mf({onNavigate:e}){return r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[r.jsx(da,{icon:Ia,title:"Checklist & Roadmap",subtitle:"Estado completo de todos los mdulos de Charlie Marketplace Builder",onNavigate:e,actions:[{label:"Volver",onClick:()=>e("sistema")},{label:"Exportar",primary:!0}]}),r.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:r.jsx(Kh,{hideHeader:!0,onNavigate:e})})]})}export{Mf as ChecklistView};
