import{c as O,r as n,j as e,l as A,f as G}from"./index-B2QEN0at.js";import{O as Y}from"./OrangeHeader-BG2aU0HP.js";import{c as q,g as X,d as J,e as K,f as Q,h as Z}from"./marketingApi-qoJCP2C7.js";import{M as B}from"./mail-BcRFtpTq.js";import{U as ee}from"./users-BtPEu2Fo.js";import{F as re}from"./funnel-DAwfRwPE.js";import{C as oe}from"./chart-no-axes-column-CuOhko7M.js";import{L as k}from"./loader-circle-DrblkFao.js";import{P as f}from"./plus-CdOkmAeP.js";import{E as te}from"./eye-siCqz5MR.js";import{P as y}from"./pen-CBFWfSre.js";import{T as w}from"./trash-2-Bp5KZKHt.js";import{U as ae}from"./upload-CZ5Fe1ad.js";import{D as ie}from"./download-Bm-9Lf3T.js";import{C as ne}from"./circle-check-Cf5GSvS6.js";import{C as se}from"./circle-x-CyectIdm.js";import{F as le}from"./file-text-DYunVA_e.js";import"./ConnectionStatusIcon-BYFfkvRW.js";import"./zap-D3tV5HqB.js";import"./lightbulb-D9MyICTq.js";import"./map-pin-CGu7kq9m.js";import"./info-tCLo8W3J.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],R=O("test-tube-diagonal",de),a="#FF6835",W={enviada:{label:"Enviada",bg:"#DCFCE7",color:"#15803D"},programada:{label:"Programada",bg:"#EDE9FE",color:"#7C3AED"},borrador:{label:"Borrador",bg:"#F3F4F6",color:"#374151"},pausada:{label:"Pausada",bg:"#FEF3C7",color:"#B45309"}};function We({onNavigate:I}){const[s,T]=n.useState("campanas"),[m,N]=n.useState(""),[D,p]=n.useState(!1),[d,h]=n.useState({name:"",subject:"",body:""}),[i,u]=n.useState([]),[x,b]=n.useState([]),[j,F]=n.useState(!0),[g,C]=n.useState(null);n.useEffect(()=>{_()},[]);const _=async()=>{F(!0),C(null);try{const[r,o]=await Promise.all([q(),X()]);u(r),b(o)}catch(r){C(r instanceof Error?r.message:"Error cargando datos"),console.error("Error loading mailing data:",r)}finally{F(!1)}},E=async(r="borrador")=>{if(!d.name||!d.subject){alert("Nombre y asunto son requeridos");return}try{const o=await Z({nombre:d.name,asunto:d.subject,contenido_html:d.body,estado:r});o&&(u([...i,o]),p(!1),h({name:"",subject:"",body:""}))}catch(o){alert("Error creando campaÃ±a: "+(o instanceof Error?o.message:String(o)))}},M=async r=>{if(confirm("Â¿Eliminar esta campaÃ±a?"))try{await J(r)&&u(i.filter(t=>t.id!==r))}catch{alert("Error eliminando campaÃ±a")}},P=async r=>{if(confirm("Â¿Eliminar este suscriptor?"))try{await Q(r)&&b(x.filter(t=>t.id!==r))}catch{alert("Error eliminando suscriptor")}},L=async()=>{const r=prompt("Email del suscriptor:");if(r)try{const o=await K({email:r,estado:"activo"});o&&b([...x,o])}catch(o){alert("Error creando suscriptor: "+(o instanceof Error?o.message:String(o)))}},$=[{id:"campanas",label:"CampaÃ±as",Icon:B},{id:"suscriptores",label:"Suscriptores",Icon:ee},{id:"segmentacion",label:"SegmentaciÃ³n",Icon:re},{id:"abtesting",label:"A/B Testing",Icon:R},{id:"analiticas",label:"AnalÃ­ticas",Icon:oe}],V=i.filter(r=>r.estado==="enviada").length,U=i.filter(r=>r.estado==="programada").length,H=i.filter(r=>r.estado==="borrador").length,v=x.filter(r=>r.email.toLowerCase().includes(m.toLowerCase())||r.nombre&&r.nombre.toLowerCase().includes(m.toLowerCase())),S=r=>r.total_enviados===0?null:r.total_abiertos/r.total_enviados*100,z=r=>r.total_enviados===0?null:r.total_clicks/r.total_enviados*100;return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(Y,{icon:B,title:"Sistema de Mailing Avanzado",subtitle:"GestiÃ³n completa de campaÃ±as, segmentaciÃ³n y analÃ­ticas Â· Powered by Resend",actions:[{label:"Volver",onClick:()=>I("marketing")},{label:"+ Nueva CampaÃ±a",primary:!0,onClick:()=>p(!0)}]}),e.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:e.jsx("div",{style:{display:"flex",padding:"0 28px"},children:$.map(({id:r,label:o,Icon:t})=>e.jsxs("button",{onClick:()=>T(r),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:s===r?a:"#6B7280",fontWeight:s===r?"700":"500",fontSize:"0.875rem",borderBottom:s===r?`2px solid ${a}`:"2px solid transparent"},children:[e.jsx(t,{size:15}),o]},r))})}),e.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:e.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[s==="campanas"&&e.jsx(e.Fragment,{children:j?e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[e.jsx(k,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),e.jsx("p",{children:"Cargando campaÃ±as..."})]}):g?e.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B",marginBottom:"24px"},children:e.jsxs("p",{style:{margin:0,fontWeight:"700"},children:["âš ï¸ Error: ",g]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Total CampaÃ±as",value:i.length,color:"#111827"},{label:"Enviadas",value:V,color:"#16A34A"},{label:"Programadas",value:U,color:"#7C3AED"},{label:"Borradores",value:H,color:"#374151"}].map((r,o)=>e.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px 20px"},children:[e.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.78rem",color:"#6B7280"},children:r.label}),e.jsx("p",{style:{margin:0,fontSize:"1.6rem",fontWeight:"800",color:r.color},children:r.value})]},o))}),e.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:"700",color:"#111827"},children:"GestiÃ³n de CampaÃ±as"}),e.jsxs("button",{onClick:()=>p(!0),style:{padding:"9px 18px",backgroundColor:a,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(f,{size:15})," Nueva CampaÃ±a"]})]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Nombre / Asunto","Estado","Destinatarios","Apertura","Clics","Acciones"].map(r=>e.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"0.75rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:r},r))})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,style:{padding:"40px",textAlign:"center",color:"#9CA3AF"},children:e.jsx("p",{style:{margin:0},children:"No hay campaÃ±as aÃºn"})})}):i.map((r,o)=>{const t=W[r.estado]||W.borrador,l=S(r),c=z(r);return e.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:o%2===0?"#FFFFFF":"#FAFAFA"},children:[e.jsxs("td",{style:{padding:"14px 16px"},children:[e.jsx("p",{style:{margin:0,fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:r.nombre}),e.jsx("p",{style:{margin:"2px 0 0",color:"#6B7280",fontSize:"0.75rem"},children:r.asunto||"Sin asunto"})]}),e.jsx("td",{style:{padding:"14px 16px"},children:e.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",backgroundColor:t.bg,color:t.color,fontSize:"0.75rem",fontWeight:"700"},children:t.label})}),e.jsx("td",{style:{padding:"14px 16px",color:"#374151",fontSize:"0.875rem"},children:r.total_destinatarios>0?r.total_destinatarios.toLocaleString():"â€”"}),e.jsx("td",{style:{padding:"14px 16px",color:l?"#16A34A":"#9CA3AF",fontSize:"0.875rem",fontWeight:l?"700":"400"},children:l?`${l.toFixed(1)}%`:"â€”"}),e.jsx("td",{style:{padding:"14px 16px",color:c?"#2563EB":"#9CA3AF",fontSize:"0.875rem",fontWeight:c?"700":"400"},children:c?`${c.toFixed(1)}%`:"â€”"}),e.jsx("td",{style:{padding:"14px 16px"},children:e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",padding:"4px"},children:e.jsx(te,{size:15})}),e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280",padding:"4px"},children:e.jsx(y,{size:15})}),r.estado==="borrador"&&e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:a,padding:"4px"},children:e.jsx(A,{size:15})}),e.jsx("button",{onClick:()=>M(r.id),style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444",padding:"4px"},children:e.jsx(w,{size:15})})]})})]},r.id)})})]})]})]})}),s==="suscriptores"&&e.jsx(e.Fragment,{children:j?e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[e.jsx(k,{size:32,className:"animate-spin",style:{margin:"0 auto 12px",display:"block"}}),e.jsx("p",{children:"Cargando suscriptores..."})]}):g?e.jsx("div",{style:{backgroundColor:"#FEF2F2",borderRadius:"10px",border:"1px solid #FECACA",padding:"14px 18px",color:"#991B1B",marginBottom:"20px"},children:e.jsxs("p",{style:{margin:0,fontWeight:"700"},children:["âš ï¸ Error: ",g]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:"800",color:"#111827"},children:"Suscriptores"}),e.jsxs("p",{style:{margin:"3px 0 0",color:"#6B7280",fontSize:"0.8rem"},children:[x.filter(r=>r.estado==="activo").length," activos Â· ",x.filter(r=>r.estado==="inactivo"||r.estado==="cancelado").length," inactivos"]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsxs("button",{style:{padding:"9px 16px",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(ae,{size:14})," Importar CSV"]}),e.jsxs("button",{style:{padding:"9px 16px",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(ie,{size:14})," Exportar"]}),e.jsxs("button",{onClick:L,style:{padding:"9px 16px",backgroundColor:a,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(f,{size:14})," Agregar"]})]})]}),e.jsxs("div",{style:{position:"relative",marginBottom:"16px"},children:[e.jsx(G,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"},size:15,color:"#9CA3AF"}),e.jsx("input",{type:"text",placeholder:"Buscar por email o nombre...",value:m,onChange:r=>N(r.target.value),style:{width:"100%",padding:"10px 12px 10px 38px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]}),e.jsx("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["Nombre","Email","Tags","Estado","Registrado",""].map(r=>e.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"0.75rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:r},r))})}),e.jsx("tbody",{children:v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,style:{padding:"40px",textAlign:"center",color:"#9CA3AF"},children:e.jsx("p",{style:{margin:0},children:"No hay suscriptores"})})}):v.map((r,o)=>e.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:o%2===0?"#FFFFFF":"#FAFAFA"},children:[e.jsx("td",{style:{padding:"12px 16px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:a+"22",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:a,fontSize:"0.8rem"},children:(r.nombre||r.email).charAt(0).toUpperCase()}),e.jsx("span",{style:{fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:r.nombre||r.email})]})}),e.jsx("td",{style:{padding:"12px 16px",color:"#374151",fontSize:"0.875rem"},children:r.email}),e.jsx("td",{style:{padding:"12px 16px"},children:e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:r.tags&&r.tags.length>0?r.tags.map(t=>e.jsx("span",{style:{padding:"2px 8px",backgroundColor:"#F3F4F6",borderRadius:"12px",fontSize:"0.72rem",color:"#374151",fontWeight:"600"},children:t},t)):e.jsx("span",{style:{color:"#9CA3AF",fontSize:"0.72rem"},children:"â€”"})})}),e.jsx("td",{style:{padding:"12px 16px"},children:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"0.8rem",color:r.estado==="activo"?"#16A34A":"#9CA3AF",fontWeight:"600"},children:[r.estado==="activo"?e.jsx(ne,{size:13}):e.jsx(se,{size:13}),r.estado==="activo"?"Activo":r.estado==="cancelado"?"Cancelado":"Inactivo"]})}),e.jsx("td",{style:{padding:"12px 16px",color:"#6B7280",fontSize:"0.8rem"},children:new Date(r.created_at).toLocaleDateString("es-ES")}),e.jsx("td",{style:{padding:"12px 16px"},children:e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:e.jsx(y,{size:14})}),e.jsx("button",{onClick:()=>P(r.id),style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444"},children:e.jsx(w,{size:14})})]})})]},r.id))})]})})]})}),s==="segmentacion"&&e.jsxs("div",{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[{name:"Clientes VIP",count:312,color:"#F59E0B",desc:"Usuarios con tag VIP o +3 compras"},{name:"ElectrÃ³nica",count:489,color:"#3B82F6",desc:"Interesados en categorÃ­a ElectrÃ³nica"},{name:"Moda",count:234,color:"#EC4899",desc:"Interesados en categorÃ­a Moda"},{name:"Hogar",count:178,color:"#10B981",desc:"Interesados en categorÃ­a Hogar"},{name:"Inactivos",count:97,color:"#9CA3AF",desc:"Sin actividad hace +60 dÃ­as"},{name:"Nuevos",count:156,color:a,desc:"Registrados en los Ãºltimos 30 dÃ­as"}].map((r,o)=>e.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"18px 20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:r.name}),e.jsx("p",{style:{margin:"3px 0 0",color:"#6B7280",fontSize:"0.78rem"},children:r.desc})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("p",{style:{margin:0,fontSize:"1.4rem",fontWeight:"800",color:r.color},children:r.count}),e.jsx("p",{style:{margin:0,color:"#9CA3AF",fontSize:"0.72rem"},children:"contactos"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{style:{flex:1,padding:"7px",border:`1px solid ${r.color}`,borderRadius:"6px",backgroundColor:"transparent",color:r.color,fontSize:"0.78rem",fontWeight:"600",cursor:"pointer"},children:"Enviar campaÃ±a"}),e.jsx("button",{style:{padding:"7px 12px",border:"1px solid #E5E7EB",borderRadius:"6px",backgroundColor:"#FFF",color:"#374151",fontSize:"0.78rem",cursor:"pointer"},children:e.jsx(y,{size:12})})]})]},o))}),e.jsxs("button",{style:{padding:"12px 20px",border:`2px dashed ${a}`,borderRadius:"10px",backgroundColor:"#FFF4EC",color:a,fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.875rem"},children:[e.jsx(f,{size:16})," Crear nuevo segmento"]})]}),s==="abtesting"&&e.jsxs("div",{children:[e.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"24px",marginBottom:"20px"},children:[e.jsx("h3",{style:{margin:"0 0 16px",fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:"Crear prueba A/B"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:["Variante A","Variante B"].map((r,o)=>e.jsxs("div",{style:{border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px"},children:[e.jsx("p",{style:{margin:"0 0 12px",fontWeight:"700",color:o===0?"#3B82F6":"#EC4899",fontSize:"0.85rem"},children:r}),[{label:"Asunto",ph:"Ej: ðŸ”¥ Oferta especial para vos"},{label:"Nombre del remitente",ph:"Ej: Charlie Marketplace"}].map(({label:t,ph:l})=>e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.78rem",fontWeight:"600",marginBottom:"4px"},children:t}),e.jsx("input",{type:"text",placeholder:l,style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]},t))]},o))}),e.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"16px",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.78rem",fontWeight:"600",marginBottom:"4px"},children:"% de muestra"}),e.jsx("input",{type:"number",defaultValue:20,style:{width:"100px",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.78rem",fontWeight:"600",marginBottom:"4px"},children:"MÃ©trica ganadora"}),e.jsxs("select",{style:{padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none"},children:[e.jsx("option",{children:"Tasa de apertura"}),e.jsx("option",{children:"Tasa de clics"}),e.jsx("option",{children:"Conversiones"})]})]}),e.jsx("button",{style:{marginTop:"18px",padding:"10px 20px",backgroundColor:a,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem"},children:"Iniciar prueba"})]})]}),e.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"40px",textAlign:"center",color:"#9CA3AF"},children:[e.jsx(R,{size:36,style:{margin:"0 auto 12px",opacity:.4}}),e.jsx("p",{style:{margin:0},children:"No hay pruebas A/B activas"})]})]}),s==="analiticas"&&e.jsxs("div",{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Tasa de apertura",value:"38.4%",sub:"+2.1% vs mes ant.",color:"#16A34A"},{label:"Tasa de clics",value:"9.7%",sub:"+0.8% vs mes ant.",color:"#2563EB"},{label:"Desuscriptos",value:"0.3%",sub:"Bajo promedio",color:"#9CA3AF"},{label:"Emails entregados",value:"98.9%",sub:"Excelente",color:a}].map((r,o)=>e.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"18px 20px"},children:[e.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.78rem",color:"#6B7280"},children:r.label}),e.jsx("p",{style:{margin:"0 0 4px",fontSize:"1.6rem",fontWeight:"800",color:r.color},children:r.value}),e.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:r.sub})]},o))}),e.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"24px"},children:[e.jsx("h3",{style:{margin:"0 0 20px",fontWeight:"700",color:"#111827",fontSize:"0.95rem"},children:"Rendimiento por campaÃ±a"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[i.filter(r=>r.total_enviados>0).map(r=>{const o=S(r),t=z(r);return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[e.jsx("span",{style:{fontSize:"0.82rem",color:"#374151",fontWeight:"600"},children:r.nombre}),e.jsxs("span",{style:{fontSize:"0.82rem",color:"#6B7280"},children:[o?`${o.toFixed(1)}%`:"â€”"," apertura Â· ",t?`${t.toFixed(1)}%`:"â€”"," clics"]})]}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[o&&e.jsx("div",{style:{height:"8px",borderRadius:"4px",backgroundColor:"#16A34A",width:`${Math.min(o/70*100,100)}%`,transition:"width 0.5s"}}),t&&e.jsx("div",{style:{height:"8px",borderRadius:"4px",backgroundColor:"#2563EB",width:`${Math.min(t/70*100,100)}%`,transition:"width 0.5s"}})]})]},r.id)}),i.filter(r=>r.total_enviados>0).length===0&&e.jsx("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"0.8rem"},children:"No hay campaÃ±as enviadas aÃºn"})]}),e.jsx("div",{style:{display:"flex",gap:"16px",marginTop:"14px"},children:[{color:"#16A34A",label:"Apertura"},{color:"#2563EB",label:"Clics"}].map(r=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:r.color}}),e.jsx("span",{style:{fontSize:"0.75rem",color:"#6B7280"},children:r.label})]},r.label))})]})]})]})}),D&&e.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>p(!1),children:e.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"16px",padding:"28px",width:"560px",maxHeight:"80vh",overflowY:"auto"},onClick:r=>r.stopPropagation(),children:[e.jsx("h2",{style:{margin:"0 0 20px",fontWeight:"800",fontSize:"1.1rem",color:"#111827"},children:"âœ‰ï¸ Nueva CampaÃ±a"}),[{label:"Nombre de la campaÃ±a",key:"name",ph:"Ej: Newsletter Agosto 2025"},{label:"Asunto del email",key:"subject",ph:"Ej: ðŸ”¥ Ofertas imperdibles de la semana"}].map(({label:r,key:o,ph:t})=>e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.8rem",fontWeight:"600",marginBottom:"6px"},children:r}),e.jsx("input",{type:"text",placeholder:t,value:d[o],onChange:l=>h(c=>({...c,[o]:l.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},o)),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.8rem",fontWeight:"600",marginBottom:"6px"},children:"Contenido (HTML o texto)"}),e.jsx("textarea",{rows:5,placeholder:"Escribe el contenido de tu email aquÃ­...",value:d.body,onChange:r=>h(o=>({...o,body:r.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",resize:"vertical",boxSizing:"border-box"}})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>p(!1),style:{flex:1,padding:"11px",borderRadius:"8px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",color:"#374151",fontWeight:"600",cursor:"pointer",fontSize:"0.875rem"},children:"Cancelar"}),e.jsxs("button",{onClick:()=>E("borrador"),style:{flex:1,padding:"11px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(le,{size:15})," Guardar borrador"]}),e.jsxs("button",{onClick:()=>E("programada"),style:{flex:1,padding:"11px",backgroundColor:a,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(A,{size:15})," Programar"]})]})]})})]})}export{We as MailingView};
