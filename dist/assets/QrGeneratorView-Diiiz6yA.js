import{c as B,r as n,t as x,j as e,Q as u,g as R}from"./index-C7B7W1lQ.js";import{O as D}from"./OrangeHeader-CoTBbwWn.js";import{Q as W,d as w,a as I}from"./QrCodeDisplay-CayqbXfv.js";import{T as M}from"./type-sS9csNvr.js";import{S as T}from"./settings-2-C86zMMtT.js";import{C as b}from"./copy-K5f6CEkY.js";import{D as m}from"./download-CB-ck1_s.js";import"./zap-DaP38y9l.js";import"./lightbulb-QoB3Dxu8.js";import"./map-pin-QypTHBjh.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Q=B("palette",P),t="#FF6835",y=[{id:"L",label:"L â€” Baja (7%)",desc:"MÃ¡s compacto"},{id:"M",label:"M â€” Media (15%)",desc:"Recomendado"},{id:"Q",label:"Q â€” Alta (25%)",desc:"MÃ¡s robusto"},{id:"H",label:"H â€” MÃ¡xima (30%)",desc:"Logos encima"}],L=[{label:"Negro clÃ¡sico",dark:"#000000",light:"#FFFFFF"},{label:"Charlie Naranja",dark:"#FF6835",light:"#FFFFFF"},{label:"Dark mode",dark:"#FFFFFF",light:"#1F2937"},{label:"Verde natural",dark:"#065F46",light:"#ECFDF5"},{label:"Azul corporativo",dark:"#1E40AF",light:"#EFF6FF"},{label:"Dorado premium",dark:"#92400E",light:"#FFFBEB"}],N=[128,180,256,400,512,600],$=[{label:"URL Web",value:"https://charlie.market"},{label:"WhatsApp",value:"https://wa.me/59899123456?text=Hola"},{label:"Email",value:"mailto:hola@charlie.market"},{label:"Texto libre",value:"Gracias por tu compra â€” Charlie Marketplace"},{label:"vCard",value:`BEGIN:VCARD
VERSION:3.0
FN:Charlie Market
TEL:+59899000000
END:VCARD`},{label:"WiFi",value:"WIFI:T:WPA;S:MiRed;P:contraseÃ±a;;"}];function K({onNavigate:d}){var f;const[r,c]=n.useState("https://charlie.market"),[i,C]=n.useState({size:256,darkColor:"#000000",lightColor:"#FFFFFF",errorCorrection:"M",margin:2}),[s,j]=n.useState(""),[g,h]=n.useState(!1),[p,v]=n.useState("contenido"),a=(o,l)=>C(A=>({...A,[o]:l})),E=n.useCallback(async()=>{s&&(await navigator.clipboard.writeText(s),h(!0),x.success("Data URL copiado al portapapeles"),setTimeout(()=>h(!1),2e3))},[s]),k=n.useCallback(()=>{navigator.clipboard.writeText(r),x.success("Contenido copiado")},[r]),z=()=>{if(!r)return;const o=r.replace(/[^a-zA-Z0-9]/g,"_").slice(0,30)||"qrcode";w(r,`charlie_qr_${o}`,{...i,size:Math.max(i.size??256,600)}),x.success("Descargando PNG alta resoluciÃ³n...")},S=()=>{if(!r)return;const o=r.replace(/[^a-zA-Z0-9]/g,"_").slice(0,30)||"qrcode";I(r,`charlie_qr_${o}`,i),x.success("Descargando SVG vectorial...")};return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(D,{icon:u,title:"Generador de QR",subtitle:"Genera cÃ³digos QR internamente â€” sin APIs externas, sin lÃ­mites",actions:d?[{label:"â† Herramientas",onClick:()=>d("herramientas")}]:[]}),e.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA",padding:"28px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 360px",gap:"24px",maxWidth:"1100px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",overflow:"hidden"},children:[e.jsx("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB"},children:[{id:"contenido",icon:M,label:"Contenido"},{id:"diseno",icon:Q,label:"DiseÃ±o"},{id:"avanzado",icon:T,label:"Avanzado"}].map(o=>{const l=p===o.id;return e.jsxs("button",{onClick:()=>v(o.id),style:{flex:1,padding:"14px 8px",border:"none",borderBottom:`3px solid ${l?t:"transparent"}`,backgroundColor:l?"#FFF8F5":"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"7px",fontSize:"13px",fontWeight:l?700:500,color:l?t:"#555"},children:[e.jsx(o.icon,{size:14}),o.label]},o.id)})}),e.jsxs("div",{style:{padding:"24px"},children:[p==="contenido"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:"Contenido del QR"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("textarea",{value:r,onChange:o=>c(o.target.value),placeholder:"URL, texto, vCard, WiFi, email...",rows:4,style:{width:"100%",padding:"12px 40px 12px 14px",border:`1.5px solid ${r?t:"#E5E7EB"}`,borderRadius:"12px",fontSize:"14px",color:"#111",resize:"vertical",outline:"none",fontFamily:"monospace",lineHeight:"1.5",boxSizing:"border-box",transition:"border-color 0.15s"}}),r&&e.jsx("button",{onClick:k,title:"Copiar contenido",style:{position:"absolute",top:"10px",right:"10px",padding:"4px",border:"none",background:"none",cursor:"pointer",color:"#9CA3AF"},children:e.jsx(b,{size:15})})]}),e.jsxs("div",{style:{fontSize:"12px",color:"#9CA3AF",marginTop:"4px",textAlign:"right"},children:[r.length," caracteres"]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"10px"},children:"Ejemplos rÃ¡pidos"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:$.map(o=>e.jsx("button",{onClick:()=>c(o.value),style:{padding:"6px 12px",border:"1.5px solid #E5E7EB",borderRadius:"8px",backgroundColor:r===o.value?"#FFF4EC":"#F9FAFB",color:r===o.value?t:"#555",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.15s",borderColor:r===o.value?t:"#E5E7EB"},children:o.label},o.label))})]})]}),p==="diseno"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"10px"},children:"Presets de color"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:L.map(o=>{const l=i.darkColor===o.dark&&i.lightColor===o.light;return e.jsxs("button",{onClick:()=>{a("darkColor",o.dark),a("lightColor",o.light)},style:{padding:"10px",border:`2px solid ${l?t:"#E5E7EB"}`,borderRadius:"10px",backgroundColor:l?"#FFF4EC":"#FAFAFA",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.15s"},children:[e.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"6px",border:"1px solid #E5E7EB",background:`linear-gradient(135deg, ${o.dark} 50%, ${o.light} 50%)`,flexShrink:0}}),e.jsx("span",{style:{fontSize:"11px",fontWeight:l?700:500,color:l?t:"#555",textAlign:"left",lineHeight:1.2},children:o.label})]},o.label)})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsx(F,{label:"Color oscuro",value:i.darkColor||"#000000",onChange:o=>a("darkColor",o)}),e.jsx(F,{label:"Color fondo",value:i.lightColor||"#FFFFFF",onChange:o=>a("lightColor",o)})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:["TamaÃ±o preview: ",i.size,"px"]}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:N.map(o=>e.jsx("button",{onClick:()=>a("size",o),style:{padding:"6px 14px",border:`1.5px solid ${i.size===o?t:"#E5E7EB"}`,borderRadius:"8px",backgroundColor:i.size===o?"#FFF4EC":"#FAFAFA",color:i.size===o?t:"#555",cursor:"pointer",fontSize:"13px",fontWeight:i.size===o?700:500},children:o},o))})]})]}),p==="avanzado"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:"Nivel de correcciÃ³n de errores"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:y.map(o=>{const l=i.errorCorrection===o.id;return e.jsxs("button",{onClick:()=>a("errorCorrection",o.id),style:{padding:"12px 14px",border:`1.5px solid ${l?t:"#E5E7EB"}`,borderRadius:"10px",backgroundColor:l?"#FFF4EC":"#FAFAFA",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.15s"},children:[e.jsx("span",{style:{fontSize:"13px",fontWeight:l?700:500,color:l?t:"#374151"},children:o.label}),e.jsx("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:o.desc})]},o.id)})}),e.jsxs("div",{style:{marginTop:"10px",padding:"10px 14px",backgroundColor:"#EFF6FF",borderRadius:"8px",border:"1px solid #BFDBFE",fontSize:"12px",color:"#2563EB"},children:["ðŸ’¡ UsÃ¡ ",e.jsx("strong",{children:"H (MÃ¡xima)"})," si vas a superponer el logo de la empresa sobre el QR"]})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:["Margen: ",i.margin," mÃ³dulos"]}),e.jsx("input",{type:"range",min:0,max:6,value:i.margin??2,onChange:o=>a("margin",Number(o.target.value)),style:{width:"100%",accentColor:t}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#9CA3AF"},children:[e.jsx("span",{children:"Sin margen"}),e.jsx("span",{children:"Margen mÃ¡ximo"})]})]})]})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"16px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"12px"},children:"Generado con"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[{label:"Motor",value:"qrcode@1.5 (local)"},{label:"APIs externas",value:"Ninguna âœ…"},{label:"CorrecciÃ³n",value:`${i.errorCorrection} â€” ${(f=y.find(o=>o.id===i.errorCorrection))==null?void 0:f.desc}`},{label:"TamaÃ±o",value:`${i.size}px preview Â· 600px export`}].map(o=>e.jsxs("div",{style:{padding:"8px 12px",backgroundColor:"#F9FAFB",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",marginBottom:"2px"},children:o.label}),e.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#374151"},children:o.value})]},o.label))})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",alignSelf:"flex-start"},children:"Vista previa"}),e.jsx("div",{style:{padding:"16px",backgroundColor:i.lightColor||"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"center"},children:r?e.jsx(W,{value:r,options:{...i,size:Math.min(i.size??256,280)},onGenerated:j}):e.jsxs("div",{style:{width:200,height:200,display:"flex",alignItems:"center",justifyContent:"center",color:"#E5E7EB",flexDirection:"column",gap:"8px"},children:[e.jsx(u,{size:48,strokeWidth:1}),e.jsx("span",{style:{fontSize:"12px"},children:"IngresÃ¡ un valor"})]})}),r&&e.jsxs("div",{style:{fontSize:"12px",color:"#9CA3AF"},children:["Preview ",Math.min(i.size??256,280),"px Â· Export 600px"]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",border:"1px solid #E5E7EB",padding:"20px",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"4px"},children:"Descargar"}),e.jsxs("button",{onClick:z,disabled:!r,style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",border:"none",borderRadius:"10px",backgroundColor:r?t:"#E5E7EB",color:r?"#fff":"#9CA3AF",cursor:r?"pointer":"default",fontSize:"14px",fontWeight:700,width:"100%",justifyContent:"center",transition:"all 0.15s"},children:[e.jsx(m,{size:16})," Descargar PNG (alta res.)"]}),e.jsxs("button",{onClick:S,disabled:!r,style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",border:`1.5px solid ${r?t:"#E5E7EB"}`,borderRadius:"10px",backgroundColor:"#fff",color:r?t:"#9CA3AF",cursor:r?"pointer":"default",fontSize:"14px",fontWeight:700,width:"100%",justifyContent:"center",transition:"all 0.15s"},children:[e.jsx(m,{size:16})," Descargar SVG (vectorial)"]}),e.jsx("button",{onClick:E,disabled:!s,style:{display:"flex",alignItems:"center",gap:"10px",padding:"11px 16px",border:"1.5px solid #E5E7EB",borderRadius:"10px",backgroundColor:"#F9FAFB",color:g?"#059669":"#555",cursor:s?"pointer":"default",fontSize:"13px",fontWeight:600,width:"100%",justifyContent:"center",transition:"all 0.15s"},children:g?e.jsxs(e.Fragment,{children:[e.jsx(R,{size:15})," Copiado"]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{size:15})," Copiar como Data URL"]})})]}),e.jsxs("div",{style:{padding:"16px",backgroundColor:"#FFF8F5",borderRadius:"12px",border:"1px solid #FDDCCC"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:t,marginBottom:"6px"},children:"ðŸ’¡ Integrado en Etiqueta Emotiva"}),e.jsx("div",{style:{fontSize:"12px",color:"#92400E",lineHeight:"1.5"},children:"Los QR de las etiquetas se generan con este mismo motor interno. Sin llamadas externas, sin lÃ­mites de uso."})]})]})]})})]})}function F({label:d,value:r,onChange:c}){return e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#374151",marginBottom:"8px"},children:d}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",border:"1.5px solid #E5E7EB",borderRadius:"10px",backgroundColor:"#FAFAFA"},children:[e.jsx("input",{type:"color",value:r,onChange:i=>c(i.target.value),style:{width:"32px",height:"32px",border:"none",borderRadius:"6px",cursor:"pointer",padding:"0",backgroundColor:"transparent"}}),e.jsx("span",{style:{fontSize:"13px",fontFamily:"monospace",color:"#374151",fontWeight:600},children:r.toUpperCase()})]})]})}export{K as QrGeneratorView};
