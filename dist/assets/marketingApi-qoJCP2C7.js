import{p as u,a as f}from"./info-tCLo8W3J.js";const s=`https://${u}.supabase.co/functions/v1/api/marketing`,o={"Content-Type":"application/json",Authorization:`Bearer ${f}`};async function e(a){try{return await(await fetch(`${s}${a}`,{headers:o})).json()}catch(r){return console.error(`Marketing API GET ${a}:`,r),{ok:!1,error:String(r)}}}async function n(a,r){try{return await(await fetch(`${s}${a}`,{method:"POST",headers:o,body:r?JSON.stringify(r):void 0})).json()}catch(t){return console.error(`Marketing API POST ${a}:`,t),{ok:!1,error:String(t)}}}async function i(a){try{return await(await fetch(`${s}${a}`,{method:"DELETE",headers:o})).json()}catch(r){return console.error(`Marketing API DELETE ${a}:`,r),{ok:!1,error:String(r)}}}async function p(){const a=await e("/campanas");return!a.ok||!a.data?[]:a.data}async function y(a){const r=await n("/campanas",a);return!r.ok||!r.data?null:r.data}async function k(a){return(await i(`/campanas/${a}`)).ok}async function m(a){const r=a?`?estado=${a}`:"",t=await e(`/suscriptores${r}`);return!t.ok||!t.data?[]:t.data}async function $(a){const r=await n("/suscriptores",a);return!r.ok||!r.data?null:r.data}async function w(a){return(await i(`/suscriptores/${a}`)).ok}async function g(){const a=await e("/fidelizacion/miembros");return!a.ok||!a.data?[]:a.data}async function S(a){const r=await e(`/fidelizacion/miembros/${a}`);return!r.ok||!r.data?null:r.data}async function h(a,r,t,c){return(await n(`/fidelizacion/miembros/${a}/puntos`,{puntos:r,descripcion:t,referencia_id:c})).ok}async function E(){const a=await e("/fidelizacion/niveles");return!a.ok||!a.data?[]:a.data}async function b(a){const r=a?`?estado=${a}`:"",t=await e(`/sorteos${r}`);return!t.ok||!t.data?[]:t.data}async function A(a){const r=await n("/sorteos",a);return!r.ok||!r.data?null:r.data}async function P(a){const r=await n(`/sorteos/${a}/girar`);return!r.ok||!r.data?null:r.data}export{g as a,b,p as c,k as d,$ as e,w as f,m as g,y as h,E as i,h as j,S as k,A as l,P as m};
