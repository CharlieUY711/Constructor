import{r as l,j as e,E as h,g as n,p as A,t as x}from"./index-B2QEN0at.js";import{O as B}from"./OrangeHeader-BG2aU0HP.js";import{S as z}from"./shield-D7E9DmK9.js";import{Z as k}from"./zap-D3tV5HqB.js";import{T as I}from"./triangle-alert-CRWvvgIU.js";import{K as R}from"./key-BxjA7HiR.js";import{E as w}from"./eye-off-BwZKNJsk.js";import{E as D}from"./eye-siCqz5MR.js";import{C as f}from"./copy-BugwjguM.js";import{W}from"./webhook-BAPvfjhD.js";import{A as M}from"./activity-DHt-z56I.js";import{C as T}from"./clock-O4iboF9Q.js";import{G as O}from"./globe-DvHdF30p.js";import{C as P}from"./chevron-down-DN_GHCaN.js";import{C as _}from"./chevron-right-DTPtS-lV.js";import"./ConnectionStatusIcon-BYFfkvRW.js";import"./lightbulb-D9MyICTq.js";import"./map-pin-CGu7kq9m.js";const r="#FF6835",u=`https://${A}.supabase.co/functions/v1/api/age-verification/metamap-webhook`,L=[{id:"mm-001",user:"juan.garcia@email.com",status:"approved",method:"DNI AR",date:"21/02/2026 14:32",order:"OM-2026-A4F9B1"},{id:"mm-002",user:"sofia.m@gmail.com",status:"approved",method:"CÃ©dula UY",date:"21/02/2026 11:08",order:"OM-2026-C2D8E7"},{id:"mm-003",user:"diego.r@yahoo.com",status:"rejected",method:"Pasaporte",date:"20/02/2026 18:55",order:"OM-2026-F1B3C5"},{id:"mm-004",user:"ana.lopez@empresa.com",status:"approved",method:"DNI AR",date:"20/02/2026 16:22",order:"OM-2026-E9A2D4"},{id:"mm-005",user:"carlos.v@mail.com",status:"pending",method:"RUT CL",date:"20/02/2026 09:45",order:"OM-2026-B7F4A1"}],N={approved:{label:"Aprobada",color:"#10B981",bg:"#D1FAE5"},rejected:{label:"Rechazada",color:"#EF4444",bg:"#FEE2E2"},pending:{label:"Pendiente",color:"#F59E0B",bg:"#FEF3C7"}},$=[{flag:"ðŸ‡ºðŸ‡¾",country:"Uruguay",docs:["CÃ©dula de Identidad","Pasaporte","Licencia de Conducir"]},{flag:"ðŸ‡¦ðŸ‡·",country:"Argentina",docs:["DNI (Documento Nacional)","Pasaporte","Licencia de Conducir"]},{flag:"ðŸ‡²ðŸ‡½",country:"MÃ©xico",docs:["INE (Credencial para Votar)","Pasaporte","Licencia de Conducir"]},{flag:"ðŸ‡¨ðŸ‡±",country:"Chile",docs:["CÃ©dula de Identidad (RUT)","Pasaporte","Licencia de Conducir"]},{flag:"ðŸ‡§ðŸ‡·",country:"Brasil",docs:["RG (Registro Geral)","CPF (con foto)","CNH","Pasaporte"]},{flag:"ðŸ‡¨ðŸ‡´",country:"Colombia",docs:["CÃ©dula de CiudadanÃ­a","Pasaporte","Licencia de Conducir"]}];function de({onNavigate:U}){const[a,y]=l.useState(!1),[d,b]=l.useState(""),[j,C]=l.useState(""),[p,F]=l.useState(""),[t,E]=l.useState(!0),[c,v]=l.useState(!1),[G,g]=l.useState(!1),s=d.length>8&&p.length>8,m=(o,i)=>{navigator.clipboard.writeText(o).then(()=>x.success(`${i} copiado al portapapeles`))},S=()=>{if(!d||!p){x.error("Client ID y Flow ID son obligatorios");return}g(!0),x.success("ConfiguraciÃ³n de MetaMap guardada",{description:"Recuerda configurar las mismas variables en Supabase Edge Functions."}),setTimeout(()=>g(!1),3e3)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[e.jsx(B,{icon:z,title:"MetaMap â€” VerificaciÃ³n de Identidad",subtitle:"KYC Â· VerificaciÃ³n de edad Â· Documentos + Selfie + Liveness",actions:[{label:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:5},children:[e.jsx(h,{size:12})," Dashboard MetaMap"]}),onClick:()=>window.open("https://dashboard.metamap.com/","_blank")},{label:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:5},children:[e.jsx(k,{size:12})," Guardar config."]}),primary:!0,onClick:S}]}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 28px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"16px 20px",borderRadius:"12px",marginBottom:"24px",backgroundColor:s?"#F0FDF4":"#FFF7ED",border:`1.5px solid ${s?"#D1FAE5":"#FED7AA"}`},children:[s?e.jsx(n,{size:20,color:"#10B981"}):e.jsx(I,{size:20,color:"#F59E0B"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{margin:0,fontSize:"0.88rem",fontWeight:"700",color:s?"#059669":"#92400E"},children:s?"MetaMap configurado y listo":"ConfiguraciÃ³n pendiente"}),e.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.75rem",color:s?"#6EE7B7":"#D97706"},children:s?`Modo: ${t?"Sandbox (pruebas)":"ProducciÃ³n"} Â· Flow ID configurado`:"CompletÃ¡ el Client ID y Flow ID para activar la verificaciÃ³n de identidad"})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:e.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:t?"#F59E0B":"#10B981",backgroundColor:t?"#FEF3C7":"#D1FAE5",padding:"3px 10px",borderRadius:"6px"},children:t?"ðŸ§ª Sandbox":"ðŸš€ ProducciÃ³n"})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[e.jsx("div",{style:{width:34,height:34,borderRadius:"9px",backgroundColor:`${r}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(R,{size:16,color:r})}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:"Credenciales API"}),e.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:"Obtenelas en MetaMap â†’ Settings â†’ API Keys"})]})]}),e.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"18px"},children:[{id:!0,label:"ðŸ§ª Sandbox (test)"},{id:!1,label:"ðŸš€ ProducciÃ³n"}].map(o=>e.jsx("button",{onClick:()=>E(o.id),style:{flex:1,padding:"8px 0",borderRadius:"8px",border:`1.5px solid ${t===o.id?r:"#E5E7EB"}`,backgroundColor:t===o.id?`${r}10`:"#F9FAFB",color:t===o.id?r:"#6B7280",fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:o.label},String(o.id)))}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"700",color:"#374151",marginBottom:"6px"},children:["Client ID ",e.jsx("span",{style:{color:"#EF4444"},children:"*"}),e.jsx("span",{style:{fontWeight:"400",color:"#9CA3AF",marginLeft:"6px"},children:"(pÃºblico â€” frontend)"})]}),e.jsx("input",{value:d,onChange:o=>b(o.target.value),placeholder:"mati_abc123xyz...",style:{width:"100%",padding:"10px 12px",borderRadius:"9px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",fontFamily:"monospace",backgroundColor:"#F9FAFB",outline:"none",boxSizing:"border-box"},onFocus:o=>o.target.style.borderColor=r,onBlur:o=>o.target.style.borderColor="#E5E7EB"})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"700",color:"#374151",marginBottom:"6px"},children:["Client Secret",e.jsx("span",{style:{fontWeight:"400",color:"#9CA3AF",marginLeft:"6px"},children:"(privado â€” solo Supabase env)"})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{value:j,onChange:o=>C(o.target.value),type:a?"text":"password",placeholder:"sk_live_abc123xyz...",style:{width:"100%",padding:"10px 36px 10px 12px",borderRadius:"9px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",fontFamily:"monospace",backgroundColor:"#F9FAFB",outline:"none",boxSizing:"border-box"},onFocus:o=>o.target.style.borderColor=r,onBlur:o=>o.target.style.borderColor="#E5E7EB"}),e.jsx("button",{onClick:()=>y(!a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:0},children:a?e.jsx(w,{size:15,color:"#9CA3AF"}):e.jsx(D,{size:15,color:"#9CA3AF"})})]}),e.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.68rem",color:"#9CA3AF"},children:"âš ï¸ Nunca expongas este valor en el frontend"})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"700",color:"#374151",marginBottom:"6px"},children:["Flow ID ",e.jsx("span",{style:{color:"#EF4444"},children:"*"}),e.jsx("span",{style:{fontWeight:"400",color:"#9CA3AF",marginLeft:"6px"},children:"(pÃºblico)"})]}),e.jsx("input",{value:p,onChange:o=>F(o.target.value),placeholder:"6419e3b2b0c5340011234567",style:{width:"100%",padding:"10px 12px",borderRadius:"9px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",fontFamily:"monospace",backgroundColor:"#F9FAFB",outline:"none",boxSizing:"border-box"},onFocus:o=>o.target.style.borderColor=r,onBlur:o=>o.target.style.borderColor="#E5E7EB"})]})]}),e.jsxs("div",{style:{marginTop:"18px",padding:"12px 14px",backgroundColor:"#F8F9FA",borderRadius:"9px",border:"1px solid #E5E7EB"},children:[e.jsx("p",{style:{margin:"0 0 6px",fontSize:"0.72rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em"},children:"Env vars requeridas en Supabase"}),["METAMAP_CLIENT_ID","METAMAP_CLIENT_SECRET","METAMAP_FLOW_ID","METAMAP_WEBHOOK_SECRET"].map(o=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 0"},children:[e.jsx("code",{style:{fontSize:"0.72rem",color:"#374151",fontFamily:"monospace"},children:o}),e.jsx("button",{onClick:()=>m(o,o),style:{background:"none",border:"none",cursor:"pointer",padding:"2px 4px",color:"#9CA3AF"},children:e.jsx(f,{size:11})})]},o))]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px",display:"flex",flexDirection:"column",gap:"0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[e.jsx("div",{style:{width:34,height:34,borderRadius:"9px",backgroundColor:"#3B82F615",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(W,{size:16,color:"#3B82F6"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:"Webhook URL"}),e.jsx("p",{style:{margin:0,fontSize:"0.72rem",color:"#9CA3AF"},children:"MetaMap â†’ Settings â†’ Webhooks â†’ Add Webhook"})]})]}),e.jsxs("div",{style:{backgroundColor:"#F3F4F6",borderRadius:"9px",padding:"12px 14px",marginBottom:"16px",position:"relative"},children:[e.jsx("code",{style:{fontSize:"0.7rem",color:"#374151",fontFamily:"monospace",wordBreak:"break-all",lineHeight:1.5},children:u}),e.jsxs("button",{onClick:()=>m(u,"Webhook URL"),style:{position:"absolute",top:"8px",right:"8px",background:"#fff",border:"1px solid #E5E7EB",borderRadius:"6px",padding:"4px 8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.68rem",color:"#6B7280"},children:[e.jsx(f,{size:10})," Copiar"]})]}),e.jsxs("div",{style:{marginBottom:"18px"},children:[e.jsx("p",{style:{margin:"0 0 10px",fontSize:"0.78rem",fontWeight:"700",color:"#374151"},children:"Eventos a suscribir:"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:["verification.completed","verification.updated","verification.approved","verification.rejected"].map(o=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"7px"},children:[e.jsx(n,{size:12,color:"#10B981"}),e.jsx("code",{style:{fontSize:"0.74rem",color:"#374151",fontFamily:"monospace"},children:o})]},o))})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginTop:"auto"},children:[{icon:M,label:"Verificaciones",value:"5",color:r},{icon:n,label:"Aprobadas",value:"3",color:"#10B981"},{icon:T,label:"Tasa aprobaciÃ³n",value:"80%",color:"#3B82F6"}].map((o,i)=>e.jsxs("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"#F9FAFB",borderRadius:"9px"},children:[e.jsx(o.icon,{size:16,color:o.color,style:{marginBottom:"6px"}}),e.jsx("p",{style:{margin:0,fontSize:"1.1rem",fontWeight:"800",color:"#111827"},children:o.value}),e.jsx("p",{style:{margin:"2px 0 0",fontSize:"0.65rem",color:"#9CA3AF"},children:o.label})]},i))})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px",marginBottom:"20px"},children:[e.jsxs("h3",{style:{margin:"0 0 16px",fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:["Verificaciones recientes ",e.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"400",color:"#9CA3AF"},children:"(Ãºltimas 5 Â· datos de ejemplo)"})]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[e.jsx("thead",{children:e.jsx("tr",{style:{borderBottom:"1px solid #F3F4F6"},children:["ID","Usuario","Documento","Estado","Pedido","Fecha"].map(o=>e.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.06em",whiteSpace:"nowrap"},children:o},o))})}),e.jsx("tbody",{children:L.map(o=>{const i=N[o.status];return e.jsxs("tr",{style:{borderBottom:"1px solid #F9FAFB"},children:[e.jsx("td",{style:{padding:"10px 12px"},children:e.jsx("code",{style:{fontSize:"0.72rem",color:"#6B7280"},children:o.id})}),e.jsx("td",{style:{padding:"10px 12px",color:"#374151"},children:o.user}),e.jsx("td",{style:{padding:"10px 12px",color:"#374151"},children:o.method}),e.jsx("td",{style:{padding:"10px 12px"},children:e.jsx("span",{style:{fontSize:"0.72rem",fontWeight:"700",color:i.color,backgroundColor:i.bg,padding:"3px 9px",borderRadius:"6px"},children:i.label})}),e.jsx("td",{style:{padding:"10px 12px"},children:e.jsx("code",{style:{fontSize:"0.72rem",color:r},children:o.order})}),e.jsx("td",{style:{padding:"10px 12px",color:"#9CA3AF",whiteSpace:"nowrap"},children:o.date})]},o.id)})})]})})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden",marginBottom:"20px"},children:[e.jsxs("button",{onClick:()=>v(!c),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"18px 22px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left"},children:[e.jsx(O,{size:16,color:r}),e.jsx("p",{style:{margin:0,fontSize:"0.9rem",fontWeight:"700",color:"#111827",flex:1},children:"Documentos soportados por paÃ­s"}),c?e.jsx(P,{size:16,color:"#9CA3AF"}):e.jsx(_,{size:16,color:"#9CA3AF"})]}),c&&e.jsx("div",{style:{padding:"0 22px 22px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:$.map(o=>e.jsxs("div",{style:{padding:"14px",backgroundColor:"#F9FAFB",borderRadius:"10px",border:"1px solid #F3F4F6"},children:[e.jsxs("p",{style:{margin:"0 0 8px",fontSize:"0.88rem",fontWeight:"700",color:"#111827"},children:[o.flag," ",o.country]}),o.docs.map(i=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[e.jsx(n,{size:11,color:"#10B981"}),e.jsx("span",{style:{fontSize:"0.74rem",color:"#6B7280"},children:i})]},i))]},o.country))})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",padding:"22px 24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h3",{style:{margin:0,fontSize:"0.92rem",fontWeight:"800",color:"#111827"},children:"Planes de MetaMap"}),e.jsxs("a",{href:"https://metamap.com/pricing",target:"_blank",rel:"noopener noreferrer",style:{fontSize:"0.75rem",color:r,fontWeight:"700",display:"flex",alignItems:"center",gap:"4px",textDecoration:"none"},children:["Ver precios actuales ",e.jsx(h,{size:11})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:[{plan:"Free",price:"$0",verifs:"100/mes",extra:"â€”",highlight:!1},{plan:"Starter",price:"$299/mes",verifs:"500 incl.",extra:"$0.50 c/u",highlight:!1},{plan:"Growth",price:"$999/mes",verifs:"2.500 incl.",extra:"$0.30 c/u",highlight:!0},{plan:"Enterprise",price:"Custom",verifs:"Alto volumen",extra:"Negociable",highlight:!1}].map(o=>e.jsxs("div",{style:{padding:"16px",borderRadius:"10px",border:`1.5px solid ${o.highlight?r:"#E5E7EB"}`,backgroundColor:o.highlight?`${r}06`:"#F9FAFB",textAlign:"center",position:"relative"},children:[o.highlight&&e.jsx("div",{style:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",fontSize:"0.65rem",fontWeight:"800",color:"#fff",backgroundColor:r,padding:"2px 10px",borderRadius:"10px",whiteSpace:"nowrap"},children:"Recomendado"}),e.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.8rem",fontWeight:"700",color:"#111827"},children:o.plan}),e.jsx("p",{style:{margin:"0 0 8px",fontSize:"1.1rem",fontWeight:"900",color:o.highlight?r:"#374151"},children:o.price}),e.jsx("p",{style:{margin:"0 0 2px",fontSize:"0.72rem",color:"#6B7280"},children:o.verifs}),e.jsxs("p",{style:{margin:0,fontSize:"0.68rem",color:"#9CA3AF"},children:["extra: ",o.extra]})]},o.plan))})]})]})]})}export{de as MetaMapView};
