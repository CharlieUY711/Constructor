import{r as s,j as o,C as A,i as B,E as k}from"./index-Q3JFmZuo.js";import{O as I}from"./OrangeHeader-Dxoq7Mx9.js";import{g as z}from"./integracionesApi-Bt3Y7FVK.js";import{C as R}from"./credit-card-BYLbOVyK.js";import{Z as W}from"./zap-BLZzAEoJ.js";import{C as w}from"./clock-BLFNMUzh.js";import{C as T}from"./circle-check-BFe_tnei.js";import{S as P}from"./settings-2-C4FDxRb7.js";import"./lightbulb-yBp16jJX.js";import"./map-pin-x8EonAdr.js";const l="#FF6835",D={plexo:{emoji:"üîµ",countries:["üá∫üáæ"],region:"uy",apiMode:"api",recommended:!0},mercadopago:{emoji:"üíô",countries:["üá∫üáæ","üá¶üá∑","üáßüá∑","üá®üá±"],region:"latam",apiMode:"api"}};function M(i){const n=D[i.nombre]||{},a=i.config;let t="pending";return i.estado==="activo"?t="connected":i.estado==="error"?t="pending":i.estado==="configurando"&&(t="sandbox"),{id:i.id,emoji:n.emoji||"üí≥",name:i.proveedor,description:`${i.proveedor} - ${i.nombre}`,countries:n.countries||["üåé"],region:n.region||"global",apiMode:n.apiMode||"api",status:t,badge:a.badge,category:a.category,docsUrl:a.docsUrl,recommended:n.recommended||a.recommended||!1}}const U={connected:{label:"Conectada",color:"#10B981",bg:"#D1FAE5",Icon:T},sandbox:{label:"Sandbox",color:"#F59E0B",bg:"#FEF3C7",Icon:A},pending:{label:"Sin conectar",color:"#9CA3AF",bg:"#F3F4F6",Icon:w},"coming-soon":{label:"Pr√≥ximamente",color:"#3B82F6",bg:"#DBEAFE",Icon:W}},$={api:{label:"Con API",color:"#10B981",bg:"#D1FAE5"},"no-api":{label:"V√≠a pasarela",color:"#8B5CF6",bg:"#EDE9FE"},redirect:{label:"Redirecci√≥n",color:"#F59E0B",bg:"#FEF3C7"}};function q({onNavigate:i}){const[n,a]=s.useState("all"),[t,h]=s.useState("all"),[y,m]=s.useState(null),[j,C]=s.useState([]),[p,E]=s.useState(!0);s.useEffect(()=>{(async()=>{try{const r=await z({tipo:"pagos"});C(r)}catch(r){console.error("Error cargando integraciones de pagos:",r)}finally{E(!1)}})()},[]);const d=j.map(M),u=d.filter(e=>{const r=n==="all"||e.region===n||n==="latam"&&e.region==="global",c=t==="all"||(t==="api"?e.apiMode==="api":e.apiMode!=="api");return r&&c}),F=d.filter(e=>e.status==="connected").length,S=d.filter(e=>e.status==="sandbox").length;return o.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[o.jsx(I,{icon:R,title:"Pasarela de Pagos",subtitle:"Cobros online ‚Äî Uruguay first, expansi√≥n Latam progresiva",actions:[{label:"‚Üê Integraciones",onClick:()=>i("integraciones")}]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 32px",backgroundColor:"#F8F9FA"},children:[o.jsx("div",{style:{display:"flex",gap:10,marginBottom:20},children:[{label:"Proveedores",value:p?"...":d.length,color:"#111827"},{label:"Conectadas",value:p?"...":F,color:"#10B981"},{label:"Sandbox",value:p?"...":S,color:"#F59E0B"},{label:"Uruguay üá∫üáæ",value:p?"...":d.filter(e=>e.region==="uy").length,color:l}].map((e,r)=>o.jsxs("div",{style:{flex:1,backgroundColor:"#fff",borderRadius:10,padding:"12px 16px",border:"1px solid #E5E7EB",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:e.color},children:e.value}),o.jsx("div",{style:{fontSize:"0.7rem",color:"#9CA3AF",marginTop:2},children:e.label})]},r))}),o.jsxs("div",{style:{display:"flex",gap:8,marginBottom:20,flexWrap:"wrap"},children:[o.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#6B7280",alignSelf:"center",marginRight:4},children:"Regi√≥n:"}),["all","uy","latam","global"].map(e=>o.jsx("button",{onClick:()=>a(e),style:{padding:"5px 12px",borderRadius:20,cursor:"pointer",backgroundColor:n===e?l:"#fff",color:n===e?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600",border:`1.5px solid ${n===e?l:"#E5E7EB"}`},children:{all:"Todos",uy:"üá∫üáæ Uruguay",latam:"üåé Latam",global:"üåê Global"}[e]},e)),o.jsx("div",{style:{width:1,height:28,backgroundColor:"#E5E7EB",alignSelf:"center",margin:"0 4px"}}),o.jsx("span",{style:{fontSize:"0.78rem",fontWeight:"700",color:"#6B7280",alignSelf:"center",marginRight:4},children:"Integraci√≥n:"}),["all","api","no-api"].map(e=>o.jsx("button",{onClick:()=>h(e),style:{padding:"5px 12px",borderRadius:20,cursor:"pointer",backgroundColor:t===e?"#1F2937":"#fff",color:t===e?"#fff":"#374151",fontSize:"0.78rem",fontWeight:"600",border:`1.5px solid ${t===e?"#1F2937":"#E5E7EB"}`},children:{all:"Todos",api:"‚ö° Con API","no-api":"üîó Sin API directo"}[e]},e))]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:14},children:u.map(e=>{const r=U[e.status],c=$[e.apiMode],v=r.Icon,b=y===e.id;return o.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:14,border:e.recommended?`1.5px solid ${l}`:"1px solid #E5E7EB",overflow:"hidden",transition:"box-shadow 0.15s",boxShadow:e.recommended?`0 0 0 4px ${l}12`:"none"},children:[o.jsx("div",{style:{height:3,backgroundColor:r.color}}),o.jsxs("div",{style:{padding:"16px 18px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:10},children:[o.jsx("div",{style:{width:42,height:42,borderRadius:10,backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.3rem",flexShrink:0},children:e.emoji}),o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap"},children:[o.jsx("span",{style:{fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:e.name}),e.recommended&&o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3,padding:"2px 7px",backgroundColor:`${l}18`,color:l,borderRadius:4,fontSize:"0.62rem",fontWeight:"700"},children:[o.jsx(B,{size:9,fill:l})," Recomendado UY"]})]}),o.jsxs("div",{style:{display:"flex",gap:5,marginTop:4,flexWrap:"wrap"},children:[e.countries.map((g,x)=>o.jsx("span",{style:{fontSize:"0.75rem"},children:g},x)),o.jsx("span",{style:{padding:"1px 7px",borderRadius:4,fontSize:"0.62rem",fontWeight:"700",backgroundColor:c.bg,color:c.color},children:c.label})]})]})]}),o.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.78rem",color:"#6B7280",lineHeight:1.5},children:e.description}),e.badge&&e.apiMode!=="api"&&o.jsxs("div",{style:{marginBottom:10,padding:"6px 10px",backgroundColor:"#F9FAFB",borderRadius:7,fontSize:"0.72rem",color:"#6B7280"},children:["‚ÑπÔ∏è ",e.badge]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 9px",backgroundColor:r.bg,color:r.color,borderRadius:20,fontSize:"0.7rem",fontWeight:"700"},children:[o.jsx(v,{size:11})," ",r.label]}),o.jsxs("div",{style:{display:"flex",gap:6},children:[e.docsUrl&&o.jsxs("a",{href:e.docsUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"5px 10px",borderRadius:7,border:"1px solid #E5E7EB",backgroundColor:"#F9FAFB",color:"#374151",fontSize:"0.72rem",fontWeight:"600",textDecoration:"none"},children:[o.jsx(k,{size:11})," Docs"]}),e.status!=="coming-soon"&&e.apiMode==="api"&&o.jsxs("button",{onClick:()=>m(b?null:e.id),style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:7,border:"none",backgroundColor:e.status==="connected"?"#F3F4F6":l,color:e.status==="connected"?"#374151":"#fff",fontSize:"0.72rem",fontWeight:"700",cursor:"pointer"},children:[o.jsx(P,{size:11})," ",e.status==="connected"?"Config":"Conectar"]})]})]}),b&&o.jsxs("div",{style:{marginTop:14,padding:"14px",backgroundColor:"#F9FAFB",borderRadius:10,border:"1px solid #E5E7EB"},children:[o.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.72rem",fontWeight:"700",color:"#374151"},children:["Credenciales API ‚Äî ",e.name]}),["Public Key / Client ID","Secret Key / Access Token"].map((g,x)=>o.jsxs("div",{style:{marginBottom:8},children:[o.jsx("label",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",display:"block",marginBottom:3,textTransform:"uppercase",letterSpacing:"0.05em"},children:g}),o.jsx("input",{type:x===1?"password":"text",placeholder:`${g}...`,style:{width:"100%",padding:"7px 10px",border:"1.5px solid #E5E7EB",borderRadius:7,fontSize:"0.8rem",outline:"none",boxSizing:"border-box",backgroundColor:"#fff"},onFocus:f=>f.target.style.borderColor=l,onBlur:f=>f.target.style.borderColor="#E5E7EB"})]},x)),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[o.jsx("button",{style:{flex:1,padding:"8px",backgroundColor:l,color:"#fff",border:"none",borderRadius:7,fontSize:"0.78rem",fontWeight:"700",cursor:"pointer"},children:"Guardar y probar conexi√≥n"}),o.jsx("button",{onClick:()=>m(null),style:{padding:"8px 12px",backgroundColor:"#fff",color:"#9CA3AF",border:"1px solid #E5E7EB",borderRadius:7,fontSize:"0.78rem",cursor:"pointer"},children:"Cancelar"})]})]})]})]},e.id)})}),u.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"48px 0",color:"#9CA3AF"},children:[o.jsx("p",{style:{fontSize:"2rem",margin:"0 0 8px"},children:"üîç"}),o.jsx("p",{style:{fontWeight:"600"},children:"Sin resultados para ese filtro"})]})]})]})}export{q as IntegracionesPagosView};
