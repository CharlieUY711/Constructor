import{c as m,r,j as e,C as re,p as W,h as I}from"./index-CzcvZDmw.js";import{c as te}from"./index-yKjPlrCh.js";import{L as R}from"./log-in-3sZmlJO4.js";import{M as B}from"./mail-B5w3fDE8.js";import{F as v}from"./facebook-cFj7jIhl.js";import{E as ie}from"./eye-off-jWFqpMK0.js";import{E as ne}from"./eye-Dfs6stPr.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],E=m("chrome",se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],k=m("github",le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],de=m("key-round",ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pe=m("user-plus",ce),i="#FF6835",xe=te(`https://${W}.supabase.co`,I),n={google:"#EA4335",facebook:"#1877F2",github:"#24292E"};function ve({onNavigate:ge}){const[l,T]=r.useState("preview"),[t,a]=r.useState("login"),[S,P]=r.useState(!1),[g,D]=r.useState(!0),[u,N]=r.useState(!0),[f,L]=r.useState(!1),[h,G]=r.useState(!1),[C,M]=r.useState(8),[O,$]=r.useState(!0),[_,q]=r.useState(!0),[H,U]=r.useState(!1),[z,V]=r.useState("Mi AplicaciÃ³n"),[s,Y]=r.useState(i),[F,K]=r.useState("MA"),[d,J]=r.useState(""),[c,Q]=r.useState(""),[w,X]=r.useState(""),[p,Z]=r.useState("login"),[x,b]=r.useState(null),[y,A]=r.useState(!1),ee=async()=>{A(!0),b(null);try{if(p==="login"){const{error:o}=await xe.auth.signInWithPassword({email:d,password:c});if(o)throw o;b({ok:!0,msg:"âœ… Login exitoso con Supabase Auth"})}else{const o=await fetch(`https://${W}.supabase.co/functions/v1/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({email:d,password:c,name:w})}),j=await o.json();if(!o.ok)throw new Error(j.error||"Error al registrar");b({ok:!0,msg:"âœ… Usuario creado exitosamente"})}}catch(o){b({ok:!1,msg:`âŒ ${o.message}`})}finally{A(!1)}},oe=()=>e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",padding:"32px 28px",width:"340px",boxShadow:"0 20px 60px rgba(0,0,0,0.12)",border:"1px solid #F3F4F6"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[e.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"14px",backgroundColor:s,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"1.1rem",fontWeight:"800",color:"#fff",marginBottom:"10px"},children:F}),e.jsx("p",{style:{margin:0,fontWeight:"700",fontSize:"1.1rem",color:"#111"},children:z}),e.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.78rem",color:"#9CA3AF"},children:t==="login"?"IngresÃ¡ a tu cuenta":t==="register"?"CreÃ¡ tu cuenta":"Recuperar contraseÃ±a"})]}),t!=="reset"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"20px"},children:[u&&e.jsxs("button",{style:{width:"100%",padding:"9px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"0.82rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[e.jsx(E,{size:15,color:n.google})," Continuar con Google"]}),f&&e.jsxs("button",{style:{width:"100%",padding:"9px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"0.82rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[e.jsx(v,{size:15,color:n.facebook})," Continuar con Facebook"]}),h&&e.jsxs("button",{style:{width:"100%",padding:"9px",borderRadius:"8px",border:"1.5px solid #E5E7EB",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"0.82rem",fontWeight:"600",color:"#374151",cursor:"pointer"},children:[e.jsx(k,{size:15,color:n.github})," Continuar con GitHub"]}),g&&(u||f||h)&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",margin:"4px 0"},children:[e.jsx("div",{style:{flex:1,height:"1px",backgroundColor:"#E5E7EB"}}),e.jsx("span",{style:{fontSize:"0.72rem",color:"#9CA3AF"},children:"o con email"}),e.jsx("div",{style:{flex:1,height:"1px",backgroundColor:"#E5E7EB"}})]})]}),g&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"14px"},children:[t==="register"&&e.jsx("input",{placeholder:"Nombre completo",style:{padding:"9px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",color:"#374151",outline:"none"}}),e.jsx("input",{placeholder:"correo@ejemplo.com",type:"email",style:{padding:"9px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",color:"#374151",outline:"none"}}),t!=="reset"&&e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{placeholder:"ContraseÃ±a",type:S?"text":"password",style:{width:"100%",padding:"9px 36px 9px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",color:"#374151",outline:"none",boxSizing:"border-box"}}),e.jsx("button",{onClick:()=>P(o=>!o),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:0},children:S?e.jsx(ie,{size:14,color:"#9CA3AF"}):e.jsx(ne,{size:14,color:"#9CA3AF"})})]})]}),e.jsx("button",{style:{width:"100%",padding:"10px",borderRadius:"9px",border:"none",backgroundColor:s,color:"#fff",fontSize:"0.88rem",fontWeight:"700",cursor:"pointer",marginBottom:"14px"},children:t==="login"?"Ingresar":t==="register"?"Crear cuenta":"Enviar enlace"}),e.jsxs("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#6B7280"},children:[t==="login"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a("reset"),style:{background:"none",border:"none",color:s,cursor:"pointer",fontSize:"0.75rem",fontWeight:"600"},children:"Â¿Olvidaste tu contraseÃ±a?"}),e.jsxs("p",{style:{margin:"6px 0 0"},children:["Â¿No tenÃ©s cuenta?"," ",e.jsx("button",{onClick:()=>a("register"),style:{background:"none",border:"none",color:s,cursor:"pointer",fontSize:"0.75rem",fontWeight:"700"},children:"Registrate"})]})]}),t==="register"&&e.jsxs("p",{style:{margin:0},children:["Â¿Ya tenÃ©s cuenta?"," ",e.jsx("button",{onClick:()=>a("login"),style:{background:"none",border:"none",color:s,cursor:"pointer",fontSize:"0.75rem",fontWeight:"700"},children:"IngresÃ¡"})]}),t==="reset"&&e.jsx("button",{onClick:()=>a("login"),style:{background:"none",border:"none",color:s,cursor:"pointer",fontSize:"0.75rem",fontWeight:"600"},children:"â† Volver al login"})]})]});return e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:"#F8F9FA"},children:[e.jsxs("div",{style:{height:"56px",flexShrink:0,backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",padding:"0 28px",gap:"14px"},children:[e.jsx(R,{size:20,color:i}),e.jsx("h1",{style:{margin:0,fontSize:"1.05rem",fontWeight:"700",color:"#111"},children:"Registro y Login"}),e.jsx("span",{style:{fontSize:"0.7rem",backgroundColor:"#DCFCE7",color:"#166534",padding:"2px 8px",borderRadius:"20px",fontWeight:"700"},children:"Supabase Auth"}),e.jsx("div",{style:{flex:1}}),["preview","config","test"].map(o=>e.jsx("button",{onClick:()=>T(o),style:{padding:"6px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.82rem",fontWeight:"600",backgroundColor:l===o?i:"transparent",color:l===o?"#fff":"#6B7280"},children:o==="preview"?"ðŸ‘ Vista Previa":o==="config"?"âš™ï¸ ConfiguraciÃ³n":"ðŸ§ª Test"},o))]}),l==="preview"&&e.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex"},children:[e.jsxs("div",{style:{width:"200px",flexShrink:0,backgroundColor:"#fff",borderRight:"1px solid #E5E7EB",padding:"20px 14px"},children:[e.jsx("p",{style:{margin:"0 0 12px",fontSize:"0.72rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Pantallas"}),[{id:"login",label:"Iniciar SesiÃ³n",icon:R},{id:"register",label:"Crear Cuenta",icon:pe},{id:"reset",label:"Recuperar ContraseÃ±a",icon:de}].map(o=>e.jsxs("button",{onClick:()=>a(o.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"8px",padding:"9px 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:t===o.id?`${i}15`:"transparent",color:t===o.id?i:"#374151",fontSize:"0.8rem",fontWeight:t===o.id?"700":"500",marginBottom:"4px"},children:[e.jsx(o.icon,{size:14})," ",o.label]},o.id)),e.jsxs("div",{style:{marginTop:"24px",borderTop:"1px solid #E5E7EB",paddingTop:"16px"},children:[e.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.72rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase"},children:"Providers activos"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[g&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(B,{size:12,color:i})," Email/Password"]}),u&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(E,{size:12,color:n.google})," Google"]}),f&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(v,{size:12,color:n.facebook})," Facebook"]}),h&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#374151",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(k,{size:12,color:n.github})," GitHub"]})]})]})]}),e.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#F1F5F9",overflowY:"auto",padding:"40px"},children:e.jsx(oe,{})})]}),l==="config"&&e.jsx("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:e.jsxs("div",{style:{maxWidth:"720px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"22px",border:"1px solid #E5E7EB"},children:[e.jsx("h2",{style:{margin:"0 0 18px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:"ðŸŽ¨ Branding"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:"Nombre de la app"}),e.jsx("input",{value:z,onChange:o=>V(o.target.value),style:{width:"100%",padding:"8px 10px",borderRadius:"7px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",boxSizing:"border-box"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:"Logo (texto)"}),e.jsx("input",{value:F,onChange:o=>K(o.target.value.slice(0,3)),maxLength:3,style:{width:"100%",padding:"8px 10px",borderRadius:"7px",border:"1.5px solid #E5E7EB",fontSize:"0.82rem",boxSizing:"border-box",fontWeight:"700"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:"Color principal"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"color",value:s,onChange:o=>Y(o.target.value),style:{width:"36px",height:"36px",borderRadius:"6px",border:"1.5px solid #E5E7EB",cursor:"pointer",padding:"2px"}}),e.jsx("span",{style:{fontSize:"0.75rem",fontFamily:"monospace",color:"#6B7280"},children:s})]})]})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"22px",border:"1px solid #E5E7EB"},children:[e.jsx("h2",{style:{margin:"0 0 18px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:"ðŸ” Providers de autenticaciÃ³n"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{key:"email",label:"Email / Password",icon:B,color:"#374151",val:g,set:D},{key:"google",label:"Google OAuth",icon:E,color:n.google,val:u,set:N},{key:"facebook",label:"Facebook OAuth",icon:v,color:n.facebook,val:f,set:L},{key:"github",label:"GitHub OAuth",icon:k,color:n.github,val:h,set:G}].map(o=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 14px",borderRadius:"10px",border:`1.5px solid ${o.val?"#D1FAE5":"#E5E7EB"}`,backgroundColor:o.val?"#F0FDF4":"#FAFAFA"},children:[e.jsx(o.icon,{size:18,color:o.color}),e.jsx("span",{style:{flex:1,fontSize:"0.85rem",fontWeight:"600",color:"#374151"},children:o.label}),e.jsx("button",{onClick:()=>o.set(!o.val),style:{width:"44px",height:"24px",borderRadius:"12px",border:"none",cursor:"pointer",backgroundColor:o.val?"#22C55E":"#D1D5DB",position:"relative",transition:"all 0.2s"},children:e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",backgroundColor:"#fff",position:"absolute",top:"3px",transition:"all 0.2s",left:o.val?"23px":"3px",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})})]},o.key))})]}),e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"22px",border:"1px solid #E5E7EB"},children:[e.jsx("h2",{style:{margin:"0 0 18px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:"ðŸ”’ Reglas de contraseÃ±a"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsxs("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#374151",display:"block",marginBottom:"6px"},children:["Longitud mÃ­nima: ",e.jsx("b",{children:C})]}),e.jsx("input",{type:"range",min:6,max:20,value:C,onChange:o=>M(+o.target.value),style:{width:"100%",accentColor:i}})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",justifyContent:"center"},children:[{label:"MayÃºsculas requeridas",val:O,set:$},{label:"NÃºmeros requeridos",val:_,set:q},{label:"SÃ­mbolos requeridos",val:H,set:U}].map(o=>e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"0.8rem",color:"#374151"},children:[e.jsx("input",{type:"checkbox",checked:o.val,onChange:j=>o.set(j.target.checked),style:{accentColor:i,width:"15px",height:"15px"}}),o.label]},o.label))})]})]})]})}),l==="test"&&e.jsx("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:e.jsxs("div",{style:{maxWidth:"480px",margin:"0 auto"},children:[e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"14px",padding:"28px",border:"1px solid #E5E7EB"},children:[e.jsx("h2",{style:{margin:"0 0 4px",fontSize:"0.95rem",fontWeight:"700",color:"#111"},children:"ðŸ§ª Test de AutenticaciÃ³n"}),e.jsx("p",{style:{margin:"0 0 20px",fontSize:"0.78rem",color:"#6B7280"},children:"Prueba el flujo de auth conectado a Supabase real"}),e.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px"},children:["login","register"].map(o=>e.jsx("button",{onClick:()=>Z(o),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:p===o?i:"#F3F4F6",color:p===o?"#fff":"#6B7280",fontSize:"0.82rem",fontWeight:"600"},children:o==="login"?"Iniciar SesiÃ³n":"Registrar Usuario"},o))}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[p==="register"&&e.jsx("input",{placeholder:"Nombre completo",value:w,onChange:o=>X(o.target.value),style:{padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),e.jsx("input",{placeholder:"correo@ejemplo.com",type:"email",value:d,onChange:o=>J(o.target.value),style:{padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),e.jsx("input",{placeholder:"ContraseÃ±a",type:"password",value:c,onChange:o=>Q(o.target.value),style:{padding:"10px 12px",borderRadius:"8px",border:"1.5px solid #E5E7EB",fontSize:"0.85rem",outline:"none"}}),e.jsx("button",{onClick:ee,disabled:y||!d||!c,style:{padding:"11px",borderRadius:"9px",border:"none",cursor:"pointer",backgroundColor:i,color:"#fff",fontSize:"0.88rem",fontWeight:"700",opacity:y||!d||!c?.6:1},children:y?"Procesando...":p==="login"?"Probar Login":"Probar Registro"})]}),x&&e.jsx("div",{style:{marginTop:"16px",padding:"12px 14px",borderRadius:"9px",backgroundColor:x.ok?"#F0FDF4":"#FEF2F2",border:`1.5px solid ${x.ok?"#86EFAC":"#FCA5A5"}`,fontSize:"0.82rem",color:x.ok?"#166534":"#991B1B",fontWeight:"600"},children:x.msg})]}),e.jsx("div",{style:{marginTop:"16px",backgroundColor:"#FFF7ED",borderRadius:"12px",padding:"16px 18px",border:"1.5px solid #FED7AA"},children:e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx(re,{size:15,color:"#D97706",style:{flexShrink:0,marginTop:"1px"}}),e.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"#92400E",lineHeight:"1.5"},children:"Para OAuth (Google, Facebook, GitHub), activar los providers en el dashboard de Supabase â†’ Authentication â†’ Providers."})]})})]})})]})}export{ve as AuthRegistroView};
