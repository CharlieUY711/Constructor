import{r as m,j as e,i as F,f as E}from"./index-DufFdXmn.js";import{O as S}from"./OrangeHeader-KafCQxVY.js";import{U as y}from"./users-Df0Ecbcx.js";import{T as z}from"./target-WE_7HecU.js";import{D as A}from"./dollar-sign-C0hDdSRE.js";import{T as B}from"./trending-up-Dqq11kSG.js";import{C as b}from"./calendar-CJRUdYPG.js";import{F as w}from"./funnel-B62Vm8Ub.js";import{B as C}from"./building-2-Oi1Et_Rt.js";import{M as f}from"./mail-Dliq9Xcc.js";import{P as h}from"./phone-BMuU4142.js";import{P as k}from"./pen-Dc5B1tW5.js";import{P as I}from"./plus-e4_Qxrcj.js";import{C as T}from"./circle-check-DSONku6F.js";import{C as D}from"./circle-Be6MmJLo.js";import{S as R}from"./square-check-big-CJmGsfKI.js";import"./ConnectionStatusIcon-BVSyzm9s.js";import"./zap-Dw_LsZ_j.js";import"./lightbulb-Bo6upu0R.js";import"./map-pin-BcVW-XRo.js";const u=[{id:1,name:"Valentina García",company:"TechSur SA",email:"vgarcia@techsur.com",phone:"+598 99 123 456",tag:"Cliente",status:"Activo",value:45e3,lastContact:"Hoy"},{id:2,name:"Martín Rodríguez",company:"Distribuidora RM",email:"martin@distrib-rm.com",phone:"+598 98 234 567",tag:"Lead",status:"Nuevo",value:12e3,lastContact:"Ayer"},{id:3,name:"Camila Torres",company:"Supermercado Norte",email:"ctorres@supnorte.uy",phone:"+598 99 345 678",tag:"Prospecto",status:"Activo",value:78e3,lastContact:"Hace 2 días"},{id:4,name:"Sebastián López",company:"Importadora SL",email:"slopez@importsl.com",phone:"+598 98 456 789",tag:"Cliente",status:"VIP",value:23e4,lastContact:"Hoy"},{id:5,name:"Luciana Fernández",company:"Moda Latina",email:"lfernan@modalatina.uy",phone:"+598 99 567 890",tag:"Lead",status:"Inactivo",value:8500,lastContact:"Hace 7 días"},{id:6,name:"Diego Martínez",company:"Agro del Este",email:"dmartinez@agroeste.com",phone:"+598 98 678 901",tag:"Prospecto",status:"Activo",value:55e3,lastContact:"Ayer"},{id:7,name:"Florencia Álvarez",company:"Boutique FA",email:"falvarez@boutiquefa.com",phone:"+598 99 789 012",tag:"Cliente",status:"Activo",value:19e3,lastContact:"Hoy"},{id:8,name:"Nicolás Pérez",company:"Constructora NP",email:"nperez@construcnp.uy",phone:"+598 98 890 123",tag:"Lead",status:"Nuevo",value:95e3,lastContact:"Hace 3 días"}],j=[{id:"nuevo",label:"Nuevo Lead",color:"#6B7280",amount:53500,deals:[{id:1,name:"Propuesta Distribución",company:"Distribuidora RM",value:12e3,probability:20,dueDate:"28 Feb",owner:"CV"},{id:2,name:"Consulta Inicial",company:"Boutique Estrella",value:8500,probability:15,dueDate:"01 Mar",owner:"AM"},{id:3,name:"Referido Interno",company:"Moda Latina",value:33e3,probability:25,dueDate:"05 Mar",owner:"CV"}]},{id:"contactado",label:"Contactado",color:"#3B82F6",amount:128e3,deals:[{id:4,name:"Demo Plataforma",company:"TechSur SA",value:45e3,probability:40,dueDate:"22 Feb",owner:"CV"},{id:5,name:"Reunión de Ventas",company:"Agro del Este",value:55e3,probability:35,dueDate:"25 Feb",owner:"LP"},{id:6,name:"Evaluación Sistema",company:"Importadora FS",value:28e3,probability:30,dueDate:"27 Feb",owner:"AM"}]},{id:"propuesta",label:"Propuesta",color:"#F59E0B",amount:347e3,deals:[{id:7,name:"Contrato Anual ERP",company:"Supermercado Norte",value:78e3,probability:60,dueDate:"20 Feb",owner:"CV"},{id:8,name:"Licencia Multi-sede",company:"Constructora NP",value:95e3,probability:55,dueDate:"24 Feb",owner:"LP"},{id:9,name:"Integración Total",company:"LogiUy",value:174e3,probability:65,dueDate:"28 Feb",owner:"CV"}]},{id:"negociacion",label:"Negociación",color:"#8B5CF6",amount:312e3,deals:[{id:10,name:"Revisión Precios",company:"Importadora SL",value:23e4,probability:75,dueDate:"21 Feb",owner:"CV"},{id:11,name:"Ajuste de Plan",company:"RetailSur",value:82e3,probability:70,dueDate:"23 Feb",owner:"AM"}]},{id:"ganado",label:"Cerrado Ganado",color:"#10B981",amount:189e3,deals:[{id:12,name:"Plan Empresarial",company:"Techpark UY",value:12e4,probability:100,dueDate:"15 Feb",owner:"CV"},{id:13,name:"Renovación Anual",company:"FarmaPlus",value:69e3,probability:100,dueDate:"10 Feb",owner:"LP"}]}],p=[{id:1,type:"call",title:"Llamada con Valentina García",company:"TechSur SA",time:"10:00",date:"Hoy",priority:"alta",done:!1,owner:"CV"},{id:2,type:"meeting",title:"Demo plataforma Supermercado Norte",company:"Supermercado Norte",time:"14:30",date:"Hoy",priority:"crítica",done:!1,owner:"CV"},{id:3,type:"task",title:"Enviar propuesta Importadora SL",company:"Importadora SL",time:"17:00",date:"Hoy",priority:"alta",done:!0,owner:"CV"},{id:4,type:"call",title:"Follow-up Diego Martínez",company:"Agro del Este",time:"09:00",date:"Mañana",priority:"media",done:!1,owner:"LP"},{id:5,type:"meeting",title:"Negociación final Constructora NP",company:"Constructora NP",time:"11:00",date:"Mañana",priority:"crítica",done:!1,owner:"CV"},{id:6,type:"task",title:"Actualizar propuesta LogiUy",company:"LogiUy",time:"15:00",date:"Mañana",priority:"alta",done:!1,owner:"AM"},{id:7,type:"email",title:"Enviar contrato Techpark UY",company:"Techpark UY",time:"10:30",date:"21 Feb",priority:"media",done:!0,owner:"CV"},{id:8,type:"call",title:"Onboarding FarmaPlus",company:"FarmaPlus",time:"16:00",date:"21 Feb",priority:"baja",done:!1,owner:"LP"}],P={Cliente:{bg:"#DCFCE7",text:"#166534"},Lead:{bg:"#DBEAFE",text:"#1E40AF"},Prospecto:{bg:"#FEF3C7",text:"#92400E"}},L={Activo:{bg:"#DCFCE7",text:"#166534"},Nuevo:{bg:"#DBEAFE",text:"#1E40AF"},VIP:{bg:"#FDF4FF",text:"#7E22CE"},Inactivo:{bg:"#F3F4F6",text:"#6B7280"}},M={crítica:{bg:"#FEE2E2",text:"#B91C1C"},alta:{bg:"#FEF3C7",text:"#B45309"},media:{bg:"#DBEAFE",text:"#1D4ED8"},baja:{bg:"#F3F4F6",text:"#6B7280"}},W={call:e.jsx(h,{size:14}),meeting:e.jsx(b,{size:14}),task:e.jsx(R,{size:14}),email:e.jsx(f,{size:14})},g=i=>i>=1e3?`$${(i/1e3).toFixed(0)}K`:`$${i}`;function se({onNavigate:i}){const[n,r]=m.useState("contactos"),[c,o]=m.useState(""),l=[{id:"contactos",icon:e.jsx(y,{size:15}),label:"Contactos"},{id:"pipeline",icon:e.jsx(B,{size:15}),label:"Pipeline"},{id:"actividades",icon:e.jsx(b,{size:15}),label:"Actividades"}];u.reduce((a,d)=>a+d.value,0);const t=u.filter(a=>a.tag==="Cliente").length,x=u.filter(a=>a.tag==="Lead").length,s=j.reduce((a,d)=>a+d.amount,0),v=[{label:"Total Contactos",value:u.length,icon:e.jsx(y,{size:18}),color:"#3B82F6"},{label:"Clientes Activos",value:t,icon:e.jsx(F,{size:18}),color:"#10B981"},{label:"Leads Activos",value:x,icon:e.jsx(z,{size:18}),color:"#F59E0B"},{label:"Pipeline Total",value:g(s),icon:e.jsx(A,{size:18}),color:"#8B5CF6"}];return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(S,{icon:y,title:"CRM — Gestión de Clientes",subtitle:"Contactos, pipeline de ventas y actividades del equipo",actions:[{label:"Volver",onClick:()=>i("gestion")},{label:"+ Nuevo Contacto",primary:!0}]}),e.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",padding:"16px 28px",display:"flex",gap:"16px",flexShrink:0},children:v.map(a=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 18px",backgroundColor:"#F9FAFB",borderRadius:"10px",flex:1},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:"8px",backgroundColor:a.color+"18",display:"flex",alignItems:"center",justifyContent:"center",color:a.color},children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"20px",fontWeight:800,color:"#111",lineHeight:1.1},children:a.value}),e.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"1px"},children:a.label})]})]},a.label))}),e.jsx("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #E5E7EB",display:"flex",padding:"0 28px",gap:"4px",flexShrink:0},children:l.map(a=>{const d=n===a.id;return e.jsxs("button",{onClick:()=>r(a.id),style:{display:"flex",alignItems:"center",gap:"7px",padding:"14px 20px",border:"none",borderBottom:`3px solid ${d?"#FF6835":"transparent"}`,backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",fontWeight:d?700:500,color:d?"#FF6835":"#555",transition:"all 0.15s"},children:[a.icon,a.label]},a.id)})}),e.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:[n==="contactos"&&e.jsx(V,{search:c,setSearch:o}),n==="pipeline"&&e.jsx(N,{}),n==="actividades"&&e.jsx(O,{})]})]})}function V({search:i,setSearch:n}){const[r,c]=m.useState("Todos"),o=["Todos","Cliente","Lead","Prospecto"],l=u.filter(t=>{const x=t.name.toLowerCase().includes(i.toLowerCase())||t.company.toLowerCase().includes(i.toLowerCase()),s=r==="Todos"||t.tag===r;return x&&s});return e.jsxs("div",{style:{padding:"24px 28px"},children:[e.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px",alignItems:"center"},children:[e.jsxs("div",{style:{flex:1,position:"relative",maxWidth:"340px"},children:[e.jsx(E,{size:15,color:"#9CA3AF",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),e.jsx("input",{value:i,onChange:t=>n(t.target.value),placeholder:"Buscar contactos...",style:{width:"100%",padding:"10px 12px 10px 36px",border:"1.5px solid #E0E0E0",borderRadius:"10px",fontSize:"14px",outline:"none",backgroundColor:"#fff",boxSizing:"border-box"}})]}),e.jsx("div",{style:{display:"flex",gap:"6px"},children:o.map(t=>e.jsx("button",{onClick:()=>c(t),style:{padding:"8px 14px",border:`1.5px solid ${r===t?"#FF6835":"#E0E0E0"}`,borderRadius:"8px",backgroundColor:r===t?"#FF683510":"#fff",color:r===t?"#FF6835":"#555",cursor:"pointer",fontSize:"13px",fontWeight:r===t?700:500},children:t},t))}),e.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",border:"1.5px solid #E0E0E0",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontSize:"13px",color:"#555"},children:[e.jsx(w,{size:14})," Filtros"]})]}),e.jsx("div",{style:{backgroundColor:"#fff",borderRadius:"14px",border:"1px solid #E5E7EB",overflow:"hidden"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1.5px solid #E5E7EB"},children:["Contacto","Empresa","Email / Teléfono","Tag","Estado","Valor Est.","Último Contacto",""].map(t=>e.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:700,color:"#6B7280",whiteSpace:"nowrap"},children:t},t))})}),e.jsx("tbody",{children:l.map((t,x)=>e.jsxs("tr",{style:{borderBottom:x<l.length-1?"1px solid #F3F4F6":"none"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="#FAFAFA",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",children:[e.jsx("td",{style:{padding:"14px 16px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:34,height:34,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:700,fontSize:"13px",flexShrink:0},children:t.name.split(" ").map(s=>s[0]).slice(0,2).join("")}),e.jsx("span",{style:{fontWeight:600,fontSize:"14px",color:"#111"},children:t.name})]})}),e.jsx("td",{style:{padding:"14px 16px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#374151"},children:[e.jsx(C,{size:13,color:"#9CA3AF"}),t.company]})}),e.jsx("td",{style:{padding:"14px 16px"},children:e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",lineHeight:"1.7"},children:[e.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[e.jsx(f,{size:11}),t.email]}),e.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[e.jsx(h,{size:11}),t.phone]})]})}),e.jsx("td",{style:{padding:"14px 16px"},children:e.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,...P[t.tag]},children:t.tag})}),e.jsx("td",{style:{padding:"14px 16px"},children:e.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:600,...L[t.status]},children:t.status})}),e.jsx("td",{style:{padding:"14px 16px",fontSize:"14px",fontWeight:700,color:"#111"},children:g(t.value)}),e.jsx("td",{style:{padding:"14px 16px",fontSize:"12px",color:"#9CA3AF"},children:t.lastContact}),e.jsx("td",{style:{padding:"14px 16px"},children:e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{style:{width:28,height:28,borderRadius:"6px",border:"1px solid #E0E0E0",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(h,{size:13,color:"#3B82F6"})}),e.jsx("button",{style:{width:28,height:28,borderRadius:"6px",border:"1px solid #E0E0E0",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(f,{size:13,color:"#10B981"})}),e.jsx("button",{style:{width:28,height:28,borderRadius:"6px",border:"1px solid #E0E0E0",backgroundColor:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(k,{size:13,color:"#6B7280"})})]})})]},t.id))})]})})]})}function N(){return e.jsx("div",{style:{padding:"24px 28px",overflowX:"auto"},children:e.jsx("div",{style:{display:"flex",gap:"16px",minWidth:"max-content"},children:j.map(i=>e.jsxs("div",{style:{width:"240px",flexShrink:0},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:i.color}}),e.jsx("span",{style:{fontWeight:700,fontSize:"13px",color:"#111"},children:i.label}),e.jsx("span",{style:{width:20,height:20,borderRadius:"50%",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:700,color:"#555"},children:i.deals.length})]}),e.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#6B7280"},children:g(i.amount)})]}),e.jsx("div",{style:{height:"3px",backgroundColor:"#F0F0F0",borderRadius:"2px",marginBottom:"12px"},children:e.jsx("div",{style:{height:"100%",borderRadius:"2px",backgroundColor:i.color,width:`${Math.min(i.amount/4e5*100,100)}%`}})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[i.deals.map(n=>e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",border:"1px solid #E5E7EB",padding:"14px",cursor:"pointer",transition:"box-shadow 0.15s"},onMouseEnter:r=>r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.08)",onMouseLeave:r=>r.currentTarget.style.boxShadow="none",children:[e.jsx("div",{style:{fontWeight:600,fontSize:"13px",color:"#111",marginBottom:"4px"},children:n.name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#6B7280",marginBottom:"10px"},children:[e.jsx(C,{size:11}),n.company]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:800,fontSize:"14px",color:i.color},children:g(n.value)}),e.jsxs("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:[n.probability,"%"]})]}),e.jsx("div",{style:{height:"3px",backgroundColor:"#F0F0F0",borderRadius:"2px",marginTop:"8px"},children:e.jsx("div",{style:{height:"100%",borderRadius:"2px",backgroundColor:i.color,width:`${n.probability}%`}})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[e.jsx("div",{style:{width:24,height:24,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"10px",fontWeight:700},children:n.owner}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px",fontSize:"11px",color:"#9CA3AF"},children:[e.jsx(b,{size:10}),n.dueDate]})]})]},n.id)),e.jsxs("button",{style:{width:"100%",padding:"10px",border:"1.5px dashed #D1D5DB",borderRadius:"10px",backgroundColor:"transparent",cursor:"pointer",fontSize:"13px",color:"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(I,{size:14})," Agregar"]})]})]},i.id))})})}function O(){const[i,n]=m.useState(Object.fromEntries(p.map(o=>[o.id,o.done]))),r=o=>n(l=>({...l,[o]:!l[o]})),c=p.reduce((o,l)=>((o[l.date]=o[l.date]||[]).push(l),o),{});return e.jsxs("div",{style:{maxWidth:"820px",margin:"0 auto",padding:"24px 28px"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"12px",marginBottom:"24px"},children:[{label:"Pendientes",value:p.filter(o=>!o.done).length,color:"#F59E0B"},{label:"Completadas",value:p.filter(o=>o.done).length,color:"#10B981"},{label:"Críticas",value:p.filter(o=>o.priority==="crítica").length,color:"#EF4444"},{label:"Esta semana",value:p.length,color:"#3B82F6"}].map(o=>e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",border:"1px solid #E5E7EB",padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:o.color},children:o.value}),e.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"3px"},children:o.label})]},o.label))}),Object.entries(c).map(([o,l])=>e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:700,color:"#6B7280",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"0.05em"},children:o}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:l.map(t=>e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"10px",border:"1px solid #E5E7EB",padding:"14px 16px",display:"flex",alignItems:"center",gap:"14px",opacity:i[t.id]?.6:1,transition:"opacity 0.2s"},children:[e.jsx("button",{onClick:()=>r(t.id),style:{border:"none",background:"none",cursor:"pointer",flexShrink:0,color:i[t.id]?"#10B981":"#D1D5DB"},children:i[t.id]?e.jsx(T,{size:22}):e.jsx(D,{size:22})}),e.jsx("div",{style:{width:32,height:32,borderRadius:"8px",backgroundColor:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"center",color:"#555",flexShrink:0},children:W[t.type]}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#111",textDecoration:i[t.id]?"line-through":"none"},children:t.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"2px"},children:[e.jsx("span",{style:{fontSize:"12px",color:"#9CA3AF"},children:t.company}),e.jsx("span",{style:{width:3,height:3,borderRadius:"50%",backgroundColor:"#D1D5DB"}}),e.jsx("span",{style:{fontSize:"12px",color:"#9CA3AF"},children:t.time})]})]}),e.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"11px",fontWeight:600,...M[t.priority],flexShrink:0},children:t.priority}),e.jsx("div",{style:{width:28,height:28,borderRadius:"50%",backgroundColor:"#FF6835",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"10px",fontWeight:700,flexShrink:0},children:t.owner})]},t.id))})]},o))]})}export{se as ERPCRMView};
