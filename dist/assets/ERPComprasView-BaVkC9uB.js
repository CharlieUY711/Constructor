import{r as p,j as e,f as F,C as A}from"./index-Fw8Uzhwv.js";import{O as w}from"./OrangeHeader-Biphf6Xx.js";import{C as P}from"./clipboard-list-JGohChy5.js";import{P as g}from"./plus-C3Gyko9B.js";import{X as h}from"./x-CG4EONip.js";import{C as v}from"./circle-check-pCdTZEBv.js";import{T as W}from"./trending-up-BtROjAEi.js";import{C as T}from"./clock-Dnwt6gSL.js";import{E as D}from"./eye-BPKdeAas.js";import{P as j}from"./pen-C_z6RiUw.js";import"./zap-8sOeQZaC.js";import"./lightbulb-CE-CRi_D.js";import"./map-pin-BGWwb8Ew.js";const l="#FF6835",b=[{id:"1",name:"TechDistrib SRL",contact:"Roberto SÃ¡nchez",email:"ventas@techdistrib.com",phone:"+598 99 123 456",category:"TecnologÃ­a",rating:5,lead:3,terms:"30 dÃ­as",status:"active"},{id:"2",name:"ModaImport SA",contact:"Valentina Cruz",email:"compras@modaimport.com",phone:"+598 98 234 567",category:"Moda",rating:4,lead:7,terms:"Contado",status:"active"},{id:"3",name:"Alimentos del Sur",contact:"Diego Fontana",email:"pedidos@alimentossur.uy",phone:"+598 97 345 678",category:"Alimentos",rating:5,lead:1,terms:"15 dÃ­as",status:"active"},{id:"4",name:"Hogar & Estilo",contact:"Patricia MÃ©ndez",email:"ventas@hogarestilo.com",phone:"+598 96 456 789",category:"Hogar",rating:3,lead:14,terms:"45 dÃ­as",status:"active"},{id:"5",name:"Deportes Mayorista",contact:"Gonzalo Lima",email:"mayorista@deportes.uy",phone:"+598 95 567 890",category:"Deportes",rating:4,lead:5,terms:"30 dÃ­as",status:"inactive"}],c=[{id:"1",number:"OC-2026-001",date:"2026-02-18",expectedDate:"2026-02-21",supplier:"TechDistrib SRL",items:[{description:"iPhone 14 128GB",qty:5,cost:650},{description:"AirPods Pro",qty:3,cost:180}],status:"sent",notes:"Urgente para reponer stock"},{id:"2",number:"OC-2026-002",date:"2026-02-17",expectedDate:"2026-02-18",supplier:"Alimentos del Sur",items:[{description:"CafÃ© Molido 500g",qty:100,cost:4.2}],status:"received",notes:""},{id:"3",number:"OC-2026-003",date:"2026-02-15",expectedDate:"2026-03-01",supplier:"ModaImport SA",items:[{description:"Campera Fleece M",qty:10,cost:90},{description:"Campera Fleece L",qty:8,cost:90}],status:"partial",notes:"Recibidos 8 de 18 items"},{id:"4",number:"OC-2026-004",date:"2026-02-19",expectedDate:"2026-02-25",supplier:"Deportes Mayorista",items:[{description:"Pelota Nike",qty:20,cost:22}],status:"draft",notes:""}],I={draft:{label:"Borrador",bg:"#F3F4F6",color:"#374151",Icon:T},sent:{label:"Enviada",bg:"#EDE9FE",color:"#7C3AED",Icon:W},received:{label:"Recibida",bg:"#DCFCE7",color:"#15803D",Icon:v},partial:{label:"Parcial",bg:"#FEF3C7",color:"#B45309",Icon:A},cancelled:{label:"Cancelada",bg:"#FEE2E2",color:"#DC2626",Icon:h}};function J({onNavigate:C}){const[t,x]=p.useState("ordenes"),[s,y]=p.useState(""),[S,d]=p.useState(!1),[a,m]=p.useState(null),E=c.length,z=c.filter(o=>o.status==="sent"||o.status==="partial").length,k=c.filter(o=>o.status==="received").reduce((o,r)=>o+r.items.reduce((i,n)=>i+n.qty*n.cost,0),0),B=c.filter(o=>!s||o.supplier.toLowerCase().includes(s.toLowerCase())||o.number.toLowerCase().includes(s.toLowerCase())),R=b.filter(o=>!s||o.name.toLowerCase().includes(s.toLowerCase())||o.category.toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(w,{icon:P,title:"Compras y Proveedores",subtitle:"Ã“rdenes de compra, recepciÃ³n y gestiÃ³n de proveedores â€” ERP",actions:[{label:"Volver",onClick:()=>C("gestion")},{label:t==="ordenes"?"+ Nueva OC":t==="proveedores"?"+ Nuevo Proveedor":"+ Guardar OC",primary:!0,onClick:()=>t==="ordenes"?x("nueva-orden"):t==="proveedores"?(m(null),d(!0)):void 0}]}),e.jsx("div",{style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #E5E7EB",flexShrink:0},children:e.jsx("div",{style:{display:"flex",padding:"0 28px"},children:[{id:"ordenes",label:"ðŸ“‹ Ã“rdenes de Compra"},{id:"proveedores",label:"ðŸ­ Proveedores"},{id:"nueva-orden",label:"âœï¸ Nueva OC"}].map(o=>e.jsx("button",{onClick:()=>x(o.id),style:{padding:"14px 18px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:t===o.id?l:"#6B7280",fontWeight:t===o.id?"700":"500",fontSize:"0.875rem",borderBottom:t===o.id?`2px solid ${l}`:"2px solid transparent"},children:o.label},o.id))})}),e.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"#F8F9FA"},children:e.jsxs("div",{style:{padding:"24px 28px",maxWidth:"1200px"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[{label:"Total Ã“rdenes",value:E.toString(),color:"#111827"},{label:"Pendientes/Parciales",value:z.toString(),color:"#D97706"},{label:"Proveedores Activos",value:b.filter(o=>o.status==="active").length.toString(),color:"#16A34A"},{label:"Compras Recibidas",value:`$${k.toLocaleString("es",{maximumFractionDigits:0})}`,color:l}].map((o,r)=>e.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"10px",padding:"16px 20px"},children:[e.jsx("p",{style:{margin:"0 0 4px",fontSize:"0.78rem",color:"#6B7280"},children:o.label}),e.jsx("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"900",color:o.color},children:o.value})]},r))}),t==="ordenes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[e.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"320px"},children:[e.jsx(F,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},size:14,color:"#9CA3AF"}),e.jsx("input",{type:"text",placeholder:"Buscar por proveedor o nÃºmero...",value:s,onChange:o=>y(o.target.value),style:{width:"100%",padding:"9px 12px 9px 32px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]}),e.jsxs("button",{onClick:()=>x("nueva-orden"),style:{padding:"9px 16px",backgroundColor:l,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(g,{size:14})," Nueva OC"]})]}),e.jsx("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"hidden"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{style:{backgroundColor:"#F9FAFB"},children:["NÃºmero","Proveedor","Total","Fecha","Llegada Est.","Estado","Notas",""].map(o=>e.jsx("th",{style:{padding:"11px 14px",textAlign:"left",fontSize:"0.72rem",fontWeight:"700",color:"#374151",textTransform:"uppercase",letterSpacing:"0.04em"},children:o},o))})}),e.jsx("tbody",{children:B.map((o,r)=>{const i=o.items.reduce((u,f)=>u+f.qty*f.cost,0),n=I[o.status];return e.jsxs("tr",{style:{borderTop:"1px solid #F3F4F6",backgroundColor:r%2===0?"#FFF":"#FAFAFA"},children:[e.jsx("td",{style:{padding:"12px 14px",fontFamily:"monospace",fontSize:"0.78rem",color:"#6B7280"},children:o.number}),e.jsx("td",{style:{padding:"12px 14px",fontWeight:"600",color:"#111827",fontSize:"0.875rem"},children:o.supplier}),e.jsxs("td",{style:{padding:"12px 14px",fontWeight:"700",color:"#111827"},children:["$",i.toFixed(2)]}),e.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:o.date}),e.jsx("td",{style:{padding:"12px 14px",color:"#6B7280",fontSize:"0.8rem"},children:o.expectedDate}),e.jsx("td",{style:{padding:"12px 14px"},children:e.jsxs("span",{style:{padding:"3px 9px",borderRadius:"20px",backgroundColor:n.bg,color:n.color,fontSize:"0.72rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px",width:"fit-content"},children:[e.jsx(n.Icon,{size:10})," ",n.label]})}),e.jsx("td",{style:{padding:"12px 14px",color:"#9CA3AF",fontSize:"0.75rem",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o.notes||"â€”"}),e.jsx("td",{style:{padding:"12px 14px"},children:e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:e.jsx(D,{size:13})}),e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:e.jsx(j,{size:13})})]})})]},o.id)})})]})})]}),t==="proveedores"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[e.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"320px"},children:[e.jsx(F,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},size:14,color:"#9CA3AF"}),e.jsx("input",{type:"text",placeholder:"Buscar proveedor...",value:s,onChange:o=>y(o.target.value),style:{width:"100%",padding:"9px 12px 9px 32px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.82rem",outline:"none",boxSizing:"border-box"}})]}),e.jsxs("button",{onClick:()=>{m(null),d(!0)},style:{padding:"9px 16px",backgroundColor:l,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",fontSize:"0.82rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(g,{size:14})," Nuevo Proveedor"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"14px"},children:R.map(o=>e.jsxs("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",padding:"18px 20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 2px",fontWeight:"800",color:"#111827",fontSize:"0.95rem"},children:o.name}),e.jsx("span",{style:{fontSize:"0.72rem",color:"#6B7280"},children:o.category})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",backgroundColor:o.status==="active"?"#DCFCE7":"#F3F4F6",color:o.status==="active"?"#15803D":"#6B7280",fontSize:"0.7rem",fontWeight:"700"},children:o.status==="active"?"Activo":"Inactivo"}),e.jsx("button",{onClick:()=>{m(o),d(!0)},style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF",padding:"2px"},children:e.jsx(j,{size:13})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"10px",fontSize:"0.78rem",color:"#374151"},children:[e.jsxs("span",{children:["ðŸ‘¤ ",o.contact]}),e.jsxs("span",{children:["ðŸ“§ ",o.email]})]}),e.jsx("div",{style:{display:"flex",gap:"12px"},children:[{label:"Plazo",value:`${o.lead}d`},{label:"TÃ©rminos",value:o.terms},{label:"Rating",value:Array.from({length:5},(r,i)=>i<o.rating?"â­":"â˜†").join("")}].map(({label:r,value:i})=>e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"#9CA3AF",textTransform:"uppercase"},children:r}),e.jsx("p",{style:{margin:"1px 0 0",fontWeight:"700",color:"#374151",fontSize:"0.78rem"},children:i})]},r))})]},o.id))})]}),t==="nueva-orden"&&e.jsx("div",{style:{maxWidth:"700px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[e.jsx("h4",{style:{margin:"0 0 12px",fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"Proveedor"}),e.jsxs("select",{style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",backgroundColor:"#FFF"},children:[e.jsx("option",{value:"",children:"Seleccionar proveedor..."}),b.filter(o=>o.status==="active").map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]})]}),e.jsx("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[{label:"Fecha de la OC",type:"date"},{label:"Fecha de entrega estimada",type:"date"}].map(({label:o,type:r})=>e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:o}),e.jsx("input",{type:r,style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},o))})}),e.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[e.jsx("h4",{style:{margin:0,fontWeight:"700",color:"#111827",fontSize:"0.9rem"},children:"ArtÃ­culos a comprar"}),e.jsxs("button",{style:{padding:"5px 12px",backgroundColor:l,color:"#FFF",border:"none",borderRadius:"7px",fontWeight:"700",cursor:"pointer",fontSize:"0.78rem",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(g,{size:12})," Agregar lÃ­nea"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"3fr 1fr 1fr 1fr auto",gap:"8px",marginBottom:"6px"},children:["ArtÃ­culo/DescripciÃ³n","Cantidad","Costo unit.","Total",""].map(o=>e.jsx("span",{style:{fontSize:"0.68rem",fontWeight:"700",color:"#9CA3AF",textTransform:"uppercase"},children:o},o))}),[1,2].map(o=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"3fr 1fr 1fr 1fr auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",placeholder:"DescripciÃ³n del artÃ­culo",style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),e.jsx("input",{type:"number",placeholder:"0",style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),e.jsx("input",{type:"number",placeholder:"0.00",step:.01,style:{padding:"8px 10px",border:"1px solid #E5E7EB",borderRadius:"7px",fontSize:"0.82rem",outline:"none"}}),e.jsx("span",{style:{padding:"8px 10px",backgroundColor:"#F9FAFB",borderRadius:"7px",fontSize:"0.82rem",color:"#6B7280",textAlign:"right"},children:"$0.00"}),e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#EF4444"},children:e.jsx(h,{size:14})})]},o))]}),e.jsxs("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",padding:"20px"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Notas / Instrucciones"}),e.jsx("textarea",{rows:3,placeholder:"Notas adicionales para el proveedor...",style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",resize:"vertical",boxSizing:"border-box"}})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{style:{flex:1,padding:"12px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"10px",fontWeight:"600",cursor:"pointer",fontSize:"0.875rem"},children:"Guardar borrador"}),e.jsxs("button",{style:{flex:2,padding:"12px",backgroundColor:l,color:"#FFF",border:"none",borderRadius:"10px",fontWeight:"800",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(v,{size:16})," Enviar Orden de Compra"]})]})]})})]})}),S&&e.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>d(!1),children:e.jsxs("div",{style:{backgroundColor:"#FFF",borderRadius:"16px",padding:"28px",width:"560px",maxHeight:"85vh",overflowY:"auto"},onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:0,fontWeight:"800",fontSize:"1.05rem",color:"#111827"},children:a?`Editar: ${a.name}`:"+ Nuevo Proveedor"}),e.jsx("button",{onClick:()=>d(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#9CA3AF"},children:e.jsx(h,{size:18})})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px"},children:[{label:"RazÃ³n Social",key:"name",ph:"TechDistrib SRL",cs:2},{label:"Persona de contacto",key:"contact",ph:"Roberto SÃ¡nchez"},{label:"Email",key:"email",ph:"ventas@proveedor.com"},{label:"TelÃ©fono",key:"phone",ph:"+598 99 123 456"},{label:"CategorÃ­a de productos",key:"category",ph:"TecnologÃ­a"},{label:"DÃ­as de entrega (Lead time)",key:"lead",ph:"3",type:"number"},{label:"TÃ©rminos de pago",key:"terms",ph:"30 dÃ­as"},{label:"Sitio web",key:"website",ph:"https://proveedor.com"}].map(({label:o,key:r,ph:i,cs:n,type:u})=>e.jsxs("div",{style:{gridColumn:n===2?"1 / -1":"auto"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:o}),e.jsx("input",{type:u||"text",placeholder:i,defaultValue:a?String(a[r]||""):"",style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",boxSizing:"border-box"}})]},r))}),e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.78rem",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Notas internas"}),e.jsx("textarea",{rows:2,placeholder:"Notas sobre este proveedor...",style:{width:"100%",padding:"9px 12px",border:"1px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",outline:"none",resize:"none",boxSizing:"border-box"}})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"18px"},children:[e.jsx("button",{onClick:()=>d(!1),style:{flex:1,padding:"11px",borderRadius:"8px",border:"1px solid #E5E7EB",backgroundColor:"#FFF",color:"#374151",fontWeight:"600",cursor:"pointer",fontSize:"0.875rem"},children:"Cancelar"}),e.jsx("button",{style:{flex:2,padding:"11px",backgroundColor:l,color:"#FFF",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",fontSize:"0.875rem"},children:a?"Actualizar Proveedor":"+ Crear Proveedor"})]})]})})]})}export{J as ERPComprasView};
